{"version":3,"sources":["../node_modules/react/index.js","../node_modules/planck-js/lib/common/Vec2.js","../node_modules/planck-js/lib/common/Math.js","../node_modules/planck-js/lib/util/common.js","../node_modules/planck-js/lib/common/Rot.js","../node_modules/planck-js/lib/Settings.js","../node_modules/planck-js/lib/common/Transform.js","../node_modules/planck-js/lib/util/create.js","../node_modules/planck-js/lib/util/options.js","../node_modules/planck-js/lib/index.js","../node_modules/planck-js/lib/common/Sweep.js","../node_modules/planck-js/lib/common/Mat22.js","../node_modules/planck-js/lib/common/Vec3.js","../node_modules/planck-js/lib/Joint.js","../node_modules/paper/dist/paper-core.js","../node_modules/planck-js/lib/common/Velocity.js","../node_modules/planck-js/lib/common/Position.js","../node_modules/planck-js/lib/common/Mat33.js","../node_modules/object-assign/index.js","../node_modules/planck-js/lib/Shape.js","../node_modules/planck-js/lib/collision/AABB.js","../node_modules/@styled-system/core/dist/index.esm.js","../node_modules/@styled-system/layout/dist/index.esm.js","../node_modules/@styled-system/color/dist/index.esm.js","../node_modules/@styled-system/border/dist/index.esm.js","../node_modules/@styled-system/typography/dist/index.esm.js","../node_modules/@styled-system/flexbox/dist/index.esm.js","../node_modules/@styled-system/grid/dist/index.esm.js","../node_modules/@styled-system/background/dist/index.esm.js","../node_modules/@styled-system/position/dist/index.esm.js","../node_modules/@styled-system/space/dist/index.esm.js","../node_modules/@styled-system/css/dist/index.esm.js","../node_modules/@styled-system/shadow/dist/index.esm.js","../node_modules/@styled-system/variant/dist/index.esm.js","../node_modules/styled-system/dist/index.esm.js","../node_modules/planck-js/lib/Contact.js","../node_modules/planck-js/lib/Manifold.js","../node_modules/planck-js/lib/Body.js","../node_modules/planck-js/lib/shape/PolygonShape.js","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/planck-js/lib/collision/Distance.js","../node_modules/planck-js/lib/shape/CircleShape.js","../node_modules/planck-js/lib/shape/EdgeShape.js","../../src/models/StyleTags.js","../../src/models/ThemeProvider.js","../../src/models/StyleSheetManager.js","../../src/models/GlobalStyle.js","../node_modules/planck-js/lib/common/stats.js","../node_modules/planck-js/lib/shape/ChainShape.js","../stylis.js","../node_modules/react-is/index.js","../node_modules/memoize-one/dist/memoize-one.esm.js","../node_modules/planck-js/lib/World.js","../node_modules/planck-js/lib/collision/DynamicTree.js","../node_modules/planck-js/lib/Fixture.js","../node_modules/planck-js/lib/collision/TimeOfImpact.js","../node_modules/planck-js/lib/joint/RevoluteJoint.js","../node_modules/planck-js/lib/joint/PrismaticJoint.js","../node_modules/react-dom/index.js","../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js","../node_modules/stylis-rule-sheet/index.js","../node_modules/@emotion/unitless/dist/unitless.browser.esm.js","../node_modules/imagetracerjs/imagetracer_v1.2.5.js","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/@emotion/memoize/dist/memoize.browser.esm.js","../node_modules/@emotion/is-prop-valid/dist/is-prop-valid.browser.esm.js","../node_modules/is-what/dist/index.esm.js","../node_modules/merge-anything/dist/index.esm.js","../node_modules/react/cjs/react.production.min.js","../node_modules/react-dom/cjs/react-dom.production.min.js","../node_modules/scheduler/index.js","../node_modules/scheduler/cjs/scheduler.production.min.js","../node_modules/process/browser.js","../node_modules/react-is/cjs/react-is.production.min.js","../node_modules/prop-types/index.js","../node_modules/prop-types/factoryWithThrowingShims.js","../node_modules/prop-types/lib/ReactPropTypesSecret.js","../node_modules/planck-js/lib/serializer/index.js","../node_modules/planck-js/lib/collision/BroadPhase.js","../node_modules/planck-js/lib/util/Pool.js","../node_modules/planck-js/lib/Solver.js","../node_modules/planck-js/lib/util/Timer.js","../node_modules/planck-js/lib/shape/BoxShape.js","../node_modules/planck-js/lib/shape/CollideCircle.js","../node_modules/planck-js/lib/shape/CollideEdgeCircle.js","../node_modules/planck-js/lib/shape/CollidePolygon.js","../node_modules/planck-js/lib/shape/CollideCirclePolygone.js","../node_modules/planck-js/lib/shape/CollideEdgePolygon.js","../node_modules/planck-js/lib/joint/DistanceJoint.js","../node_modules/planck-js/lib/joint/FrictionJoint.js","../node_modules/planck-js/lib/joint/GearJoint.js","../node_modules/planck-js/lib/joint/MotorJoint.js","../node_modules/planck-js/lib/joint/MouseJoint.js","../node_modules/planck-js/lib/joint/PulleyJoint.js","../node_modules/planck-js/lib/joint/RopeJoint.js","../node_modules/planck-js/lib/joint/WeldJoint.js","../node_modules/planck-js/lib/joint/WheelJoint.js"],"names":["module","exports","require","_DEBUG","DEBUG","_ASSERT","ASSERT","Vec2","common","Math","x","y","this","assert","prototype","_serialize","_deserialize","data","obj","Object","create","zero","neo","clone","v","toString","JSON","stringify","isValid","isFinite","o","debug","Error","setZero","set","wSet","a","b","w","setCombine","setMul","add","wAdd","addCombine","addMul","wSub","subCombine","subMul","sub","mul","m","length","lengthOf","lengthSquared","normalize","EPSILON","invLength","sqrt","distance","dx","dy","distanceSquared","areEqual","skew","dot","cross","addCross","combine","neg","abs","mid","upper","max","lower","min","clamp","lengthSqr","invSqrt","scaleFn","translateFn","native","math","isNaN","nextPowerOfTwo","isPowerOfTwo","mod","num","random","console","log","apply","arguments","statement","err","Rot","angle","setAngle","setIdentity","rot","s","c","identity","sin","cos","getAngle","atan2","getXAxis","getYAxis","qr","mulRot","mulVec2","mulSub","mulT","mulTRot","mulTVec2","Settings","maxManifoldPoints","maxPolygonVertices","aabbExtension","aabbMultiplier","linearSlop","linearSlopSquared","angularSlop","PI","polygonRadius","maxSubSteps","maxTOIContacts","maxTOIIterations","maxDistnceIterations","velocityThreshold","maxLinearCorrection","maxAngularCorrection","maxTranslation","maxTranslationSquared","maxRotation","maxRotationSquared","baumgarte","toiBaugarte","timeToSleep","linearSleepTolerance","linearSleepToleranceSqr","pow","angularSleepTolerance","angularSleepToleranceSqr","Transform","position","rotation","p","q","xf","Array","isArray","arr","i","mulAll","mulFn","mulXf","px","py","mulTXf","proto","props","call","noop","propertyIsEnumerable","to","from","key","hasOwnProperty","getOwnPropertySymbols","symbols","symbol","internal","Serializer","Vec3","Mat22","Mat33","AABB","Shape","Fixture","Body","Contact","Joint","World","Circle","Edge","Polygon","Chain","Box","CollidePolygons","DistanceJoint","FrictionJoint","GearJoint","MotorJoint","MouseJoint","PrismaticJoint","PulleyJoint","RevoluteJoint","RopeJoint","WeldJoint","WheelJoint","Sweep","stats","Manifold","Distance","TimeOfImpact","DynamicTree","localCenter","alpha0","c0","a0","setTransform","setLocalCenter","getTransform","beta","advance","alpha","forward","that","d","ex","ey","getInverse","det","imx","solve","mx","mulMat22","mulTMat22","mx1","mx2","z","JointEdge","other","joint","prev","next","def","bodyA","bodyB","m_type","m_bodyA","m_bodyB","m_index","m_collideConnected","collideConnected","m_prev","m_next","m_edgeA","m_edgeB","m_islandFlag","m_userData","userData","TYPES","context","restore","clazz","type","isActive","getType","getBodyA","getBodyB","getNext","getUserData","setUserData","getCollideConnected","getAnchorA","getAnchorB","getReactionForce","inv_dt","getReactionTorque","shiftOrigin","newOrigin","initVelocityConstraints","step","solveVelocityConstraints","solvePositionConstraints","self","undefined","window","document","Base","hidden","array","slice","describe","getOwnPropertyDescriptor","define","defineProperty","forEach","iter","bind","l","forIn","assign","dst","src","each","desc","value","inject","dest","enumerable","beans","preserve","beansNames","field","name","val","get","substring","bean","isFunc","res","base","match","toLowerCase","isPlainObject","writable","configurable","test","part","statics","extend","ctor","initialize","constructor","pick","list","begin","end","_id","_class","_name","push","Formatter","instance","number","join","getClassName","importJSON","json","exportJSON","options","toJSON","serialize","exclude","filter","_prioritize","equals","obj1","obj2","keys","read","start","amount","peek","__index","readIndex","_readIndex","readNull","__read","filtered","__filtered","remain","readList","entry","readNamed","getNamed","hasValue","source","getSource","__unfiltered","readSupported","__source","arg","hasNamed","prioritize","processed","handleKey","isPlainValue","asString","compact","dictionary","isRoot","formatter","precision","definitions","references","item","id","ref","unshift","_compactSerialize","deserialize","_data","_setDictionary","_isRoot","isFirst","hasDictionary","isDictionary","args","target","parse","useTarget","Item","Layer","insert","concat","items","itemsLength","startLength","splice","index","remove","append","_index","removed","capitalize","str","replace","toUpperCase","camelize","chr","hyphenate","Emitter","on","func","types","_eventTypes","handlers","_callbacks","indexOf","install","off","uninstall","once","handler","emit","event","setTarget","currentTarget","stop","responds","attach","detach","fire","_installEvents","events","_events","isString","PaperScope","paper","settings","applyMatrix","insertItems","handleSize","hitTolerance","project","projects","tools","_scopes","support","ctx","CanvasProvider","getContext","nativeDash","nativeBlendModes","BlendMode","nativeModes","release","agent","user","navigator","userAgent","os","exec","platform","browser","n","v1","v2","rv","chrome","version","versionNumber","parseFloat","trident","jsdom","webkit","atom","getView","_view","getPaper","execute","code","scope","setup","element","Project","createCanvas","width","height","getCanvas","activate","clear","handleAttribute","el","attr","getAttribute","hasAttribute","PaperScopeItem","_scope","_list","_reference","CollisionDetection","findItemBoundsCollisions","items1","items2","tolerance","getBounds","bounds","rect","left","top","right","bottom","bounds1","bounds2","findBoundsCollisions","findCurveBoundsCollisions","curves1","curves2","bothAxis","curves","hor","ver","boundsA","boundsB","sweepVertical","onlySweepAxisCollisions","allBounds","lengthA","lengthAll","binarySearch","indices","coord","lo","hi","pri0","pri1","sec0","sec1","allIndicesByPri0","sort","i1","i2","activeIndicesByPri1","allCollisions","curIndex","curBounds","origIndex","isCurrentA","isCurrentB","curCollisions","pruneCount","j","activeIndex","curSec1","curSec0","activeBounds","isActiveA","isActiveB","collisions","multiplier","round","pair","val1","val2","separator","point","size","rectangle","Numerical","abscissas","weights","log2","LOG2E","getDiscriminant","split","D","E","ad","bd","cd","getNormalizationFactor","norm","MACHINE_EPSILON","CURVETIME_EPSILON","GEOMETRIC_EPSILON","TRIGONOMETRIC_EPSILON","KAPPA","isZero","isMachineZero","integrate","f","A","B","sum","Ax","findRoot","df","fx","nx","solveQuadratic","roots","x1","x2","Infinity","Q","R","count","boundless","minB","maxB","solveCubic","b1","c2","qd","evaluate","x0","tmp","t","r","td","rd","UID","_pools","pool","Point","arg0","arg1","reading","hasY","_set","getLength","setLength","_angle","scale","getAngleInRadians","setAngleInRadians","getAngleInDegrees","setAngleInDegrees","div","NaN","acos","getQuadrant","getDirectedAngle","getDistance","squared","current","rotate","center","subtract","transform","matrix","_transformPoint","multiply","divide","modulo","negate","isInside","Rectangle","contains","isClose","isCollinear","isColinear","isOrthogonal","isInQuadrant","point1","point2","y1","y2","op","LinkedPoint","owner","setter","_x","_y","_owner","_setter","_dontNotify","getX","setX","getY","setY","isSelected","_selection","_getSelection","setSelected","selected","_changeSelection","Size","hasHeight","size1","size2","LinkedSize","_width","_height","getWidth","setWidth","getHeight","setHeight","arg2","arg3","frm","rt","getPoint","_dontLink","setPoint","getSize","_fw","_fh","setSize","sx","_sx","sy","_sy","h","getLeft","setLeft","getTop","setTop","getRight","setRight","getBottom","setBottom","getCenterX","setCenterX","getCenterY","setCenterY","getCenter","setCenter","getArea","isEmpty","_containsRectangle","_containsPoint","intersects","epsilon","intersect","unite","include","expand","parts","xFirst","LinkedRectangle","Matrix","ok","_a","_b","_c","_d","_tx","_ty","reset","tx","ty","_changed","getValues","_applyMatrix","recursively","_setApplyMatrix","isIdentity","translate","shear","toRadians","tan","a1","c1","d1","a2","b2","d2","tx2","ty2","prepend","tx1","ty1","appended","prepended","invert","inverted","concatenate","preConcatenate","chain","_shiftless","_orNullIfIdentity","isInvertible","isSingular","_transformCoordinates","_transformCorners","coords","_transformBounds","inverseTransform","_inverseTransform","decompose","degrees","asin","translation","getTranslation","scaling","skewing","getScaling","getRotation","applyToContext","prop","Line","arg4","asVector","_px","_py","_vx","_vy","getVector","line","isInfinite","getSide","getSignedDistance","p1x","p1y","v1x","v1y","p2x","p2y","v2x","v2y","u1","u2","vx","vy","ccw","_children","_namedChildren","_activeLayer","_currentStyle","Style","View","_selectionItems","_selectionCount","_updateVersion","flags","view","_needsUpdate","_requested","_autoUpdate","requestUpdate","changes","_changes","changesById","_changesById","children","getCurrentStyle","setCurrentStyle","style","getIndex","getOptions","getLayers","getActiveLayer","getSymbolDefinitions","ids","getItems","class","SymbolItem","definition","_definition","getSymbols","getSelectedItems","selectionItems","selection","isInserted","_updateSelection","selectAll","setFullySelected","deselectAll","addLayer","layer","insertLayer","_remove","_setProject","setName","_insertItem","_created","NO_INSERT","insertChild","_getItems","getItem","removeOn","sets","_removeSets","mousedrag","draw","pixelRatio","save","param","offset","viewMatrix","matrices","updateMatrix","strokeWidth","_drawSelection","_serializeFields","_canApplyMatrix","_canScaleStroke","_pivot","_visible","_blendMode","_opacity","_locked","_guide","_clipMask","_selectBounds","_selectChildren","pivot","visible","blendMode","opacity","locked","guide","clipMask","_countItemEvent","onFrame","_animateItem","onLoad","onError","_itemHandlers","_initialize","hasProps","_matrix","_parent","_style","parent","fields","fontSize","Group","_defaults","_symbol","cacheParent","_project","_bounds","_position","_decomposed","_globalMatrix","_clearBoundsCache","getId","getName","_removeNamed","_getOwner","namedChildren","getStyle","setStyle","getSelection","setSelection","flag","isFullySelected","isClipMask","setClipMask","setFillColor","setStrokeColor","getData","setData","getPosition","_getPositionFromBounds","setPosition","getPivot","setPivot","getStrokeBounds","stroke","getHandleBounds","handle","getInternalBounds","hasMatrix","opts","_boundsOptions","getStrokeScaling","cacheItem","_getCachedBounds","setBounds","_backup","_getBounds","_updateBoundsCache","_getBoundsCacheKey","noInternal","cacheKey","cached","nonscaling","hasStroke","_getStrokeMatrix","_item","getViewMatrix","_boundsCache","cache","_decompose","decomposed","setRotation","setScaling","getMatrix","setMatrix","getGlobalMatrix","_dontClone","parents","getApplyMatrix","setApplyMatrix","getTransformContent","setTransformContent","getProject","installEvents","getLayer","getParent","setParent","addChild","getChildren","setChildren","removeChildren","addChildren","getFirstChild","getLastChild","getNextSibling","getPreviousSibling","_equals","copy","deep","copyAttributes","copyContent","insertAbove","orig","excludeMatrix","rasterize","resolution","getResolution","topLeft","getTopLeft","floor","bottomRight","getBottomRight","ceil","raster","Raster","canvas","setCanvas","_contains","_asPathItem","Path","getIntersections","hitTest","_hitTest","HitResult","hitTestAll","all","hitTestChildren","_exclude","child","_hitTestChildren","parentViewMatrix","guides","tolerancePadding","_tolerancePadding","_getStrokePadding","checkSelf","hit","checkPoint","pt","checkPosition","checkCenter","checkBounds","points","_hitTestSelf","fill","hasFill","matches","compare","matchObject","firstOnly","overlapping","inside","recursive","path","childMatrix","insertChildren","inserted","notifySelf","_insertAt","insertBelow","sendToBack","bringToFront","appendTop","appendBottom","moveAbove","moveBelow","addTo","copyTo","reduce","namedArray","notifyParent","_dispose","replaceWith","reverseChildren","reverse","numChildren","isEditable","hasShadow","_getOrder","getList","list1","list2","hasChildren","isAbove","isBelow","isParent","isChild","isDescendant","isAncestor","isSibling","isGroupedWith","_applyRecursively","transformMatrix","fillColor","getFillColor","strokeColor","getStrokeColor","_transformContent","decomp","applyRecursively","globalToLocal","localToGlobal","parentToLocal","localToParent","fitBounds","itemRatio","rectRatio","newBounds","_setStyles","fillStyle","toCanvasStyle","strokeStyle","lineWidth","getStrokeWidth","strokeJoin","getStrokeJoin","strokeCap","getStrokeCap","miterLimit","getMiterLimit","lineJoin","lineCap","dashArray","getDashArray","dashOffset","getDashOffset","setLineDash","lineDashOffset","mozDash","mozDashOffset","blur","getShadowBlur","getShadowOffset","shadowColor","getShadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","parentStrokeMatrix","globalMatrix","mainCtx","itemOffset","prevOffset","normalBlend","nativeBlend","direct","dontStart","clip","_canComposite","pop","strokeMatrix","clipItem","globalAlpha","globalCompositeOperation","_draw","dontFinish","getFillRule","process","_isUpdated","updateVersion","CompoundPath","updated","itemSelected","boundsSelected","positionSelected","_drawSelected","color","getSelectedColor","half","pos","beginPath","arc","deltas","delta","moveTo","lineTo","closePath","fillRect","hash","tween","easing","duration","Tween","_handleFrame","time","running","tweenTo","tweenFrom","_clipItem","_getClipItem","isClipped","setClipped","clipped","radius","_type","_size","_radius","setType","setRadius","getShape","setShape","getRadius","rad","toPath","toShape","dontPaint","untransformed","isCircle","rx","ry","kappa","cx","cy","bezierCurveTo","getCornerCenter","halfSize","dir","corner","quadrant","isOnEllipseStroke","padding","vector","hitStroke","hitFill","strokeRadius","strokePadding","outer","inner","createShape","Ellipse","ellipse","_readEllipse","crossOrigin","_smoothing","image","object","getElementById","getContent","naturalHeight","setImage","setSource","_loaded","_image","_canvas","_setImage","copyCanvas","drawImage","_crossOrigin","getElement","getLoaded","u","getPpi","getImage","Event","setTimeout","DomEvent","load","error","complete","naturalWidth","_context","e","_change","setContext","toDataURL","Image","getCrossOrigin","setCrossOrigin","getSmoothing","setSmoothing","smoothing","getSubCanvas","getSubRaster","getAverageColor","PathItem","_sampleContext","clearRect","sampleSize","pixels","getImageData","channels","total","Color","getPixel","setPixel","components","_convert","_alpha","imageData","createImageData","putImageData","setImageData","DomElement","setPrefixed","setDefinition","SymbolDefinition","getDefinition","getSymbol","setSymbol","dontCenter","setItem","_dontCenter","place","values","segments","handles","ends","Segment","arg5","handleIn","handleOut","SegmentPoint","_point","hasHandles","_handleIn","_handleOut","_path","curve","_curves","_closed","getHandleIn","setHandleIn","getHandleOut","setHandleOut","isSmooth","clearHandles","oldSelection","getPath","getCurve","_segments","getCurves","getLocation","CurveLocation","_segment1","smooth","_first","_last","factor","getPrevious","p0","p1","p2","k","d1_a","d1_2a","d2_a","d2_2a","N","isLast","reversed","removeSegment","segment","interpolate","handleIn1","handleIn2","handleOut2","handleOut1","change","Curve","arg6","arg7","seg1","seg2","handle1","handle2","segment1","segment2","_segment2","getPoint1","getHandle1","getHandle2","getPoint2","_length","classify","setPoint1","setPoint2","setHandle1","setHandle2","getSegment1","getSegment2","getPoints","getLine","getPart","getPartLength","divideAt","location","divideAtTime","getTimeAt","_setHandles","subdivide","setHandles","splitAt","splitAtTime","getLocationAtTime","isTime","straight","h1","h2","y0","x3","y3","x4","y4","x5","y5","x6","y6","x7","y7","x8","y8","x9","y9","getMonoCurves","io","o0","o1","o2","o3","isStraight","v0","v3","getTimeOf","p3","getNearestTime","minDist","minT","refine","dist","flip","isFlatEnough","flatness","ux","uy","_addBounds","minPad","maxPad","s1","s2","isLinear","third","hasLength","isHorizontal","getTangentAtTime","isVertical","getLocationAt","_isTime","getParameterAt","getTimesWithTangent","tangent","getOffsetAtTime","getLocationOf","getOffsetOf","loc","getOffset","getParameterOf","getNearestLocation","getNearestPoint","methods","_evaluateMethods","getLengthIntegrand","ax","bx","ay","by","getIterations","normalized","len","d3","t1","t2","hasRoots","t1Ok","t2Ok","f1","f2","ds","rangeLength","diff","guess","getTangent","getWeightedTangent","getNormal","getWeightedNormal","getCurvature","getPeaks","addLocation","locations","overlap","excludeStart","excludeEnd","loc1","loc2","_intersection","addCurveIntersections","recursion","calls","tMin","tMax","uMin","uMax","tMinClip","tMaxClip","q0x","q0y","q3x","q3y","dMin","dMax","dp0","dp1","dp2","dp3","hull","dq0","dq1","dq2","dq3","dist1","dist2","distRatio","getConvexHull","clipConvexHull","tMinNew","tMaxNew","uDiff","hullTop","hullBottom","clipConvexHullPart","threshold","qx","qy","getCurveLineIntersections","addCurveLineIntersections","addLineIntersection","getCurveIntersections","overlaps","getOverlaps","straight1","straight2","before","getSelfIntersection","info","getSquaredLineLength","straightBoth","l1","l2","pairs","matrix1","matrix2","_returnFirst","length1","length2","values1","values2","boundsCollisions","index1","curve1","collisions1","index2","curve2","den","times","t0","_overlap","_distance","_setCurve","_time","getPointAtTime","_next","_previous","_version","_curve","_segment","_setSegment","getSegment","getTime","trySegment","_offset","_curveOffset","getParameter","getCurveOffset","getIntersection","getLastSegment","_ignoreOther","isTouching","inter","isCrossing","t1Inside","t2Inside","c4","c3","offsets","addOffsets","isInRange","getPointAt","v4","a3","a4","hasOverlap","merge","search","found","path1","path2","expanded","compound","pathData","first","isClockwise","setClockwise","clockwise","setPathData","previous","control","relative","getCoord","command","move","cubicCurveTo","quadraticCurveTo","arcTo","winding","_getWinding","onPath","windingL","windingR","getCrossings","minLoc","isPath","itemsFrom","itemsTo","setClosed","paths1","paths2","matched","boundsOverlaps","findBoundsOverlaps","pathBoundsOverlaps","closed","setSegments","_segmentSelection","_area","getSegments","fullySelected","last","_add","getFirstSegment","_countCurves","getFirstCurve","getLastCurve","isClosed","getPathData","_precision","curX","curY","prevX","prevY","inX","inY","outX","outY","addSegment","skipLine","segs","_adjustCurves","insertSegment","addSegments","insertSegments","removeSegments","_includeCurves","area","_selectSegments","newSelection","last1","last2","first2","first1","simplify","flatten","PathFlattener","PathFitter","fit","_default","loop","asymmetric","paddingLeft","paddingRight","knots","n_1","rf","hx","hy","topCenter","seg3","seg4","isArc","pt1","pt2","shape","pos2","end2","pos1","end1","start2","cap","numSegments","hitCurves","isCloseEnough","checkSegmentPoint","seg","anchor","checkSegmentPoints","addToArea","checkSegmentStroke","isJoin","_addBevelJoin","_addSquareCap","getOffsetsWithTangent","curveStart","curveTimes","drawSegments","drawSegment","dashLength","flattener","drawPart","pX","pY","miniSize","miniHalf","drawHandle","hX","hY","drawHandles","getCurrentSegment","moveBy","curveTo","through","extent","middle","large","rxSq","rySq","xSq","ySq","throughSide","centerSide","ext","inc","out","_in","lineBy","curveBy","parameter","cubicCurveBy","quadraticCurveBy","arcBy","method","prevCoords","processSegment","joinBounds","addPoint","addRound","addJoin","addCap","phi","isArea","normal1","getNormalAtTime","normal2","normal","joinPadding","joinRadius","SQRT2","paddingX","paddingY","xn","xx","yn","yx","ellipseSegments","createPath","createEllipse","bl","getBottomLeft","tl","tr","getTopRight","br","RoundRectangle","Oval","Arc","RegularPolygon","sides","three","Star","radius1","radius2","paths","getCurrentPath","check","operators","getPaths","preparePath","resolve","resolveCrossings","reorient","createResult","result","filterIntersection","traceBoolean","operation","trace","splitBoolean","_path1","_path2","operator","crossings","divideLocations","collectPaths","_overlapsOnly","curvesValues","curveCollisions","curveCollisionsMap","propagateWinding","_winding","tracePaths","reorientPaths","added","addPath","linkIntersections","clearCurveHandles","lookup","container","sorted","entry1","containerWinding","getInteriorPoint","entry2","clearLater","renormalizeLocs","prevCurve","prevTime","results","clearCurves","clearLookup","origTime","newCurve","getWinding","dontFlip","vPrev","vClose","curvesList","ia","pv","pa","po","qualityEpsilon","paL","paR","pathWindingL","pathWindingR","onAnyPath","quality","addWinding","windingPrev","a3Prev","handleCurve","monoCurves","totalLength","curveLength","operand","SQRT1_2","wind","pathWinding","starts","_visited","isStart","visitPath","getCrossingSegments","collectStarts","collect","nextInter","_prev","inter1","inter2","over1","over2","branch","visited","valid","finished","branches","shift","hasOverlaps","hasCrossings","intersections","nonZero","intercepts","mv","mo0","mo3","maxRecursion","ignoreStraight","minSpan","addCurve","computeParts","halves","tMid","_get","fitCubic","tan1","tan2","uPrime","chordLengthParameterize","maxError","parametersInOrder","generateBezier","findMaxError","reparameterize","tanCenter","C","X","b0","b3","alpha1","alpha2","detC0C1","detC0X","segLength","eps","degree","maxDist","TextItem","content","_content","_lines","setContent","getCharacterStyle","setCharacterStyle","getParagraphStyle","setParagraphStyle","PointText","lines","leading","getLeading","font","getFontStyle","textAlign","getJustification","fillText","strokeText","numLines","justification","getTextWidth","colorCtx","gray","rgb","hsb","hsl","gradient","componentParsers","namedColors","transparent","fromCSS","string","parseInt","trim","isHSL","component","unit","turn","grad","hsbIndices","converters","g","achromatic","t3s","t3","properties","parser","_components","Gradient","_removeOwner","_addOwner","_properties","argType","converted","parsers","stops","radial","getComponents","_canvasStyle","converter","convert","getAlpha","setAlpha","hasAlpha","col","isGradient","toCSS","hex","canvasGradient","_stops","origin","destination","highlight","inverse","_radial","createRadialGradient","createLinearGradient","addColorStop","_color","_types","_setOwner","components1","components2","setStops","setRadial","_owners","getStops","GradientStop","getRadial","stops1","stops2","rampPoint","setColor","setOffset","getRampPoint","setRampPoint","getColor","itemDefaults","fillRule","strokeScaling","shadowOffset","selectedColor","groupDefaults","fontFamily","fontWeight","textDefaults","_values","isColor","isPoint","applyToChildren","old","_dontMerge","childValue","Font","WindingRule","isStyle","style1","style2","secondary","defaults2","value1","value2","getFontSize","getFontWeight","getFontFamily","getFont","setFont","getPixelSize","handlePrefix","prefixes","suffix","prefix","getStyles","doc","nodeType","ownerDocument","defaultView","getComputedStyle","viewport","body","html","documentElement","getBoundingClientRect","clientLeft","clientTop","pageXOffset","scrollLeft","pageYOffset","scrollTop","getViewportBounds","innerWidth","clientWidth","innerHeight","clientHeight","isInvisible","isInView","getPrefixed","passive","addEventListener","removeEventListener","targetTouches","changedTouches","pageX","clientX","pageY","clientY","getTarget","srcElement","getRelatedTarget","relatedTarget","toElement","requestAnimationFrame","timer","nativeRequest","requested","callbacks","handleCallbacks","functions","callback","setInterval","getCanvasSize","setAttribute","_viewEvents","userDrag","userSelect","touchCallout","contentZooming","tapHighlightColor","_windowEvents","resize","setViewSize","Stats","_stats","domElement","appendChild","_element","_pixelRatio","devicePixelRatio","_setElementSize","_viewSize","_views","_viewsById","_focused","_frameItems","_frameItemCount","_itemEvents","virtual","node","_animate","play","pause","_count","getAutoUpdate","setAutoUpdate","autoUpdate","update","now","Date","animate","_handleFrameItems","getPixelRatio","getViewSize","isVisible","parentNode","temp","createElement","removeChild","getZoom","setZoom","zoom","scrollBy","projectToView","viewToProject","getEventPoint","CanvasView","prevFocus","tempFocus","mousedown","mousemove","mouseup","dragging","mouseDown","pointerEnabled","msPointerEnabled","viewEvents","docEvents","mouseout","nodeName","handleMouseMove","scroll","updateFocus","_handleMouseEvent","downPoint","lastPoint","downItem","overItem","dragItem","clickItem","clickTime","dblClick","called","prevented","fallbacks","doubleclick","wasInView","itemEventsMap","click","mouseenter","mouseleave","itemEvents","hitItems","nativeMove","tool","inView","hitItem","mouse","substr","emitMouseEvent","drag","emitMouseEvents","down","up","cancelable","preventDefault","_handleKeyEvent","character","keyEvent","KeyEvent","sign","_resetState","prevPoint","stopItem","mouseEvent","stopped","MouseEvent","fallback","HTMLCanvasElement","deviceRatio","backingStoreRatio","firefox","prevFont","measureText","stopPropagation","getTimeStamp","timeStamp","getModifiers","Key","modifiers","metaFixMap","downKey","keyLookup","charLookup","keyMap","charMap","alt","meta","capsLock","space","option","mac","getKey","keyIdentifier","String","fromCharCode","keyCode","keydown","altKey","metaKey","ctrlKey","keypress","charCode","keyup","isDown","ToolEvent","_choosePoint","toolPoint","getLastPoint","_lastPoint","setLastPoint","getDownPoint","_downPoint","setDownPoint","getMiddlePoint","_middlePoint","setMiddlePoint","middlePoint","getDelta","_delta","setDelta","getCount","setCount","_moveCount","_downCount","getMinDistance","_minDistance","setMinDistance","minDistance","_maxDistance","getMaxDistance","setMaxDistance","maxDistance","getFixedDistance","setFixedDistance","easings","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","isFunction","_then","_startTime","state","_keys","_parsedKeys","_parseKeys","_from","_getState","_to","then","progress","getValue","__add","__subtract","__multiply","_setProperty","onUpdate","startTime","_getProperty","resolved","_resolveValue","_calculate","parsed","PaperScript","calculateBinary","Http","request","xhr","XMLHttpRequest","open","url","async","mimeType","overrideMimeType","onload","status","responseText","onerror","message","send","canvases","sr","sg","sb","sa","bg","bb","ba","dr","dg","db","getLum","setLum","mn","lmn","ln","mxl","getSat","setSat","md","modes","screen","overlay","darken","lighten","difference","exclusion","hue","saturation","luminosity","average","negation","mode","srcContext","dstContext","srcCanvas","dstData","SvgElement","svg","xmlns","xlink","attributeNamespace","href","attributes","namespace","setAttributeNS","tag","createElementNS","getAttributeNS","SvgStyles","true","false","property","attribute","toSVG","fromSVG","exportFilter","coordinates","attrs","trans","exportGroup","childNode","exportSVG","exportShape","exporters","embedImages","matchShapes","definitionItem","viewBox","overflow","textContent","applyStyle","gradientNode","getGradient","getOrigin","getDestination","getHighlight","fy","gradientUnits","stopColor","exportGradient","visibility","svgs","__id","typeId","exportDefinitions","defs","insertBefore","firstChild","XMLSerializer","serializeToString","exporter","onExport","setOptions","rootSize","allowNull","allowPercent","defaultValue","defaultX","defaultY","convertValue","map","importGroup","nodes","childNodes","isClip","isDefs","currentStyle","applyAttributes","querySelectorAll","importNode","importPoly","importGradient","scaleToBounds","_scaleToBounds","importers","clippath","polygon","polyline","lineargradient","radialgradient","use","circle","text","switch","applyTransform","transforms","applyOpacity","gradientTransform","setVisible","display","percent","styles","group","tagName","isElement","nextSibling","importer","onImport","expandShapes","importSVG","DOMParser","parseFromString","File","reader","FileReader","readAsText","Symbol","PlacedSymbol","Position","ez","solve33","solve22","a11","a12","a21","a22","getInverse22","M","getSymInverse33","a13","a23","a33","mulVec3","propIsEnumerable","toObject","TypeError","test1","getOwnPropertyNames","test2","test3","letter","shouldUseNative","m_radius","_reset","_clone","getChildCount","testPoint","rayCast","output","input","childIndex","computeAABB","aabb","computeMass","massData","density","computeDistanceProxy","proxy","lowerBound","upperBound","getExtents","getPerimeter","lowerA","upperA","lowerB","upperB","lowerX","lowerY","upperX","upperY","combinePoints","testOverlap","d1x","d2x","d1y","d2y","wD","hD","tmin","tmax","absD","inv_d","maxFraction","fraction","_assign","defaults","breakpoints","createMediaQuery","undef","createParser","config","shouldSort","isCacheDisabled","theme","disableStyledSystemCache","raw","media","parseResponsiveStyle","parseResponsiveObject","localeCompare","numeric","sensitivity","propNames","_createParser","mediaQueries","_props","_assign2","breakpoint","_assign3","createStyleFunction","_ref","_ref$transform","defaultScale","system","conf","layout","isNumber","minWidth","minHeight","maxWidth","maxHeight","overflowX","overflowY","verticalAlign","backgroundColor","_config","typography","lineHeight","letterSpacing","fontStyle","flexbox","alignItems","alignContent","justifyItems","justifyContent","flexWrap","flexDirection","flex","flexGrow","flexShrink","flexBasis","justifySelf","alignSelf","order","grid","gridGap","gridColumnGap","gridRowGap","gridColumn","gridRow","gridAutoFlow","gridAutoColumns","gridAutoRows","gridTemplateColumns","gridTemplateRows","gridTemplateAreas","gridArea","border","borderWidth","borderStyle","borderColor","borderRadius","borderTop","borderTopLeftRadius","borderTopRightRadius","borderRight","borderBottom","borderBottomLeftRadius","borderBottomRightRadius","borderLeft","borderX","borderY","borderTopWidth","borderTopColor","borderTopStyle","borderBottomWidth","borderBottomColor","borderBottomStyle","borderLeftWidth","borderLeftColor","borderLeftStyle","borderRightWidth","borderRightColor","borderRightStyle","background","backgroundImage","backgroundSize","backgroundPosition","backgroundRepeat","bgImage","bgSize","bgPosition","bgRepeat","zIndex","getMargin","isNegative","absolute","configs","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","mt","mr","mb","ml","my","paddingTop","paddingBottom","pr","pb","pl","_scales","_len","_key","compose","boxShadow","textShadow","_extends","defaultBreakpoints","defaultTheme","fontSizes","aliases","multiples","scales","gap","columnGap","rowGap","outlineColor","positiveOrNegative","acc","curr","_extends2","css","responsive","scaleName","dirs","variant","_ref$prop","_ref$variants","variants","ContactEdge","contact","fA","indexA","fB","indexB","evaluateFcn","m_nodeA","m_nodeB","m_fixtureA","m_fixtureB","m_indexA","m_indexB","m_evaluateFcn","m_manifold","m_toi","m_toiCount","m_toiFlag","m_friction","mixFriction","m_restitution","mixRestitution","m_tangentSpeed","m_enabledFlag","m_touchingFlag","m_filterFlag","m_bulletHitFlag","v_points","v_normal","v_normalMass","v_K","v_pointCount","v_tangentSpeed","v_friction","v_restitution","v_invMassA","v_invMassB","v_invIA","v_invIB","p_localPoints","p_localNormal","p_localPoint","p_localCenterA","p_localCenterB","p_type","p_radiusA","p_radiusB","p_pointCount","p_invMassA","p_invMassB","p_invIA","p_invIB","VelocityConstraintPoint","rA","rB","normalImpulse","tangentImpulse","normalMass","tangentMass","velocityBias","friction1","friction2","restitution1","restitution2","initConstraint","fixtureA","fixtureB","shapeA","shapeB","getBody","manifold","getManifold","pointCount","m_invMass","m_invI","m_sweep","localNormal","localPoint","cp","vcp","warmStarting","dtRatio","getWorldManifold","worldManifold","setEnabled","isEnabled","getFixtureA","getFixtureB","getChildIndexA","getChildIndexB","flagForFiltering","setFriction","friction","getFriction","resetFriction","setRestitution","restitution","getRestitution","resetRestitution","setTangentSpeed","speed","getTangentSpeed","xfA","xfB","listener","touching","wasTouching","sensorA","isSensor","sensorB","sensor","oldManifold","nmp","omp","setAwake","beginContact","endContact","preSolve","solvePositionConstraint","_solvePositionConstraint","solvePositionConstraintTOI","toiA","toiB","toi","positionA","c_velocity","c_position","positionB","localCenterA","localCenterB","mA","iA","mB","iB","cA","aA","cB","aB","minSeparation","separation","e_circles","pointA","pointB","e_faceA","planePoint","clipPoint","e_faceB","rnA","rnB","K","impulse","P","initVelocityConstraint","velocityA","velocityB","radiusA","radiusB","vA","wA","vB","wB","kNormal","rtA","rtB","kTangent","vRel","blockSolve","vcp1","vcp2","rn1A","rn1B","rn2A","rn2B","k11","k22","k12","warmStartConstraint","storeConstraintImpulses","solveVelocityConstraint","m_body","dv","vt","lambda","maxFriction","newImpulse","vn","dv1","dv2","vn1","vn2","P1","P2","s_registers","addType","type1","type2","typeA","typeB","m_contactList","destroy","destroyFcn","ManifoldPoint","ContactID","cf","ContactFeature","WorldManifold","separations","clipSegmentToLine","vOut","vIn","vertexIndexA","numOut","distance0","distance1","interp","e_vertex","e_face","clipVertex","ClipVertex","getPointStates","state1","state2","manifold1","manifold2","PointState","removeState","persistState","addState","wm","nullState","Velocity","staticBody","STATIC","kinematicBody","KINEMATIC","dynamicBody","DYNAMIC","BodyDef","linearVelocity","angularVelocity","linearDamping","angularDamping","fixedRotation","bullet","gravityScale","allowSleep","awake","active","world","m_world","m_awakeFlag","m_autoSleepFlag","m_bulletFlag","m_fixedRotationFlag","m_activeFlag","m_mass","m_I","m_xf","m_force","m_torque","m_linearVelocity","m_angularVelocity","m_linearDamping","m_angularDamping","m_gravityScale","m_sleepTime","m_jointList","m_fixtureList","m_destroyed","MassData","mass","I","fixtures","fixture","_addFixture","isWorldLocked","isLocked","getWorld","getFixtureList","getJointList","getContactList","isStatic","isDynamic","isKinematic","setStatic","setDynamic","setKinematic","resetMassData","synchronizeFixtures","ce","ce0","destroyContact","broadPhase","m_broadPhase","proxyCount","m_proxyCount","touchProxy","m_proxies","proxyId","isBullet","setBullet","isSleepingAllowed","setSleepingAllowed","isAwake","setActive","createProxies","destroyProxies","isFixedRotation","setFixedRotation","synchronize","synchronizeTransform","getWorldCenter","getLocalCenter","getLinearVelocity","getLinearVelocityFromWorldPoint","worldPoint","getLinearVelocityFromLocalPoint","getWorldPoint","setLinearVelocity","getAngularVelocity","setAngularVelocity","getLinearDamping","setLinearDamping","getAngularDamping","setAngularDamping","getGravityScale","setGravityScale","getMass","getInertia","getMassData","m_density","oldCenter","setMassData","applyForce","force","wake","applyForceToCenter","applyTorque","torque","applyLinearImpulse","applyAngularImpulse","shouldCollide","jn","m_newFixture","createFixture","fixdef","destroyFixture","edge","publish","getWorldVector","localVector","getLocalPoint","getLocalVector","worldVector","PolygonShape","vertices","_super","TYPE","m_centroid","m_vertices","m_normals","m_count","getVertex","_setAsBox","ps","tempCount","unique","i0","ih","ie","vs","pRef","e1","e2","triangleArea","ComputeCentroid","pLocal","numerator","denominator","minX","minY","maxX","maxY","ex1","ey1","ex2","ey2","validate","_slicedToArray","iterator","_arr","_n","_e","_s","_i","done","Input","DistanceInput","Output","DistanceOutput","Proxy","DistanceProxy","Cache","SimplexCache","proxyA","proxyB","transformA","transformB","useRadii","iterations","metric","gjkCalls","simplex","Simplex","readCache","m_v","k_maxIters","saveA","saveB","saveCount","getClosestPoint","getSearchDirection","vertex","getSupport","gjkIters","duplicate","gjkMaxIters","getWitnessPoints","writeCache","m_buffer","SimplexVertex","m_v1","m_v2","m_v3","getVertexCount","bestIndex","bestValue","getSupportVertex","print","wALocal","wBLocal","metric1","metric2","getMetric","e12","pA","pB","solve2","solve3","w1","w2","d12_2","d12_1","inv_d12","w3","w1e12","e13","w1e13","d13_1","d13_2","e23","w2e23","d23_1","d23_2","n123","d123_1","d123_2","d123_3","inv_d13","inv_d23","inv_d123","CircleShape","m_p","rr","sigma","EdgeShape","m_vertex1","m_vertex2","m_vertex0","m_vertex3","m_hasVertex0","m_hasVertex3","vertex1","vertex2","vertex0","vertex3","hasVertex0","hasVertex3","setPrev","setNext","newline","ChainShape","m_prevVertex","m_nextVertex","m_hasPrevVertex","m_hasNextVertex","m_isLoop","_createLoop","_createChain","isLoop","prevVertex","nextVertex","hasPrevVertex","hasNextVertex","_setPrevVertex","_setNextVertex","createChain","getChildEdge","factory","nullptn","formatptn","colonptn","cursorptn","transformptn","animationptn","propertiesptn","elementptn","selectorptn","andptn","escapeptn","invalidptn","keyframeptn","plcholdrptn","readonlyptn","beforeptn","afterptn","tailptn","whiteptn","pseudoptn","writingptn","supportsptn","propertyptn","selfptn","pseudofmt","dimensionptn","imgsrcptn","moz","ms","SEMICOLON","CLOSEBRACES","OPENBRACES","OPENPARENTHESES","CLOSEPARENTHESES","OPENBRACKET","CLOSEBRACKET","NEWLINE","CARRIAGE","TAB","AT","SPACE","AND","DASH","UNDERSCORE","STAR","COMMA","COLON","SINGLEQUOTE","DOUBLEQUOTE","FOWARDSLASH","GREATERTHAN","PLUS","TILDE","NULL","FORMFEED","VERTICALTAB","KEYFRAME","MEDIA","SUPPORTS","PLACEHOLDER","READONLY","IMPORT","CHARSET","DOCUMENT","PAGE","column","pattern","cascade","escape","compress","semicolon","plugins","plugged","should","POSTS","PREPS","UNKWN","PROPS","BLCKS","ATRUL","unkwn","keyed","nscopealt","nscope","compile","depth","selector","bracket","comment","parentheses","quote","second","tail","trail","peak","counter","atrule","pseudo","caret","format","eof","eol","char","chars","flat","charCodeAt","charAt","delimited","select","supports","vendor","elements","selectors","level","declare","at","stylis","ns","plugin","areInputsEqual","newInputs","lastInputs","memoizeOne","resultFn","isEqual","lastThis","lastResult","lastArgs","calledOnce","newArgs","BroadPhase","Solver","WorldDef","gravity","continuousPhysics","subStepping","velocityIterations","positionIterations","m_solver","m_contactCount","m_bodyList","m_bodyCount","m_jointCount","m_stepComplete","m_allowSleep","m_gravity","m_clearForces","m_locked","m_warmStarting","m_continuousPhysics","m_subStepping","m_blockSolve","m_velocityIterations","m_positionIterations","m_t","m_stepCount","addPair","createContact","bodies","joints","getBodyList","_addBody","createJoint","getBodyCount","getJointCount","getContactCount","setGravity","getGravity","setAllowSleeping","getAllowSleeping","setWarmStarting","getWarmStarting","setContinuousPhysics","getContinuousPhysics","setSubStepping","getSubStepping","setAutoClearForces","getAutoClearForces","clearForces","queryAABB","queryCallback","query","reportFixtureCallback","getProxyCount","getTreeHeight","getTreeBalance","getTreeQuality","createBody","createDynamicBody","createKinematicBody","destroyBody","je","je0","destroyJoint","f0","s_step","TimeStep","timeStep","findNewContacts","updateContacts","solveWorld","solveWorldTOI","updatePairs","next_c","activeA","activeB","proxyIdA","proxyIdB","_listeners","listeners","postSolve","Pool","TreeNode","child1","child2","m_root","m_nodes","m_lastProxyId","m_pool","isLeaf","getFatAABB","allocateNode","allocate","freeNode","createProxy","insertLeaf","destroyProxy","removeLeaf","moveProxy","leaf","leafAABB","combinedAABB","cost1","cost2","combinedArea","cost","inheritanceCost","oldArea","sibling","oldParent","newParent","balance","grandParent","F","G","getAreaRatio","rootArea","totalArea","it","iteratorPool","preorder","computeHeight","height1","ComputeHeight","height2","validateStructure","validateMetrics","ValidateStructure","ValidateMetrics","getMaxBalance","maxBalance","rebuildBottomUp","minCost","iMin","jMin","aabbi","aabbj","stack","stackPool","rayCastCallback","abs_v","segmentAABB","subInput","inputPool","Iterator","close","states","root","FixtureDef","filterGroupIndex","filterCategoryBits","filterMaskBits","FixtureProxy","m_isSensor","m_filterGroupIndex","m_filterCategoryBits","m_filterMaskBits","m_shape","childCount","setSensor","getDensity","setDensity","getAABB","xf1","xf2","aabb1","aabb2","displacement","setFilterData","groupIndex","categoryBits","maskBits","refilter","getFilterGroupIndex","getFilterCategoryBits","getFilterMaskBits","Timer","toiCalls","TOIOutput","e_unknown","sweepA","sweepB","totalRadius","k_maxIterations","distanceInput","distanceOutput","e_overlapped","e_touching","fcn","SeparationFunction","pushBackIter","findMinSeparation","e_separated","e_failed","rootIterCount","toiRootIters","toiMaxRootIters","toiIters","toiMaxIters","toiMaxTime","toiTime","m_proxyA","m_proxyB","m_sweepA","m_sweepB","m_localPoint","m_axis","localPointA","localPointB","localPointB1","localPointB2","localPointA1","localPointA2","compute","find","axisA","axisB","inactiveLimit","DEFAULTS","lowerAngle","upperAngle","maxMotorTorque","motorSpeed","enableLimit","enableMotor","m_localAnchorA","localAnchorA","m_localAnchorB","localAnchorB","m_referenceAngle","referenceAngle","m_impulse","m_motorImpulse","m_lowerAngle","m_upperAngle","m_maxMotorTorque","m_motorSpeed","m_enableLimit","m_enableMotor","m_rA","m_rB","m_localCenterA","m_localCenterB","m_invMassA","m_invMassB","m_invIA","m_invIB","m_motorMass","m_limitState","getLocalAnchorA","getLocalAnchorB","getReferenceAngle","getJointAngle","bA","getJointSpeed","isMotorEnabled","getMotorTorque","setMotorSpeed","getMotorSpeed","setMaxMotorTorque","isLimitEnabled","getLowerLimit","getUpperLimit","setLimits","qA","qB","jointAngle","Cdot","oldImpulse","maxImpulse","dt","Cdot1","Cdot2","rhs","reduced","positionError","angularError","limitImpulse","lowerTranslation","upperTranslation","maxMotorForce","axis","m_localXAxisA","localAxisA","m_localYAxisA","m_lowerTranslation","m_upperTranslation","m_maxMotorForce","m_perp","m_s1","m_s2","m_a1","m_a2","m_K","getLocalAxisA","getJointTranslation","bB","setMaxMotorForce","getMotorForce","k13","k23","k33","jointTranslation","LA","LB","f2r","perp","C1","linearError","C2","impulse1","checkDCE","__REACT_DEVTOOLS_GLOBAL_HOOK__","_taggedTemplateLiteral","strings","freeze","defineProperties","insertRule","toSheet","block","delimiter","unitlessKeys","animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flexPositive","flexNegative","flexOrder","gridRowEnd","gridRowSpan","gridRowStart","gridColumnEnd","gridColumnSpan","gridColumnStart","msGridRow","msGridRowSpan","msGridColumn","msGridColumnSpan","orphans","tabSize","widows","WebkitLineClamp","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","ImageTracer","_this","versionnumber","imageToSVG","checkoptions","loadImage","imagedataToSVG","getImgdata","imgd","imagedataToTracedata","getsvgstring","imageToTracedata","ii","colorquantization","layering","tracedata","layers","palette","colornum","tracedlayer","batchtracepaths","internodes","pathscan","layeringstep","pathomit","ltres","qtres","ls","layercontainerid","drawLayers","specpalette","bps","batchpathscan","bis","batchinternodes","batchtracelayers","optionpresets","corsenabled","rightangleenhance","colorsampling","numberofcolors","mincolorratio","colorquantcycles","strokewidth","linefilter","roundcoords","viewbox","lcpr","qcpr","blurradius","blurdelta","pal","cdl","ci","cnt","idx","paletteacc","pixelnum","newimgddata","Uint8ClampedArray","pxcnt","generatepalette","samplepalette","samplepalette2","ni","nj","rcnt","gcnt","bcnt","graystep","colorqnum","colorstep","rndnum","n1","n2","n3","n4","n5","n6","n7","n8","ah","aw","cnum","pathscan_combined_lookup","lookuprow","pacnt","pcnt","pathfinished","holepath","boundingbox","holechildren","isholepath","parentidx","parentbbox","parentcnt","boundingboxincludes","childbbox","bpaths","ins","palen","nextidx","nextidx2","previdx","previdx2","testrightangle","linesegment","getdirection","idx1","idx2","idx3","idx4","idx5","binternodes","tracepath","segtype1","segtype2","seqend","smp","fitseq","seqstart","errorpoint","errorval","curvepass","fitpoint","cpx","cpy","splitpoint","internodepaths","btracedpaths","btbis","roundtodec","places","toFixed","svgpathstring","lnum","pathnum","tosvgcolorstr","hcnt","hsmp","svgstr","lcnt","compareNumbers","torgbastr","appendSVGString","parentid","innerHTML","gks","racc","gacc","bacc","aacc","wacc","imgd2","thisgk","himgd","img","_toConsumableArray","arr2","memoize","reactPropsRegex","fn","payload","getPrototypeOf","isSymbol","__spreadArrays","il","jl","assignProp","carry","newVal","originalObject","propType","newComers","extensions","newComer","mergeRecursively","newObject","targetVal","includes","for","aa","encodeURIComponent","isMounted","enqueueForceUpdate","enqueueReplaceState","enqueueSetState","refs","updater","isReactComponent","setState","forceUpdate","H","isPureReactComponent","J","L","__self","defaultProps","$$typeof","O","keyPrefix","U","S","T","ca","da","V","W","Children","toArray","only","createRef","Component","PureComponent","createContext","_calculateChangedBits","_currentValue","_currentValue2","_threadCount","Provider","Consumer","forwardRef","render","lazy","_ctor","_status","_result","memo","useCallback","useContext","useEffect","useImperativeHandle","useDebugValue","useLayoutEffect","useMemo","useReducer","useRef","useState","Fragment","Profiler","StrictMode","Suspense","cloneElement","createFactory","isValidElement","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentDispatcher","ReactCurrentBatchConfig","suspense","ReactCurrentOwner","IsSomeRendererActing","Y","default","Z","ea","extractEvents","eventTypes","fa","phasedRegistrationNames","ha","registrationName","ja","dependencies","ka","la","ma","na","oa","qa","ua","va","wa","ra","xa","ya","za","Aa","_dispatchListeners","_dispatchInstances","isPropagationStopped","isPersistent","Ba","Ca","injectEventPluginOrder","injectEventPluginsByName","Da","stateNode","disabled","Ea","Fa","Ga","Ha","Ia","Ja","Ka","La","Ma","Na","Oa","Pa","Qa","Ra","Sa","Ta","Ua","Wa","displayName","Xa","_debugOwner","_debugSource","fileName","lineNumber","return","Ya","Za","$a","ab","cb","eb","fb","gb","hb","ib","jb","kb","Map","lb","nb","ob","acceptsBooleans","attributeName","mustUseProperty","propertyName","sanitizeURL","tb","ub","vb","qb","rb","removeAttribute","wb","yb","_valueTracker","setValue","stopTracking","xb","zb","checked","Ab","defaultChecked","_wrapperState","initialChecked","Bb","initialValue","controlled","Cb","Eb","Fb","Gb","activeElement","Ib","Hb","Jb","defaultSelected","Kb","dangerouslySetInnerHTML","Lb","Mb","Nb","xlinkHref","Ob","mathml","Pb","Qb","Rb","Sb","MSApp","execUnsafeLocalFunction","namespaceURI","valueOf","Tb","lastChild","nodeValue","Ub","Vb","animationend","animationiteration","animationstart","transitionend","Wb","Xb","Yb","animation","transition","Zb","$b","ac","bc","cc","ec","alternate","effectTag","fc","memoizedState","dehydrated","gc","ic","hc","jc","kc","lc","mc","nc","oc","pc","qc","rc","sc","tc","uc","vc","zc","blockedOn","topLevelType","eventSystemFlags","nativeEvent","Ac","delete","pointerId","Bc","Cc","Ec","Fc","unstable_runWithPriority","priority","hydrate","containerInfo","Gc","Hc","Ic","Jc","Kc","unstable_scheduleCallback","unstable_NormalPriority","Lc","Mc","correspondingUseElement","Nc","Oc","dispatchConfig","Pc","_targetInst","Qc","Rc","Sc","Tc","Uc","Interface","isDefaultPrevented","defaultPrevented","returnValue","Wc","eventPool","Xc","destructor","Vc","getPooled","cancelBubble","persist","eventPhase","bubbles","isTrusted","Yc","animationName","elapsedTime","pseudoElement","Zc","clipboardData","$c","detail","Esc","Spacebar","Left","Up","Right","Down","Del","Win","Menu","Apps","Scroll","MozPrintableKey","dd","8","9","12","13","16","17","18","19","20","27","32","33","34","35","36","37","38","39","40","45","46","112","113","114","115","116","117","118","119","120","121","122","123","144","145","224","ed","Alt","Control","Meta","Shift","gd","getModifierState","hd","shiftKey","repeat","locale","which","jd","kd","ld","nd","screenX","screenY","button","buttons","fromElement","movementX","movementY","od","pressure","tangentialPressure","tiltX","tiltY","twist","pointerType","isPrimary","pd","dataTransfer","touches","sd","deltaX","wheelDeltaX","deltaY","wheelDeltaY","wheelDelta","deltaZ","deltaMode","ud","vd","wd","yd","zd","Ad","Bd","Cd","Dd","bubbled","captured","eventPriority","Ed","getEventPriority","Fd","unstable_UserBlockingPriority","Gd","Hd","Id","Jd","Kd","targetInst","ancestors","Ld","Md","Nd","Od","Pd","Qd","Dc","Rd","Sd","WeakMap","xc","Set","yc","has","Td","lineClamp","Ud","Vd","Wd","setProperty","Xd","menuitem","embed","hr","keygen","link","track","wbr","Yd","Zd","is","$d","ae","be","de","fe","HTMLIFrameElement","contentWindow","ge","contentEditable","he","ke","le","me","ne","autoFocus","oe","__html","pe","qe","clearTimeout","re","se","previousSibling","te","ue","ve","we","xe","ye","ze","Ae","Be","Ce","De","Ee","Fe","Ge","He","documentMode","Ie","Je","Ke","Le","beforeInput","compositionEnd","compositionStart","compositionUpdate","Me","Ne","Oe","Pe","Se","Qe","Re","Te","date","datetime","email","month","password","range","tel","week","Ue","Ve","We","Xe","Ye","Ze","$e","af","bf","detachEvent","ef","attachEvent","ff","gf","hf","lf","jf","_isInputEventSupported","kf","mouseEnter","mouseLeave","pointerEnter","pointerLeave","mf","parentWindow","of","pf","qf","sf","tf","uf","vf","wf","selectionStart","selectionEnd","anchorNode","anchorOffset","focusNode","focusOffset","yf","onSelect","SimpleEventPlugin","EnterLeaveEventPlugin","ChangeEventPlugin","SelectEventPlugin","BeforeInputEventPlugin","Af","Bf","Cf","Df","Ef","contextTypes","__reactInternalMemoizedUnmaskedChildContext","__reactInternalMemoizedMaskedChildContext","childContextTypes","Ff","Gf","Hf","If","getChildContext","Jf","__reactInternalMemoizedMergedChildContext","Kf","Lf","Mf","Nf","unstable_cancelCallback","Of","unstable_shouldYield","Pf","unstable_requestPaint","Qf","unstable_now","Rf","unstable_getCurrentPriorityLevel","Sf","unstable_ImmediatePriority","Tf","Uf","Vf","unstable_LowPriority","Wf","unstable_IdlePriority","Xf","Yf","Zf","$f","ag","cg","eg","fg","gg","hg","ig","jg","kg","lg","mg","ng","og","pg","qg","rg","tg","ug","childExpirationTime","vg","firstContext","expirationTime","wg","xg","observedBits","responders","yg","zg","baseState","firstUpdate","lastUpdate","firstCapturedUpdate","lastCapturedUpdate","firstEffect","lastEffect","firstCapturedEffect","lastCapturedEffect","Ag","Bg","suspenseConfig","nextEffect","Cg","Dg","updateQueue","Eg","Fg","Gg","Hg","Ig","Jg","Kg","Lg","Mg","Ng","Og","Sg","_reactInternalFiber","Pg","Qg","Rg","Tg","shouldComponentUpdate","Ug","contextType","Vg","componentWillReceiveProps","UNSAFE_componentWillReceiveProps","Wg","getDerivedStateFromProps","getSnapshotBeforeUpdate","UNSAFE_componentWillMount","componentWillMount","componentDidMount","Xg","Yg","_stringRef","Zg","$g","bh","elementType","ch","implementation","dh","eh","ta","fh","gh","hh","jh","kh","lh","mh","nh","oh","ph","qh","memoizedProps","revealOrder","rh","responder","sh","th","uh","vh","wh","xh","yh","zh","Ah","Bh","Ch","Gh","Hh","Ih","Jh","Kh","Lh","Mh","Nh","queue","baseUpdate","Oh","Ph","Qh","lastRenderedReducer","dispatch","action","lastRenderedState","eagerReducer","eagerState","Rh","Sh","Th","Uh","deps","Vh","Wh","Xh","Yh","Zh","$h","ai","bi","readContext","useResponder","useDeferredValue","useTransition","unstable_next","di","ei","fi","gi","pendingProps","ji","ki","li","mi","oi","pi","qi","ri","si","ti","ui","UNSAFE_componentWillUpdate","componentWillUpdate","componentDidUpdate","vi","getDerivedStateFromError","wi","pendingContext","Hi","Ii","Ji","Ki","xi","retryTime","yi","unstable_avoidThisFallback","zi","Ai","isBackwards","rendering","tailExpiration","tailMode","Bi","Ci","Li","Mi","Ni","onClick","onclick","Oi","WeakSet","Pi","Si","Ri","Ti","Ui","__reactInternalSnapshotBeforeUpdate","Vi","Wi","componentWillUnmount","Qi","Xi","Yi","Zi","$i","_reactRootContainer","aj","wasMultiple","multiple","bj","cj","dj","ej","fj","gj","hj","ij","componentDidCatch","jj","componentStack","gk","kj","lj","mj","oj","pj","qj","rj","sj","tj","uj","vj","wj","xj","yj","zj","Aj","Bj","Cj","Dj","Ej","Fj","Gj","Hj","Ij","Jj","timeoutMs","Kj","Lj","Mj","Nj","Oj","lastExpiredTime","Pj","firstPendingTime","lastPingedTime","nextKnownPendingLevel","callbackExpirationTime","callbackPriority","callbackNode","Qj","timeout","Rj","Sj","Tj","Uj","Vj","Wj","finishedWork","finishedExpirationTime","lastSuspendedTime","Xj","timeoutHandle","Yj","busyMinDurationMs","busyDelayMs","Zj","bk","ck","pingCache","dk","ek","fk","createTextNode","ik","firstSuspendedTime","rangeCount","Db","focusedElem","selectionRange","jk","ee","compareDocumentPosition","createRange","setStart","removeAllRanges","addRange","setEnd","focus","Dh","dc","fd","hk","Eh","Fh","xk","Di","Ei","Fi","xd","Gi","kk","lk","mk","Va","nk","unstable_observedBits","pk","pendingChildren","qk","rk","sk","tk","uk","vk","wc","_internalRoot","wk","zk","yk","Bk","Ak","unmount","form","ak","Ck","createPortal","findDOMNode","unstable_renderSubtreeIntoContainer","unmountComponentAtNode","unstable_createPortal","unstable_batchedUpdates","flushSync","Events","findFiberByHostInstance","isDisabled","supportsFiber","onCommitFiberRoot","onCommitFiberUnmount","overrideHookState","overrideProps","setSuspenseHandler","scheduleUpdate","currentDispatcherRef","findHostInstanceByFiber","findHostInstancesForRefresh","scheduleRefresh","scheduleRoot","setRefreshHandler","getCurrentFiber","bundleType","rendererPackageName","Dk","Ek","MessageChannel","unstable_forceFrameRate","performance","cancelAnimationFrame","port2","port1","onmessage","postMessage","sortIndex","priorityLevel","delay","unstable_wrapCallback","unstable_continueExecution","unstable_pauseExecution","unstable_getFirstCallbackNode","unstable_Profiling","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","currentQueue","draining","queueIndex","cleanUpNextTick","drainQueue","run","marker","runClearTimeout","nextTick","title","env","argv","versions","addListener","removeListener","removeAllListeners","prependListener","prependOnceListener","binding","cwd","chdir","umask","typeOf","AsyncMode","ConcurrentMode","ContextConsumer","ContextProvider","Element","ForwardRef","Lazy","Memo","Portal","isValidElementType","isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isForwardRef","isFragment","isLazy","isMemo","isPortal","isProfiler","isStrictMode","isSuspense","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","propName","componentName","propFullName","secret","getShim","isRequired","ReactPropTypes","bool","any","arrayOf","instanceOf","objectOf","oneOf","oneOfType","exact","checkPropTypes","PropTypes","SID","CLASSES","toJson","store","cls","__sid","fromJson","dump","refIndex","refType","m_tree","m_moveBuffer","aabbA","aabbB","bufferMove","unbufferMove","addPairCallback","m_callback","m_queryProxyId","fatAABB","userDataA","userDataB","_max","_createFn","_outFn","_inFn","_discardFn","discard","_createCount","_outCount","_inCount","_discardCount","TOIInput","inv_dt0","m_stack","m_bodies","m_contacts","m_joints","addBody","addContact","addJoint","seed","solveIsland","printBodies","ratio","positionSolved","contactsOkay","jointsOkay","jointOkay","postSolveIsland","minSleepTime","linTolSqr","angTolSqr","s_subStep","ContactImpulse","normalImpulses","tangentImpulses","minContact","minAlpha","collideA","collideB","backup1","backup2","backup","solveIslandTOI","subStep","BoxShape","CollideCircles","circleA","circleB","distSqr","CollideEdgeCircle","edgeA","A1","B1","B2","A2","FindMaxSeparation","poly1","poly2","count1","count2","n1s","v1s","v2s","maxSeparation","sij","_maxSeparation","_bestIndex","polyA","polyB","separationA","edgeB","separationB","edge1","incidentEdge","normals1","vertices2","normals2","minDot","FindIncidentEdge","vertices1","iv1","iv2","v11","v12","localTangent","frontOffset","sideOffset1","sideOffset2","clipPoints1","clipPoints2","polygonA","cLocal","normalIndex","vertexCount","normals","vertIndex1","vertIndex2","faceCenter","CollidePolygonCircle","CollideEdgePolygon","e_edgeA","e_edgeB","EPAxis","edgeAxis","polygonAxis","polygonBA","sideNormal1","sideNormal2","polygonB","centroidB","front","offset1","offset0","offset2","convex1","convex2","edge0","normal0","edge2","lowerLimit","upperLimit","primaryAxis","frequencyHz","dampingRatio","anchorA","anchorB","m_length","m_frequencyHz","m_dampingRatio","m_gamma","m_bias","m_u","gamma","bias","setFrequency","hz","getFrequency","setDampingRatio","getDampingRatio","crAu","crBu","invMass","omega","vpA","vpB","maxForce","maxTorque","m_linearImpulse","m_angularImpulse","m_maxForce","m_maxTorque","m_linearMass","m_angularMass","setMaxForce","getMaxForce","setMaxTorque","getMaxTorque","joint1","joint2","coordinateA","coordinateB","m_joint1","m_joint2","m_ratio","m_type1","m_type2","m_bodyC","xfC","aC","revolute","m_localAnchorC","m_referenceAngleA","m_localAxisC","prismatic","pC","m_bodyD","xfD","aD","m_localAnchorD","m_referenceAngleB","m_localAxisD","pD","m_constant","m_lcA","m_lcB","m_lcC","m_lcD","m_mA","m_mB","m_mC","m_mD","m_iA","m_iB","m_iC","m_iD","m_JvAC","m_JvBD","m_JwA","m_JwB","m_JwC","m_JwD","getJoint1","getJoint2","setRatio","getRatio","vC","wC","vD","qC","qD","rC","rD","JvAC","JvBD","JwA","JwB","JwC","JwD","cC","cD","correctionFactor","m_linearOffset","linearOffset","angleA","angleB","m_angularOffset","m_correctionFactor","m_linearError","m_angularError","setCorrectionFactor","getCorrectionFactor","setLinearOffset","getLinearOffset","setAngularOffset","angularOffset","getAngularOffset","inv_h","m_targetA","m_beta","m_C","velocity","MIN_PULLEY_LENGTH","PulleyJointDef","groundA","groundB","m_groundAnchorA","groundAnchorA","m_groundAnchorB","groundAnchorB","m_lengthA","m_lengthB","lengthB","m_uA","m_uB","getGroundAnchorA","getGroundAnchorB","getLengthA","getLengthB","getCurrentLengthA","getCurrentLengthB","ruA","ruB","PA","PB","uA","uB","maxLength","m_maxLength","m_state","setMaxLength","getMaxLength","getLimitState","crA","crB","invM","impulse2","m_localAxis","m_springMass","m_springImpulse","m_ax","m_ay","m_sAx","m_sBx","m_sAy","m_sBy","getMaxMotorTorque","setSpringFrequencyHz","getSpringFrequencyHz","setSpringDampingRatio","getSpringDampingRatio","sAy","sBy"],"mappings":"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","file":"static/js/2.5def8d5d.chunk.js","sourcesContent":["'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react.production.min.js');\n} else {\n  module.exports = require('./cjs/react.development.js');\n}\n","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nmodule.exports = Vec2;\n\nvar common = require('../util/common');\nvar Math = require('./Math');\n\nfunction Vec2(x, y) {\n  if (!(this instanceof Vec2)) {\n    return new Vec2(x, y);\n  }\n  if (typeof x === 'undefined') {\n    this.x = 0;\n    this.y = 0;\n  } else if (typeof x === 'object') {\n    this.x = x.x;\n    this.y = x.y;\n  } else {\n    this.x = x;\n    this.y = y;\n  }\n  _ASSERT && Vec2.assert(this);\n}\n\nVec2.prototype._serialize = function() {\n  return {\n    x: this.x,\n    y: this.y\n  };\n};\n\nVec2._deserialize = function(data) {\n  var obj = Object.create(Vec2.prototype);\n  obj.x = data.x;\n  obj.y = data.y;\n  return obj;\n};\n\nVec2.zero = function() {\n  var obj = Object.create(Vec2.prototype);\n  obj.x = 0;\n  obj.y = 0;\n  return obj;\n};\n\nVec2.neo = function(x, y) {\n  var obj = Object.create(Vec2.prototype);\n  obj.x = x;\n  obj.y = y;\n  return obj;\n};\n\nVec2.clone = function(v) {\n  _ASSERT && Vec2.assert(v);\n  return Vec2.neo(v.x, v.y);\n};\n\nVec2.prototype.toString = function() {\n  return JSON.stringify(this);\n};\n\n/**\n * Does this vector contain finite coordinates?\n */\nVec2.isValid = function(v) {\n  return v && Math.isFinite(v.x) && Math.isFinite(v.y);\n}\n\nVec2.assert = function(o) {\n  if (!_ASSERT) return;\n  if (!Vec2.isValid(o)) {\n    _DEBUG && common.debug(o);\n    throw new Error('Invalid Vec2!');\n  }\n}\n\nVec2.prototype.clone = function() {\n  return Vec2.clone(this);\n}\n\n/**\n * Set this vector to all zeros.\n * \n * @returns this\n */\nVec2.prototype.setZero = function() {\n  this.x = 0.0;\n  this.y = 0.0;\n  return this;\n}\n\n/**\n * Set this vector to some specified coordinates.\n * \n * @returns this\n */\nVec2.prototype.set = function(x, y) {\n  if (typeof x === 'object') {\n    _ASSERT && Vec2.assert(x);\n    this.x = x.x;\n    this.y = x.y;\n  } else {\n    _ASSERT && Math.assert(x);\n    _ASSERT && Math.assert(y);\n    this.x = x;\n    this.y = y;\n  }\n  return this;\n}\n\n/**\n * @deprecated Use setCombine or setMul\n */\nVec2.prototype.wSet = function(a, v, b, w) {\n  if (typeof b !== 'undefined' || typeof w !== 'undefined') {\n    return this.setCombine(a, v, b, w);\n  } else {\n    return this.setMul(a, v);\n  }\n}\n\n/**\n * Set linear combination of v and w: `a * v + b * w`\n */\nVec2.prototype.setCombine = function(a, v, b, w) {\n  _ASSERT && Math.assert(a);\n  _ASSERT && Vec2.assert(v);\n  _ASSERT && Math.assert(b);\n  _ASSERT && Vec2.assert(w);\n  var x = a * v.x + b * w.x;\n  var y = a * v.y + b * w.y;\n\n  // `this` may be `w`\n  this.x = x;\n  this.y = y;\n  return this;\n}\n\nVec2.prototype.setMul = function(a, v) {\n  _ASSERT && Math.assert(a);\n  _ASSERT && Vec2.assert(v);\n  var x = a * v.x;\n  var y = a * v.y;\n\n  this.x = x;\n  this.y = y;\n  return this;\n}\n\n/**\n * Add a vector to this vector.\n * \n * @returns this\n */\nVec2.prototype.add = function(w) {\n  _ASSERT && Vec2.assert(w);\n  this.x += w.x;\n  this.y += w.y;\n  return this;\n}\n\n/**\n * @deprecated Use addCombine or addMul\n */\nVec2.prototype.wAdd = function(a, v, b, w) {\n  if (typeof b !== 'undefined' || typeof w !== 'undefined') {\n    return this.addCombine(a, v, b, w);\n  } else {\n    return this.addMul(a, v);\n  }\n}\n\n/**\n * Add linear combination of v and w: `a * v + b * w`\n */\nVec2.prototype.addCombine = function(a, v, b, w) {\n  _ASSERT && Math.assert(a);\n  _ASSERT && Vec2.assert(v);\n  _ASSERT && Math.assert(b);\n  _ASSERT && Vec2.assert(w);\n\n  var x = a * v.x + b * w.x;\n  var y = a * v.y + b * w.y;\n\n  // `this` may be `w`\n  this.x += x;\n  this.y += y;\n  return this;\n}\n\nVec2.prototype.addMul = function(a, v) {\n  _ASSERT && Math.assert(a);\n  _ASSERT && Vec2.assert(v);\n  var x = a * v.x;\n  var y = a * v.y;\n\n  this.x += x;\n  this.y += y;\n  return this;\n}\n\n/**\n * @deprecated Use subCombine or subMul\n */\nVec2.prototype.wSub = function(a, v, b, w) {\n  if (typeof b !== 'undefined' || typeof w !== 'undefined') {\n    return this.subCombine(a, v, b, w);\n  } else {\n    return this.subMul(a, v);\n  }}\n\n/**\n * Subtract linear combination of v and w: `a * v + b * w`\n */\nVec2.prototype.subCombine = function(a, v, b, w) {\n  _ASSERT && Math.assert(a);\n  _ASSERT && Vec2.assert(v);\n  _ASSERT && Math.assert(b);\n  _ASSERT && Vec2.assert(w);\n  var x = a * v.x + b * w.x;\n  var y = a * v.y + b * w.y;\n\n  // `this` may be `w`\n  this.x -= x;\n  this.y -= y;\n  return this;\n}\n\nVec2.prototype.subMul = function(a, v) {\n  _ASSERT && Math.assert(a);\n  _ASSERT && Vec2.assert(v);\n  var x = a * v.x;\n  var y = a * v.y;\n\n  this.x -= x;\n  this.y -= y;\n  return this;\n}\n\n/**\n * Subtract a vector from this vector\n * \n * @returns this\n */\nVec2.prototype.sub = function(w) {\n  _ASSERT && Vec2.assert(w);\n  this.x -= w.x;\n  this.y -= w.y;\n  return this;\n}\n\n/**\n * Multiply this vector by a scalar.\n * \n * @returns this\n */\nVec2.prototype.mul = function(m) {\n  _ASSERT && Math.assert(m);\n  this.x *= m;\n  this.y *= m;\n  return this;\n}\n\n/**\n * Get the length of this vector (the norm).\n * \n * For performance, use this instead of lengthSquared (if possible).\n */\nVec2.prototype.length = function() {\n  return Vec2.lengthOf(this);\n}\n\n/**\n * Get the length squared.\n */\nVec2.prototype.lengthSquared = function() {\n  return Vec2.lengthSquared(this);\n}\n\n/**\n * Convert this vector into a unit vector.\n * \n * @returns old length\n */\nVec2.prototype.normalize = function() {\n  var length = this.length();\n  if (length < Math.EPSILON) {\n    return 0.0;\n  }\n  var invLength = 1.0 / length;\n  this.x *= invLength;\n  this.y *= invLength;\n  return length;\n}\n\n/**\n * Get the length of this vector (the norm).\n *\n * For performance, use this instead of lengthSquared (if possible).\n */\nVec2.lengthOf = function(v) {\n  _ASSERT && Vec2.assert(v);\n  return Math.sqrt(v.x * v.x + v.y * v.y);\n}\n\n/**\n * Get the length squared.\n */\nVec2.lengthSquared = function(v) {\n  _ASSERT && Vec2.assert(v);\n  return v.x * v.x + v.y * v.y;\n}\n\nVec2.distance = function(v, w) {\n  _ASSERT && Vec2.assert(v);\n  _ASSERT && Vec2.assert(w);\n  var dx = v.x - w.x, dy = v.y - w.y;\n  return Math.sqrt(dx * dx + dy * dy);\n}\n\nVec2.distanceSquared = function(v, w) {\n  _ASSERT && Vec2.assert(v);\n  _ASSERT && Vec2.assert(w);\n  var dx = v.x - w.x, dy = v.y - w.y;\n  return dx * dx + dy * dy;\n}\n\nVec2.areEqual = function(v, w) {\n  _ASSERT && Vec2.assert(v);\n  _ASSERT && Vec2.assert(w);\n  return v == w || typeof w === 'object' && w !== null && v.x === w.x && v.y === w.y;\n}\n\n/**\n * Get the skew vector such that dot(skew_vec, other) == cross(vec, other)\n */\nVec2.skew = function(v) {\n  _ASSERT && Vec2.assert(v);\n  return Vec2.neo(-v.y, v.x);\n}\n\n/**\n * Perform the dot product on two vectors.\n */\nVec2.dot = function(v, w) {\n  _ASSERT && Vec2.assert(v);\n  _ASSERT && Vec2.assert(w);\n  return v.x * w.x + v.y * w.y;\n}\n\n/**\n * Perform the cross product on two vectors. In 2D this produces a scalar.\n * \n * Perform the cross product on a vector and a scalar. In 2D this produces a\n * vector.\n */\nVec2.cross = function(v, w) {\n  if (typeof w === 'number') {\n    _ASSERT && Vec2.assert(v);\n    _ASSERT && Math.assert(w);\n    return Vec2.neo(w * v.y, -w * v.x);\n\n  } else if (typeof v === 'number') {\n    _ASSERT && Math.assert(v);\n    _ASSERT && Vec2.assert(w);\n    return Vec2.neo(-v * w.y, v * w.x);\n\n  } else {\n    _ASSERT && Vec2.assert(v);\n    _ASSERT && Vec2.assert(w);\n    return v.x * w.y - v.y * w.x\n  }\n}\n\n/**\n * Returns `a + (v x w)`\n */\nVec2.addCross = function(a, v, w) {\n  if (typeof w === 'number') {\n    _ASSERT && Vec2.assert(v);\n    _ASSERT && Math.assert(w);\n    return Vec2.neo(w * v.y + a.x, -w * v.x + a.y);\n\n  } else if (typeof v === 'number') {\n    _ASSERT && Math.assert(v);\n    _ASSERT && Vec2.assert(w);\n    return Vec2.neo(-v * w.y + a.x, v * w.x + a.y);\n  }\n\n  _ASSERT && common.assert(false);\n}\n\nVec2.add = function(v, w) {\n  _ASSERT && Vec2.assert(v);\n  _ASSERT && Vec2.assert(w);\n  return Vec2.neo(v.x + w.x, v.y + w.y);\n}\n\n/**\n * @deprecated Use combine\n */\nVec2.wAdd = function(a, v, b, w) {\n  if (typeof b !== 'undefined' || typeof w !== 'undefined') {\n    return Vec2.combine(a, v, b, w);\n  } else {\n    return Vec2.mul(a, v);\n  }\n}\n\nVec2.combine = function(a, v, b, w) {\n  return Vec2.zero().setCombine(a, v, b, w);\n}\n\nVec2.sub = function(v, w) {\n  _ASSERT && Vec2.assert(v);\n  _ASSERT && Vec2.assert(w);\n  return Vec2.neo(v.x - w.x, v.y - w.y);\n}\n\nVec2.mul = function(a, b) {\n  if (typeof a === 'object') {\n    _ASSERT && Vec2.assert(a);\n    _ASSERT && Math.assert(b);\n    return Vec2.neo(a.x * b, a.y * b);\n\n  } else if (typeof b === 'object') {\n    _ASSERT && Math.assert(a);\n    _ASSERT && Vec2.assert(b);\n    return Vec2.neo(a * b.x, a * b.y);\n  }\n}\n\nVec2.prototype.neg = function() {\n  this.x = -this.x;\n  this.y = -this.y;\n  return this;\n}\n\nVec2.neg = function(v) {\n  _ASSERT && Vec2.assert(v);\n  return Vec2.neo(-v.x, -v.y);\n}\n\nVec2.abs = function(v) {\n  _ASSERT && Vec2.assert(v);\n  return Vec2.neo(Math.abs(v.x), Math.abs(v.y));\n}\n\nVec2.mid = function(v, w) {\n  _ASSERT && Vec2.assert(v);\n  _ASSERT && Vec2.assert(w);\n  return Vec2.neo((v.x + w.x) * 0.5, (v.y + w.y) * 0.5);\n}\n\nVec2.upper = function(v, w) {\n  _ASSERT && Vec2.assert(v);\n  _ASSERT && Vec2.assert(w);\n  return Vec2.neo(Math.max(v.x, w.x), Math.max(v.y, w.y));\n}\n\nVec2.lower = function(v, w) {\n  _ASSERT && Vec2.assert(v);\n  _ASSERT && Vec2.assert(w);\n  return Vec2.neo(Math.min(v.x, w.x), Math.min(v.y, w.y));\n}\n\nVec2.prototype.clamp = function(max) {\n  var lengthSqr = this.x * this.x + this.y * this.y;\n  if (lengthSqr > max * max) {\n    var invLength = Math.invSqrt(lengthSqr);\n    this.x *= invLength * max;\n    this.y *= invLength * max;\n  }\n  return this;\n}\n\nVec2.clamp = function(v, max) {\n  v = Vec2.neo(v.x, v.y);\n  v.clamp(max);\n  return v;\n}\n\n/**\n * @experimental\n */\nVec2.scaleFn = function (x, y) {\n  return function (v) {\n    return Vec2.neo(v.x * x, v.y * y);\n  };\n}\n\n/**\n * @experimental\n */\nVec2.translateFn = function(x, y) {\n  return function (v) {\n    return Vec2.neo(v.x + x, v.y + y);\n  };\n}\n","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nvar common = require('../util/common');\nvar create = require('../util/create');\nvar native = Math;\nvar math = module.exports = create(native);\n\nmath.EPSILON = 1e-9; // TODO\n\n/**\n * This function is used to ensure that a floating point number is not a NaN or\n * infinity.\n */\nmath.isFinite = function(x) {\n  return (typeof x === 'number') && isFinite(x) && !isNaN(x);\n}\n\nmath.assert = function(x) {\n  if (!_ASSERT) return;\n  if (!math.isFinite(x)) {\n    _DEBUG && common.debug(x);\n    throw new Error('Invalid Number!');\n  }\n}\n\n/**\n * TODO: This is a approximate yet fast inverse square-root.\n */\nmath.invSqrt = function(x) {\n  // TODO\n  return 1 / native.sqrt(x);\n}\n\n/**\n * Next Largest Power of 2 Given a binary integer value x, the next largest\n * power of 2 can be computed by a SWAR algorithm that recursively \"folds\" the\n * upper bits into the lower bits. This process yields a bit vector with the\n * same most significant 1 as x, but all 1's below it. Adding 1 to that value\n * yields the next largest power of 2. For a 32-bit value:\n */\nmath.nextPowerOfTwo = function(x) {\n  // TODO\n  x |= (x >> 1);\n  x |= (x >> 2);\n  x |= (x >> 4);\n  x |= (x >> 8);\n  x |= (x >> 16);\n  return x + 1;\n}\n\nmath.isPowerOfTwo = function(x) {\n  return x > 0 && (x & (x - 1)) == 0;\n}\n\nmath.mod = function(num, min, max) {\n  if (typeof min === 'undefined') {\n    max = 1, min = 0;\n  } else if (typeof max === 'undefined') {\n    max = min, min = 0;\n  }\n  if (max > min) {\n    num = (num - min) % (max - min);\n    return num + (num < 0 ? max : min);\n  } else {\n    num = (num - max) % (min - max);\n    return num + (num <= 0 ? min : max);\n  }\n};\n\nmath.clamp = function(num, min, max) {\n  if (num < min) {\n    return min;\n  } else if (num > max) {\n    return max;\n  } else {\n    return num;\n  }\n};\n\nmath.random = function(min, max) {\n  if (typeof min === 'undefined') {\n    max = 1;\n    min = 0;\n  } else if (typeof max === 'undefined') {\n    max = min;\n    min = 0;\n  }\n  return min == max ? min : native.random() * (max - min) + min;\n};\n","var _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nexports.debug = function() {\n  if (!_DEBUG) return;\n  console.log.apply(console, arguments);\n};\n\nexports.assert = function(statement, err, log) {\n  if (!_ASSERT) return;\n  if (statement) return;\n  log && console.log(log);\n  throw new Error(err);\n};","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nmodule.exports = Rot;\n\nvar common = require('../util/common');\nvar Vec2 = require('./Vec2');\nvar Math = require('./Math');\n\n// TODO merge with Transform\n\n/**\n * Initialize from an angle in radians.\n */\nfunction Rot(angle) {\n  if (!(this instanceof Rot)) {\n    return new Rot(angle);\n  }\n  if (typeof angle === 'number') {\n    this.setAngle(angle);\n  } else if (typeof angle === 'object') {\n      this.set(angle);\n  } else {\n    this.setIdentity();\n  }\n}\n\nRot.neo = function(angle) {\n  var obj = Object.create(Rot.prototype);\n  obj.setAngle(angle);\n  return obj;\n};\n\nRot.clone = function(rot) {\n  _ASSERT && Rot.assert(rot);\n  var obj = Object.create(Rot.prototype);\n  obj.s = rot.s;\n  obj.c = rot.c;\n  return obj;\n};\n\nRot.identity = function() {\n  var obj = Object.create(Rot.prototype);\n  obj.s = 0.0;\n  obj.c = 1.0;\n  return obj;\n};\n\nRot.isValid = function(o) {\n  return o && Math.isFinite(o.s) && Math.isFinite(o.c);\n}\n\nRot.assert = function(o) {\n  if (!_ASSERT) return;\n  if (!Rot.isValid(o)) {\n    _DEBUG && common.debug(o);\n    throw new Error('Invalid Rot!');\n  }\n}\n\n/**\n * Set to the identity rotation.\n */\nRot.prototype.setIdentity = function() {\n  this.s = 0.0;\n  this.c = 1.0;\n}\n\nRot.prototype.set = function(angle) {\n  if (typeof angle === 'object') {\n    _ASSERT && Rot.assert(angle);\n    this.s = angle.s;\n    this.c = angle.c;\n\n  } else {\n    _ASSERT && Math.assert(angle);\n    // TODO_ERIN optimize\n    this.s = Math.sin(angle);\n    this.c = Math.cos(angle);\n  }\n}\n\n/**\n * Set using an angle in radians.\n */\nRot.prototype.setAngle = function(angle) {\n  _ASSERT && Math.assert(angle);\n  // TODO_ERIN optimize\n  this.s = Math.sin(angle);\n  this.c = Math.cos(angle);\n};\n\n/**\n * Get the angle in radians.\n */\nRot.prototype.getAngle = function() {\n  return Math.atan2(this.s, this.c);\n}\n\n/**\n * Get the x-axis.\n */\nRot.prototype.getXAxis = function() {\n  return Vec2.neo(this.c, this.s);\n}\n\n/**\n * Get the u-axis.\n */\nRot.prototype.getYAxis = function() {\n  return Vec2.neo(-this.s, this.c);\n}\n\n/**\n * Multiply two rotations: q * r\n * \n * @returns Rot\n * \n * Rotate a vector\n * \n * @returns Vec2\n */\nRot.mul = function(rot, m) {\n  _ASSERT && Rot.assert(rot);\n  if ('c' in m && 's' in m) {\n    _ASSERT && Rot.assert(m);\n    // [qc -qs] * [rc -rs] = [qc*rc-qs*rs -qc*rs-qs*rc]\n    // [qs qc] [rs rc] [qs*rc+qc*rs -qs*rs+qc*rc]\n    // s = qs * rc + qc * rs\n    // c = qc * rc - qs * rs\n    var qr = Rot.identity();\n    qr.s = rot.s * m.c + rot.c * m.s;\n    qr.c = rot.c * m.c - rot.s * m.s;\n    return qr;\n\n  } else if ('x' in m && 'y' in m) {\n    _ASSERT && Vec2.assert(m);\n    return Vec2.neo(rot.c * m.x - rot.s * m.y, rot.s * m.x + rot.c * m.y);\n  }\n}\n\nRot.mulRot = function(rot, m) {\n  _ASSERT && Rot.assert(rot);\n  _ASSERT && Rot.assert(m);\n  // [qc -qs] * [rc -rs] = [qc*rc-qs*rs -qc*rs-qs*rc]\n  // [qs qc] [rs rc] [qs*rc+qc*rs -qs*rs+qc*rc]\n  // s = qs * rc + qc * rs\n  // c = qc * rc - qs * rs\n  var qr = Rot.identity();\n  qr.s = rot.s * m.c + rot.c * m.s;\n  qr.c = rot.c * m.c - rot.s * m.s;\n  return qr;\n}\n\nRot.mulVec2 = function(rot, m) {\n  _ASSERT && Rot.assert(rot);\n  _ASSERT && Vec2.assert(m);\n  return Vec2.neo(rot.c * m.x - rot.s * m.y, rot.s * m.x + rot.c * m.y);\n}\n\nRot.mulSub = function(rot, v, w) {\n  var x = rot.c * (v.x - w.x) - rot.s * (v.y - w.y);\n  var y = rot.s * (v.x - w.x) + rot.c * (v.y - w.y);\n  return Vec2.neo(x, y);\n}\n\n/**\n * Transpose multiply two rotations: qT * r\n * \n * @returns Rot\n * \n * Inverse rotate a vector\n * \n * @returns Vec2\n */\nRot.mulT = function(rot, m) {\n  if ('c' in m && 's' in m) {\n    _ASSERT && Rot.assert(m);\n    // [ qc qs] * [rc -rs] = [qc*rc+qs*rs -qc*rs+qs*rc]\n    // [-qs qc] [rs rc] [-qs*rc+qc*rs qs*rs+qc*rc]\n    // s = qc * rs - qs * rc\n    // c = qc * rc + qs * rs\n    var qr = Rot.identity();\n    qr.s = rot.c * m.s - rot.s * m.c;\n    qr.c = rot.c * m.c + rot.s * m.s;\n    return qr;\n\n  } else if ('x' in m && 'y' in m) {\n    _ASSERT && Vec2.assert(m);\n    return Vec2.neo(rot.c * m.x + rot.s * m.y, -rot.s * m.x + rot.c * m.y);\n  }\n}\n\nRot.mulTRot = function(rot, m) {\n  _ASSERT && Rot.assert(m);\n  // [ qc qs] * [rc -rs] = [qc*rc+qs*rs -qc*rs+qs*rc]\n  // [-qs qc] [rs rc] [-qs*rc+qc*rs qs*rs+qc*rc]\n  // s = qc * rs - qs * rc\n  // c = qc * rc + qs * rs\n  var qr = Rot.identity();\n  qr.s = rot.c * m.s - rot.s * m.c;\n  qr.c = rot.c * m.c + rot.s * m.s;\n  return qr;\n}\n\nRot.mulTVec2 = function(rot, m) {\n  _ASSERT && Vec2.assert(m);\n  return Vec2.neo(rot.c * m.x + rot.s * m.y, -rot.s * m.x + rot.c * m.y);\n}\n","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\n// TODO merge with World options?\n\nvar Settings = exports;\n\n/**\n * Tuning constants based on meters-kilograms-seconds (MKS) units.\n */\n\n// Collision\n/**\n * The maximum number of contact points between two convex shapes. Do not change\n * this value.\n */\nSettings.maxManifoldPoints = 2;\n\n/**\n * The maximum number of vertices on a convex polygon. You cannot increase this\n * too much because BlockAllocator has a maximum object size.\n */\nSettings.maxPolygonVertices = 12;\n\n/**\n * This is used to fatten AABBs in the dynamic tree. This allows proxies to move\n * by a small amount without triggering a tree adjustment. This is in meters.\n */\nSettings.aabbExtension = 0.1;\n\n/**\n * This is used to fatten AABBs in the dynamic tree. This is used to predict the\n * future position based on the current displacement. This is a dimensionless\n * multiplier.\n */\nSettings.aabbMultiplier = 2.0;\n\n/**\n * A small length used as a collision and constraint tolerance. Usually it is\n * chosen to be numerically significant, but visually insignificant.\n */\nSettings.linearSlop = 0.005;\nSettings.linearSlopSquared = Settings.linearSlop * Settings.linearSlop;\n\n/**\n * A small angle used as a collision and constraint tolerance. Usually it is\n * chosen to be numerically significant, but visually insignificant.\n */\nSettings.angularSlop = (2.0 / 180.0 * Math.PI);\n\n/**\n * The radius of the polygon/edge shape skin. This should not be modified.\n * Making this smaller means polygons will have an insufficient buffer for\n * continuous collision. Making it larger may create artifacts for vertex\n * collision.\n */\nSettings.polygonRadius = (2.0 * Settings.linearSlop);\n\n/**\n * Maximum number of sub-steps per contact in continuous physics simulation.\n */\nSettings.maxSubSteps = 8;\n\n// Dynamics\n\n/**\n * Maximum number of contacts to be handled to solve a TOI impact.\n */\nSettings.maxTOIContacts = 32;\n\n/**\n * Maximum iterations to solve a TOI.\n */\nSettings.maxTOIIterations = 20;\n\n/**\n * Maximum iterations to find Distance.\n */\nSettings.maxDistnceIterations = 20;\n\n/**\n * A velocity threshold for elastic collisions. Any collision with a relative\n * linear velocity below this threshold will be treated as inelastic.\n */\nSettings.velocityThreshold = 1.0;\n\n/**\n * The maximum linear position correction used when solving constraints. This\n * helps to prevent overshoot.\n */\nSettings.maxLinearCorrection = 0.2;\n\n/**\n * The maximum angular position correction used when solving constraints. This\n * helps to prevent overshoot.\n */\nSettings.maxAngularCorrection = (8.0 / 180.0 * Math.PI);\n\n/**\n * The maximum linear velocity of a body. This limit is very large and is used\n * to prevent numerical problems. You shouldn't need to adjust this.\n */\nSettings.maxTranslation = 2.0;\nSettings.maxTranslationSquared = (Settings.maxTranslation * Settings.maxTranslation);\n\n/**\n * The maximum angular velocity of a body. This limit is very large and is used\n * to prevent numerical problems. You shouldn't need to adjust this.\n */\nSettings.maxRotation = (0.5 * Math.PI)\nSettings.maxRotationSquared = (Settings.maxRotation * Settings.maxRotation)\n\n/**\n * This scale factor controls how fast overlap is resolved. Ideally this would\n * be 1 so that overlap is removed in one time step. However using values close\n * to 1 often lead to overshoot.\n */\nSettings.baumgarte = 0.2;\nSettings.toiBaugarte = 0.75;\n\n// Sleep\n\n/**\n * The time that a body must be still before it will go to sleep.\n */\nSettings.timeToSleep = 0.5;\n\n/**\n * A body cannot sleep if its linear velocity is above this tolerance.\n */\nSettings.linearSleepTolerance = 0.01;\n\nSettings.linearSleepToleranceSqr = Math.pow(Settings.linearSleepTolerance, 2);\n\n/**\n * A body cannot sleep if its angular velocity is above this tolerance.\n */\nSettings.angularSleepTolerance = (2.0 / 180.0 * Math.PI);\n\nSettings.angularSleepToleranceSqr = Math.pow(Settings.angularSleepTolerance, 2);\n\n","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nmodule.exports = Transform;\n\nvar common = require('../util/common');\nvar Vec2 = require('./Vec2');\nvar Rot = require('./Rot');\n\n// TODO merge with Rot\n\n/**\n * A transform contains translation and rotation. It is used to represent the\n * position and orientation of rigid frames. Initialize using a position vector\n * and a rotation.\n *\n * @prop {Vec2} position\n * @prop {Rot} rotation\n */\nfunction Transform(position, rotation) {\n  if (!(this instanceof Transform)) {\n    return new Transform(position, rotation);\n  }\n  this.p = Vec2.zero();\n  this.q = Rot.identity();\n  if (typeof position !== 'undefined') {\n    this.p.set(position);\n  }\n  if (typeof rotation !== 'undefined') {\n    this.q.set(rotation);\n  }\n};\n\nTransform.clone = function(xf) {\n  var obj = Object.create(Transform.prototype);\n  obj.p = Vec2.clone(xf.p);\n  obj.q = Rot.clone(xf.q);\n  return obj;\n};\n\nTransform.neo = function(position, rotation) {\n  var obj = Object.create(Transform.prototype);\n  obj.p = Vec2.clone(position);\n  obj.q = Rot.clone(rotation);\n  return obj;\n};\n\nTransform.identity = function() {\n  var obj = Object.create(Transform.prototype);\n  obj.p = Vec2.zero();\n  obj.q = Rot.identity();\n  return obj;\n};\n\n/**\n * Set this to the identity transform.\n */\nTransform.prototype.setIdentity = function() {\n  this.p.setZero();\n  this.q.setIdentity();\n}\n\n/**\n * Set this based on the position and angle.\n */\nTransform.prototype.set = function(a, b) {\n  if (typeof b === 'undefined') {\n    this.p.set(a.p);\n    this.q.set(a.q);\n  } else {\n    this.p.set(a);\n    this.q.set(b);\n  }\n}\n\nTransform.isValid = function(o) {\n  return o && Vec2.isValid(o.p) && Rot.isValid(o.q);\n}\n\nTransform.assert = function(o) {\n  if (!_ASSERT) return;\n  if (!Transform.isValid(o)) {\n    _DEBUG && common.debug(o);\n    throw new Error('Invalid Transform!');\n  }\n}\n\n/**\n * @param {Transform} a\n * @param {Vec2} b\n * @returns {Vec2}\n *\n * @param {Transform} a\n * @param {Transform} b\n * @returns {Transform}\n */\nTransform.mul = function(a, b) {\n  _ASSERT && Transform.assert(a);\n  if (Array.isArray(b)) {\n    var arr = [];\n    for (var i = 0; i < b.length; i++) {\n      arr[i] = Transform.mul(a, b[i]);\n    }\n    return arr;\n\n  } else if ('x' in b && 'y' in b) {\n    _ASSERT && Vec2.assert(b);\n    var x = (a.q.c * b.x - a.q.s * b.y) + a.p.x;\n    var y = (a.q.s * b.x + a.q.c * b.y) + a.p.y;\n    return Vec2.neo(x, y);\n\n  } else if ('p' in b && 'q' in b) {\n    _ASSERT && Transform.assert(b);\n    // v2 = A.q.Rot(B.q.Rot(v1) + B.p) + A.p\n    // = (A.q * B.q).Rot(v1) + A.q.Rot(B.p) + A.p\n    var xf = Transform.identity();\n    xf.q = Rot.mulRot(a.q, b.q);\n    xf.p = Vec2.add(Rot.mulVec2(a.q, b.p), a.p);\n    return xf;\n  }\n}\n\n/**\n * @deprecated Use mulFn instead.\n */\nTransform.mulAll = function(a, b) {\n  _ASSERT && Transform.assert(a);\n  var arr = [];\n  for (var i = 0; i < b.length; i++) {\n    arr[i] = Transform.mul(a, b[i]);\n  }\n  return arr;\n}\n\n/**\n * @experimental\n */\nTransform.mulFn = function(a) {\n  _ASSERT && Transform.assert(a);\n  return function(b) {\n    return Transform.mul(a, b);\n  };\n}\n\nTransform.mulVec2 = function(a, b) {\n  _ASSERT && Transform.assert(a);\n  _ASSERT && Vec2.assert(b);\n  var x = (a.q.c * b.x - a.q.s * b.y) + a.p.x;\n  var y = (a.q.s * b.x + a.q.c * b.y) + a.p.y;\n  return Vec2.neo(x, y);\n}\n\nTransform.mulXf = function(a, b) {\n  _ASSERT && Transform.assert(a);\n  _ASSERT && Transform.assert(b);\n  // v2 = A.q.Rot(B.q.Rot(v1) + B.p) + A.p\n  // = (A.q * B.q).Rot(v1) + A.q.Rot(B.p) + A.p\n  var xf = Transform.identity();\n  xf.q = Rot.mulRot(a.q, b.q);\n  xf.p = Vec2.add(Rot.mulVec2(a.q, b.p), a.p);\n  return xf;\n}\n\n/**\n * @param {Transform} a\n * @param {Vec2} b\n * @returns {Vec2}\n *\n * @param {Transform} a\n * @param {Transform} b\n * @returns {Transform}\n */\nTransform.mulT = function(a, b) {\n  _ASSERT && Transform.assert(a);\n  if ('x' in b && 'y' in b) {\n    _ASSERT && Vec2.assert(b)\n    var px = b.x - a.p.x;\n    var py = b.y - a.p.y;\n    var x = (a.q.c * px + a.q.s * py);\n    var y = (-a.q.s * px + a.q.c * py);\n    return Vec2.neo(x, y);\n\n  } else if ('p' in b && 'q' in b) {\n    _ASSERT && Transform.assert(b);\n    // v2 = A.q' * (B.q * v1 + B.p - A.p)\n    // = A.q' * B.q * v1 + A.q' * (B.p - A.p)\n    var xf = Transform.identity();\n    xf.q.set(Rot.mulTRot(a.q, b.q));\n    xf.p.set(Rot.mulTVec2(a.q, Vec2.sub(b.p, a.p)));\n    return xf;\n  }\n}\n\nTransform.mulTVec2 = function(a, b) {\n  _ASSERT && Transform.assert(a);\n  _ASSERT && Vec2.assert(b)\n  var px = b.x - a.p.x;\n  var py = b.y - a.p.y;\n  var x = (a.q.c * px + a.q.s * py);\n  var y = (-a.q.s * px + a.q.c * py);\n  return Vec2.neo(x, y);\n}\n\nTransform.mulTXf = function(a, b) {\n  _ASSERT && Transform.assert(a);\n  _ASSERT && Transform.assert(b);\n  // v2 = A.q' * (B.q * v1 + B.p - A.p)\n  // = A.q' * B.q * v1 + A.q' * (B.p - A.p)\n  var xf = Transform.identity();\n  xf.q.set(Rot.mulTRot(a.q, b.q));\n  xf.p.set(Rot.mulTVec2(a.q, Vec2.sub(b.p, a.p)));\n  return xf;\n}\n","if (typeof Object.create == 'function') {\n  module.exports = function(proto, props) {\n    return Object.create.call(Object, proto, props);\n  };\n} else {\n  module.exports = function(proto, props) {\n    if (props)\n      throw Error('Second argument is not supported!');\n    if (typeof proto !== 'object' || proto === null)\n      throw Error('Invalid prototype!');\n    noop.prototype = proto;\n    return new noop;\n  };\n  function noop() {\n  }\n}\n","var _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nmodule.exports = function(to, from) {\n  if (to === null || typeof to === 'undefined') {\n    to = {};\n  }\n\n  for ( var key in from) {\n    if (from.hasOwnProperty(key) && typeof to[key] === 'undefined') {\n      to[key] = from[key];\n    }\n  }\n\n  if (typeof Object.getOwnPropertySymbols === 'function') {\n    var symbols = Object.getOwnPropertySymbols(from);\n    for (var i = 0; i < symbols.length; i++) {\n      var symbol = symbols[i];\n      if (from.propertyIsEnumerable(symbol) && typeof to[key] === 'undefined') {\n        to[symbol] = from[symbol];\n      }\n    }\n  }\n  return to;\n};\n","exports.internal = {};\n\nexports.Serializer = require('./serializer');\n\nexports.Math = require('./common/Math');\nexports.Vec2 = require('./common/Vec2');\nexports.Vec3 = require('./common/Vec3');\nexports.Mat22 = require('./common/Mat22');\nexports.Mat33 = require('./common/Mat33');\nexports.Transform = require('./common/Transform');\nexports.Rot = require('./common/Rot');\n\nexports.AABB = require('./collision/AABB');\n\nexports.Shape = require('./Shape');\nexports.Fixture = require('./Fixture');\nexports.Body = require('./Body');\nexports.Contact = require('./Contact');\nexports.Joint = require('./Joint');\nexports.World = require('./World');\n\nexports.Circle = require('./shape/CircleShape');\nexports.Edge = require('./shape/EdgeShape');\nexports.Polygon = require('./shape/PolygonShape');\nexports.Chain = require('./shape/ChainShape');\nexports.Box = require('./shape/BoxShape');\n\nrequire('./shape/CollideCircle');\nrequire('./shape/CollideEdgeCircle');\nexports.internal.CollidePolygons = require('./shape/CollidePolygon');\nrequire('./shape/CollideCirclePolygone');\nrequire('./shape/CollideEdgePolygon');\n\nexports.DistanceJoint = require('./joint/DistanceJoint');\nexports.FrictionJoint = require('./joint/FrictionJoint');\nexports.GearJoint = require('./joint/GearJoint');\nexports.MotorJoint = require('./joint/MotorJoint');\nexports.MouseJoint = require('./joint/MouseJoint');\nexports.PrismaticJoint = require('./joint/PrismaticJoint');\nexports.PulleyJoint = require('./joint/PulleyJoint');\nexports.RevoluteJoint = require('./joint/RevoluteJoint');\nexports.RopeJoint = require('./joint/RopeJoint');\nexports.WeldJoint = require('./joint/WeldJoint');\nexports.WheelJoint = require('./joint/WheelJoint');\n\nexports.internal.Sweep = require('./common/Sweep');\nexports.internal.stats = require('./common/stats');\nexports.internal.Manifold = require('./Manifold');\nexports.internal.Distance = require('./collision/Distance');\nexports.internal.TimeOfImpact = require('./collision/TimeOfImpact');\nexports.internal.DynamicTree = require('./collision/DynamicTree');\nexports.internal.Settings = require('./Settings');\n","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nmodule.exports = Sweep;\n\nvar common = require('../util/common');\nvar Math = require('./Math');\nvar Vec2 = require('./Vec2');\nvar Rot = require('./Rot');\nvar Transform = require('./Transform');\n\n/**\n * This describes the motion of a body/shape for TOI computation. Shapes are\n * defined with respect to the body origin, which may not coincide with the\n * center of mass. However, to support dynamics we must interpolate the center\n * of mass position.\n * \n * @prop {Vec2} localCenter Local center of mass position\n * @prop {Vec2} c World center position\n * @prop {float} a World angle\n * @prop {float} alpha0 Fraction of the current time step in the range [0,1], c0\n *       and a0 are c and a at alpha0.\n */\nfunction Sweep(c, a) {\n  _ASSERT && common.assert(typeof c === 'undefined');\n  _ASSERT && common.assert(typeof a === 'undefined');\n  this.localCenter = Vec2.zero();\n  this.c = Vec2.zero();\n  this.a = 0;\n  this.alpha0 = 0;\n  this.c0 = Vec2.zero();\n  this.a0 = 0;\n}\n\nSweep.prototype.setTransform = function(xf) {\n  var c = Transform.mulVec2(xf, this.localCenter);\n  this.c.set(c);\n  this.c0.set(c);\n\n  this.a = xf.q.getAngle();\n  this.a0 = xf.q.getAngle();\n};\n\nSweep.prototype.setLocalCenter = function(localCenter, xf) {\n  this.localCenter.set(localCenter);\n\n  var c = Transform.mulVec2(xf, this.localCenter);\n  this.c.set(c);\n  this.c0.set(c);\n};\n\n/**\n * Get the interpolated transform at a specific time.\n * \n * @param xf\n * @param beta A factor in [0,1], where 0 indicates alpha0\n */\nSweep.prototype.getTransform = function(xf, beta) {\n  beta = typeof beta === 'undefined' ? 0 : beta;\n  xf.q.setAngle((1.0 - beta) * this.a0 + beta * this.a);\n  xf.p.setCombine((1.0 - beta), this.c0, beta, this.c);\n\n  // shift to origin\n  xf.p.sub(Rot.mulVec2(xf.q, this.localCenter));\n};\n\n/**\n * Advance the sweep forward, yielding a new initial state.\n * \n * @param {float} alpha The new initial time\n */\nSweep.prototype.advance = function(alpha) {\n  _ASSERT && common.assert(this.alpha0 < 1.0);\n  var beta = (alpha - this.alpha0) / (1.0 - this.alpha0);\n  this.c0.setCombine(beta, this.c, 1 - beta, this.c0);\n  this.a0 = beta * this.a + (1 - beta) * this.a0;\n  this.alpha0 = alpha;\n};\n\nSweep.prototype.forward = function() {\n  this.a0 = this.a;\n  this.c0.set(this.c);\n};\n\n/**\n * normalize the angles in radians to be between -pi and pi.\n */\nSweep.prototype.normalize = function() {\n  var a0 = Math.mod(this.a0, -Math.PI, +Math.PI);\n  this.a -= this.a0 - a0;\n  this.a0 = a0;\n};\n\nSweep.prototype.clone = function() {\n  var clone = new Sweep();\n  clone.localCenter.set(this.localCenter);\n  clone.alpha0 = this.alpha0;\n  clone.a0 = this.a0;\n  clone.a = this.a;\n  clone.c0.set(this.c0);\n  clone.c.set(this.c);\n  return clone;\n};\n\nSweep.prototype.set = function(that) {\n  this.localCenter.set(that.localCenter);\n  this.alpha0 = that.alpha0;\n  this.a0 = that.a0;\n  this.a = that.a;\n  this.c0.set(that.c0);\n  this.c.set(that.c);\n};\n","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nmodule.exports = Mat22;\n\nvar common = require('../util/common');\nvar Math = require('./Math');\nvar Vec2 = require('./Vec2');\n\n/**\n * A 2-by-2 matrix. Stored in column-major order.\n */\nfunction Mat22(a, b, c, d) {\n  if (typeof a === 'object' && a !== null) {\n    this.ex = Vec2.clone(a);\n    this.ey = Vec2.clone(b);\n  } else if (typeof a === 'number') {\n    this.ex = Vec2.neo(a, c);\n    this.ey = Vec2.neo(b, d)\n  } else {\n    this.ex = Vec2.zero();\n    this.ey = Vec2.zero()\n  }\n};\n\nMat22.prototype.toString = function() {\n  return JSON.stringify(this);\n};\n\nMat22.isValid = function(o) {\n  return o && Vec2.isValid(o.ex) && Vec2.isValid(o.ey);\n};\n\nMat22.assert = function(o) {\n  if (!_ASSERT) return;\n  if (!Mat22.isValid(o)) {\n    _DEBUG && common.debug(o);\n    throw new Error('Invalid Mat22!');\n  }\n};\n\nMat22.prototype.set = function(a, b, c, d) {\n  if (typeof a === 'number' && typeof b === 'number' && typeof c === 'number'\n      && typeof d === 'number') {\n    this.ex.set(a, c);\n    this.ey.set(b, d);\n\n  } else if (typeof a === 'object' && typeof b === 'object') {\n    this.ex.set(a);\n    this.ey.set(b);\n\n  } else if (typeof a === 'object') {\n    _ASSERT && Mat22.assert(a);\n    this.ex.set(a.ex);\n    this.ey.set(a.ey);\n\n  } else {\n    _ASSERT && common.assert(false);\n  }\n}\n\nMat22.prototype.setIdentity = function() {\n  this.ex.x = 1.0;\n  this.ey.x = 0.0;\n  this.ex.y = 0.0;\n  this.ey.y = 1.0;\n}\n\nMat22.prototype.setZero = function() {\n  this.ex.x = 0.0;\n  this.ey.x = 0.0;\n  this.ex.y = 0.0;\n  this.ey.y = 0.0;\n}\n\nMat22.prototype.getInverse = function() {\n  var a = this.ex.x;\n  var b = this.ey.x;\n  var c = this.ex.y;\n  var d = this.ey.y;\n  var det = a * d - b * c;\n  if (det != 0.0) {\n    det = 1.0 / det;\n  }\n  var imx = new Mat22();\n  imx.ex.x = det * d;\n  imx.ey.x = -det * b;\n  imx.ex.y = -det * c;\n  imx.ey.y = det * a;\n  return imx;\n}\n\n/**\n * Solve A * x = b, where b is a column vector. This is more efficient than\n * computing the inverse in one-shot cases.\n */\nMat22.prototype.solve = function(v) {\n  _ASSERT && Vec2.assert(v);\n  var a = this.ex.x;\n  var b = this.ey.x;\n  var c = this.ex.y;\n  var d = this.ey.y;\n  var det = a * d - b * c;\n  if (det != 0.0) {\n    det = 1.0 / det;\n  }\n  var w = Vec2.zero();\n  w.x = det * (d * v.x - b * v.y);\n  w.y = det * (a * v.y - c * v.x);\n  return w;\n}\n\n/**\n * Multiply a matrix times a vector. If a rotation matrix is provided, then this\n * transforms the vector from one frame to another.\n */\nMat22.mul = function(mx, v) {\n  if (v && 'x' in v && 'y' in v) {\n    _ASSERT && Vec2.assert(v);\n    var x = mx.ex.x * v.x + mx.ey.x * v.y;\n    var y = mx.ex.y * v.x + mx.ey.y * v.y;\n    return Vec2.neo(x, y);\n\n  } else if (v && 'ex' in v && 'ey' in v) { // Mat22\n    _ASSERT && Mat22.assert(v);\n    return new Mat22(Vec2.mul(mx, v.ex), Vec2.mul(mx, v.ey));\n  }\n\n  _ASSERT && common.assert(false);\n}\n\nMat22.mulVec2 = function(mx, v) {\n  _ASSERT && Vec2.assert(v);\n  var x = mx.ex.x * v.x + mx.ey.x * v.y;\n  var y = mx.ex.y * v.x + mx.ey.y * v.y;\n  return Vec2.neo(x, y);\n}\n\nMat22.mulMat22 = function(mx, v) {\n  _ASSERT && Mat22.assert(v);\n  return new Mat22(Vec2.mul(mx, v.ex), Vec2.mul(mx, v.ey));\n  _ASSERT && common.assert(false);\n}\n\n/**\n * Multiply a matrix transpose times a vector. If a rotation matrix is provided,\n * then this transforms the vector from one frame to another (inverse\n * transform).\n */\nMat22.mulT = function(mx, v) {\n  if (v && 'x' in v && 'y' in v) { // Vec2\n    _ASSERT && Vec2.assert(v);\n    return Vec2.neo(Vec2.dot(v, mx.ex), Vec2.dot(v, mx.ey));\n\n  } else if (v && 'ex' in v && 'ey' in v) { // Mat22\n    _ASSERT && Mat22.assert(v);\n    var c1 = Vec2.neo(Vec2.dot(mx.ex, v.ex), Vec2.dot(mx.ey, v.ex));\n    var c2 = Vec2.neo(Vec2.dot(mx.ex, v.ey), Vec2.dot(mx.ey, v.ey));\n    return new Mat22(c1, c2);\n  }\n\n  _ASSERT && common.assert(false);\n}\n\nMat22.mulTVec2 = function(mx, v) {\n  _ASSERT && Mat22.assert(mx);\n  _ASSERT && Vec2.assert(v);\n  return Vec2.neo(Vec2.dot(v, mx.ex), Vec2.dot(v, mx.ey));\n}\n\nMat22.mulTMat22 = function(mx, v) {\n  _ASSERT && Mat22.assert(mx);\n  _ASSERT && Mat22.assert(v);\n  var c1 = Vec2.neo(Vec2.dot(mx.ex, v.ex), Vec2.dot(mx.ey, v.ex));\n  var c2 = Vec2.neo(Vec2.dot(mx.ex, v.ey), Vec2.dot(mx.ey, v.ey));\n  return new Mat22(c1, c2);\n}\n\nMat22.abs = function(mx) {\n  _ASSERT && Mat22.assert(mx);\n  return new Mat22(Vec2.abs(mx.ex), Vec2.abs(mx.ey));\n}\n\nMat22.add = function(mx1, mx2) {\n  _ASSERT && Mat22.assert(mx1);\n  _ASSERT && Mat22.assert(mx2);\n  return new Mat22(Vec2.add(mx1.ex + mx2.ex), Vec2.add(mx1.ey + mx2.ey));\n}\n","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nmodule.exports = Vec3;\n\nvar common = require('../util/common');\nvar Math = require('./Math');\n\nfunction Vec3(x, y, z) {\n  if (!(this instanceof Vec3)) {\n    return new Vec3(x, y, z);\n  }\n  if (typeof x === 'undefined') {\n    this.x = 0, this.y = 0, this.z = 0;\n  } else if (typeof x === 'object') {\n    this.x = x.x, this.y = x.y, this.z = x.z;\n  } else {\n    this.x = x, this.y = y, this.z = z;\n  }\n  _ASSERT && Vec3.assert(this);\n};\n\nVec3.prototype._serialize = function() {\n  return {\n    x: this.x,\n    y: this.y,\n    z: this.z\n  };\n};\n\nVec3._deserialize = function(data) {\n  var obj = Object.create(Vec3.prototype);\n  obj.x = data.x;\n  obj.y = data.y;\n  obj.z = data.z;\n  return obj;\n};\n\nVec3.neo = function(x, y, z) {\n  var obj = Object.create(Vec3.prototype);\n  obj.x = x;\n  obj.y = y;\n  obj.z = z;\n  return obj;\n};\n\nVec3.clone = function(v) {\n  _ASSERT && Vec3.assert(v);\n  return Vec3.neo(v.x, v.y, v.z);\n};\n\nVec3.prototype.toString = function() {\n  return JSON.stringify(this);\n};\n\n/**\n * Does this vector contain finite coordinates?\n */\nVec3.isValid = function(v) {\n  return v && Math.isFinite(v.x) && Math.isFinite(v.y) && Math.isFinite(v.z);\n}\n\nVec3.assert = function(o) {\n  if (!_ASSERT) return;\n  if (!Vec3.isValid(o)) {\n    _DEBUG && common.debug(o);\n    throw new Error('Invalid Vec3!');\n  }\n}\n\nVec3.prototype.setZero = function() {\n  this.x = 0.0;\n  this.y = 0.0;\n  this.z = 0.0;\n  return this;\n}\n\nVec3.prototype.set = function(x, y, z) {\n  this.x = x;\n  this.y = y;\n  this.z = z;\n  return this;\n}\n\nVec3.prototype.add = function(w) {\n  this.x += w.x;\n  this.y += w.y;\n  this.z += w.z;\n  return this;\n}\n\nVec3.prototype.sub = function(w) {\n  this.x -= w.x;\n  this.y -= w.y;\n  this.z -= w.z;\n  return this;\n}\n\nVec3.prototype.mul = function(m) {\n  this.x *= m;\n  this.y *= m;\n  this.z *= m;\n  return this;\n}\n\nVec3.areEqual = function(v, w) {\n  _ASSERT && Vec3.assert(v);\n  _ASSERT && Vec3.assert(w);\n  return v == w ||\n    typeof v === 'object' && v !== null &&\n    typeof w === 'object' && w !== null &&\n    v.x === w.x && v.y === w.y && v.z === w.z;\n}\n\n/**\n * Perform the dot product on two vectors.\n */\nVec3.dot = function(v, w) {\n  return v.x * w.x + v.y * w.y + v.z * w.z;\n}\n\n/**\n * Perform the cross product on two vectors. In 2D this produces a scalar.\n */\nVec3.cross = function(v, w) {\n  return new Vec3(\n    v.y * w.z - v.z * w.y,\n    v.z * w.x - v.x * w.z,\n    v.x * w.y - v.y * w.x\n  );\n}\n\nVec3.add = function(v, w) {\n  return new Vec3(v.x + w.x, v.y + w.y, v.z + w.z);\n}\n\nVec3.sub = function(v, w) {\n  return new Vec3(v.x - w.x, v.y - w.y, v.z - w.z);\n}\n\nVec3.mul = function(v, m) {\n  return new Vec3(m * v.x, m * v.y, m * v.z);\n}\n\nVec3.prototype.neg = function() {\n  this.x = -this.x;\n  this.y = -this.y;\n  this.z = -this.z;\n  return this;\n}\n\nVec3.neg = function(v) {\n  return new Vec3(-v.x, -v.y, -v.z);\n}\n","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nmodule.exports = Joint;\n\nvar common = require('./util/common');\n\n/**\n * A joint edge is used to connect bodies and joints together in a joint graph\n * where each body is a node and each joint is an edge. A joint edge belongs to\n * a doubly linked list maintained in each attached body. Each joint has two\n * joint nodes, one for each attached body.\n * \n * @prop {Body} other provides quick access to the other body attached.\n * @prop {Joint} joint the joint\n * @prop {JointEdge} prev the previous joint edge in the body's joint list\n * @prop {JointEdge} next the next joint edge in the body's joint list\n */\nfunction JointEdge() {\n  this.other = null;\n  this.joint = null;\n  this.prev = null;\n  this.next = null;\n};\n\n/**\n * @typedef {Object} JointDef\n *\n * Joint definitions are used to construct joints.\n * \n * @prop userData Use this to attach application specific data to your joints.\n *       void userData;\n * @prop {boolean} collideConnected Set this flag to true if the attached bodies\n *       should collide.\n *\n * @prop {Body} bodyA The first attached body.\n * @prop {Body} bodyB The second attached body.\n */\n\nvar DEFAULTS = {\n  userData : null,\n  collideConnected : false\n};\n\n/**\n * The base joint class. Joints are used to constraint two bodies together in\n * various fashions. Some joints also feature limits and motors.\n * \n * @param {JointDef} def\n */\nfunction Joint(def, bodyA, bodyB) {\n  bodyA = def.bodyA || bodyA;\n  bodyB = def.bodyB || bodyB;\n\n  _ASSERT && common.assert(bodyA);\n  _ASSERT && common.assert(bodyB);\n  _ASSERT && common.assert(bodyA != bodyB);\n\n  this.m_type = 'unknown-joint';\n\n  this.m_bodyA = bodyA;\n  this.m_bodyB = bodyB;\n\n  this.m_index = 0;\n  this.m_collideConnected = !!def.collideConnected;\n\n  this.m_prev = null;\n  this.m_next = null;\n\n  this.m_edgeA = new JointEdge();\n  this.m_edgeB = new JointEdge();\n\n  this.m_islandFlag = false;\n  this.m_userData = def.userData;\n};\n\nJoint.TYPES = {};\n\nJoint._deserialize = function(data, context, restore) {\n  var clazz = Joint.TYPES[data.type];\n  return clazz && restore(clazz, data);\n};\n\n/**\n * Short-cut function to determine if either body is inactive.\n * \n * @returns {boolean}\n */\nJoint.prototype.isActive = function() {\n  return this.m_bodyA.isActive() && this.m_bodyB.isActive();\n}\n\n/**\n * Get the type of the concrete joint.\n * \n * @returns JointType\n */\nJoint.prototype.getType = function() {\n  return this.m_type;\n}\n\n/**\n * Get the first body attached to this joint.\n * \n * @returns Body\n */\nJoint.prototype.getBodyA = function() {\n  return this.m_bodyA;\n}\n\n/**\n * Get the second body attached to this joint.\n * \n * @returns Body\n */\nJoint.prototype.getBodyB = function() {\n  return this.m_bodyB;\n}\n\n/**\n * Get the next joint the world joint list.\n * \n * @returns Joint\n */\nJoint.prototype.getNext = function() {\n  return this.m_next;\n}\n\nJoint.prototype.getUserData = function() {\n  return this.m_userData;\n}\n\nJoint.prototype.setUserData = function(data) {\n  this.m_userData = data;\n}\n\n/**\n * Get collide connected. Note: modifying the collide connect flag won't work\n * correctly because the flag is only checked when fixture AABBs begin to\n * overlap.\n * \n * @returns {boolean}\n */\nJoint.prototype.getCollideConnected = function() {\n  return this.m_collideConnected;\n};\n\n/**\n * Get the anchor point on bodyA in world coordinates.\n * \n * @return {Vec2}\n */\nJoint.prototype.getAnchorA = function() {\n};\n\n/**\n * Get the anchor point on bodyB in world coordinates.\n * \n * @return {Vec2}\n */\nJoint.prototype.getAnchorB = function() {\n};\n\n/**\n * Get the reaction force on bodyB at the joint anchor in Newtons.\n * \n * @param {float} inv_dt\n * @return {Vec2}\n */\nJoint.prototype.getReactionForce = function(inv_dt) {\n};\n\n/**\n * Get the reaction torque on bodyB in N*m.\n * \n * @param {float} inv_dt\n * @return {float}\n */\nJoint.prototype.getReactionTorque = function(inv_dt) {\n};\n\n/**\n * Shift the origin for any points stored in world coordinates.\n * \n * @param {Vec2} newOrigin\n */\nJoint.prototype.shiftOrigin = function(newOrigin) {\n};\n\n/**\n */\nJoint.prototype.initVelocityConstraints = function(step) {\n};\n\n/**\n */\nJoint.prototype.solveVelocityConstraints = function(step) {\n};\n\n/**\n * This returns true if the position errors are within tolerance.\n */\nJoint.prototype.solvePositionConstraints = function(step) {\n};","/*!\n * Paper.js v0.12.4 - The Swiss Army Knife of Vector Graphics Scripting.\n * http://paperjs.org/\n *\n * Copyright (c) 2011 - 2019, Juerg Lehni & Jonathan Puckey\n * http://scratchdisk.com/ & https://puckey.studio/\n *\n * Distributed under the MIT license. See LICENSE file for details.\n *\n * All rights reserved.\n *\n * Date: Sun Dec 15 21:25:00 2019 +0100\n *\n ***\n *\n * Straps.js - Class inheritance library with support for bean-style accessors\n *\n * Copyright (c) 2006 - 2019 Juerg Lehni\n * http://scratchdisk.com/\n *\n * Distributed under the MIT license.\n *\n ***\n *\n * Acorn.js\n * https://marijnhaverbeke.nl/acorn/\n *\n * Acorn is a tiny, fast JavaScript parser written in JavaScript,\n * created by Marijn Haverbeke and released under an MIT license.\n *\n */\n\nvar paper = function(self, undefined) {\n\nself = self || require('./node/self.js');\nvar window = self.window,\n\tdocument = self.document;\n\nvar Base = new function() {\n\tvar hidden = /^(statics|enumerable|beans|preserve)$/,\n\t\tarray = [],\n\t\tslice = array.slice,\n\t\tcreate = Object.create,\n\t\tdescribe = Object.getOwnPropertyDescriptor,\n\t\tdefine = Object.defineProperty,\n\n\t\tforEach = array.forEach || function(iter, bind) {\n\t\t\tfor (var i = 0, l = this.length; i < l; i++) {\n\t\t\t\titer.call(bind, this[i], i, this);\n\t\t\t}\n\t\t},\n\n\t\tforIn = function(iter, bind) {\n\t\t\tfor (var i in this) {\n\t\t\t\tif (this.hasOwnProperty(i))\n\t\t\t\t\titer.call(bind, this[i], i, this);\n\t\t\t}\n\t\t},\n\n\t\tset = Object.assign || function(dst) {\n\t\t\tfor (var i = 1, l = arguments.length; i < l; i++) {\n\t\t\t\tvar src = arguments[i];\n\t\t\t\tfor (var key in src) {\n\t\t\t\t\tif (src.hasOwnProperty(key))\n\t\t\t\t\t\tdst[key] = src[key];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn dst;\n\t\t},\n\n\t\teach = function(obj, iter, bind) {\n\t\t\tif (obj) {\n\t\t\t\tvar desc = describe(obj, 'length');\n\t\t\t\t(desc && typeof desc.value === 'number' ? forEach : forIn)\n\t\t\t\t\t.call(obj, iter, bind = bind || obj);\n\t\t\t}\n\t\t\treturn bind;\n\t\t};\n\n\tfunction inject(dest, src, enumerable, beans, preserve) {\n\t\tvar beansNames = {};\n\n\t\tfunction field(name, val) {\n\t\t\tval = val || (val = describe(src, name))\n\t\t\t\t\t&& (val.get ? val : val.value);\n\t\t\tif (typeof val === 'string' && val[0] === '#')\n\t\t\t\tval = dest[val.substring(1)] || val;\n\t\t\tvar isFunc = typeof val === 'function',\n\t\t\t\tres = val,\n\t\t\t\tprev = preserve || isFunc && !val.base\n\t\t\t\t\t\t? (val && val.get ? name in dest : dest[name])\n\t\t\t\t\t\t: null,\n\t\t\t\tbean;\n\t\t\tif (!preserve || !prev) {\n\t\t\t\tif (isFunc && prev)\n\t\t\t\t\tval.base = prev;\n\t\t\t\tif (isFunc && beans !== false\n\t\t\t\t\t\t&& (bean = name.match(/^([gs]et|is)(([A-Z])(.*))$/)))\n\t\t\t\t\tbeansNames[bean[3].toLowerCase() + bean[4]] = bean[2];\n\t\t\t\tif (!res || isFunc || !res.get || typeof res.get !== 'function'\n\t\t\t\t\t\t|| !Base.isPlainObject(res)) {\n\t\t\t\t\tres = { value: res, writable: true };\n\t\t\t\t}\n\t\t\t\tif ((describe(dest, name)\n\t\t\t\t\t\t|| { configurable: true }).configurable) {\n\t\t\t\t\tres.configurable = true;\n\t\t\t\t\tres.enumerable = enumerable != null ? enumerable : !bean;\n\t\t\t\t}\n\t\t\t\tdefine(dest, name, res);\n\t\t\t}\n\t\t}\n\t\tif (src) {\n\t\t\tfor (var name in src) {\n\t\t\t\tif (src.hasOwnProperty(name) && !hidden.test(name))\n\t\t\t\t\tfield(name);\n\t\t\t}\n\t\t\tfor (var name in beansNames) {\n\t\t\t\tvar part = beansNames[name],\n\t\t\t\t\tset = dest['set' + part],\n\t\t\t\t\tget = dest['get' + part] || set && dest['is' + part];\n\t\t\t\tif (get && (beans === true || get.length === 0))\n\t\t\t\t\tfield(name, { get: get, set: set });\n\t\t\t}\n\t\t}\n\t\treturn dest;\n\t}\n\n\tfunction Base() {\n\t\tfor (var i = 0, l = arguments.length; i < l; i++) {\n\t\t\tvar src = arguments[i];\n\t\t\tif (src)\n\t\t\t\tset(this, src);\n\t\t}\n\t\treturn this;\n\t}\n\n\treturn inject(Base, {\n\t\tinject: function(src) {\n\t\t\tif (src) {\n\t\t\t\tvar statics = src.statics === true ? src : src.statics,\n\t\t\t\t\tbeans = src.beans,\n\t\t\t\t\tpreserve = src.preserve;\n\t\t\t\tif (statics !== src)\n\t\t\t\t\tinject(this.prototype, src, src.enumerable, beans, preserve);\n\t\t\t\tinject(this, statics, null, beans, preserve);\n\t\t\t}\n\t\t\tfor (var i = 1, l = arguments.length; i < l; i++)\n\t\t\t\tthis.inject(arguments[i]);\n\t\t\treturn this;\n\t\t},\n\n\t\textend: function() {\n\t\t\tvar base = this,\n\t\t\t\tctor,\n\t\t\t\tproto;\n\t\t\tfor (var i = 0, obj, l = arguments.length;\n\t\t\t\t\ti < l && !(ctor && proto); i++) {\n\t\t\t\tobj = arguments[i];\n\t\t\t\tctor = ctor || obj.initialize;\n\t\t\t\tproto = proto || obj.prototype;\n\t\t\t}\n\t\t\tctor = ctor || function() {\n\t\t\t\tbase.apply(this, arguments);\n\t\t\t};\n\t\t\tproto = ctor.prototype = proto || create(this.prototype);\n\t\t\tdefine(proto, 'constructor',\n\t\t\t\t\t{ value: ctor, writable: true, configurable: true });\n\t\t\tinject(ctor, this);\n\t\t\tif (arguments.length)\n\t\t\t\tthis.inject.apply(ctor, arguments);\n\t\t\tctor.base = base;\n\t\t\treturn ctor;\n\t\t}\n\t}).inject({\n\t\tenumerable: false,\n\n\t\tinitialize: Base,\n\n\t\tset: Base,\n\n\t\tinject: function() {\n\t\t\tfor (var i = 0, l = arguments.length; i < l; i++) {\n\t\t\t\tvar src = arguments[i];\n\t\t\t\tif (src) {\n\t\t\t\t\tinject(this, src, src.enumerable, src.beans, src.preserve);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\n\t\textend: function() {\n\t\t\tvar res = create(this);\n\t\t\treturn res.inject.apply(res, arguments);\n\t\t},\n\n\t\teach: function(iter, bind) {\n\t\t\treturn each(this, iter, bind);\n\t\t},\n\n\t\tclone: function() {\n\t\t\treturn new this.constructor(this);\n\t\t},\n\n\t\tstatics: {\n\t\t\tset: set,\n\t\t\teach: each,\n\t\t\tcreate: create,\n\t\t\tdefine: define,\n\t\t\tdescribe: describe,\n\n\t\t\tclone: function(obj) {\n\t\t\t\treturn set(new obj.constructor(), obj);\n\t\t\t},\n\n\t\t\tisPlainObject: function(obj) {\n\t\t\t\tvar ctor = obj != null && obj.constructor;\n\t\t\t\treturn ctor && (ctor === Object || ctor === Base\n\t\t\t\t\t\t|| ctor.name === 'Object');\n\t\t\t},\n\n\t\t\tpick: function(a, b) {\n\t\t\t\treturn a !== undefined ? a : b;\n\t\t\t},\n\n\t\t\tslice: function(list, begin, end) {\n\t\t\t\treturn slice.call(list, begin, end);\n\t\t\t}\n\t\t}\n\t});\n};\n\nif (typeof module !== 'undefined')\n\tmodule.exports = Base;\n\nBase.inject({\n\tenumerable: false,\n\n\ttoString: function() {\n\t\treturn this._id != null\n\t\t\t?  (this._class || 'Object') + (this._name\n\t\t\t\t? \" '\" + this._name + \"'\"\n\t\t\t\t: ' @' + this._id)\n\t\t\t: '{ ' + Base.each(this, function(value, key) {\n\t\t\t\tif (!/^_/.test(key)) {\n\t\t\t\t\tvar type = typeof value;\n\t\t\t\t\tthis.push(key + ': ' + (type === 'number'\n\t\t\t\t\t\t\t? Formatter.instance.number(value)\n\t\t\t\t\t\t\t: type === 'string' ? \"'\" + value + \"'\" : value));\n\t\t\t\t}\n\t\t\t}, []).join(', ') + ' }';\n\t},\n\n\tgetClassName: function() {\n\t\treturn this._class || '';\n\t},\n\n\timportJSON: function(json) {\n\t\treturn Base.importJSON(json, this);\n\t},\n\n\texportJSON: function(options) {\n\t\treturn Base.exportJSON(this, options);\n\t},\n\n\ttoJSON: function() {\n\t\treturn Base.serialize(this);\n\t},\n\n\tset: function(props, exclude) {\n\t\tif (props)\n\t\t\tBase.filter(this, props, exclude, this._prioritize);\n\t\treturn this;\n\t}\n}, {\n\nbeans: false,\nstatics: {\n\texports: {},\n\n\textend: function extend() {\n\t\tvar res = extend.base.apply(this, arguments),\n\t\t\tname = res.prototype._class;\n\t\tif (name && !Base.exports[name])\n\t\t\tBase.exports[name] = res;\n\t\treturn res;\n\t},\n\n\tequals: function(obj1, obj2) {\n\t\tif (obj1 === obj2)\n\t\t\treturn true;\n\t\tif (obj1 && obj1.equals)\n\t\t\treturn obj1.equals(obj2);\n\t\tif (obj2 && obj2.equals)\n\t\t\treturn obj2.equals(obj1);\n\t\tif (obj1 && obj2\n\t\t\t\t&& typeof obj1 === 'object' && typeof obj2 === 'object') {\n\t\t\tif (Array.isArray(obj1) && Array.isArray(obj2)) {\n\t\t\t\tvar length = obj1.length;\n\t\t\t\tif (length !== obj2.length)\n\t\t\t\t\treturn false;\n\t\t\t\twhile (length--) {\n\t\t\t\t\tif (!Base.equals(obj1[length], obj2[length]))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar keys = Object.keys(obj1),\n\t\t\t\t\tlength = keys.length;\n\t\t\t\tif (length !== Object.keys(obj2).length)\n\t\t\t\t\treturn false;\n\t\t\t\twhile (length--) {\n\t\t\t\t\tvar key = keys[length];\n\t\t\t\t\tif (!(obj2.hasOwnProperty(key)\n\t\t\t\t\t\t\t&& Base.equals(obj1[key], obj2[key])))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\tread: function(list, start, options, amount) {\n\t\tif (this === Base) {\n\t\t\tvar value = this.peek(list, start);\n\t\t\tlist.__index++;\n\t\t\treturn value;\n\t\t}\n\t\tvar proto = this.prototype,\n\t\t\treadIndex = proto._readIndex,\n\t\t\tbegin = start || readIndex && list.__index || 0,\n\t\t\tlength = list.length,\n\t\t\tobj = list[begin];\n\t\tamount = amount || length - begin;\n\t\tif (obj instanceof this\n\t\t\t|| options && options.readNull && obj == null && amount <= 1) {\n\t\t\tif (readIndex)\n\t\t\t\tlist.__index = begin + 1;\n\t\t\treturn obj && options && options.clone ? obj.clone() : obj;\n\t\t}\n\t\tobj = Base.create(proto);\n\t\tif (readIndex)\n\t\t\tobj.__read = true;\n\t\tobj = obj.initialize.apply(obj, begin > 0 || begin + amount < length\n\t\t\t\t? Base.slice(list, begin, begin + amount)\n\t\t\t\t: list) || obj;\n\t\tif (readIndex) {\n\t\t\tlist.__index = begin + obj.__read;\n\t\t\tvar filtered = obj.__filtered;\n\t\t\tif (filtered) {\n\t\t\t\tlist.__filtered = filtered;\n\t\t\t\tobj.__filtered = undefined;\n\t\t\t}\n\t\t\tobj.__read = undefined;\n\t\t}\n\t\treturn obj;\n\t},\n\n\tpeek: function(list, start) {\n\t\treturn list[list.__index = start || list.__index || 0];\n\t},\n\n\tremain: function(list) {\n\t\treturn list.length - (list.__index || 0);\n\t},\n\n\treadList: function(list, start, options, amount) {\n\t\tvar res = [],\n\t\t\tentry,\n\t\t\tbegin = start || 0,\n\t\t\tend = amount ? begin + amount : list.length;\n\t\tfor (var i = begin; i < end; i++) {\n\t\t\tres.push(Array.isArray(entry = list[i])\n\t\t\t\t\t? this.read(entry, 0, options)\n\t\t\t\t\t: this.read(list, i, options, 1));\n\t\t}\n\t\treturn res;\n\t},\n\n\treadNamed: function(list, name, start, options, amount) {\n\t\tvar value = this.getNamed(list, name),\n\t\t\thasValue = value !== undefined;\n\t\tif (hasValue) {\n\t\t\tvar filtered = list.__filtered;\n\t\t\tif (!filtered) {\n\t\t\t\tvar source = this.getSource(list);\n\t\t\t\tfiltered = list.__filtered = Base.create(source);\n\t\t\t\tfiltered.__unfiltered = source;\n\t\t\t}\n\t\t\tfiltered[name] = undefined;\n\t\t}\n\t\treturn this.read(hasValue ? [value] : list, start, options, amount);\n\t},\n\n\treadSupported: function(list, dest) {\n\t\tvar source = this.getSource(list),\n\t\t\tthat = this,\n\t\t\tread = false;\n\t\tif (source) {\n\t\t\tObject.keys(source).forEach(function(key) {\n\t\t\t\tif (key in dest) {\n\t\t\t\t\tvar value = that.readNamed(list, key);\n\t\t\t\t\tif (value !== undefined) {\n\t\t\t\t\t\tdest[key] = value;\n\t\t\t\t\t}\n\t\t\t\t\tread = true;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\treturn read;\n\t},\n\n\tgetSource: function(list) {\n\t\tvar source = list.__source;\n\t\tif (source === undefined) {\n\t\t\tvar arg = list.length === 1 && list[0];\n\t\t\tsource = list.__source = arg && Base.isPlainObject(arg)\n\t\t\t\t? arg : null;\n\t\t}\n\t\treturn source;\n\t},\n\n\tgetNamed: function(list, name) {\n\t\tvar source = this.getSource(list);\n\t\tif (source) {\n\t\t\treturn name ? source[name] : list.__filtered || source;\n\t\t}\n\t},\n\n\thasNamed: function(list, name) {\n\t\treturn !!this.getNamed(list, name);\n\t},\n\n\tfilter: function(dest, source, exclude, prioritize) {\n\t\tvar processed;\n\n\t\tfunction handleKey(key) {\n\t\t\tif (!(exclude && key in exclude) &&\n\t\t\t\t!(processed && key in processed)) {\n\t\t\t\tvar value = source[key];\n\t\t\t\tif (value !== undefined)\n\t\t\t\t\tdest[key] = value;\n\t\t\t}\n\t\t}\n\n\t\tif (prioritize) {\n\t\t\tvar keys = {};\n\t\t\tfor (var i = 0, key, l = prioritize.length; i < l; i++) {\n\t\t\t\tif ((key = prioritize[i]) in source) {\n\t\t\t\t\thandleKey(key);\n\t\t\t\t\tkeys[key] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tprocessed = keys;\n\t\t}\n\n\t\tObject.keys(source.__unfiltered || source).forEach(handleKey);\n\t\treturn dest;\n\t},\n\n\tisPlainValue: function(obj, asString) {\n\t\treturn Base.isPlainObject(obj) || Array.isArray(obj)\n\t\t\t\t|| asString && typeof obj === 'string';\n\t},\n\n\tserialize: function(obj, options, compact, dictionary) {\n\t\toptions = options || {};\n\n\t\tvar isRoot = !dictionary,\n\t\t\tres;\n\t\tif (isRoot) {\n\t\t\toptions.formatter = new Formatter(options.precision);\n\t\t\tdictionary = {\n\t\t\t\tlength: 0,\n\t\t\t\tdefinitions: {},\n\t\t\t\treferences: {},\n\t\t\t\tadd: function(item, create) {\n\t\t\t\t\tvar id = '#' + item._id,\n\t\t\t\t\t\tref = this.references[id];\n\t\t\t\t\tif (!ref) {\n\t\t\t\t\t\tthis.length++;\n\t\t\t\t\t\tvar res = create.call(item),\n\t\t\t\t\t\t\tname = item._class;\n\t\t\t\t\t\tif (name && res[0] !== name)\n\t\t\t\t\t\t\tres.unshift(name);\n\t\t\t\t\t\tthis.definitions[id] = res;\n\t\t\t\t\t\tref = this.references[id] = [id];\n\t\t\t\t\t}\n\t\t\t\t\treturn ref;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t\tif (obj && obj._serialize) {\n\t\t\tres = obj._serialize(options, dictionary);\n\t\t\tvar name = obj._class;\n\t\t\tif (name && !obj._compactSerialize && (isRoot || !compact)\n\t\t\t\t\t&& res[0] !== name) {\n\t\t\t\tres.unshift(name);\n\t\t\t}\n\t\t} else if (Array.isArray(obj)) {\n\t\t\tres = [];\n\t\t\tfor (var i = 0, l = obj.length; i < l; i++)\n\t\t\t\tres[i] = Base.serialize(obj[i], options, compact, dictionary);\n\t\t} else if (Base.isPlainObject(obj)) {\n\t\t\tres = {};\n\t\t\tvar keys = Object.keys(obj);\n\t\t\tfor (var i = 0, l = keys.length; i < l; i++) {\n\t\t\t\tvar key = keys[i];\n\t\t\t\tres[key] = Base.serialize(obj[key], options, compact,\n\t\t\t\t\t\tdictionary);\n\t\t\t}\n\t\t} else if (typeof obj === 'number') {\n\t\t\tres = options.formatter.number(obj, options.precision);\n\t\t} else {\n\t\t\tres = obj;\n\t\t}\n\t\treturn isRoot && dictionary.length > 0\n\t\t\t\t? [['dictionary', dictionary.definitions], res]\n\t\t\t\t: res;\n\t},\n\n\tdeserialize: function(json, create, _data, _setDictionary, _isRoot) {\n\t\tvar res = json,\n\t\t\tisFirst = !_data,\n\t\t\thasDictionary = isFirst && json && json.length\n\t\t\t\t&& json[0][0] === 'dictionary';\n\t\t_data = _data || {};\n\t\tif (Array.isArray(json)) {\n\t\t\tvar type = json[0],\n\t\t\t\tisDictionary = type === 'dictionary';\n\t\t\tif (json.length == 1 && /^#/.test(type)) {\n\t\t\t\treturn _data.dictionary[type];\n\t\t\t}\n\t\t\ttype = Base.exports[type];\n\t\t\tres = [];\n\t\t\tfor (var i = type ? 1 : 0, l = json.length; i < l; i++) {\n\t\t\t\tres.push(Base.deserialize(json[i], create, _data,\n\t\t\t\t\t\tisDictionary, hasDictionary));\n\t\t\t}\n\t\t\tif (type) {\n\t\t\t\tvar args = res;\n\t\t\t\tif (create) {\n\t\t\t\t\tres = create(type, args, isFirst || _isRoot);\n\t\t\t\t} else {\n\t\t\t\t\tres = new type(args);\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (Base.isPlainObject(json)) {\n\t\t\tres = {};\n\t\t\tif (_setDictionary)\n\t\t\t\t_data.dictionary = res;\n\t\t\tfor (var key in json)\n\t\t\t\tres[key] = Base.deserialize(json[key], create, _data);\n\t\t}\n\t\treturn hasDictionary ? res[1] : res;\n\t},\n\n\texportJSON: function(obj, options) {\n\t\tvar json = Base.serialize(obj, options);\n\t\treturn options && options.asString == false\n\t\t\t\t? json\n\t\t\t\t: JSON.stringify(json);\n\t},\n\n\timportJSON: function(json, target) {\n\t\treturn Base.deserialize(\n\t\t\t\ttypeof json === 'string' ? JSON.parse(json) : json,\n\t\t\t\tfunction(ctor, args, isRoot) {\n\t\t\t\t\tvar useTarget = isRoot && target\n\t\t\t\t\t\t\t&& target.constructor === ctor,\n\t\t\t\t\t\tobj = useTarget ? target\n\t\t\t\t\t\t\t: Base.create(ctor.prototype);\n\t\t\t\t\tif (args.length === 1 && obj instanceof Item\n\t\t\t\t\t\t\t&& (useTarget || !(obj instanceof Layer))) {\n\t\t\t\t\t\tvar arg = args[0];\n\t\t\t\t\t\tif (Base.isPlainObject(arg)) {\n\t\t\t\t\t\t\targ.insert = false;\n\t\t\t\t\t\t\tif (useTarget) {\n\t\t\t\t\t\t\t\targs = args.concat([{ insert: true }]);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t(useTarget ? obj.set : ctor).apply(obj, args);\n\t\t\t\t\tif (useTarget)\n\t\t\t\t\t\ttarget = null;\n\t\t\t\t\treturn obj;\n\t\t\t\t});\n\t},\n\n\tpush: function(list, items) {\n\t\tvar itemsLength = items.length;\n\t\tif (itemsLength < 4096) {\n\t\t\tlist.push.apply(list, items);\n\t\t} else {\n\t\t\tvar startLength = list.length;\n\t\t\tlist.length += itemsLength;\n\t\t\tfor (var i = 0; i < itemsLength; i++) {\n\t\t\t\tlist[startLength + i] = items[i];\n\t\t\t}\n\t\t}\n\t\treturn list;\n\t},\n\n\tsplice: function(list, items, index, remove) {\n\t\tvar amount = items && items.length,\n\t\t\tappend = index === undefined;\n\t\tindex = append ? list.length : index;\n\t\tif (index > list.length)\n\t\t\tindex = list.length;\n\t\tfor (var i = 0; i < amount; i++)\n\t\t\titems[i]._index = index + i;\n\t\tif (append) {\n\t\t\tBase.push(list, items);\n\t\t\treturn [];\n\t\t} else {\n\t\t\tvar args = [index, remove];\n\t\t\tif (items)\n\t\t\t\tBase.push(args, items);\n\t\t\tvar removed = list.splice.apply(list, args);\n\t\t\tfor (var i = 0, l = removed.length; i < l; i++)\n\t\t\t\tremoved[i]._index = undefined;\n\t\t\tfor (var i = index + amount, l = list.length; i < l; i++)\n\t\t\t\tlist[i]._index = i;\n\t\t\treturn removed;\n\t\t}\n\t},\n\n\tcapitalize: function(str) {\n\t\treturn str.replace(/\\b[a-z]/g, function(match) {\n\t\t\treturn match.toUpperCase();\n\t\t});\n\t},\n\n\tcamelize: function(str) {\n\t\treturn str.replace(/-(.)/g, function(match, chr) {\n\t\t\treturn chr.toUpperCase();\n\t\t});\n\t},\n\n\thyphenate: function(str) {\n\t\treturn str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n\t}\n}});\n\nvar Emitter = {\n\ton: function(type, func) {\n\t\tif (typeof type !== 'string') {\n\t\t\tBase.each(type, function(value, key) {\n\t\t\t\tthis.on(key, value);\n\t\t\t}, this);\n\t\t} else {\n\t\t\tvar types = this._eventTypes,\n\t\t\t\tentry = types && types[type],\n\t\t\t\thandlers = this._callbacks = this._callbacks || {};\n\t\t\thandlers = handlers[type] = handlers[type] || [];\n\t\t\tif (handlers.indexOf(func) === -1) {\n\t\t\t\thandlers.push(func);\n\t\t\t\tif (entry && entry.install && handlers.length === 1)\n\t\t\t\t\tentry.install.call(this, type);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t},\n\n\toff: function(type, func) {\n\t\tif (typeof type !== 'string') {\n\t\t\tBase.each(type, function(value, key) {\n\t\t\t\tthis.off(key, value);\n\t\t\t}, this);\n\t\t\treturn;\n\t\t}\n\t\tvar types = this._eventTypes,\n\t\t\tentry = types && types[type],\n\t\t\thandlers = this._callbacks && this._callbacks[type],\n\t\t\tindex;\n\t\tif (handlers) {\n\t\t\tif (!func || (index = handlers.indexOf(func)) !== -1\n\t\t\t\t\t&& handlers.length === 1) {\n\t\t\t\tif (entry && entry.uninstall)\n\t\t\t\t\tentry.uninstall.call(this, type);\n\t\t\t\tdelete this._callbacks[type];\n\t\t\t} else if (index !== -1) {\n\t\t\t\thandlers.splice(index, 1);\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t},\n\n\tonce: function(type, func) {\n\t\treturn this.on(type, function handler() {\n\t\t\tfunc.apply(this, arguments);\n\t\t\tthis.off(type, handler);\n\t\t});\n\t},\n\n\temit: function(type, event) {\n\t\tvar handlers = this._callbacks && this._callbacks[type];\n\t\tif (!handlers)\n\t\t\treturn false;\n\t\tvar args = Base.slice(arguments, 1),\n\t\t\tsetTarget = event && event.target && !event.currentTarget;\n\t\thandlers = handlers.slice();\n\t\tif (setTarget)\n\t\t\tevent.currentTarget = this;\n\t\tfor (var i = 0, l = handlers.length; i < l; i++) {\n\t\t\tif (handlers[i].apply(this, args) == false) {\n\t\t\t\tif (event && event.stop)\n\t\t\t\t\tevent.stop();\n\t\t\t\tbreak;\n\t\t   }\n\t\t}\n\t\tif (setTarget)\n\t\t\tdelete event.currentTarget;\n\t\treturn true;\n\t},\n\n\tresponds: function(type) {\n\t\treturn !!(this._callbacks && this._callbacks[type]);\n\t},\n\n\tattach: '#on',\n\tdetach: '#off',\n\tfire: '#emit',\n\n\t_installEvents: function(install) {\n\t\tvar types = this._eventTypes,\n\t\t\thandlers = this._callbacks,\n\t\t\tkey = install ? 'install' : 'uninstall';\n\t\tif (types) {\n\t\t\tfor (var type in handlers) {\n\t\t\t\tif (handlers[type].length > 0) {\n\t\t\t\t\tvar entry = types[type],\n\t\t\t\t\t\tfunc = entry && entry[key];\n\t\t\t\t\tif (func)\n\t\t\t\t\t\tfunc.call(this, type);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tstatics: {\n\t\tinject: function inject(src) {\n\t\t\tvar events = src._events;\n\t\t\tif (events) {\n\t\t\t\tvar types = {};\n\t\t\t\tBase.each(events, function(entry, key) {\n\t\t\t\t\tvar isString = typeof entry === 'string',\n\t\t\t\t\t\tname = isString ? entry : key,\n\t\t\t\t\t\tpart = Base.capitalize(name),\n\t\t\t\t\t\ttype = name.substring(2).toLowerCase();\n\t\t\t\t\ttypes[type] = isString ? {} : entry;\n\t\t\t\t\tname = '_' + name;\n\t\t\t\t\tsrc['get' + part] = function() {\n\t\t\t\t\t\treturn this[name];\n\t\t\t\t\t};\n\t\t\t\t\tsrc['set' + part] = function(func) {\n\t\t\t\t\t\tvar prev = this[name];\n\t\t\t\t\t\tif (prev)\n\t\t\t\t\t\t\tthis.off(type, prev);\n\t\t\t\t\t\tif (func)\n\t\t\t\t\t\t\tthis.on(type, func);\n\t\t\t\t\t\tthis[name] = func;\n\t\t\t\t\t};\n\t\t\t\t});\n\t\t\t\tsrc._eventTypes = types;\n\t\t\t}\n\t\t\treturn inject.base.apply(this, arguments);\n\t\t}\n\t}\n};\n\nvar PaperScope = Base.extend({\n\t_class: 'PaperScope',\n\n\tinitialize: function PaperScope() {\n\t\tpaper = this;\n\t\tthis.settings = new Base({\n\t\t\tapplyMatrix: true,\n\t\t\tinsertItems: true,\n\t\t\thandleSize: 4,\n\t\t\thitTolerance: 0\n\t\t});\n\t\tthis.project = null;\n\t\tthis.projects = [];\n\t\tthis.tools = [];\n\t\tthis._id = PaperScope._id++;\n\t\tPaperScope._scopes[this._id] = this;\n\t\tvar proto = PaperScope.prototype;\n\t\tif (!this.support) {\n\t\t\tvar ctx = CanvasProvider.getContext(1, 1) || {};\n\t\t\tproto.support = {\n\t\t\t\tnativeDash: 'setLineDash' in ctx || 'mozDash' in ctx,\n\t\t\t\tnativeBlendModes: BlendMode.nativeModes\n\t\t\t};\n\t\t\tCanvasProvider.release(ctx);\n\t\t}\n\t\tif (!this.agent) {\n\t\t\tvar user = self.navigator.userAgent.toLowerCase(),\n\t\t\t\tos = (/(darwin|win|mac|linux|freebsd|sunos)/.exec(user)||[])[0],\n\t\t\t\tplatform = os === 'darwin' ? 'mac' : os,\n\t\t\t\tagent = proto.agent = proto.browser = { platform: platform };\n\t\t\tif (platform)\n\t\t\t\tagent[platform] = true;\n\t\t\tuser.replace(\n\t\t\t\t/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\\/?\\s*([.\\d]+)(?:.*version\\/([.\\d]+))?(?:.*rv\\:v?([.\\d]+))?/g,\n\t\t\t\tfunction(match, n, v1, v2, rv) {\n\t\t\t\t\tif (!agent.chrome) {\n\t\t\t\t\t\tvar v = n === 'opera' ? v2 :\n\t\t\t\t\t\t\t\t/^(node|trident)$/.test(n) ? rv : v1;\n\t\t\t\t\t\tagent.version = v;\n\t\t\t\t\t\tagent.versionNumber = parseFloat(v);\n\t\t\t\t\t\tn = { trident: 'msie', jsdom: 'node' }[n] || n;\n\t\t\t\t\t\tagent.name = n;\n\t\t\t\t\t\tagent[n] = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t\tif (agent.chrome)\n\t\t\t\tdelete agent.webkit;\n\t\t\tif (agent.atom)\n\t\t\t\tdelete agent.chrome;\n\t\t}\n\t},\n\n\tversion: \"0.12.4\",\n\n\tgetView: function() {\n\t\tvar project = this.project;\n\t\treturn project && project._view;\n\t},\n\n\tgetPaper: function() {\n\t\treturn this;\n\t},\n\n\texecute: function(code, options) {\n\t},\n\n\tinstall: function(scope) {\n\t\tvar that = this;\n\t\tBase.each(['project', 'view', 'tool'], function(key) {\n\t\t\tBase.define(scope, key, {\n\t\t\t\tconfigurable: true,\n\t\t\t\tget: function() {\n\t\t\t\t\treturn that[key];\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\tfor (var key in this)\n\t\t\tif (!/^_/.test(key) && this[key])\n\t\t\t\tscope[key] = this[key];\n\t},\n\n\tsetup: function(element) {\n\t\tpaper = this;\n\t\tthis.project = new Project(element);\n\t\treturn this;\n\t},\n\n\tcreateCanvas: function(width, height) {\n\t\treturn CanvasProvider.getCanvas(width, height);\n\t},\n\n\tactivate: function() {\n\t\tpaper = this;\n\t},\n\n\tclear: function() {\n\t\tvar projects = this.projects,\n\t\t\ttools = this.tools;\n\t\tfor (var i = projects.length - 1; i >= 0; i--)\n\t\t\tprojects[i].remove();\n\t\tfor (var i = tools.length - 1; i >= 0; i--)\n\t\t\ttools[i].remove();\n\t},\n\n\tremove: function() {\n\t\tthis.clear();\n\t\tdelete PaperScope._scopes[this._id];\n\t},\n\n\tstatics: new function() {\n\t\tfunction handleAttribute(name) {\n\t\t\tname += 'Attribute';\n\t\t\treturn function(el, attr) {\n\t\t\t\treturn el[name](attr) || el[name]('data-paper-' + attr);\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\t_scopes: {},\n\t\t\t_id: 0,\n\n\t\t\tget: function(id) {\n\t\t\t\treturn this._scopes[id] || null;\n\t\t\t},\n\n\t\t\tgetAttribute: handleAttribute('get'),\n\t\t\thasAttribute: handleAttribute('has')\n\t\t};\n\t}\n});\n\nvar PaperScopeItem = Base.extend(Emitter, {\n\n\tinitialize: function(activate) {\n\t\tthis._scope = paper;\n\t\tthis._index = this._scope[this._list].push(this) - 1;\n\t\tif (activate || !this._scope[this._reference])\n\t\t\tthis.activate();\n\t},\n\n\tactivate: function() {\n\t\tif (!this._scope)\n\t\t\treturn false;\n\t\tvar prev = this._scope[this._reference];\n\t\tif (prev && prev !== this)\n\t\t\tprev.emit('deactivate');\n\t\tthis._scope[this._reference] = this;\n\t\tthis.emit('activate', prev);\n\t\treturn true;\n\t},\n\n\tisActive: function() {\n\t\treturn this._scope[this._reference] === this;\n\t},\n\n\tremove: function() {\n\t\tif (this._index == null)\n\t\t\treturn false;\n\t\tBase.splice(this._scope[this._list], null, this._index, 1);\n\t\tif (this._scope[this._reference] == this)\n\t\t\tthis._scope[this._reference] = null;\n\t\tthis._scope = null;\n\t\treturn true;\n\t},\n\n\tgetView: function() {\n\t\treturn this._scope.getView();\n\t}\n});\n\nvar CollisionDetection = {\n\tfindItemBoundsCollisions: function(items1, items2, tolerance) {\n\t\tfunction getBounds(items) {\n\t\t\tvar bounds = new Array(items.length);\n\t\t\tfor (var i = 0; i < items.length; i++) {\n\t\t\t\tvar rect = items[i].getBounds();\n\t\t\t\tbounds[i] = [rect.left, rect.top, rect.right, rect.bottom];\n\t\t\t}\n\t\t\treturn bounds;\n\t\t}\n\n\t\tvar bounds1 = getBounds(items1),\n\t\t\tbounds2 = !items2 || items2 === items1\n\t\t\t\t? bounds1\n\t\t\t\t: getBounds(items2);\n\t\treturn this.findBoundsCollisions(bounds1, bounds2, tolerance || 0);\n\t},\n\n\tfindCurveBoundsCollisions: function(curves1, curves2, tolerance, bothAxis) {\n\t\tfunction getBounds(curves) {\n\t\t\tvar min = Math.min,\n\t\t\t\tmax = Math.max,\n\t\t\t\tbounds = new Array(curves.length);\n\t\t\tfor (var i = 0; i < curves.length; i++) {\n\t\t\t\tvar v = curves[i];\n\t\t\t\tbounds[i] = [\n\t\t\t\t\tmin(v[0], v[2], v[4], v[6]),\n\t\t\t\t\tmin(v[1], v[3], v[5], v[7]),\n\t\t\t\t\tmax(v[0], v[2], v[4], v[6]),\n\t\t\t\t\tmax(v[1], v[3], v[5], v[7])\n\t\t\t\t];\n\t\t\t}\n\t\t\treturn bounds;\n\t\t}\n\n\t\tvar bounds1 = getBounds(curves1),\n\t\t\tbounds2 = !curves2 || curves2 === curves1\n\t\t\t\t? bounds1\n\t\t\t\t: getBounds(curves2);\n\t\tif (bothAxis) {\n\t\t\tvar hor = this.findBoundsCollisions(\n\t\t\t\t\tbounds1, bounds2, tolerance || 0, false, true),\n\t\t\t\tver = this.findBoundsCollisions(\n\t\t\t\t\tbounds1, bounds2, tolerance || 0, true, true),\n\t\t\t\tlist = [];\n\t\t\tfor (var i = 0, l = hor.length; i < l; i++) {\n\t\t\t\tlist[i] = { hor: hor[i], ver: ver[i] };\n\t\t\t}\n\t\t\treturn list;\n\t\t}\n\t\treturn this.findBoundsCollisions(bounds1, bounds2, tolerance || 0);\n\t},\n\n\tfindBoundsCollisions: function(boundsA, boundsB, tolerance,\n\t\tsweepVertical, onlySweepAxisCollisions) {\n\t\tvar self = !boundsB || boundsA === boundsB,\n\t\t\tallBounds = self ? boundsA : boundsA.concat(boundsB),\n\t\t\tlengthA = boundsA.length,\n\t\t\tlengthAll = allBounds.length;\n\n\t\tfunction binarySearch(indices, coord, value) {\n\t\t\tvar lo = 0,\n\t\t\t\thi = indices.length;\n\t\t\twhile (lo < hi) {\n\t\t\t\tvar mid = (hi + lo) >>> 1;\n\t\t\t\tif (allBounds[indices[mid]][coord] < value) {\n\t\t\t\t\tlo = mid + 1;\n\t\t\t\t} else {\n\t\t\t\t\thi = mid;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn lo - 1;\n\t\t}\n\n\t\tvar pri0 = sweepVertical ? 1 : 0,\n\t\t\tpri1 = pri0 + 2,\n\t\t\tsec0 = sweepVertical ? 0 : 1,\n\t\t\tsec1 = sec0 + 2;\n\t\tvar allIndicesByPri0 = new Array(lengthAll);\n\t\tfor (var i = 0; i < lengthAll; i++) {\n\t\t\tallIndicesByPri0[i] = i;\n\t\t}\n\t\tallIndicesByPri0.sort(function(i1, i2) {\n\t\t\treturn allBounds[i1][pri0] - allBounds[i2][pri0];\n\t\t});\n\t\tvar activeIndicesByPri1 = [],\n\t\t\tallCollisions = new Array(lengthA);\n\t\tfor (var i = 0; i < lengthAll; i++) {\n\t\t\tvar curIndex = allIndicesByPri0[i],\n\t\t\t\tcurBounds = allBounds[curIndex],\n\t\t\t\torigIndex = self ? curIndex : curIndex - lengthA,\n\t\t\t\tisCurrentA = curIndex < lengthA,\n\t\t\t\tisCurrentB = self || !isCurrentA,\n\t\t\t\tcurCollisions = isCurrentA ? [] : null;\n\t\t\tif (activeIndicesByPri1.length) {\n\t\t\t\tvar pruneCount = binarySearch(activeIndicesByPri1, pri1,\n\t\t\t\t\t\tcurBounds[pri0] - tolerance) + 1;\n\t\t\t\tactiveIndicesByPri1.splice(0, pruneCount);\n\t\t\t\tif (self && onlySweepAxisCollisions) {\n\t\t\t\t\tcurCollisions = curCollisions.concat(activeIndicesByPri1);\n\t\t\t\t\tfor (var j = 0; j < activeIndicesByPri1.length; j++) {\n\t\t\t\t\t\tvar activeIndex = activeIndicesByPri1[j];\n\t\t\t\t\t\tallCollisions[activeIndex].push(origIndex);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar curSec1 = curBounds[sec1],\n\t\t\t\t\t\tcurSec0 = curBounds[sec0];\n\t\t\t\t\tfor (var j = 0; j < activeIndicesByPri1.length; j++) {\n\t\t\t\t\t\tvar activeIndex = activeIndicesByPri1[j],\n\t\t\t\t\t\t\tactiveBounds = allBounds[activeIndex],\n\t\t\t\t\t\t\tisActiveA = activeIndex < lengthA,\n\t\t\t\t\t\t\tisActiveB = self || activeIndex >= lengthA;\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tonlySweepAxisCollisions ||\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\tisCurrentA && isActiveB ||\n\t\t\t\t\t\t\t\tisCurrentB && isActiveA\n\t\t\t\t\t\t\t) && (\n\t\t\t\t\t\t\t\tcurSec1 >= activeBounds[sec0] - tolerance &&\n\t\t\t\t\t\t\t\tcurSec0 <= activeBounds[sec1] + tolerance\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tif (isCurrentA && isActiveB) {\n\t\t\t\t\t\t\t\tcurCollisions.push(\n\t\t\t\t\t\t\t\t\tself ? activeIndex : activeIndex - lengthA);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (isCurrentB && isActiveA) {\n\t\t\t\t\t\t\t\tallCollisions[activeIndex].push(origIndex);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (isCurrentA) {\n\t\t\t\tif (boundsA === boundsB) {\n\t\t\t\t\tcurCollisions.push(curIndex);\n\t\t\t\t}\n\t\t\t\tallCollisions[curIndex] = curCollisions;\n\t\t\t}\n\t\t\tif (activeIndicesByPri1.length) {\n\t\t\t\tvar curPri1 = curBounds[pri1],\n\t\t\t\t\tindex = binarySearch(activeIndicesByPri1, pri1, curPri1);\n\t\t\t\tactiveIndicesByPri1.splice(index + 1, 0, curIndex);\n\t\t\t} else {\n\t\t\t\tactiveIndicesByPri1.push(curIndex);\n\t\t\t}\n\t\t}\n\t\tfor (var i = 0; i < allCollisions.length; i++) {\n\t\t\tvar collisions = allCollisions[i];\n\t\t\tif (collisions) {\n\t\t\t\tcollisions.sort(function(i1, i2) { return i1 - i2; });\n\t\t\t}\n\t\t}\n\t\treturn allCollisions;\n\t}\n};\n\nvar Formatter = Base.extend({\n\tinitialize: function(precision) {\n\t\tthis.precision = Base.pick(precision, 5);\n\t\tthis.multiplier = Math.pow(10, this.precision);\n\t},\n\n\tnumber: function(val) {\n\t\treturn this.precision < 16\n\t\t\t\t? Math.round(val * this.multiplier) / this.multiplier : val;\n\t},\n\n\tpair: function(val1, val2, separator) {\n\t\treturn this.number(val1) + (separator || ',') + this.number(val2);\n\t},\n\n\tpoint: function(val, separator) {\n\t\treturn this.number(val.x) + (separator || ',') + this.number(val.y);\n\t},\n\n\tsize: function(val, separator) {\n\t\treturn this.number(val.width) + (separator || ',')\n\t\t\t\t+ this.number(val.height);\n\t},\n\n\trectangle: function(val, separator) {\n\t\treturn this.point(val, separator) + (separator || ',')\n\t\t\t\t+ this.size(val, separator);\n\t}\n});\n\nFormatter.instance = new Formatter();\n\nvar Numerical = new function() {\n\n\tvar abscissas = [\n\t\t[  0.5773502691896257645091488],\n\t\t[0,0.7745966692414833770358531],\n\t\t[  0.3399810435848562648026658,0.8611363115940525752239465],\n\t\t[0,0.5384693101056830910363144,0.9061798459386639927976269],\n\t\t[  0.2386191860831969086305017,0.6612093864662645136613996,0.9324695142031520278123016],\n\t\t[0,0.4058451513773971669066064,0.7415311855993944398638648,0.9491079123427585245261897],\n\t\t[  0.1834346424956498049394761,0.5255324099163289858177390,0.7966664774136267395915539,0.9602898564975362316835609],\n\t\t[0,0.3242534234038089290385380,0.6133714327005903973087020,0.8360311073266357942994298,0.9681602395076260898355762],\n\t\t[  0.1488743389816312108848260,0.4333953941292471907992659,0.6794095682990244062343274,0.8650633666889845107320967,0.9739065285171717200779640],\n\t\t[0,0.2695431559523449723315320,0.5190961292068118159257257,0.7301520055740493240934163,0.8870625997680952990751578,0.9782286581460569928039380],\n\t\t[  0.1252334085114689154724414,0.3678314989981801937526915,0.5873179542866174472967024,0.7699026741943046870368938,0.9041172563704748566784659,0.9815606342467192506905491],\n\t\t[0,0.2304583159551347940655281,0.4484927510364468528779129,0.6423493394403402206439846,0.8015780907333099127942065,0.9175983992229779652065478,0.9841830547185881494728294],\n\t\t[  0.1080549487073436620662447,0.3191123689278897604356718,0.5152486363581540919652907,0.6872929048116854701480198,0.8272013150697649931897947,0.9284348836635735173363911,0.9862838086968123388415973],\n\t\t[0,0.2011940939974345223006283,0.3941513470775633698972074,0.5709721726085388475372267,0.7244177313601700474161861,0.8482065834104272162006483,0.9372733924007059043077589,0.9879925180204854284895657],\n\t\t[  0.0950125098376374401853193,0.2816035507792589132304605,0.4580167776572273863424194,0.6178762444026437484466718,0.7554044083550030338951012,0.8656312023878317438804679,0.9445750230732325760779884,0.9894009349916499325961542]\n\t];\n\n\tvar weights = [\n\t\t[1],\n\t\t[0.8888888888888888888888889,0.5555555555555555555555556],\n\t\t[0.6521451548625461426269361,0.3478548451374538573730639],\n\t\t[0.5688888888888888888888889,0.4786286704993664680412915,0.2369268850561890875142640],\n\t\t[0.4679139345726910473898703,0.3607615730481386075698335,0.1713244923791703450402961],\n\t\t[0.4179591836734693877551020,0.3818300505051189449503698,0.2797053914892766679014678,0.1294849661688696932706114],\n\t\t[0.3626837833783619829651504,0.3137066458778872873379622,0.2223810344533744705443560,0.1012285362903762591525314],\n\t\t[0.3302393550012597631645251,0.3123470770400028400686304,0.2606106964029354623187429,0.1806481606948574040584720,0.0812743883615744119718922],\n\t\t[0.2955242247147528701738930,0.2692667193099963550912269,0.2190863625159820439955349,0.1494513491505805931457763,0.0666713443086881375935688],\n\t\t[0.2729250867779006307144835,0.2628045445102466621806889,0.2331937645919904799185237,0.1862902109277342514260976,0.1255803694649046246346943,0.0556685671161736664827537],\n\t\t[0.2491470458134027850005624,0.2334925365383548087608499,0.2031674267230659217490645,0.1600783285433462263346525,0.1069393259953184309602547,0.0471753363865118271946160],\n\t\t[0.2325515532308739101945895,0.2262831802628972384120902,0.2078160475368885023125232,0.1781459807619457382800467,0.1388735102197872384636018,0.0921214998377284479144218,0.0404840047653158795200216],\n\t\t[0.2152638534631577901958764,0.2051984637212956039659241,0.1855383974779378137417166,0.1572031671581935345696019,0.1215185706879031846894148,0.0801580871597602098056333,0.0351194603317518630318329],\n\t\t[0.2025782419255612728806202,0.1984314853271115764561183,0.1861610000155622110268006,0.1662692058169939335532009,0.1395706779261543144478048,0.1071592204671719350118695,0.0703660474881081247092674,0.0307532419961172683546284],\n\t\t[0.1894506104550684962853967,0.1826034150449235888667637,0.1691565193950025381893121,0.1495959888165767320815017,0.1246289712555338720524763,0.0951585116824927848099251,0.0622535239386478928628438,0.0271524594117540948517806]\n\t];\n\n\tvar abs = Math.abs,\n\t\tsqrt = Math.sqrt,\n\t\tpow = Math.pow,\n\t\tlog2 = Math.log2 || function(x) {\n\t\t\treturn Math.log(x) * Math.LOG2E;\n\t\t},\n\t\tEPSILON = 1e-12,\n\t\tMACHINE_EPSILON = 1.12e-16;\n\n\tfunction clamp(value, min, max) {\n\t\treturn value < min ? min : value > max ? max : value;\n\t}\n\n\tfunction getDiscriminant(a, b, c) {\n\t\tfunction split(v) {\n\t\t\tvar x = v * 134217729,\n\t\t\t\ty = v - x,\n\t\t\t\thi = y + x,\n\t\t\t\tlo = v - hi;\n\t\t\treturn [hi, lo];\n\t\t}\n\n\t\tvar D = b * b - a * c,\n\t\t\tE = b * b + a * c;\n\t\tif (abs(D) * 3 < E) {\n\t\t\tvar ad = split(a),\n\t\t\t\tbd = split(b),\n\t\t\t\tcd = split(c),\n\t\t\t\tp = b * b,\n\t\t\t\tdp = (bd[0] * bd[0] - p + 2 * bd[0] * bd[1]) + bd[1] * bd[1],\n\t\t\t\tq = a * c,\n\t\t\t\tdq = (ad[0] * cd[0] - q + ad[0] * cd[1] + ad[1] * cd[0])\n\t\t\t\t\t\t+ ad[1] * cd[1];\n\t\t\tD = (p - q) + (dp - dq);\n\t\t}\n\t\treturn D;\n\t}\n\n\tfunction getNormalizationFactor() {\n\t\tvar norm = Math.max.apply(Math, arguments);\n\t\treturn norm && (norm < 1e-8 || norm > 1e8)\n\t\t\t\t? pow(2, -Math.round(log2(norm)))\n\t\t\t\t: 0;\n\t}\n\n\treturn {\n\t\tEPSILON: EPSILON,\n\t\tMACHINE_EPSILON: MACHINE_EPSILON,\n\t\tCURVETIME_EPSILON: 1e-8,\n\t\tGEOMETRIC_EPSILON: 1e-7,\n\t\tTRIGONOMETRIC_EPSILON: 1e-8,\n\t\tKAPPA: 4 * (sqrt(2) - 1) / 3,\n\n\t\tisZero: function(val) {\n\t\t\treturn val >= -EPSILON && val <= EPSILON;\n\t\t},\n\n\t\tisMachineZero: function(val) {\n\t\t\treturn val >= -MACHINE_EPSILON && val <= MACHINE_EPSILON;\n\t\t},\n\n\t\tclamp: clamp,\n\n\t\tintegrate: function(f, a, b, n) {\n\t\t\tvar x = abscissas[n - 2],\n\t\t\t\tw = weights[n - 2],\n\t\t\t\tA = (b - a) * 0.5,\n\t\t\t\tB = A + a,\n\t\t\t\ti = 0,\n\t\t\t\tm = (n + 1) >> 1,\n\t\t\t\tsum = n & 1 ? w[i++] * f(B) : 0;\n\t\t\twhile (i < m) {\n\t\t\t\tvar Ax = A * x[i];\n\t\t\t\tsum += w[i++] * (f(B + Ax) + f(B - Ax));\n\t\t\t}\n\t\t\treturn A * sum;\n\t\t},\n\n\t\tfindRoot: function(f, df, x, a, b, n, tolerance) {\n\t\t\tfor (var i = 0; i < n; i++) {\n\t\t\t\tvar fx = f(x),\n\t\t\t\t\tdx = fx / df(x),\n\t\t\t\t\tnx = x - dx;\n\t\t\t\tif (abs(dx) < tolerance) {\n\t\t\t\t\tx = nx;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (fx > 0) {\n\t\t\t\t\tb = x;\n\t\t\t\t\tx = nx <= a ? (a + b) * 0.5 : nx;\n\t\t\t\t} else {\n\t\t\t\t\ta = x;\n\t\t\t\t\tx = nx >= b ? (a + b) * 0.5 : nx;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn clamp(x, a, b);\n\t\t},\n\n\t\tsolveQuadratic: function(a, b, c, roots, min, max) {\n\t\t\tvar x1, x2 = Infinity;\n\t\t\tif (abs(a) < EPSILON) {\n\t\t\t\tif (abs(b) < EPSILON)\n\t\t\t\t\treturn abs(c) < EPSILON ? -1 : 0;\n\t\t\t\tx1 = -c / b;\n\t\t\t} else {\n\t\t\t\tb *= -0.5;\n\t\t\t\tvar D = getDiscriminant(a, b, c);\n\t\t\t\tif (D && abs(D) < MACHINE_EPSILON) {\n\t\t\t\t\tvar f = getNormalizationFactor(abs(a), abs(b), abs(c));\n\t\t\t\t\tif (f) {\n\t\t\t\t\t\ta *= f;\n\t\t\t\t\t\tb *= f;\n\t\t\t\t\t\tc *= f;\n\t\t\t\t\t\tD = getDiscriminant(a, b, c);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (D >= -MACHINE_EPSILON) {\n\t\t\t\t\tvar Q = D < 0 ? 0 : sqrt(D),\n\t\t\t\t\t\tR = b + (b < 0 ? -Q : Q);\n\t\t\t\t\tif (R === 0) {\n\t\t\t\t\t\tx1 = c / a;\n\t\t\t\t\t\tx2 = -x1;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tx1 = R / a;\n\t\t\t\t\t\tx2 = c / R;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar count = 0,\n\t\t\t\tboundless = min == null,\n\t\t\t\tminB = min - EPSILON,\n\t\t\t\tmaxB = max + EPSILON;\n\t\t\tif (isFinite(x1) && (boundless || x1 > minB && x1 < maxB))\n\t\t\t\troots[count++] = boundless ? x1 : clamp(x1, min, max);\n\t\t\tif (x2 !== x1\n\t\t\t\t\t&& isFinite(x2) && (boundless || x2 > minB && x2 < maxB))\n\t\t\t\troots[count++] = boundless ? x2 : clamp(x2, min, max);\n\t\t\treturn count;\n\t\t},\n\n\t\tsolveCubic: function(a, b, c, d, roots, min, max) {\n\t\t\tvar f = getNormalizationFactor(abs(a), abs(b), abs(c), abs(d)),\n\t\t\t\tx, b1, c2, qd, q;\n\t\t\tif (f) {\n\t\t\t\ta *= f;\n\t\t\t\tb *= f;\n\t\t\t\tc *= f;\n\t\t\t\td *= f;\n\t\t\t}\n\n\t\t\tfunction evaluate(x0) {\n\t\t\t\tx = x0;\n\t\t\t\tvar tmp = a * x;\n\t\t\t\tb1 = tmp + b;\n\t\t\t\tc2 = b1 * x + c;\n\t\t\t\tqd = (tmp + b1) * x + c2;\n\t\t\t\tq = c2 * x + d;\n\t\t\t}\n\n\t\t\tif (abs(a) < EPSILON) {\n\t\t\t\ta = b;\n\t\t\t\tb1 = c;\n\t\t\t\tc2 = d;\n\t\t\t\tx = Infinity;\n\t\t\t} else if (abs(d) < EPSILON) {\n\t\t\t\tb1 = b;\n\t\t\t\tc2 = c;\n\t\t\t\tx = 0;\n\t\t\t} else {\n\t\t\t\tevaluate(-(b / a) / 3);\n\t\t\t\tvar t = q / a,\n\t\t\t\t\tr = pow(abs(t), 1/3),\n\t\t\t\t\ts = t < 0 ? -1 : 1,\n\t\t\t\t\ttd = -qd / a,\n\t\t\t\t\trd = td > 0 ? 1.324717957244746 * Math.max(r, sqrt(td)) : r,\n\t\t\t\t\tx0 = x - s * rd;\n\t\t\t\tif (x0 !== x) {\n\t\t\t\t\tdo {\n\t\t\t\t\t\tevaluate(x0);\n\t\t\t\t\t\tx0 = qd === 0 ? x : x - q / qd / (1 + MACHINE_EPSILON);\n\t\t\t\t\t} while (s * x0 > s * x);\n\t\t\t\t\tif (abs(a) * x * x > abs(d / x)) {\n\t\t\t\t\t\tc2 = -d / x;\n\t\t\t\t\t\tb1 = (c2 - c) / x;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar count = Numerical.solveQuadratic(a, b1, c2, roots, min, max),\n\t\t\t\tboundless = min == null;\n\t\t\tif (isFinite(x) && (count === 0\n\t\t\t\t\t|| count > 0 && x !== roots[0] && x !== roots[1])\n\t\t\t\t\t&& (boundless || x > min - EPSILON && x < max + EPSILON))\n\t\t\t\troots[count++] = boundless ? x : clamp(x, min, max);\n\t\t\treturn count;\n\t\t}\n\t};\n};\n\nvar UID = {\n\t_id: 1,\n\t_pools: {},\n\n\tget: function(name) {\n\t\tif (name) {\n\t\t\tvar pool = this._pools[name];\n\t\t\tif (!pool)\n\t\t\t\tpool = this._pools[name] = { _id: 1 };\n\t\t\treturn pool._id++;\n\t\t} else {\n\t\t\treturn this._id++;\n\t\t}\n\t}\n};\n\nvar Point = Base.extend({\n\t_class: 'Point',\n\t_readIndex: true,\n\n\tinitialize: function Point(arg0, arg1) {\n\t\tvar type = typeof arg0,\n\t\t\treading = this.__read,\n\t\t\tread = 0;\n\t\tif (type === 'number') {\n\t\t\tvar hasY = typeof arg1 === 'number';\n\t\t\tthis._set(arg0, hasY ? arg1 : arg0);\n\t\t\tif (reading)\n\t\t\t\tread = hasY ? 2 : 1;\n\t\t} else if (type === 'undefined' || arg0 === null) {\n\t\t\tthis._set(0, 0);\n\t\t\tif (reading)\n\t\t\t\tread = arg0 === null ? 1 : 0;\n\t\t} else {\n\t\t\tvar obj = type === 'string' ? arg0.split(/[\\s,]+/) || [] : arg0;\n\t\t\tread = 1;\n\t\t\tif (Array.isArray(obj)) {\n\t\t\t\tthis._set(+obj[0], +(obj.length > 1 ? obj[1] : obj[0]));\n\t\t\t} else if ('x' in obj) {\n\t\t\t\tthis._set(obj.x || 0, obj.y || 0);\n\t\t\t} else if ('width' in obj) {\n\t\t\t\tthis._set(obj.width || 0, obj.height || 0);\n\t\t\t} else if ('angle' in obj) {\n\t\t\t\tthis._set(obj.length || 0, 0);\n\t\t\t\tthis.setAngle(obj.angle || 0);\n\t\t\t} else {\n\t\t\t\tthis._set(0, 0);\n\t\t\t\tread = 0;\n\t\t\t}\n\t\t}\n\t\tif (reading)\n\t\t\tthis.__read = read;\n\t\treturn this;\n\t},\n\n\tset: '#initialize',\n\n\t_set: function(x, y) {\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\treturn this;\n\t},\n\n\tequals: function(point) {\n\t\treturn this === point || point\n\t\t\t\t&& (this.x === point.x && this.y === point.y\n\t\t\t\t\t|| Array.isArray(point)\n\t\t\t\t\t\t&& this.x === point[0] && this.y === point[1])\n\t\t\t\t|| false;\n\t},\n\n\tclone: function() {\n\t\treturn new Point(this.x, this.y);\n\t},\n\n\ttoString: function() {\n\t\tvar f = Formatter.instance;\n\t\treturn '{ x: ' + f.number(this.x) + ', y: ' + f.number(this.y) + ' }';\n\t},\n\n\t_serialize: function(options) {\n\t\tvar f = options.formatter;\n\t\treturn [f.number(this.x), f.number(this.y)];\n\t},\n\n\tgetLength: function() {\n\t\treturn Math.sqrt(this.x * this.x + this.y * this.y);\n\t},\n\n\tsetLength: function(length) {\n\t\tif (this.isZero()) {\n\t\t\tvar angle = this._angle || 0;\n\t\t\tthis._set(\n\t\t\t\tMath.cos(angle) * length,\n\t\t\t\tMath.sin(angle) * length\n\t\t\t);\n\t\t} else {\n\t\t\tvar scale = length / this.getLength();\n\t\t\tif (Numerical.isZero(scale))\n\t\t\t\tthis.getAngle();\n\t\t\tthis._set(\n\t\t\t\tthis.x * scale,\n\t\t\t\tthis.y * scale\n\t\t\t);\n\t\t}\n\t},\n\tgetAngle: function() {\n\t\treturn this.getAngleInRadians.apply(this, arguments) * 180 / Math.PI;\n\t},\n\n\tsetAngle: function(angle) {\n\t\tthis.setAngleInRadians.call(this, angle * Math.PI / 180);\n\t},\n\n\tgetAngleInDegrees: '#getAngle',\n\tsetAngleInDegrees: '#setAngle',\n\n\tgetAngleInRadians: function() {\n\t\tif (!arguments.length) {\n\t\t\treturn this.isZero()\n\t\t\t\t\t? this._angle || 0\n\t\t\t\t\t: this._angle = Math.atan2(this.y, this.x);\n\t\t} else {\n\t\t\tvar point = Point.read(arguments),\n\t\t\t\tdiv = this.getLength() * point.getLength();\n\t\t\tif (Numerical.isZero(div)) {\n\t\t\t\treturn NaN;\n\t\t\t} else {\n\t\t\t\tvar a = this.dot(point) / div;\n\t\t\t\treturn Math.acos(a < -1 ? -1 : a > 1 ? 1 : a);\n\t\t\t}\n\t\t}\n\t},\n\n\tsetAngleInRadians: function(angle) {\n\t\tthis._angle = angle;\n\t\tif (!this.isZero()) {\n\t\t\tvar length = this.getLength();\n\t\t\tthis._set(\n\t\t\t\tMath.cos(angle) * length,\n\t\t\t\tMath.sin(angle) * length\n\t\t\t);\n\t\t}\n\t},\n\n\tgetQuadrant: function() {\n\t\treturn this.x >= 0 ? this.y >= 0 ? 1 : 4 : this.y >= 0 ? 2 : 3;\n\t}\n}, {\n\tbeans: false,\n\n\tgetDirectedAngle: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn Math.atan2(this.cross(point), this.dot(point)) * 180 / Math.PI;\n\t},\n\n\tgetDistance: function() {\n\t\tvar args = arguments,\n\t\t\tpoint = Point.read(args),\n\t\t\tx = point.x - this.x,\n\t\t\ty = point.y - this.y,\n\t\t\td = x * x + y * y,\n\t\t\tsquared = Base.read(args);\n\t\treturn squared ? d : Math.sqrt(d);\n\t},\n\n\tnormalize: function(length) {\n\t\tif (length === undefined)\n\t\t\tlength = 1;\n\t\tvar current = this.getLength(),\n\t\t\tscale = current !== 0 ? length / current : 0,\n\t\t\tpoint = new Point(this.x * scale, this.y * scale);\n\t\tif (scale >= 0)\n\t\t\tpoint._angle = this._angle;\n\t\treturn point;\n\t},\n\n\trotate: function(angle, center) {\n\t\tif (angle === 0)\n\t\t\treturn this.clone();\n\t\tangle = angle * Math.PI / 180;\n\t\tvar point = center ? this.subtract(center) : this,\n\t\t\tsin = Math.sin(angle),\n\t\t\tcos = Math.cos(angle);\n\t\tpoint = new Point(\n\t\t\tpoint.x * cos - point.y * sin,\n\t\t\tpoint.x * sin + point.y * cos\n\t\t);\n\t\treturn center ? point.add(center) : point;\n\t},\n\n\ttransform: function(matrix) {\n\t\treturn matrix ? matrix._transformPoint(this) : this;\n\t},\n\n\tadd: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x + point.x, this.y + point.y);\n\t},\n\n\tsubtract: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x - point.x, this.y - point.y);\n\t},\n\n\tmultiply: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x * point.x, this.y * point.y);\n\t},\n\n\tdivide: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x / point.x, this.y / point.y);\n\t},\n\n\tmodulo: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn new Point(this.x % point.x, this.y % point.y);\n\t},\n\n\tnegate: function() {\n\t\treturn new Point(-this.x, -this.y);\n\t},\n\n\tisInside: function() {\n\t\treturn Rectangle.read(arguments).contains(this);\n\t},\n\n\tisClose: function() {\n\t\tvar args = arguments,\n\t\t\tpoint = Point.read(args),\n\t\t\ttolerance = Base.read(args);\n\t\treturn this.getDistance(point) <= tolerance;\n\t},\n\n\tisCollinear: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn Point.isCollinear(this.x, this.y, point.x, point.y);\n\t},\n\n\tisColinear: '#isCollinear',\n\n\tisOrthogonal: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn Point.isOrthogonal(this.x, this.y, point.x, point.y);\n\t},\n\n\tisZero: function() {\n\t\tvar isZero = Numerical.isZero;\n\t\treturn isZero(this.x) && isZero(this.y);\n\t},\n\n\tisNaN: function() {\n\t\treturn isNaN(this.x) || isNaN(this.y);\n\t},\n\n\tisInQuadrant: function(q) {\n\t\treturn this.x * (q > 1 && q < 4 ? -1 : 1) >= 0\n\t\t\t&& this.y * (q > 2 ? -1 : 1) >= 0;\n\t},\n\n\tdot: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn this.x * point.x + this.y * point.y;\n\t},\n\n\tcross: function() {\n\t\tvar point = Point.read(arguments);\n\t\treturn this.x * point.y - this.y * point.x;\n\t},\n\n\tproject: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tscale = point.isZero() ? 0 : this.dot(point) / point.dot(point);\n\t\treturn new Point(\n\t\t\tpoint.x * scale,\n\t\t\tpoint.y * scale\n\t\t);\n\t},\n\n\tstatics: {\n\t\tmin: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tpoint1 = Point.read(args),\n\t\t\t\tpoint2 = Point.read(args);\n\t\t\treturn new Point(\n\t\t\t\tMath.min(point1.x, point2.x),\n\t\t\t\tMath.min(point1.y, point2.y)\n\t\t\t);\n\t\t},\n\n\t\tmax: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tpoint1 = Point.read(args),\n\t\t\t\tpoint2 = Point.read(args);\n\t\t\treturn new Point(\n\t\t\t\tMath.max(point1.x, point2.x),\n\t\t\t\tMath.max(point1.y, point2.y)\n\t\t\t);\n\t\t},\n\n\t\trandom: function() {\n\t\t\treturn new Point(Math.random(), Math.random());\n\t\t},\n\n\t\tisCollinear: function(x1, y1, x2, y2) {\n\t\t\treturn Math.abs(x1 * y2 - y1 * x2)\n\t\t\t\t\t<= Math.sqrt((x1 * x1 + y1 * y1) * (x2 * x2 + y2 * y2))\n\t\t\t\t\t\t* 1e-8;\n\t\t},\n\n\t\tisOrthogonal: function(x1, y1, x2, y2) {\n\t\t\treturn Math.abs(x1 * x2 + y1 * y2)\n\t\t\t\t\t<= Math.sqrt((x1 * x1 + y1 * y1) * (x2 * x2 + y2 * y2))\n\t\t\t\t\t\t* 1e-8;\n\t\t}\n\t}\n}, Base.each(['round', 'ceil', 'floor', 'abs'], function(key) {\n\tvar op = Math[key];\n\tthis[key] = function() {\n\t\treturn new Point(op(this.x), op(this.y));\n\t};\n}, {}));\n\nvar LinkedPoint = Point.extend({\n\tinitialize: function Point(x, y, owner, setter) {\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._owner = owner;\n\t\tthis._setter = setter;\n\t},\n\n\t_set: function(x, y, _dontNotify) {\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tif (!_dontNotify)\n\t\t\tthis._owner[this._setter](this);\n\t\treturn this;\n\t},\n\n\tgetX: function() {\n\t\treturn this._x;\n\t},\n\n\tsetX: function(x) {\n\t\tthis._x = x;\n\t\tthis._owner[this._setter](this);\n\t},\n\n\tgetY: function() {\n\t\treturn this._y;\n\t},\n\n\tsetY: function(y) {\n\t\tthis._y = y;\n\t\tthis._owner[this._setter](this);\n\t},\n\n\tisSelected: function() {\n\t\treturn !!(this._owner._selection & this._getSelection());\n\t},\n\n\tsetSelected: function(selected) {\n\t\tthis._owner._changeSelection(this._getSelection(), selected);\n\t},\n\n\t_getSelection: function() {\n\t\treturn this._setter === 'setPosition' ? 4 : 0;\n\t}\n});\n\nvar Size = Base.extend({\n\t_class: 'Size',\n\t_readIndex: true,\n\n\tinitialize: function Size(arg0, arg1) {\n\t\tvar type = typeof arg0,\n\t\t\treading = this.__read,\n\t\t\tread = 0;\n\t\tif (type === 'number') {\n\t\t\tvar hasHeight = typeof arg1 === 'number';\n\t\t\tthis._set(arg0, hasHeight ? arg1 : arg0);\n\t\t\tif (reading)\n\t\t\t\tread = hasHeight ? 2 : 1;\n\t\t} else if (type === 'undefined' || arg0 === null) {\n\t\t\tthis._set(0, 0);\n\t\t\tif (reading)\n\t\t\t\tread = arg0 === null ? 1 : 0;\n\t\t} else {\n\t\t\tvar obj = type === 'string' ? arg0.split(/[\\s,]+/) || [] : arg0;\n\t\t\tread = 1;\n\t\t\tif (Array.isArray(obj)) {\n\t\t\t\tthis._set(+obj[0], +(obj.length > 1 ? obj[1] : obj[0]));\n\t\t\t} else if ('width' in obj) {\n\t\t\t\tthis._set(obj.width || 0, obj.height || 0);\n\t\t\t} else if ('x' in obj) {\n\t\t\t\tthis._set(obj.x || 0, obj.y || 0);\n\t\t\t} else {\n\t\t\t\tthis._set(0, 0);\n\t\t\t\tread = 0;\n\t\t\t}\n\t\t}\n\t\tif (reading)\n\t\t\tthis.__read = read;\n\t\treturn this;\n\t},\n\n\tset: '#initialize',\n\n\t_set: function(width, height) {\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\treturn this;\n\t},\n\n\tequals: function(size) {\n\t\treturn size === this || size && (this.width === size.width\n\t\t\t\t&& this.height === size.height\n\t\t\t\t|| Array.isArray(size) && this.width === size[0]\n\t\t\t\t\t&& this.height === size[1]) || false;\n\t},\n\n\tclone: function() {\n\t\treturn new Size(this.width, this.height);\n\t},\n\n\ttoString: function() {\n\t\tvar f = Formatter.instance;\n\t\treturn '{ width: ' + f.number(this.width)\n\t\t\t\t+ ', height: ' + f.number(this.height) + ' }';\n\t},\n\n\t_serialize: function(options) {\n\t\tvar f = options.formatter;\n\t\treturn [f.number(this.width),\n\t\t\t\tf.number(this.height)];\n\t},\n\n\tadd: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width + size.width, this.height + size.height);\n\t},\n\n\tsubtract: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width - size.width, this.height - size.height);\n\t},\n\n\tmultiply: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width * size.width, this.height * size.height);\n\t},\n\n\tdivide: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width / size.width, this.height / size.height);\n\t},\n\n\tmodulo: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn new Size(this.width % size.width, this.height % size.height);\n\t},\n\n\tnegate: function() {\n\t\treturn new Size(-this.width, -this.height);\n\t},\n\n\tisZero: function() {\n\t\tvar isZero = Numerical.isZero;\n\t\treturn isZero(this.width) && isZero(this.height);\n\t},\n\n\tisNaN: function() {\n\t\treturn isNaN(this.width) || isNaN(this.height);\n\t},\n\n\tstatics: {\n\t\tmin: function(size1, size2) {\n\t\t\treturn new Size(\n\t\t\t\tMath.min(size1.width, size2.width),\n\t\t\t\tMath.min(size1.height, size2.height));\n\t\t},\n\n\t\tmax: function(size1, size2) {\n\t\t\treturn new Size(\n\t\t\t\tMath.max(size1.width, size2.width),\n\t\t\t\tMath.max(size1.height, size2.height));\n\t\t},\n\n\t\trandom: function() {\n\t\t\treturn new Size(Math.random(), Math.random());\n\t\t}\n\t}\n}, Base.each(['round', 'ceil', 'floor', 'abs'], function(key) {\n\tvar op = Math[key];\n\tthis[key] = function() {\n\t\treturn new Size(op(this.width), op(this.height));\n\t};\n}, {}));\n\nvar LinkedSize = Size.extend({\n\tinitialize: function Size(width, height, owner, setter) {\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tthis._owner = owner;\n\t\tthis._setter = setter;\n\t},\n\n\t_set: function(width, height, _dontNotify) {\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tif (!_dontNotify)\n\t\t\tthis._owner[this._setter](this);\n\t\treturn this;\n\t},\n\n\tgetWidth: function() {\n\t\treturn this._width;\n\t},\n\n\tsetWidth: function(width) {\n\t\tthis._width = width;\n\t\tthis._owner[this._setter](this);\n\t},\n\n\tgetHeight: function() {\n\t\treturn this._height;\n\t},\n\n\tsetHeight: function(height) {\n\t\tthis._height = height;\n\t\tthis._owner[this._setter](this);\n\t}\n});\n\nvar Rectangle = Base.extend({\n\t_class: 'Rectangle',\n\t_readIndex: true,\n\tbeans: true,\n\n\tinitialize: function Rectangle(arg0, arg1, arg2, arg3) {\n\t\tvar args = arguments,\n\t\t\ttype = typeof arg0,\n\t\t\tread;\n\t\tif (type === 'number') {\n\t\t\tthis._set(arg0, arg1, arg2, arg3);\n\t\t\tread = 4;\n\t\t} else if (type === 'undefined' || arg0 === null) {\n\t\t\tthis._set(0, 0, 0, 0);\n\t\t\tread = arg0 === null ? 1 : 0;\n\t\t} else if (args.length === 1) {\n\t\t\tif (Array.isArray(arg0)) {\n\t\t\t\tthis._set.apply(this, arg0);\n\t\t\t\tread = 1;\n\t\t\t} else if (arg0.x !== undefined || arg0.width !== undefined) {\n\t\t\t\tthis._set(arg0.x || 0, arg0.y || 0,\n\t\t\t\t\t\targ0.width || 0, arg0.height || 0);\n\t\t\t\tread = 1;\n\t\t\t} else if (arg0.from === undefined && arg0.to === undefined) {\n\t\t\t\tthis._set(0, 0, 0, 0);\n\t\t\t\tif (Base.readSupported(args, this)) {\n\t\t\t\t\tread = 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (read === undefined) {\n\t\t\tvar frm = Point.readNamed(args, 'from'),\n\t\t\t\tnext = Base.peek(args),\n\t\t\t\tx = frm.x,\n\t\t\t\ty = frm.y,\n\t\t\t\twidth,\n\t\t\t\theight;\n\t\t\tif (next && next.x !== undefined || Base.hasNamed(args, 'to')) {\n\t\t\t\tvar to = Point.readNamed(args, 'to');\n\t\t\t\twidth = to.x - x;\n\t\t\t\theight = to.y - y;\n\t\t\t\tif (width < 0) {\n\t\t\t\t\tx = to.x;\n\t\t\t\t\twidth = -width;\n\t\t\t\t}\n\t\t\t\tif (height < 0) {\n\t\t\t\t\ty = to.y;\n\t\t\t\t\theight = -height;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar size = Size.read(args);\n\t\t\t\twidth = size.width;\n\t\t\t\theight = size.height;\n\t\t\t}\n\t\t\tthis._set(x, y, width, height);\n\t\t\tread = args.__index;\n\t\t}\n\t\tvar filtered = args.__filtered;\n\t\tif (filtered)\n\t\t\tthis.__filtered = filtered;\n\t\tif (this.__read)\n\t\t\tthis.__read = read;\n\t\treturn this;\n\t},\n\n\tset: '#initialize',\n\n\t_set: function(x, y, width, height) {\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\treturn this;\n\t},\n\n\tclone: function() {\n\t\treturn new Rectangle(this.x, this.y, this.width, this.height);\n\t},\n\n\tequals: function(rect) {\n\t\tvar rt = Base.isPlainValue(rect)\n\t\t\t\t? Rectangle.read(arguments)\n\t\t\t\t: rect;\n\t\treturn rt === this\n\t\t\t\t|| rt && this.x === rt.x && this.y === rt.y\n\t\t\t\t\t&& this.width === rt.width && this.height === rt.height\n\t\t\t\t|| false;\n\t},\n\n\ttoString: function() {\n\t\tvar f = Formatter.instance;\n\t\treturn '{ x: ' + f.number(this.x)\n\t\t\t\t+ ', y: ' + f.number(this.y)\n\t\t\t\t+ ', width: ' + f.number(this.width)\n\t\t\t\t+ ', height: ' + f.number(this.height)\n\t\t\t\t+ ' }';\n\t},\n\n\t_serialize: function(options) {\n\t\tvar f = options.formatter;\n\t\treturn [f.number(this.x),\n\t\t\t\tf.number(this.y),\n\t\t\t\tf.number(this.width),\n\t\t\t\tf.number(this.height)];\n\t},\n\n\tgetPoint: function(_dontLink) {\n\t\tvar ctor = _dontLink ? Point : LinkedPoint;\n\t\treturn new ctor(this.x, this.y, this, 'setPoint');\n\t},\n\n\tsetPoint: function() {\n\t\tvar point = Point.read(arguments);\n\t\tthis.x = point.x;\n\t\tthis.y = point.y;\n\t},\n\n\tgetSize: function(_dontLink) {\n\t\tvar ctor = _dontLink ? Size : LinkedSize;\n\t\treturn new ctor(this.width, this.height, this, 'setSize');\n\t},\n\n\t_fw: 1,\n\t_fh: 1,\n\n\tsetSize: function() {\n\t\tvar size = Size.read(arguments),\n\t\t\tsx = this._sx,\n\t\t\tsy = this._sy,\n\t\t\tw = size.width,\n\t\t\th = size.height;\n\t\tif (sx) {\n\t\t\tthis.x += (this.width - w) * sx;\n\t\t}\n\t\tif (sy) {\n\t\t\tthis.y += (this.height - h) * sy;\n\t\t}\n\t\tthis.width = w;\n\t\tthis.height = h;\n\t\tthis._fw = this._fh = 1;\n\t},\n\n\tgetLeft: function() {\n\t\treturn this.x;\n\t},\n\n\tsetLeft: function(left) {\n\t\tif (!this._fw) {\n\t\t\tvar amount = left - this.x;\n\t\t\tthis.width -= this._sx === 0.5 ? amount * 2 : amount;\n\t\t}\n\t\tthis.x = left;\n\t\tthis._sx = this._fw = 0;\n\t},\n\n\tgetTop: function() {\n\t\treturn this.y;\n\t},\n\n\tsetTop: function(top) {\n\t\tif (!this._fh) {\n\t\t\tvar amount = top - this.y;\n\t\t\tthis.height -= this._sy === 0.5 ? amount * 2 : amount;\n\t\t}\n\t\tthis.y = top;\n\t\tthis._sy = this._fh = 0;\n\t},\n\n\tgetRight: function() {\n\t\treturn this.x + this.width;\n\t},\n\n\tsetRight: function(right) {\n\t\tif (!this._fw) {\n\t\t\tvar amount = right - this.x;\n\t\t\tthis.width = this._sx === 0.5 ? amount * 2 : amount;\n\t\t}\n\t\tthis.x = right - this.width;\n\t\tthis._sx = 1;\n\t\tthis._fw = 0;\n\t},\n\n\tgetBottom: function() {\n\t\treturn this.y + this.height;\n\t},\n\n\tsetBottom: function(bottom) {\n\t\tif (!this._fh) {\n\t\t\tvar amount = bottom - this.y;\n\t\t\tthis.height = this._sy === 0.5 ? amount * 2 : amount;\n\t\t}\n\t\tthis.y = bottom - this.height;\n\t\tthis._sy = 1;\n\t\tthis._fh = 0;\n\t},\n\n\tgetCenterX: function() {\n\t\treturn this.x + this.width / 2;\n\t},\n\n\tsetCenterX: function(x) {\n\t\tif (this._fw || this._sx === 0.5) {\n\t\t\tthis.x = x - this.width / 2;\n\t\t} else {\n\t\t\tif (this._sx) {\n\t\t\t\tthis.x += (x - this.x) * 2 * this._sx;\n\t\t\t}\n\t\t\tthis.width = (x - this.x) * 2;\n\t\t}\n\t\tthis._sx = 0.5;\n\t\tthis._fw = 0;\n\t},\n\n\tgetCenterY: function() {\n\t\treturn this.y + this.height / 2;\n\t},\n\n\tsetCenterY: function(y) {\n\t\tif (this._fh || this._sy === 0.5) {\n\t\t\tthis.y = y - this.height / 2;\n\t\t} else {\n\t\t\tif (this._sy) {\n\t\t\t\tthis.y += (y - this.y) * 2 * this._sy;\n\t\t\t}\n\t\t\tthis.height = (y - this.y) * 2;\n\t\t}\n\t\tthis._sy = 0.5;\n\t\tthis._fh = 0;\n\t},\n\n\tgetCenter: function(_dontLink) {\n\t\tvar ctor = _dontLink ? Point : LinkedPoint;\n\t\treturn new ctor(this.getCenterX(), this.getCenterY(), this, 'setCenter');\n\t},\n\n\tsetCenter: function() {\n\t\tvar point = Point.read(arguments);\n\t\tthis.setCenterX(point.x);\n\t\tthis.setCenterY(point.y);\n\t\treturn this;\n\t},\n\n\tgetArea: function() {\n\t\treturn this.width * this.height;\n\t},\n\n\tisEmpty: function() {\n\t\treturn this.width === 0 || this.height === 0;\n\t},\n\n\tcontains: function(arg) {\n\t\treturn arg && arg.width !== undefined\n\t\t\t\t|| (Array.isArray(arg) ? arg : arguments).length === 4\n\t\t\t\t? this._containsRectangle(Rectangle.read(arguments))\n\t\t\t\t: this._containsPoint(Point.read(arguments));\n\t},\n\n\t_containsPoint: function(point) {\n\t\tvar x = point.x,\n\t\t\ty = point.y;\n\t\treturn x >= this.x && y >= this.y\n\t\t\t\t&& x <= this.x + this.width\n\t\t\t\t&& y <= this.y + this.height;\n\t},\n\n\t_containsRectangle: function(rect) {\n\t\tvar x = rect.x,\n\t\t\ty = rect.y;\n\t\treturn x >= this.x && y >= this.y\n\t\t\t\t&& x + rect.width <= this.x + this.width\n\t\t\t\t&& y + rect.height <= this.y + this.height;\n\t},\n\n\tintersects: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tepsilon = Base.read(arguments) || 0;\n\t\treturn rect.x + rect.width > this.x - epsilon\n\t\t\t\t&& rect.y + rect.height > this.y - epsilon\n\t\t\t\t&& rect.x < this.x + this.width + epsilon\n\t\t\t\t&& rect.y < this.y + this.height + epsilon;\n\t},\n\n\tintersect: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tx1 = Math.max(this.x, rect.x),\n\t\t\ty1 = Math.max(this.y, rect.y),\n\t\t\tx2 = Math.min(this.x + this.width, rect.x + rect.width),\n\t\t\ty2 = Math.min(this.y + this.height, rect.y + rect.height);\n\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t},\n\n\tunite: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tx1 = Math.min(this.x, rect.x),\n\t\t\ty1 = Math.min(this.y, rect.y),\n\t\t\tx2 = Math.max(this.x + this.width, rect.x + rect.width),\n\t\t\ty2 = Math.max(this.y + this.height, rect.y + rect.height);\n\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t},\n\n\tinclude: function() {\n\t\tvar point = Point.read(arguments);\n\t\tvar x1 = Math.min(this.x, point.x),\n\t\t\ty1 = Math.min(this.y, point.y),\n\t\t\tx2 = Math.max(this.x + this.width, point.x),\n\t\t\ty2 = Math.max(this.y + this.height, point.y);\n\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t},\n\n\texpand: function() {\n\t\tvar amount = Size.read(arguments),\n\t\t\thor = amount.width,\n\t\t\tver = amount.height;\n\t\treturn new Rectangle(this.x - hor / 2, this.y - ver / 2,\n\t\t\t\tthis.width + hor, this.height + ver);\n\t},\n\n\tscale: function(hor, ver) {\n\t\treturn this.expand(this.width * hor - this.width,\n\t\t\t\tthis.height * (ver === undefined ? hor : ver) - this.height);\n\t}\n}, Base.each([\n\t\t['Top', 'Left'], ['Top', 'Right'],\n\t\t['Bottom', 'Left'], ['Bottom', 'Right'],\n\t\t['Left', 'Center'], ['Top', 'Center'],\n\t\t['Right', 'Center'], ['Bottom', 'Center']\n\t],\n\tfunction(parts, index) {\n\t\tvar part = parts.join(''),\n\t\t\txFirst = /^[RL]/.test(part);\n\t\tif (index >= 4)\n\t\t\tparts[1] += xFirst ? 'Y' : 'X';\n\t\tvar x = parts[xFirst ? 0 : 1],\n\t\t\ty = parts[xFirst ? 1 : 0],\n\t\t\tgetX = 'get' + x,\n\t\t\tgetY = 'get' + y,\n\t\t\tsetX = 'set' + x,\n\t\t\tsetY = 'set' + y,\n\t\t\tget = 'get' + part,\n\t\t\tset = 'set' + part;\n\t\tthis[get] = function(_dontLink) {\n\t\t\tvar ctor = _dontLink ? Point : LinkedPoint;\n\t\t\treturn new ctor(this[getX](), this[getY](), this, set);\n\t\t};\n\t\tthis[set] = function() {\n\t\t\tvar point = Point.read(arguments);\n\t\t\tthis[setX](point.x);\n\t\t\tthis[setY](point.y);\n\t\t};\n\t}, {\n\t\tbeans: true\n\t}\n));\n\nvar LinkedRectangle = Rectangle.extend({\n\tinitialize: function Rectangle(x, y, width, height, owner, setter) {\n\t\tthis._set(x, y, width, height, true);\n\t\tthis._owner = owner;\n\t\tthis._setter = setter;\n\t},\n\n\t_set: function(x, y, width, height, _dontNotify) {\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._width = width;\n\t\tthis._height = height;\n\t\tif (!_dontNotify)\n\t\t\tthis._owner[this._setter](this);\n\t\treturn this;\n\t}\n},\nnew function() {\n\tvar proto = Rectangle.prototype;\n\n\treturn Base.each(['x', 'y', 'width', 'height'], function(key) {\n\t\tvar part = Base.capitalize(key),\n\t\t\tinternal = '_' + key;\n\t\tthis['get' + part] = function() {\n\t\t\treturn this[internal];\n\t\t};\n\n\t\tthis['set' + part] = function(value) {\n\t\t\tthis[internal] = value;\n\t\t\tif (!this._dontNotify)\n\t\t\t\tthis._owner[this._setter](this);\n\t\t};\n\t}, Base.each(['Point', 'Size', 'Center',\n\t\t\t'Left', 'Top', 'Right', 'Bottom', 'CenterX', 'CenterY',\n\t\t\t'TopLeft', 'TopRight', 'BottomLeft', 'BottomRight',\n\t\t\t'LeftCenter', 'TopCenter', 'RightCenter', 'BottomCenter'],\n\t\tfunction(key) {\n\t\t\tvar name = 'set' + key;\n\t\t\tthis[name] = function() {\n\t\t\t\tthis._dontNotify = true;\n\t\t\t\tproto[name].apply(this, arguments);\n\t\t\t\tthis._dontNotify = false;\n\t\t\t\tthis._owner[this._setter](this);\n\t\t\t};\n\t\t}, {\n\t\t\tisSelected: function() {\n\t\t\t\treturn !!(this._owner._selection & 2);\n\t\t\t},\n\n\t\t\tsetSelected: function(selected) {\n\t\t\t\tvar owner = this._owner;\n\t\t\t\tif (owner._changeSelection) {\n\t\t\t\t\towner._changeSelection(2, selected);\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t);\n});\n\nvar Matrix = Base.extend({\n\t_class: 'Matrix',\n\n\tinitialize: function Matrix(arg, _dontNotify) {\n\t\tvar args = arguments,\n\t\t\tcount = args.length,\n\t\t\tok = true;\n\t\tif (count >= 6) {\n\t\t\tthis._set.apply(this, args);\n\t\t} else if (count === 1 || count === 2) {\n\t\t\tif (arg instanceof Matrix) {\n\t\t\t\tthis._set(arg._a, arg._b, arg._c, arg._d, arg._tx, arg._ty,\n\t\t\t\t\t\t_dontNotify);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tthis._set.apply(this,\n\t\t\t\t\t\t_dontNotify ? arg.concat([_dontNotify]) : arg);\n\t\t\t} else {\n\t\t\t\tok = false;\n\t\t\t}\n\t\t} else if (!count) {\n\t\t\tthis.reset();\n\t\t} else {\n\t\t\tok = false;\n\t\t}\n\t\tif (!ok) {\n\t\t\tthrow new Error('Unsupported matrix parameters');\n\t\t}\n\t\treturn this;\n\t},\n\n\tset: '#initialize',\n\n\t_set: function(a, b, c, d, tx, ty, _dontNotify) {\n\t\tthis._a = a;\n\t\tthis._b = b;\n\t\tthis._c = c;\n\t\tthis._d = d;\n\t\tthis._tx = tx;\n\t\tthis._ty = ty;\n\t\tif (!_dontNotify)\n\t\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn Base.serialize(this.getValues(), options, true, dictionary);\n\t},\n\n\t_changed: function() {\n\t\tvar owner = this._owner;\n\t\tif (owner) {\n\t\t\tif (owner._applyMatrix) {\n\t\t\t\towner.transform(null, true);\n\t\t\t} else {\n\t\t\t\towner._changed(25);\n\t\t\t}\n\t\t}\n\t},\n\n\tclone: function() {\n\t\treturn new Matrix(this._a, this._b, this._c, this._d,\n\t\t\t\tthis._tx, this._ty);\n\t},\n\n\tequals: function(mx) {\n\t\treturn mx === this || mx && this._a === mx._a && this._b === mx._b\n\t\t\t\t&& this._c === mx._c && this._d === mx._d\n\t\t\t\t&& this._tx === mx._tx && this._ty === mx._ty;\n\t},\n\n\ttoString: function() {\n\t\tvar f = Formatter.instance;\n\t\treturn '[[' + [f.number(this._a), f.number(this._c),\n\t\t\t\t\tf.number(this._tx)].join(', ') + '], ['\n\t\t\t\t+ [f.number(this._b), f.number(this._d),\n\t\t\t\t\tf.number(this._ty)].join(', ') + ']]';\n\t},\n\n\treset: function(_dontNotify) {\n\t\tthis._a = this._d = 1;\n\t\tthis._b = this._c = this._tx = this._ty = 0;\n\t\tif (!_dontNotify)\n\t\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\tapply: function(recursively, _setApplyMatrix) {\n\t\tvar owner = this._owner;\n\t\tif (owner) {\n\t\t\towner.transform(null, Base.pick(recursively, true), _setApplyMatrix);\n\t\t\treturn this.isIdentity();\n\t\t}\n\t\treturn false;\n\t},\n\n\ttranslate: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tx = point.x,\n\t\t\ty = point.y;\n\t\tthis._tx += x * this._a + y * this._c;\n\t\tthis._ty += x * this._b + y * this._d;\n\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\tscale: function() {\n\t\tvar args = arguments,\n\t\t\tscale = Point.read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true });\n\t\tif (center)\n\t\t\tthis.translate(center);\n\t\tthis._a *= scale.x;\n\t\tthis._b *= scale.x;\n\t\tthis._c *= scale.y;\n\t\tthis._d *= scale.y;\n\t\tif (center)\n\t\t\tthis.translate(center.negate());\n\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\trotate: function(angle ) {\n\t\tangle *= Math.PI / 180;\n\t\tvar center = Point.read(arguments, 1),\n\t\t\tx = center.x,\n\t\t\ty = center.y,\n\t\t\tcos = Math.cos(angle),\n\t\t\tsin = Math.sin(angle),\n\t\t\ttx = x - x * cos + y * sin,\n\t\t\tty = y - x * sin - y * cos,\n\t\t\ta = this._a,\n\t\t\tb = this._b,\n\t\t\tc = this._c,\n\t\t\td = this._d;\n\t\tthis._a = cos * a + sin * c;\n\t\tthis._b = cos * b + sin * d;\n\t\tthis._c = -sin * a + cos * c;\n\t\tthis._d = -sin * b + cos * d;\n\t\tthis._tx += tx * a + ty * c;\n\t\tthis._ty += tx * b + ty * d;\n\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\tshear: function() {\n\t\tvar args = arguments,\n\t\t\tshear = Point.read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true });\n\t\tif (center)\n\t\t\tthis.translate(center);\n\t\tvar a = this._a,\n\t\t\tb = this._b;\n\t\tthis._a += shear.y * this._c;\n\t\tthis._b += shear.y * this._d;\n\t\tthis._c += shear.x * a;\n\t\tthis._d += shear.x * b;\n\t\tif (center)\n\t\t\tthis.translate(center.negate());\n\t\tthis._changed();\n\t\treturn this;\n\t},\n\n\tskew: function() {\n\t\tvar args = arguments,\n\t\t\tskew = Point.read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true }),\n\t\t\ttoRadians = Math.PI / 180,\n\t\t\tshear = new Point(Math.tan(skew.x * toRadians),\n\t\t\t\tMath.tan(skew.y * toRadians));\n\t\treturn this.shear(shear, center);\n\t},\n\n\tappend: function(mx, _dontNotify) {\n\t\tif (mx) {\n\t\t\tvar a1 = this._a,\n\t\t\t\tb1 = this._b,\n\t\t\t\tc1 = this._c,\n\t\t\t\td1 = this._d,\n\t\t\t\ta2 = mx._a,\n\t\t\t\tb2 = mx._c,\n\t\t\t\tc2 = mx._b,\n\t\t\t\td2 = mx._d,\n\t\t\t\ttx2 = mx._tx,\n\t\t\t\tty2 = mx._ty;\n\t\t\tthis._a = a2 * a1 + c2 * c1;\n\t\t\tthis._c = b2 * a1 + d2 * c1;\n\t\t\tthis._b = a2 * b1 + c2 * d1;\n\t\t\tthis._d = b2 * b1 + d2 * d1;\n\t\t\tthis._tx += tx2 * a1 + ty2 * c1;\n\t\t\tthis._ty += tx2 * b1 + ty2 * d1;\n\t\t\tif (!_dontNotify)\n\t\t\t\tthis._changed();\n\t\t}\n\t\treturn this;\n\t},\n\n\tprepend: function(mx, _dontNotify) {\n\t\tif (mx) {\n\t\t\tvar a1 = this._a,\n\t\t\t\tb1 = this._b,\n\t\t\t\tc1 = this._c,\n\t\t\t\td1 = this._d,\n\t\t\t\ttx1 = this._tx,\n\t\t\t\tty1 = this._ty,\n\t\t\t\ta2 = mx._a,\n\t\t\t\tb2 = mx._c,\n\t\t\t\tc2 = mx._b,\n\t\t\t\td2 = mx._d,\n\t\t\t\ttx2 = mx._tx,\n\t\t\t\tty2 = mx._ty;\n\t\t\tthis._a = a2 * a1 + b2 * b1;\n\t\t\tthis._c = a2 * c1 + b2 * d1;\n\t\t\tthis._b = c2 * a1 + d2 * b1;\n\t\t\tthis._d = c2 * c1 + d2 * d1;\n\t\t\tthis._tx = a2 * tx1 + b2 * ty1 + tx2;\n\t\t\tthis._ty = c2 * tx1 + d2 * ty1 + ty2;\n\t\t\tif (!_dontNotify)\n\t\t\t\tthis._changed();\n\t\t}\n\t\treturn this;\n\t},\n\n\tappended: function(mx) {\n\t\treturn this.clone().append(mx);\n\t},\n\n\tprepended: function(mx) {\n\t\treturn this.clone().prepend(mx);\n\t},\n\n\tinvert: function() {\n\t\tvar a = this._a,\n\t\t\tb = this._b,\n\t\t\tc = this._c,\n\t\t\td = this._d,\n\t\t\ttx = this._tx,\n\t\t\tty = this._ty,\n\t\t\tdet = a * d - b * c,\n\t\t\tres = null;\n\t\tif (det && !isNaN(det) && isFinite(tx) && isFinite(ty)) {\n\t\t\tthis._a = d / det;\n\t\t\tthis._b = -b / det;\n\t\t\tthis._c = -c / det;\n\t\t\tthis._d = a / det;\n\t\t\tthis._tx = (c * ty - d * tx) / det;\n\t\t\tthis._ty = (b * tx - a * ty) / det;\n\t\t\tres = this;\n\t\t}\n\t\treturn res;\n\t},\n\n\tinverted: function() {\n\t\treturn this.clone().invert();\n\t},\n\n\tconcatenate: '#append',\n\tpreConcatenate: '#prepend',\n\tchain: '#appended',\n\n\t_shiftless: function() {\n\t\treturn new Matrix(this._a, this._b, this._c, this._d, 0, 0);\n\t},\n\n\t_orNullIfIdentity: function() {\n\t\treturn this.isIdentity() ? null : this;\n\t},\n\n\tisIdentity: function() {\n\t\treturn this._a === 1 && this._b === 0 && this._c === 0 && this._d === 1\n\t\t\t\t&& this._tx === 0 && this._ty === 0;\n\t},\n\n\tisInvertible: function() {\n\t\tvar det = this._a * this._d - this._c * this._b;\n\t\treturn det && !isNaN(det) && isFinite(this._tx) && isFinite(this._ty);\n\t},\n\n\tisSingular: function() {\n\t\treturn !this.isInvertible();\n\t},\n\n\ttransform: function( src, dst, count) {\n\t\treturn arguments.length < 3\n\t\t\t? this._transformPoint(Point.read(arguments))\n\t\t\t: this._transformCoordinates(src, dst, count);\n\t},\n\n\t_transformPoint: function(point, dest, _dontNotify) {\n\t\tvar x = point.x,\n\t\t\ty = point.y;\n\t\tif (!dest)\n\t\t\tdest = new Point();\n\t\treturn dest._set(\n\t\t\t\tx * this._a + y * this._c + this._tx,\n\t\t\t\tx * this._b + y * this._d + this._ty,\n\t\t\t\t_dontNotify);\n\t},\n\n\t_transformCoordinates: function(src, dst, count) {\n\t\tfor (var i = 0, max = 2 * count; i < max; i += 2) {\n\t\t\tvar x = src[i],\n\t\t\t\ty = src[i + 1];\n\t\t\tdst[i] = x * this._a + y * this._c + this._tx;\n\t\t\tdst[i + 1] = x * this._b + y * this._d + this._ty;\n\t\t}\n\t\treturn dst;\n\t},\n\n\t_transformCorners: function(rect) {\n\t\tvar x1 = rect.x,\n\t\t\ty1 = rect.y,\n\t\t\tx2 = x1 + rect.width,\n\t\t\ty2 = y1 + rect.height,\n\t\t\tcoords = [ x1, y1, x2, y1, x2, y2, x1, y2 ];\n\t\treturn this._transformCoordinates(coords, coords, 4);\n\t},\n\n\t_transformBounds: function(bounds, dest, _dontNotify) {\n\t\tvar coords = this._transformCorners(bounds),\n\t\t\tmin = coords.slice(0, 2),\n\t\t\tmax = min.slice();\n\t\tfor (var i = 2; i < 8; i++) {\n\t\t\tvar val = coords[i],\n\t\t\t\tj = i & 1;\n\t\t\tif (val < min[j]) {\n\t\t\t\tmin[j] = val;\n\t\t\t} else if (val > max[j]) {\n\t\t\t\tmax[j] = val;\n\t\t\t}\n\t\t}\n\t\tif (!dest)\n\t\t\tdest = new Rectangle();\n\t\treturn dest._set(min[0], min[1], max[0] - min[0], max[1] - min[1],\n\t\t\t\t_dontNotify);\n\t},\n\n\tinverseTransform: function() {\n\t\treturn this._inverseTransform(Point.read(arguments));\n\t},\n\n\t_inverseTransform: function(point, dest, _dontNotify) {\n\t\tvar a = this._a,\n\t\t\tb = this._b,\n\t\t\tc = this._c,\n\t\t\td = this._d,\n\t\t\ttx = this._tx,\n\t\t\tty = this._ty,\n\t\t\tdet = a * d - b * c,\n\t\t\tres = null;\n\t\tif (det && !isNaN(det) && isFinite(tx) && isFinite(ty)) {\n\t\t\tvar x = point.x - this._tx,\n\t\t\t\ty = point.y - this._ty;\n\t\t\tif (!dest)\n\t\t\t\tdest = new Point();\n\t\t\tres = dest._set(\n\t\t\t\t\t(x * d - y * c) / det,\n\t\t\t\t\t(y * a - x * b) / det,\n\t\t\t\t\t_dontNotify);\n\t\t}\n\t\treturn res;\n\t},\n\n\tdecompose: function() {\n\t\tvar a = this._a,\n\t\t\tb = this._b,\n\t\t\tc = this._c,\n\t\t\td = this._d,\n\t\t\tdet = a * d - b * c,\n\t\t\tsqrt = Math.sqrt,\n\t\t\tatan2 = Math.atan2,\n\t\t\tdegrees = 180 / Math.PI,\n\t\t\trotate,\n\t\t\tscale,\n\t\t\tskew;\n\t\tif (a !== 0 || b !== 0) {\n\t\t\tvar r = sqrt(a * a + b * b);\n\t\t\trotate = Math.acos(a / r) * (b > 0 ? 1 : -1);\n\t\t\tscale = [r, det / r];\n\t\t\tskew = [atan2(a * c + b * d, r * r), 0];\n\t\t} else if (c !== 0 || d !== 0) {\n\t\t\tvar s = sqrt(c * c + d * d);\n\t\t\trotate = Math.asin(c / s)  * (d > 0 ? 1 : -1);\n\t\t\tscale = [det / s, s];\n\t\t\tskew = [0, atan2(a * c + b * d, s * s)];\n\t\t} else {\n\t\t\trotate = 0;\n\t\t\tskew = scale = [0, 0];\n\t\t}\n\t\treturn {\n\t\t\ttranslation: this.getTranslation(),\n\t\t\trotation: rotate * degrees,\n\t\t\tscaling: new Point(scale),\n\t\t\tskewing: new Point(skew[0] * degrees, skew[1] * degrees)\n\t\t};\n\t},\n\n\tgetValues: function() {\n\t\treturn [ this._a, this._b, this._c, this._d, this._tx, this._ty ];\n\t},\n\n\tgetTranslation: function() {\n\t\treturn new Point(this._tx, this._ty);\n\t},\n\n\tgetScaling: function() {\n\t\treturn this.decompose().scaling;\n\t},\n\n\tgetRotation: function() {\n\t\treturn this.decompose().rotation;\n\t},\n\n\tapplyToContext: function(ctx) {\n\t\tif (!this.isIdentity()) {\n\t\t\tctx.transform(this._a, this._b, this._c, this._d,\n\t\t\t\t\tthis._tx, this._ty);\n\t\t}\n\t}\n}, Base.each(['a', 'b', 'c', 'd', 'tx', 'ty'], function(key) {\n\tvar part = Base.capitalize(key),\n\t\tprop = '_' + key;\n\tthis['get' + part] = function() {\n\t\treturn this[prop];\n\t};\n\tthis['set' + part] = function(value) {\n\t\tthis[prop] = value;\n\t\tthis._changed();\n\t};\n}, {}));\n\nvar Line = Base.extend({\n\t_class: 'Line',\n\n\tinitialize: function Line(arg0, arg1, arg2, arg3, arg4) {\n\t\tvar asVector = false;\n\t\tif (arguments.length >= 4) {\n\t\t\tthis._px = arg0;\n\t\t\tthis._py = arg1;\n\t\t\tthis._vx = arg2;\n\t\t\tthis._vy = arg3;\n\t\t\tasVector = arg4;\n\t\t} else {\n\t\t\tthis._px = arg0.x;\n\t\t\tthis._py = arg0.y;\n\t\t\tthis._vx = arg1.x;\n\t\t\tthis._vy = arg1.y;\n\t\t\tasVector = arg2;\n\t\t}\n\t\tif (!asVector) {\n\t\t\tthis._vx -= this._px;\n\t\t\tthis._vy -= this._py;\n\t\t}\n\t},\n\n\tgetPoint: function() {\n\t\treturn new Point(this._px, this._py);\n\t},\n\n\tgetVector: function() {\n\t\treturn new Point(this._vx, this._vy);\n\t},\n\n\tgetLength: function() {\n\t\treturn this.getVector().getLength();\n\t},\n\n\tintersect: function(line, isInfinite) {\n\t\treturn Line.intersect(\n\t\t\t\tthis._px, this._py, this._vx, this._vy,\n\t\t\t\tline._px, line._py, line._vx, line._vy,\n\t\t\t\ttrue, isInfinite);\n\t},\n\n\tgetSide: function(point, isInfinite) {\n\t\treturn Line.getSide(\n\t\t\t\tthis._px, this._py, this._vx, this._vy,\n\t\t\t\tpoint.x, point.y, true, isInfinite);\n\t},\n\n\tgetDistance: function(point) {\n\t\treturn Math.abs(this.getSignedDistance(point));\n\t},\n\n\tgetSignedDistance: function(point) {\n\t\treturn Line.getSignedDistance(this._px, this._py, this._vx, this._vy,\n\t\t\t\tpoint.x, point.y, true);\n\t},\n\n\tisCollinear: function(line) {\n\t\treturn Point.isCollinear(this._vx, this._vy, line._vx, line._vy);\n\t},\n\n\tisOrthogonal: function(line) {\n\t\treturn Point.isOrthogonal(this._vx, this._vy, line._vx, line._vy);\n\t},\n\n\tstatics: {\n\t\tintersect: function(p1x, p1y, v1x, v1y, p2x, p2y, v2x, v2y, asVector,\n\t\t\t\tisInfinite) {\n\t\t\tif (!asVector) {\n\t\t\t\tv1x -= p1x;\n\t\t\t\tv1y -= p1y;\n\t\t\t\tv2x -= p2x;\n\t\t\t\tv2y -= p2y;\n\t\t\t}\n\t\t\tvar cross = v1x * v2y - v1y * v2x;\n\t\t\tif (!Numerical.isMachineZero(cross)) {\n\t\t\t\tvar dx = p1x - p2x,\n\t\t\t\t\tdy = p1y - p2y,\n\t\t\t\t\tu1 = (v2x * dy - v2y * dx) / cross,\n\t\t\t\t\tu2 = (v1x * dy - v1y * dx) / cross,\n\t\t\t\t\tepsilon = 1e-12,\n\t\t\t\t\tuMin = -epsilon,\n\t\t\t\t\tuMax = 1 + epsilon;\n\t\t\t\tif (isInfinite\n\t\t\t\t\t\t|| uMin < u1 && u1 < uMax && uMin < u2 && u2 < uMax) {\n\t\t\t\t\tif (!isInfinite) {\n\t\t\t\t\t\tu1 = u1 <= 0 ? 0 : u1 >= 1 ? 1 : u1;\n\t\t\t\t\t}\n\t\t\t\t\treturn new Point(\n\t\t\t\t\t\t\tp1x + u1 * v1x,\n\t\t\t\t\t\t\tp1y + u1 * v1y);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tgetSide: function(px, py, vx, vy, x, y, asVector, isInfinite) {\n\t\t\tif (!asVector) {\n\t\t\t\tvx -= px;\n\t\t\t\tvy -= py;\n\t\t\t}\n\t\t\tvar v2x = x - px,\n\t\t\t\tv2y = y - py,\n\t\t\t\tccw = v2x * vy - v2y * vx;\n\t\t\tif (!isInfinite && Numerical.isMachineZero(ccw)) {\n\t\t\t\tccw = (v2x * vx + v2x * vx) / (vx * vx + vy * vy);\n\t\t\t\tif (ccw >= 0 && ccw <= 1)\n\t\t\t\t\tccw = 0;\n\t\t\t}\n\t\t\treturn ccw < 0 ? -1 : ccw > 0 ? 1 : 0;\n\t\t},\n\n\t\tgetSignedDistance: function(px, py, vx, vy, x, y, asVector) {\n\t\t\tif (!asVector) {\n\t\t\t\tvx -= px;\n\t\t\t\tvy -= py;\n\t\t\t}\n\t\t\t  return  vx === 0 ? (vy > 0 ? x - px : px - x)\n\t\t\t\t\t: vy === 0 ? (vx < 0 ? y - py : py - y)\n\t\t\t\t\t: ((x - px) * vy - (y - py) * vx) / (\n\t\t\t\t\t\tvy > vx\n\t\t\t\t\t\t\t? vy * Math.sqrt(1 + (vx * vx) / (vy * vy))\n\t\t\t\t\t\t\t: vx * Math.sqrt(1 + (vy * vy) / (vx * vx))\n\t\t\t\t\t);\n\t\t},\n\n\t\tgetDistance: function(px, py, vx, vy, x, y, asVector) {\n\t\t\treturn Math.abs(\n\t\t\t\t\tLine.getSignedDistance(px, py, vx, vy, x, y, asVector));\n\t\t}\n\t}\n});\n\nvar Project = PaperScopeItem.extend({\n\t_class: 'Project',\n\t_list: 'projects',\n\t_reference: 'project',\n\t_compactSerialize: true,\n\n\tinitialize: function Project(element) {\n\t\tPaperScopeItem.call(this, true);\n\t\tthis._children = [];\n\t\tthis._namedChildren = {};\n\t\tthis._activeLayer = null;\n\t\tthis._currentStyle = new Style(null, null, this);\n\t\tthis._view = View.create(this,\n\t\t\t\telement || CanvasProvider.getCanvas(1, 1));\n\t\tthis._selectionItems = {};\n\t\tthis._selectionCount = 0;\n\t\tthis._updateVersion = 0;\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn Base.serialize(this._children, options, true, dictionary);\n\t},\n\n\t_changed: function(flags, item) {\n\t\tif (flags & 1) {\n\t\t\tvar view = this._view;\n\t\t\tif (view) {\n\t\t\t\tview._needsUpdate = true;\n\t\t\t\tif (!view._requested && view._autoUpdate)\n\t\t\t\t\tview.requestUpdate();\n\t\t\t}\n\t\t}\n\t\tvar changes = this._changes;\n\t\tif (changes && item) {\n\t\t\tvar changesById = this._changesById,\n\t\t\t\tid = item._id,\n\t\t\t\tentry = changesById[id];\n\t\t\tif (entry) {\n\t\t\t\tentry.flags |= flags;\n\t\t\t} else {\n\t\t\t\tchanges.push(changesById[id] = { item: item, flags: flags });\n\t\t\t}\n\t\t}\n\t},\n\n\tclear: function() {\n\t\tvar children = this._children;\n\t\tfor (var i = children.length - 1; i >= 0; i--)\n\t\t\tchildren[i].remove();\n\t},\n\n\tisEmpty: function() {\n\t\treturn !this._children.length;\n\t},\n\n\tremove: function remove() {\n\t\tif (!remove.base.call(this))\n\t\t\treturn false;\n\t\tif (this._view)\n\t\t\tthis._view.remove();\n\t\treturn true;\n\t},\n\n\tgetView: function() {\n\t\treturn this._view;\n\t},\n\n\tgetCurrentStyle: function() {\n\t\treturn this._currentStyle;\n\t},\n\n\tsetCurrentStyle: function(style) {\n\t\tthis._currentStyle.set(style);\n\t},\n\n\tgetIndex: function() {\n\t\treturn this._index;\n\t},\n\n\tgetOptions: function() {\n\t\treturn this._scope.settings;\n\t},\n\n\tgetLayers: function() {\n\t\treturn this._children;\n\t},\n\n\tgetActiveLayer: function() {\n\t\treturn this._activeLayer || new Layer({ project: this, insert: true });\n\t},\n\n\tgetSymbolDefinitions: function() {\n\t\tvar definitions = [],\n\t\t\tids = {};\n\t\tthis.getItems({\n\t\t\tclass: SymbolItem,\n\t\t\tmatch: function(item) {\n\t\t\t\tvar definition = item._definition,\n\t\t\t\t\tid = definition._id;\n\t\t\t\tif (!ids[id]) {\n\t\t\t\t\tids[id] = true;\n\t\t\t\t\tdefinitions.push(definition);\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t\treturn definitions;\n\t},\n\n\tgetSymbols: 'getSymbolDefinitions',\n\n\tgetSelectedItems: function() {\n\t\tvar selectionItems = this._selectionItems,\n\t\t\titems = [];\n\t\tfor (var id in selectionItems) {\n\t\t\tvar item = selectionItems[id],\n\t\t\t\tselection = item._selection;\n\t\t\tif ((selection & 1) && item.isInserted()) {\n\t\t\t\titems.push(item);\n\t\t\t} else if (!selection) {\n\t\t\t\tthis._updateSelection(item);\n\t\t\t}\n\t\t}\n\t\treturn items;\n\t},\n\n\t_updateSelection: function(item) {\n\t\tvar id = item._id,\n\t\t\tselectionItems = this._selectionItems;\n\t\tif (item._selection) {\n\t\t\tif (selectionItems[id] !== item) {\n\t\t\t\tthis._selectionCount++;\n\t\t\t\tselectionItems[id] = item;\n\t\t\t}\n\t\t} else if (selectionItems[id] === item) {\n\t\t\tthis._selectionCount--;\n\t\t\tdelete selectionItems[id];\n\t\t}\n\t},\n\n\tselectAll: function() {\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\tchildren[i].setFullySelected(true);\n\t},\n\n\tdeselectAll: function() {\n\t\tvar selectionItems = this._selectionItems;\n\t\tfor (var i in selectionItems)\n\t\t\tselectionItems[i].setFullySelected(false);\n\t},\n\n\taddLayer: function(layer) {\n\t\treturn this.insertLayer(undefined, layer);\n\t},\n\n\tinsertLayer: function(index, layer) {\n\t\tif (layer instanceof Layer) {\n\t\t\tlayer._remove(false, true);\n\t\t\tBase.splice(this._children, [layer], index, 0);\n\t\t\tlayer._setProject(this, true);\n\t\t\tvar name = layer._name;\n\t\t\tif (name)\n\t\t\t\tlayer.setName(name);\n\t\t\tif (this._changes)\n\t\t\t\tlayer._changed(5);\n\t\t\tif (!this._activeLayer)\n\t\t\t\tthis._activeLayer = layer;\n\t\t} else {\n\t\t\tlayer = null;\n\t\t}\n\t\treturn layer;\n\t},\n\n\t_insertItem: function(index, item, _created) {\n\t\titem = this.insertLayer(index, item)\n\t\t\t\t|| (this._activeLayer || this._insertItem(undefined,\n\t\t\t\t\t\tnew Layer(Item.NO_INSERT), true))\n\t\t\t\t\t\t.insertChild(index, item);\n\t\tif (_created && item.activate)\n\t\t\titem.activate();\n\t\treturn item;\n\t},\n\n\tgetItems: function(options) {\n\t\treturn Item._getItems(this, options);\n\t},\n\n\tgetItem: function(options) {\n\t\treturn Item._getItems(this, options, null, null, true)[0] || null;\n\t},\n\n\timportJSON: function(json) {\n\t\tthis.activate();\n\t\tvar layer = this._activeLayer;\n\t\treturn Base.importJSON(json, layer && layer.isEmpty() && layer);\n\t},\n\n\tremoveOn: function(type) {\n\t\tvar sets = this._removeSets;\n\t\tif (sets) {\n\t\t\tif (type === 'mouseup')\n\t\t\t\tsets.mousedrag = null;\n\t\t\tvar set = sets[type];\n\t\t\tif (set) {\n\t\t\t\tfor (var id in set) {\n\t\t\t\t\tvar item = set[id];\n\t\t\t\t\tfor (var key in sets) {\n\t\t\t\t\t\tvar other = sets[key];\n\t\t\t\t\t\tif (other && other != set)\n\t\t\t\t\t\t\tdelete other[item._id];\n\t\t\t\t\t}\n\t\t\t\t\titem.remove();\n\t\t\t\t}\n\t\t\t\tsets[type] = null;\n\t\t\t}\n\t\t}\n\t},\n\n\tdraw: function(ctx, matrix, pixelRatio) {\n\t\tthis._updateVersion++;\n\t\tctx.save();\n\t\tmatrix.applyToContext(ctx);\n\t\tvar children = this._children,\n\t\t\tparam = new Base({\n\t\t\t\toffset: new Point(0, 0),\n\t\t\t\tpixelRatio: pixelRatio,\n\t\t\t\tviewMatrix: matrix.isIdentity() ? null : matrix,\n\t\t\t\tmatrices: [new Matrix()],\n\t\t\t\tupdateMatrix: true\n\t\t\t});\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tchildren[i].draw(ctx, param);\n\t\t}\n\t\tctx.restore();\n\n\t\tif (this._selectionCount > 0) {\n\t\t\tctx.save();\n\t\t\tctx.strokeWidth = 1;\n\t\t\tvar items = this._selectionItems,\n\t\t\t\tsize = this._scope.settings.handleSize,\n\t\t\t\tversion = this._updateVersion;\n\t\t\tfor (var id in items) {\n\t\t\t\titems[id]._drawSelection(ctx, matrix, size, items, version);\n\t\t\t}\n\t\t\tctx.restore();\n\t\t}\n\t}\n});\n\nvar Item = Base.extend(Emitter, {\n\tstatics: {\n\t\textend: function extend(src) {\n\t\t\tif (src._serializeFields)\n\t\t\t\tsrc._serializeFields = Base.set({},\n\t\t\t\t\tthis.prototype._serializeFields, src._serializeFields);\n\t\t\treturn extend.base.apply(this, arguments);\n\t\t},\n\n\t\tNO_INSERT: { insert: false }\n\t},\n\n\t_class: 'Item',\n\t_name: null,\n\t_applyMatrix: true,\n\t_canApplyMatrix: true,\n\t_canScaleStroke: false,\n\t_pivot: null,\n\t_visible: true,\n\t_blendMode: 'normal',\n\t_opacity: 1,\n\t_locked: false,\n\t_guide: false,\n\t_clipMask: false,\n\t_selection: 0,\n\t_selectBounds: true,\n\t_selectChildren: false,\n\t_serializeFields: {\n\t\tname: null,\n\t\tapplyMatrix: null,\n\t\tmatrix: new Matrix(),\n\t\tpivot: null,\n\t\tvisible: true,\n\t\tblendMode: 'normal',\n\t\topacity: 1,\n\t\tlocked: false,\n\t\tguide: false,\n\t\tclipMask: false,\n\t\tselected: false,\n\t\tdata: {}\n\t},\n\t_prioritize: ['applyMatrix']\n},\nnew function() {\n\tvar handlers = ['onMouseDown', 'onMouseUp', 'onMouseDrag', 'onClick',\n\t\t\t'onDoubleClick', 'onMouseMove', 'onMouseEnter', 'onMouseLeave'];\n\treturn Base.each(handlers,\n\t\tfunction(name) {\n\t\t\tthis._events[name] = {\n\t\t\t\tinstall: function(type) {\n\t\t\t\t\tthis.getView()._countItemEvent(type, 1);\n\t\t\t\t},\n\n\t\t\t\tuninstall: function(type) {\n\t\t\t\t\tthis.getView()._countItemEvent(type, -1);\n\t\t\t\t}\n\t\t\t};\n\t\t}, {\n\t\t\t_events: {\n\t\t\t\tonFrame: {\n\t\t\t\t\tinstall: function() {\n\t\t\t\t\t\tthis.getView()._animateItem(this, true);\n\t\t\t\t\t},\n\n\t\t\t\t\tuninstall: function() {\n\t\t\t\t\t\tthis.getView()._animateItem(this, false);\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tonLoad: {},\n\t\t\t\tonError: {}\n\t\t\t},\n\t\t\tstatics: {\n\t\t\t\t_itemHandlers: handlers\n\t\t\t}\n\t\t}\n\t);\n}, {\n\tinitialize: function Item() {\n\t},\n\n\t_initialize: function(props, point) {\n\t\tvar hasProps = props && Base.isPlainObject(props),\n\t\t\tinternal = hasProps && props.internal === true,\n\t\t\tmatrix = this._matrix = new Matrix(),\n\t\t\tproject = hasProps && props.project || paper.project,\n\t\t\tsettings = paper.settings;\n\t\tthis._id = internal ? null : UID.get();\n\t\tthis._parent = this._index = null;\n\t\tthis._applyMatrix = this._canApplyMatrix && settings.applyMatrix;\n\t\tif (point)\n\t\t\tmatrix.translate(point);\n\t\tmatrix._owner = this;\n\t\tthis._style = new Style(project._currentStyle, this, project);\n\t\tif (internal || hasProps && props.insert == false\n\t\t\t|| !settings.insertItems && !(hasProps && props.insert === true)) {\n\t\t\tthis._setProject(project);\n\t\t} else {\n\t\t\t(hasProps && props.parent || project)\n\t\t\t\t\t._insertItem(undefined, this, true);\n\t\t}\n\t\tif (hasProps && props !== Item.NO_INSERT) {\n\t\t\tthis.set(props, {\n\t\t\t\tinternal: true, insert: true, project: true, parent: true\n\t\t\t});\n\t\t}\n\t\treturn hasProps;\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\tvar props = {},\n\t\t\tthat = this;\n\n\t\tfunction serialize(fields) {\n\t\t\tfor (var key in fields) {\n\t\t\t\tvar value = that[key];\n\t\t\t\tif (!Base.equals(value, key === 'leading'\n\t\t\t\t\t\t? fields.fontSize * 1.2 : fields[key])) {\n\t\t\t\t\tprops[key] = Base.serialize(value, options,\n\t\t\t\t\t\t\tkey !== 'data', dictionary);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tserialize(this._serializeFields);\n\t\tif (!(this instanceof Group))\n\t\t\tserialize(this._style._defaults);\n\t\treturn [ this._class, props ];\n\t},\n\n\t_changed: function(flags) {\n\t\tvar symbol = this._symbol,\n\t\t\tcacheParent = this._parent || symbol,\n\t\t\tproject = this._project;\n\t\tif (flags & 8) {\n\t\t\tthis._bounds = this._position = this._decomposed = undefined;\n\t\t}\n\t\tif (flags & 16) {\n\t\t\tthis._globalMatrix = undefined;\n\t\t}\n\t\tif (cacheParent\n\t\t\t\t&& (flags & 72)) {\n\t\t\tItem._clearBoundsCache(cacheParent);\n\t\t}\n\t\tif (flags & 2) {\n\t\t\tItem._clearBoundsCache(this);\n\t\t}\n\t\tif (project)\n\t\t\tproject._changed(flags, this);\n\t\tif (symbol)\n\t\t\tsymbol._changed(flags);\n\t},\n\n\tgetId: function() {\n\t\treturn this._id;\n\t},\n\n\tgetName: function() {\n\t\treturn this._name;\n\t},\n\n\tsetName: function(name) {\n\n\t\tif (this._name)\n\t\t\tthis._removeNamed();\n\t\tif (name === (+name) + '')\n\t\t\tthrow new Error(\n\t\t\t\t\t'Names consisting only of numbers are not supported.');\n\t\tvar owner = this._getOwner();\n\t\tif (name && owner) {\n\t\t\tvar children = owner._children,\n\t\t\t\tnamedChildren = owner._namedChildren;\n\t\t\t(namedChildren[name] = namedChildren[name] || []).push(this);\n\t\t\tif (!(name in children))\n\t\t\t\tchildren[name] = this;\n\t\t}\n\t\tthis._name = name || undefined;\n\t\tthis._changed(256);\n\t},\n\n\tgetStyle: function() {\n\t\treturn this._style;\n\t},\n\n\tsetStyle: function(style) {\n\t\tthis.getStyle().set(style);\n\t}\n}, Base.each(['locked', 'visible', 'blendMode', 'opacity', 'guide'],\n\tfunction(name) {\n\t\tvar part = Base.capitalize(name),\n\t\t\tkey = '_' + name,\n\t\t\tflags = {\n\t\t\t\tlocked: 256,\n\t\t\t\tvisible: 265\n\t\t\t};\n\t\tthis['get' + part] = function() {\n\t\t\treturn this[key];\n\t\t};\n\t\tthis['set' + part] = function(value) {\n\t\t\tif (value != this[key]) {\n\t\t\t\tthis[key] = value;\n\t\t\t\tthis._changed(flags[name] || 257);\n\t\t\t}\n\t\t};\n\t},\n{}), {\n\tbeans: true,\n\n\tgetSelection: function() {\n\t\treturn this._selection;\n\t},\n\n\tsetSelection: function(selection) {\n\t\tif (selection !== this._selection) {\n\t\t\tthis._selection = selection;\n\t\t\tvar project = this._project;\n\t\t\tif (project) {\n\t\t\t\tproject._updateSelection(this);\n\t\t\t\tthis._changed(257);\n\t\t\t}\n\t\t}\n\t},\n\n\t_changeSelection: function(flag, selected) {\n\t\tvar selection = this._selection;\n\t\tthis.setSelection(selected ? selection | flag : selection & ~flag);\n\t},\n\n\tisSelected: function() {\n\t\tif (this._selectChildren) {\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tif (children[i].isSelected())\n\t\t\t\t\treturn true;\n\t\t}\n\t\treturn !!(this._selection & 1);\n\t},\n\n\tsetSelected: function(selected) {\n\t\tif (this._selectChildren) {\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tchildren[i].setSelected(selected);\n\t\t}\n\t\tthis._changeSelection(1, selected);\n\t},\n\n\tisFullySelected: function() {\n\t\tvar children = this._children,\n\t\t\tselected = !!(this._selection & 1);\n\t\tif (children && selected) {\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tif (!children[i].isFullySelected())\n\t\t\t\t\treturn false;\n\t\t\treturn true;\n\t\t}\n\t\treturn selected;\n\t},\n\n\tsetFullySelected: function(selected) {\n\t\tvar children = this._children;\n\t\tif (children) {\n\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\tchildren[i].setFullySelected(selected);\n\t\t}\n\t\tthis._changeSelection(1, selected);\n\t},\n\n\tisClipMask: function() {\n\t\treturn this._clipMask;\n\t},\n\n\tsetClipMask: function(clipMask) {\n\t\tif (this._clipMask != (clipMask = !!clipMask)) {\n\t\t\tthis._clipMask = clipMask;\n\t\t\tif (clipMask) {\n\t\t\t\tthis.setFillColor(null);\n\t\t\t\tthis.setStrokeColor(null);\n\t\t\t}\n\t\t\tthis._changed(257);\n\t\t\tif (this._parent)\n\t\t\t\tthis._parent._changed(2048);\n\t\t}\n\t},\n\n\tgetData: function() {\n\t\tif (!this._data)\n\t\t\tthis._data = {};\n\t\treturn this._data;\n\t},\n\n\tsetData: function(data) {\n\t\tthis._data = data;\n\t},\n\n\tgetPosition: function(_dontLink) {\n\t\tvar ctor = _dontLink ? Point : LinkedPoint;\n\t\tvar position = this._position ||\n\t\t\t(this._position = this._getPositionFromBounds());\n\t\treturn new ctor(position.x, position.y, this, 'setPosition');\n\t},\n\n\tsetPosition: function() {\n\t\tthis.translate(Point.read(arguments).subtract(this.getPosition(true)));\n\t},\n\n\t_getPositionFromBounds: function(bounds) {\n\t\treturn this._pivot\n\t\t\t\t? this._matrix._transformPoint(this._pivot)\n\t\t\t\t: (bounds || this.getBounds()).getCenter(true);\n\t},\n\n\tgetPivot: function() {\n\t\tvar pivot = this._pivot;\n\t\treturn pivot\n\t\t\t\t? new LinkedPoint(pivot.x, pivot.y, this, 'setPivot')\n\t\t\t\t: null;\n\t},\n\n\tsetPivot: function() {\n\t\tthis._pivot = Point.read(arguments, 0, { clone: true, readNull: true });\n\t\tthis._position = undefined;\n\t}\n}, Base.each({\n\t\tgetStrokeBounds: { stroke: true },\n\t\tgetHandleBounds: { handle: true },\n\t\tgetInternalBounds: { internal: true }\n\t},\n\tfunction(options, key) {\n\t\tthis[key] = function(matrix) {\n\t\t\treturn this.getBounds(matrix, options);\n\t\t};\n\t},\n{\n\tbeans: true,\n\n\tgetBounds: function(matrix, options) {\n\t\tvar hasMatrix = options || matrix instanceof Matrix,\n\t\t\topts = Base.set({}, hasMatrix ? options : matrix,\n\t\t\t\t\tthis._boundsOptions);\n\t\tif (!opts.stroke || this.getStrokeScaling())\n\t\t\topts.cacheItem = this;\n\t\tvar rect = this._getCachedBounds(hasMatrix && matrix, opts).rect;\n\t\treturn !arguments.length\n\t\t\t\t? new LinkedRectangle(rect.x, rect.y, rect.width, rect.height,\n\t\t\t\t\tthis, 'setBounds')\n\t\t\t\t: rect;\n\t},\n\n\tsetBounds: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tbounds = this.getBounds(),\n\t\t\t_matrix = this._matrix,\n\t\t\tmatrix = new Matrix(),\n\t\t\tcenter = rect.getCenter();\n\t\tmatrix.translate(center);\n\t\tif (rect.width != bounds.width || rect.height != bounds.height) {\n\t\t\tif (!_matrix.isInvertible()) {\n\t\t\t\t_matrix.set(_matrix._backup\n\t\t\t\t\t\t|| new Matrix().translate(_matrix.getTranslation()));\n\t\t\t\tbounds = this.getBounds();\n\t\t\t}\n\t\t\tmatrix.scale(\n\t\t\t\t\tbounds.width !== 0 ? rect.width / bounds.width : 0,\n\t\t\t\t\tbounds.height !== 0 ? rect.height / bounds.height : 0);\n\t\t}\n\t\tcenter = bounds.getCenter();\n\t\tmatrix.translate(-center.x, -center.y);\n\t\tthis.transform(matrix);\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar children = this._children;\n\t\tif (!children || !children.length)\n\t\t\treturn new Rectangle();\n\t\tItem._updateBoundsCache(this, options.cacheItem);\n\t\treturn Item._getBounds(children, matrix, options);\n\t},\n\n\t_getBoundsCacheKey: function(options, internal) {\n\t\treturn [\n\t\t\toptions.stroke ? 1 : 0,\n\t\t\toptions.handle ? 1 : 0,\n\t\t\tinternal ? 1 : 0\n\t\t].join('');\n\t},\n\n\t_getCachedBounds: function(matrix, options, noInternal) {\n\t\tmatrix = matrix && matrix._orNullIfIdentity();\n\t\tvar internal = options.internal && !noInternal,\n\t\t\tcacheItem = options.cacheItem,\n\t\t\t_matrix = internal ? null : this._matrix._orNullIfIdentity(),\n\t\t\tcacheKey = cacheItem && (!matrix || matrix.equals(_matrix))\n\t\t\t\t&& this._getBoundsCacheKey(options, internal),\n\t\t\tbounds = this._bounds;\n\t\tItem._updateBoundsCache(this._parent || this._symbol, cacheItem);\n\t\tif (cacheKey && bounds && cacheKey in bounds) {\n\t\t\tvar cached = bounds[cacheKey];\n\t\t\treturn {\n\t\t\t\trect: cached.rect.clone(),\n\t\t\t\tnonscaling: cached.nonscaling\n\t\t\t};\n\t\t}\n\t\tvar res = this._getBounds(matrix || _matrix, options),\n\t\t\trect = res.rect || res,\n\t\t\tstyle = this._style,\n\t\t\tnonscaling = res.nonscaling || style.hasStroke()\n\t\t\t\t&& !style.getStrokeScaling();\n\t\tif (cacheKey) {\n\t\t\tif (!bounds) {\n\t\t\t\tthis._bounds = bounds = {};\n\t\t\t}\n\t\t\tvar cached = bounds[cacheKey] = {\n\t\t\t\trect: rect.clone(),\n\t\t\t\tnonscaling: nonscaling,\n\t\t\t\tinternal: internal\n\t\t\t};\n\t\t}\n\t\treturn {\n\t\t\trect: rect,\n\t\t\tnonscaling: nonscaling\n\t\t};\n\t},\n\n\t_getStrokeMatrix: function(matrix, options) {\n\t\tvar parent = this.getStrokeScaling() ? null\n\t\t\t\t: options && options.internal ? this\n\t\t\t\t\t: this._parent || this._symbol && this._symbol._item,\n\t\t\tmx = parent ? parent.getViewMatrix().invert() : matrix;\n\t\treturn mx && mx._shiftless();\n\t},\n\n\tstatics: {\n\t\t_updateBoundsCache: function(parent, item) {\n\t\t\tif (parent && item) {\n\t\t\t\tvar id = item._id,\n\t\t\t\t\tref = parent._boundsCache = parent._boundsCache || {\n\t\t\t\t\t\tids: {},\n\t\t\t\t\t\tlist: []\n\t\t\t\t\t};\n\t\t\t\tif (!ref.ids[id]) {\n\t\t\t\t\tref.list.push(item);\n\t\t\t\t\tref.ids[id] = item;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_clearBoundsCache: function(item) {\n\t\t\tvar cache = item._boundsCache;\n\t\t\tif (cache) {\n\t\t\t\titem._bounds = item._position = item._boundsCache = undefined;\n\t\t\t\tfor (var i = 0, list = cache.list, l = list.length; i < l; i++){\n\t\t\t\t\tvar other = list[i];\n\t\t\t\t\tif (other !== item) {\n\t\t\t\t\t\tother._bounds = other._position = undefined;\n\t\t\t\t\t\tif (other._boundsCache)\n\t\t\t\t\t\t\tItem._clearBoundsCache(other);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_getBounds: function(items, matrix, options) {\n\t\t\tvar x1 = Infinity,\n\t\t\t\tx2 = -x1,\n\t\t\t\ty1 = x1,\n\t\t\t\ty2 = x2,\n\t\t\t\tnonscaling = false;\n\t\t\toptions = options || {};\n\t\t\tfor (var i = 0, l = items.length; i < l; i++) {\n\t\t\t\tvar item = items[i];\n\t\t\t\tif (item._visible && !item.isEmpty(true)) {\n\t\t\t\t\tvar bounds = item._getCachedBounds(\n\t\t\t\t\t\tmatrix && matrix.appended(item._matrix), options, true),\n\t\t\t\t\t\trect = bounds.rect;\n\t\t\t\t\tx1 = Math.min(rect.x, x1);\n\t\t\t\t\ty1 = Math.min(rect.y, y1);\n\t\t\t\t\tx2 = Math.max(rect.x + rect.width, x2);\n\t\t\t\t\ty2 = Math.max(rect.y + rect.height, y2);\n\t\t\t\t\tif (bounds.nonscaling)\n\t\t\t\t\t\tnonscaling = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn {\n\t\t\t\trect: isFinite(x1)\n\t\t\t\t\t? new Rectangle(x1, y1, x2 - x1, y2 - y1)\n\t\t\t\t\t: new Rectangle(),\n\t\t\t\tnonscaling: nonscaling\n\t\t\t};\n\t\t}\n\t}\n\n}), {\n\tbeans: true,\n\n\t_decompose: function() {\n\t\treturn this._applyMatrix\n\t\t\t? null\n\t\t\t: this._decomposed || (this._decomposed = this._matrix.decompose());\n\t},\n\n\tgetRotation: function() {\n\t\tvar decomposed = this._decompose();\n\t\treturn decomposed ? decomposed.rotation : 0;\n\t},\n\n\tsetRotation: function(rotation) {\n\t\tvar current = this.getRotation();\n\t\tif (current != null && rotation != null) {\n\t\t\tvar decomposed = this._decomposed;\n\t\t\tthis.rotate(rotation - current);\n\t\t\tif (decomposed) {\n\t\t\t\tdecomposed.rotation = rotation;\n\t\t\t\tthis._decomposed = decomposed;\n\t\t\t}\n\t\t}\n\t},\n\n\tgetScaling: function() {\n\t\tvar decomposed = this._decompose(),\n\t\t\ts = decomposed && decomposed.scaling;\n\t\treturn new LinkedPoint(s ? s.x : 1, s ? s.y : 1, this, 'setScaling');\n\t},\n\n\tsetScaling: function() {\n\t\tvar current = this.getScaling(),\n\t\t\tscaling = Point.read(arguments, 0, { clone: true, readNull: true });\n\t\tif (current && scaling && !current.equals(scaling)) {\n\t\t\tvar rotation = this.getRotation(),\n\t\t\t\tdecomposed = this._decomposed,\n\t\t\t\tmatrix = new Matrix(),\n\t\t\t\tcenter = this.getPosition(true);\n\t\t\tmatrix.translate(center);\n\t\t\tif (rotation)\n\t\t\t\tmatrix.rotate(rotation);\n\t\t\tmatrix.scale(scaling.x / current.x, scaling.y / current.y);\n\t\t\tif (rotation)\n\t\t\t\tmatrix.rotate(-rotation);\n\t\t\tmatrix.translate(center.negate());\n\t\t\tthis.transform(matrix);\n\t\t\tif (decomposed) {\n\t\t\t\tdecomposed.scaling = scaling;\n\t\t\t\tthis._decomposed = decomposed;\n\t\t\t}\n\t\t}\n\t},\n\n\tgetMatrix: function() {\n\t\treturn this._matrix;\n\t},\n\n\tsetMatrix: function() {\n\t\tvar matrix = this._matrix;\n\t\tmatrix.initialize.apply(matrix, arguments);\n\t},\n\n\tgetGlobalMatrix: function(_dontClone) {\n\t\tvar matrix = this._globalMatrix;\n\t\tif (matrix) {\n\t\t\tvar parent = this._parent;\n\t\t\tvar parents = [];\n\t\t\twhile (parent) {\n\t\t\t\tif (!parent._globalMatrix) {\n\t\t\t\t\tmatrix = null;\n\t\t\t\t\tfor (var i = 0, l = parents.length; i < l; i++) {\n\t\t\t\t\t\tparents[i]._globalMatrix = null;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tparents.push(parent);\n\t\t\t\tparent = parent._parent;\n\t\t\t}\n\t\t}\n\t\tif (!matrix) {\n\t\t\tmatrix = this._globalMatrix = this._matrix.clone();\n\t\t\tvar parent = this._parent;\n\t\t\tif (parent)\n\t\t\t\tmatrix.prepend(parent.getGlobalMatrix(true));\n\t\t}\n\t\treturn _dontClone ? matrix : matrix.clone();\n\t},\n\n\tgetViewMatrix: function() {\n\t\treturn this.getGlobalMatrix().prepend(this.getView()._matrix);\n\t},\n\n\tgetApplyMatrix: function() {\n\t\treturn this._applyMatrix;\n\t},\n\n\tsetApplyMatrix: function(apply) {\n\t\tif (this._applyMatrix = this._canApplyMatrix && !!apply)\n\t\t\tthis.transform(null, true);\n\t},\n\n\tgetTransformContent: '#getApplyMatrix',\n\tsetTransformContent: '#setApplyMatrix',\n}, {\n\tgetProject: function() {\n\t\treturn this._project;\n\t},\n\n\t_setProject: function(project, installEvents) {\n\t\tif (this._project !== project) {\n\t\t\tif (this._project)\n\t\t\t\tthis._installEvents(false);\n\t\t\tthis._project = project;\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children && children.length; i < l; i++)\n\t\t\t\tchildren[i]._setProject(project);\n\t\t\tinstallEvents = true;\n\t\t}\n\t\tif (installEvents)\n\t\t\tthis._installEvents(true);\n\t},\n\n\tgetView: function() {\n\t\treturn this._project._view;\n\t},\n\n\t_installEvents: function _installEvents(install) {\n\t\t_installEvents.base.call(this, install);\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children && children.length; i < l; i++)\n\t\t\tchildren[i]._installEvents(install);\n\t},\n\n\tgetLayer: function() {\n\t\tvar parent = this;\n\t\twhile (parent = parent._parent) {\n\t\t\tif (parent instanceof Layer)\n\t\t\t\treturn parent;\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetParent: function() {\n\t\treturn this._parent;\n\t},\n\n\tsetParent: function(item) {\n\t\treturn item.addChild(this);\n\t},\n\n\t_getOwner: '#getParent',\n\n\tgetChildren: function() {\n\t\treturn this._children;\n\t},\n\n\tsetChildren: function(items) {\n\t\tthis.removeChildren();\n\t\tthis.addChildren(items);\n\t},\n\n\tgetFirstChild: function() {\n\t\treturn this._children && this._children[0] || null;\n\t},\n\n\tgetLastChild: function() {\n\t\treturn this._children && this._children[this._children.length - 1]\n\t\t\t\t|| null;\n\t},\n\n\tgetNextSibling: function() {\n\t\tvar owner = this._getOwner();\n\t\treturn owner && owner._children[this._index + 1] || null;\n\t},\n\n\tgetPreviousSibling: function() {\n\t\tvar owner = this._getOwner();\n\t\treturn owner && owner._children[this._index - 1] || null;\n\t},\n\n\tgetIndex: function() {\n\t\treturn this._index;\n\t},\n\n\tequals: function(item) {\n\t\treturn item === this || item && this._class === item._class\n\t\t\t\t&& this._style.equals(item._style)\n\t\t\t\t&& this._matrix.equals(item._matrix)\n\t\t\t\t&& this._locked === item._locked\n\t\t\t\t&& this._visible === item._visible\n\t\t\t\t&& this._blendMode === item._blendMode\n\t\t\t\t&& this._opacity === item._opacity\n\t\t\t\t&& this._clipMask === item._clipMask\n\t\t\t\t&& this._guide === item._guide\n\t\t\t\t&& this._equals(item)\n\t\t\t\t|| false;\n\t},\n\n\t_equals: function(item) {\n\t\treturn Base.equals(this._children, item._children);\n\t},\n\n\tclone: function(options) {\n\t\tvar copy = new this.constructor(Item.NO_INSERT),\n\t\t\tchildren = this._children,\n\t\t\tinsert = Base.pick(options ? options.insert : undefined,\n\t\t\t\t\toptions === undefined || options === true),\n\t\t\tdeep = Base.pick(options ? options.deep : undefined, true);\n\t\tif (children)\n\t\t\tcopy.copyAttributes(this);\n\t\tif (!children || deep)\n\t\t\tcopy.copyContent(this);\n\t\tif (!children)\n\t\t\tcopy.copyAttributes(this);\n\t\tif (insert)\n\t\t\tcopy.insertAbove(this);\n\t\tvar name = this._name,\n\t\t\tparent = this._parent;\n\t\tif (name && parent) {\n\t\t\tvar children = parent._children,\n\t\t\t\torig = name,\n\t\t\t\ti = 1;\n\t\t\twhile (children[name])\n\t\t\t\tname = orig + ' ' + (i++);\n\t\t\tif (name !== orig)\n\t\t\t\tcopy.setName(name);\n\t\t}\n\t\treturn copy;\n\t},\n\n\tcopyContent: function(source) {\n\t\tvar children = source._children;\n\t\tfor (var i = 0, l = children && children.length; i < l; i++) {\n\t\t\tthis.addChild(children[i].clone(false), true);\n\t\t}\n\t},\n\n\tcopyAttributes: function(source, excludeMatrix) {\n\t\tthis.setStyle(source._style);\n\t\tvar keys = ['_locked', '_visible', '_blendMode', '_opacity',\n\t\t\t\t'_clipMask', '_guide'];\n\t\tfor (var i = 0, l = keys.length; i < l; i++) {\n\t\t\tvar key = keys[i];\n\t\t\tif (source.hasOwnProperty(key))\n\t\t\t\tthis[key] = source[key];\n\t\t}\n\t\tif (!excludeMatrix)\n\t\t\tthis._matrix.set(source._matrix, true);\n\t\tthis.setApplyMatrix(source._applyMatrix);\n\t\tthis.setPivot(source._pivot);\n\t\tthis.setSelection(source._selection);\n\t\tvar data = source._data,\n\t\t\tname = source._name;\n\t\tthis._data = data ? Base.clone(data) : null;\n\t\tif (name)\n\t\t\tthis.setName(name);\n\t},\n\n\trasterize: function(resolution, insert) {\n\t\tvar bounds = this.getStrokeBounds(),\n\t\t\tscale = (resolution || this.getView().getResolution()) / 72,\n\t\t\ttopLeft = bounds.getTopLeft().floor(),\n\t\t\tbottomRight = bounds.getBottomRight().ceil(),\n\t\t\tsize = new Size(bottomRight.subtract(topLeft)),\n\t\t\traster = new Raster(Item.NO_INSERT);\n\t\tif (!size.isZero()) {\n\t\t\tvar canvas = CanvasProvider.getCanvas(size.multiply(scale)),\n\t\t\t\tctx = canvas.getContext('2d'),\n\t\t\t\tmatrix = new Matrix().scale(scale).translate(topLeft.negate());\n\t\t\tctx.save();\n\t\t\tmatrix.applyToContext(ctx);\n\t\t\tthis.draw(ctx, new Base({ matrices: [matrix] }));\n\t\t\tctx.restore();\n\t\t\traster.setCanvas(canvas);\n\t\t}\n\t\traster.transform(new Matrix().translate(topLeft.add(size.divide(2)))\n\t\t\t\t.scale(1 / scale));\n\t\tif (insert === undefined || insert)\n\t\t\traster.insertAbove(this);\n\t\treturn raster;\n\t},\n\n\tcontains: function() {\n\t\tvar matrix = this._matrix;\n\t\treturn (\n\t\t\tmatrix.isInvertible() &&\n\t\t\t!!this._contains(matrix._inverseTransform(Point.read(arguments)))\n\t\t);\n\t},\n\n\t_contains: function(point) {\n\t\tvar children = this._children;\n\t\tif (children) {\n\t\t\tfor (var i = children.length - 1; i >= 0; i--) {\n\t\t\t\tif (children[i].contains(point))\n\t\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\t\treturn point.isInside(this.getInternalBounds());\n\t},\n\n\tisInside: function() {\n\t\treturn Rectangle.read(arguments).contains(this.getBounds());\n\t},\n\n\t_asPathItem: function() {\n\t\treturn new Path.Rectangle({\n\t\t\trectangle: this.getInternalBounds(),\n\t\t\tmatrix: this._matrix,\n\t\t\tinsert: false,\n\t\t});\n\t},\n\n\tintersects: function(item, _matrix) {\n\t\tif (!(item instanceof Item))\n\t\t\treturn false;\n\t\treturn this._asPathItem().getIntersections(item._asPathItem(), null,\n\t\t\t\t_matrix, true).length > 0;\n\t}\n},\nnew function() {\n\tfunction hitTest() {\n\t\tvar args = arguments;\n\t\treturn this._hitTest(\n\t\t\t\tPoint.read(args),\n\t\t\t\tHitResult.getOptions(args));\n\t}\n\n\tfunction hitTestAll() {\n\t\tvar args = arguments,\n\t\t\tpoint = Point.read(args),\n\t\t\toptions = HitResult.getOptions(args),\n\t\t\tall = [];\n\t\tthis._hitTest(point, new Base({ all: all }, options));\n\t\treturn all;\n\t}\n\n\tfunction hitTestChildren(point, options, viewMatrix, _exclude) {\n\t\tvar children = this._children;\n\t\tif (children) {\n\t\t\tfor (var i = children.length - 1; i >= 0; i--) {\n\t\t\t\tvar child = children[i];\n\t\t\t\tvar res = child !== _exclude && child._hitTest(point, options,\n\t\t\t\t\t\tviewMatrix);\n\t\t\t\tif (res && !options.all)\n\t\t\t\t\treturn res;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\tProject.inject({\n\t\thitTest: hitTest,\n\t\thitTestAll: hitTestAll,\n\t\t_hitTest: hitTestChildren\n\t});\n\n\treturn {\n\t\thitTest: hitTest,\n\t\thitTestAll: hitTestAll,\n\t\t_hitTestChildren: hitTestChildren,\n\t};\n}, {\n\n\t_hitTest: function(point, options, parentViewMatrix) {\n\t\tif (this._locked || !this._visible || this._guide && !options.guides\n\t\t\t\t|| this.isEmpty()) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar matrix = this._matrix,\n\t\t\tviewMatrix = parentViewMatrix\n\t\t\t\t\t? parentViewMatrix.appended(matrix)\n\t\t\t\t\t: this.getGlobalMatrix().prepend(this.getView()._matrix),\n\t\t\ttolerance = Math.max(options.tolerance, 1e-12),\n\t\t\ttolerancePadding = options._tolerancePadding = new Size(\n\t\t\t\t\tPath._getStrokePadding(tolerance,\n\t\t\t\t\t\tmatrix._shiftless().invert()));\n\t\tpoint = matrix._inverseTransform(point);\n\t\tif (!point || !this._children &&\n\t\t\t!this.getBounds({ internal: true, stroke: true, handle: true })\n\t\t\t\t.expand(tolerancePadding.multiply(2))._containsPoint(point)) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar checkSelf = !(options.guides && !this._guide\n\t\t\t\t|| options.selected && !this.isSelected()\n\t\t\t\t|| options.type && options.type !== Base.hyphenate(this._class)\n\t\t\t\t|| options.class && !(this instanceof options.class)),\n\t\t\tmatch = options.match,\n\t\t\tthat = this,\n\t\t\tbounds,\n\t\t\tres;\n\n\t\tfunction filter(hit) {\n\t\t\tif (hit && match && !match(hit))\n\t\t\t\thit = null;\n\t\t\tif (hit && options.all)\n\t\t\t\toptions.all.push(hit);\n\t\t\treturn hit;\n\t\t}\n\n\t\tfunction checkPoint(type, part) {\n\t\t\tvar pt = part ? bounds['get' + part]() : that.getPosition();\n\t\t\tif (point.subtract(pt).divide(tolerancePadding).length <= 1) {\n\t\t\t\treturn new HitResult(type, that, {\n\t\t\t\t\tname: part ? Base.hyphenate(part) : type,\n\t\t\t\t\tpoint: pt\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tvar checkPosition = options.position,\n\t\t\tcheckCenter = options.center,\n\t\t\tcheckBounds = options.bounds;\n\t\tif (checkSelf && this._parent\n\t\t\t\t&& (checkPosition || checkCenter || checkBounds)) {\n\t\t\tif (checkCenter || checkBounds) {\n\t\t\t\tbounds = this.getInternalBounds();\n\t\t\t}\n\t\t\tres = checkPosition && checkPoint('position') ||\n\t\t\t\t\tcheckCenter && checkPoint('center', 'Center');\n\t\t\tif (!res && checkBounds) {\n\t\t\t\tvar points = [\n\t\t\t\t\t'TopLeft', 'TopRight', 'BottomLeft', 'BottomRight',\n\t\t\t\t\t'LeftCenter', 'TopCenter', 'RightCenter', 'BottomCenter'\n\t\t\t\t];\n\t\t\t\tfor (var i = 0; i < 8 && !res; i++) {\n\t\t\t\t\tres = checkPoint('bounds', points[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tres = filter(res);\n\t\t}\n\n\t\tif (!res) {\n\t\t\tres = this._hitTestChildren(point, options, viewMatrix)\n\t\t\t\t|| checkSelf\n\t\t\t\t\t&& filter(this._hitTestSelf(point, options, viewMatrix,\n\t\t\t\t\t\tthis.getStrokeScaling() ? null\n\t\t\t\t\t\t\t: viewMatrix._shiftless().invert()))\n\t\t\t\t|| null;\n\t\t}\n\t\tif (res && res.point) {\n\t\t\tres.point = matrix.transform(res.point);\n\t\t}\n\t\treturn res;\n\t},\n\n\t_hitTestSelf: function(point, options) {\n\t\tif (options.fill && this.hasFill() && this._contains(point))\n\t\t\treturn new HitResult('fill', this);\n\t},\n\n\tmatches: function(name, compare) {\n\t\tfunction matchObject(obj1, obj2) {\n\t\t\tfor (var i in obj1) {\n\t\t\t\tif (obj1.hasOwnProperty(i)) {\n\t\t\t\t\tvar val1 = obj1[i],\n\t\t\t\t\t\tval2 = obj2[i];\n\t\t\t\t\tif (Base.isPlainObject(val1) && Base.isPlainObject(val2)) {\n\t\t\t\t\t\tif (!matchObject(val1, val2))\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else if (!Base.equals(val1, val2)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\tvar type = typeof name;\n\t\tif (type === 'object') {\n\t\t\tfor (var key in name) {\n\t\t\t\tif (name.hasOwnProperty(key) && !this.matches(key, name[key]))\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t} else if (type === 'function') {\n\t\t\treturn name(this);\n\t\t} else if (name === 'match') {\n\t\t\treturn compare(this);\n\t\t} else {\n\t\t\tvar value = /^(empty|editable)$/.test(name)\n\t\t\t\t\t? this['is' + Base.capitalize(name)]()\n\t\t\t\t\t: name === 'type'\n\t\t\t\t\t\t? Base.hyphenate(this._class)\n\t\t\t\t\t\t: this[name];\n\t\t\tif (name === 'class') {\n\t\t\t\tif (typeof compare === 'function')\n\t\t\t\t\treturn this instanceof compare;\n\t\t\t\tvalue = this._class;\n\t\t\t}\n\t\t\tif (typeof compare === 'function') {\n\t\t\t\treturn !!compare(value);\n\t\t\t} else if (compare) {\n\t\t\t\tif (compare.test) {\n\t\t\t\t\treturn compare.test(value);\n\t\t\t\t} else if (Base.isPlainObject(compare)) {\n\t\t\t\t\treturn matchObject(compare, value);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn Base.equals(value, compare);\n\t\t}\n\t},\n\n\tgetItems: function(options) {\n\t\treturn Item._getItems(this, options, this._matrix);\n\t},\n\n\tgetItem: function(options) {\n\t\treturn Item._getItems(this, options, this._matrix, null, true)[0]\n\t\t\t\t|| null;\n\t},\n\n\tstatics: {\n\t\t_getItems: function _getItems(item, options, matrix, param, firstOnly) {\n\t\t\tif (!param) {\n\t\t\t\tvar obj = typeof options === 'object' && options,\n\t\t\t\t\toverlapping = obj && obj.overlapping,\n\t\t\t\t\tinside = obj && obj.inside,\n\t\t\t\t\tbounds = overlapping || inside,\n\t\t\t\t\trect = bounds && Rectangle.read([bounds]);\n\t\t\t\tparam = {\n\t\t\t\t\titems: [],\n\t\t\t\t\trecursive: obj && obj.recursive !== false,\n\t\t\t\t\tinside: !!inside,\n\t\t\t\t\toverlapping: !!overlapping,\n\t\t\t\t\trect: rect,\n\t\t\t\t\tpath: overlapping && new Path.Rectangle({\n\t\t\t\t\t\trectangle: rect,\n\t\t\t\t\t\tinsert: false\n\t\t\t\t\t})\n\t\t\t\t};\n\t\t\t\tif (obj) {\n\t\t\t\t\toptions = Base.filter({}, options, {\n\t\t\t\t\t\trecursive: true, inside: true, overlapping: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar children = item._children,\n\t\t\t\titems = param.items,\n\t\t\t\trect = param.rect;\n\t\t\tmatrix = rect && (matrix || new Matrix());\n\t\t\tfor (var i = 0, l = children && children.length; i < l; i++) {\n\t\t\t\tvar child = children[i],\n\t\t\t\t\tchildMatrix = matrix && matrix.appended(child._matrix),\n\t\t\t\t\tadd = true;\n\t\t\t\tif (rect) {\n\t\t\t\t\tvar bounds = child.getBounds(childMatrix);\n\t\t\t\t\tif (!rect.intersects(bounds))\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\tif (!(rect.contains(bounds)\n\t\t\t\t\t\t\t|| param.overlapping && (bounds.contains(rect)\n\t\t\t\t\t\t\t\t|| param.path.intersects(child, childMatrix))))\n\t\t\t\t\t\tadd = false;\n\t\t\t\t}\n\t\t\t\tif (add && child.matches(options)) {\n\t\t\t\t\titems.push(child);\n\t\t\t\t\tif (firstOnly)\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (param.recursive !== false) {\n\t\t\t\t\t_getItems(child, options, childMatrix, param, firstOnly);\n\t\t\t\t}\n\t\t\t\tif (firstOnly && items.length > 0)\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn items;\n\t\t}\n\t}\n}, {\n\n\timportJSON: function(json) {\n\t\tvar res = Base.importJSON(json, this);\n\t\treturn res !== this ? this.addChild(res) : res;\n\t},\n\n\taddChild: function(item) {\n\t\treturn this.insertChild(undefined, item);\n\t},\n\n\tinsertChild: function(index, item) {\n\t\tvar res = item ? this.insertChildren(index, [item]) : null;\n\t\treturn res && res[0];\n\t},\n\n\taddChildren: function(items) {\n\t\treturn this.insertChildren(this._children.length, items);\n\t},\n\n\tinsertChildren: function(index, items) {\n\t\tvar children = this._children;\n\t\tif (children && items && items.length > 0) {\n\t\t\titems = Base.slice(items);\n\t\t\tvar inserted = {};\n\t\t\tfor (var i = items.length - 1; i >= 0; i--) {\n\t\t\t\tvar item = items[i],\n\t\t\t\t\tid = item && item._id;\n\t\t\t\tif (!item || inserted[id]) {\n\t\t\t\t\titems.splice(i, 1);\n\t\t\t\t} else {\n\t\t\t\t\titem._remove(false, true);\n\t\t\t\t\tinserted[id] = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tBase.splice(children, items, index, 0);\n\t\t\tvar project = this._project,\n\t\t\t\tnotifySelf = project._changes;\n\t\t\tfor (var i = 0, l = items.length; i < l; i++) {\n\t\t\t\tvar item = items[i],\n\t\t\t\t\tname = item._name;\n\t\t\t\titem._parent = this;\n\t\t\t\titem._setProject(project, true);\n\t\t\t\tif (name)\n\t\t\t\t\titem.setName(name);\n\t\t\t\tif (notifySelf)\n\t\t\t\t\titem._changed(5);\n\t\t\t}\n\t\t\tthis._changed(11);\n\t\t} else {\n\t\t\titems = null;\n\t\t}\n\t\treturn items;\n\t},\n\n\t_insertItem: '#insertChild',\n\n\t_insertAt: function(item, offset) {\n\t\tvar owner = item && item._getOwner(),\n\t\t\tres = item !== this && owner ? this : null;\n\t\tif (res) {\n\t\t\tres._remove(false, true);\n\t\t\towner._insertItem(item._index + offset, res);\n\t\t}\n\t\treturn res;\n\t},\n\n\tinsertAbove: function(item) {\n\t\treturn this._insertAt(item, 1);\n\t},\n\n\tinsertBelow: function(item) {\n\t\treturn this._insertAt(item, 0);\n\t},\n\n\tsendToBack: function() {\n\t\tvar owner = this._getOwner();\n\t\treturn owner ? owner._insertItem(0, this) : null;\n\t},\n\n\tbringToFront: function() {\n\t\tvar owner = this._getOwner();\n\t\treturn owner ? owner._insertItem(undefined, this) : null;\n\t},\n\n\tappendTop: '#addChild',\n\n\tappendBottom: function(item) {\n\t\treturn this.insertChild(0, item);\n\t},\n\n\tmoveAbove: '#insertAbove',\n\n\tmoveBelow: '#insertBelow',\n\n\taddTo: function(owner) {\n\t\treturn owner._insertItem(undefined, this);\n\t},\n\n\tcopyTo: function(owner) {\n\t\treturn this.clone(false).addTo(owner);\n\t},\n\n\treduce: function(options) {\n\t\tvar children = this._children;\n\t\tif (children && children.length === 1) {\n\t\t\tvar child = children[0].reduce(options);\n\t\t\tif (this._parent) {\n\t\t\t\tchild.insertAbove(this);\n\t\t\t\tthis.remove();\n\t\t\t} else {\n\t\t\t\tchild.remove();\n\t\t\t}\n\t\t\treturn child;\n\t\t}\n\t\treturn this;\n\t},\n\n\t_removeNamed: function() {\n\t\tvar owner = this._getOwner();\n\t\tif (owner) {\n\t\t\tvar children = owner._children,\n\t\t\t\tnamedChildren = owner._namedChildren,\n\t\t\t\tname = this._name,\n\t\t\t\tnamedArray = namedChildren[name],\n\t\t\t\tindex = namedArray ? namedArray.indexOf(this) : -1;\n\t\t\tif (index !== -1) {\n\t\t\t\tif (children[name] == this)\n\t\t\t\t\tdelete children[name];\n\t\t\t\tnamedArray.splice(index, 1);\n\t\t\t\tif (namedArray.length) {\n\t\t\t\t\tchildren[name] = namedArray[0];\n\t\t\t\t} else {\n\t\t\t\t\tdelete namedChildren[name];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t_remove: function(notifySelf, notifyParent) {\n\t\tvar owner = this._getOwner(),\n\t\t\tproject = this._project,\n\t\t\tindex = this._index;\n\t\tif (this._style)\n\t\t\tthis._style._dispose();\n\t\tif (owner) {\n\t\t\tif (this._name)\n\t\t\t\tthis._removeNamed();\n\t\t\tif (index != null) {\n\t\t\t\tif (project._activeLayer === this)\n\t\t\t\t\tproject._activeLayer = this.getNextSibling()\n\t\t\t\t\t\t\t|| this.getPreviousSibling();\n\t\t\t\tBase.splice(owner._children, null, index, 1);\n\t\t\t}\n\t\t\tthis._installEvents(false);\n\t\t\tif (notifySelf && project._changes)\n\t\t\t\tthis._changed(5);\n\t\t\tif (notifyParent)\n\t\t\t\towner._changed(11, this);\n\t\t\tthis._parent = null;\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\tremove: function() {\n\t\treturn this._remove(true, true);\n\t},\n\n\treplaceWith: function(item) {\n\t\tvar ok = item && item.insertBelow(this);\n\t\tif (ok)\n\t\t\tthis.remove();\n\t\treturn ok;\n\t},\n\n\tremoveChildren: function(start, end) {\n\t\tif (!this._children)\n\t\t\treturn null;\n\t\tstart = start || 0;\n\t\tend = Base.pick(end, this._children.length);\n\t\tvar removed = Base.splice(this._children, null, start, end - start);\n\t\tfor (var i = removed.length - 1; i >= 0; i--) {\n\t\t\tremoved[i]._remove(true, false);\n\t\t}\n\t\tif (removed.length > 0)\n\t\t\tthis._changed(11);\n\t\treturn removed;\n\t},\n\n\tclear: '#removeChildren',\n\n\treverseChildren: function() {\n\t\tif (this._children) {\n\t\t\tthis._children.reverse();\n\t\t\tfor (var i = 0, l = this._children.length; i < l; i++)\n\t\t\t\tthis._children[i]._index = i;\n\t\t\tthis._changed(11);\n\t\t}\n\t},\n\n\tisEmpty: function(recursively) {\n\t\tvar children = this._children;\n\t\tvar numChildren = children ? children.length : 0;\n\t\tif (recursively) {\n\t\t\tfor (var i = 0; i < numChildren; i++) {\n\t\t\t\tif (!children[i].isEmpty(recursively)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\treturn !numChildren;\n\t},\n\n\tisEditable: function() {\n\t\tvar item = this;\n\t\twhile (item) {\n\t\t\tif (!item._visible || item._locked)\n\t\t\t\treturn false;\n\t\t\titem = item._parent;\n\t\t}\n\t\treturn true;\n\t},\n\n\thasFill: function() {\n\t\treturn this.getStyle().hasFill();\n\t},\n\n\thasStroke: function() {\n\t\treturn this.getStyle().hasStroke();\n\t},\n\n\thasShadow: function() {\n\t\treturn this.getStyle().hasShadow();\n\t},\n\n\t_getOrder: function(item) {\n\t\tfunction getList(item) {\n\t\t\tvar list = [];\n\t\t\tdo {\n\t\t\t\tlist.unshift(item);\n\t\t\t} while (item = item._parent);\n\t\t\treturn list;\n\t\t}\n\t\tvar list1 = getList(this),\n\t\t\tlist2 = getList(item);\n\t\tfor (var i = 0, l = Math.min(list1.length, list2.length); i < l; i++) {\n\t\t\tif (list1[i] != list2[i]) {\n\t\t\t\treturn list1[i]._index < list2[i]._index ? 1 : -1;\n\t\t\t}\n\t\t}\n\t\treturn 0;\n\t},\n\n\thasChildren: function() {\n\t\treturn this._children && this._children.length > 0;\n\t},\n\n\tisInserted: function() {\n\t\treturn this._parent ? this._parent.isInserted() : false;\n\t},\n\n\tisAbove: function(item) {\n\t\treturn this._getOrder(item) === -1;\n\t},\n\n\tisBelow: function(item) {\n\t\treturn this._getOrder(item) === 1;\n\t},\n\n\tisParent: function(item) {\n\t\treturn this._parent === item;\n\t},\n\n\tisChild: function(item) {\n\t\treturn item && item._parent === this;\n\t},\n\n\tisDescendant: function(item) {\n\t\tvar parent = this;\n\t\twhile (parent = parent._parent) {\n\t\t\tif (parent === item)\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\tisAncestor: function(item) {\n\t\treturn item ? item.isDescendant(this) : false;\n\t},\n\n\tisSibling: function(item) {\n\t\treturn this._parent === item._parent;\n\t},\n\n\tisGroupedWith: function(item) {\n\t\tvar parent = this._parent;\n\t\twhile (parent) {\n\t\t\tif (parent._parent\n\t\t\t\t&& /^(Group|Layer|CompoundPath)$/.test(parent._class)\n\t\t\t\t&& item.isDescendant(parent))\n\t\t\t\t\treturn true;\n\t\t\tparent = parent._parent;\n\t\t}\n\t\treturn false;\n\t},\n\n}, Base.each(['rotate', 'scale', 'shear', 'skew'], function(key) {\n\tvar rotate = key === 'rotate';\n\tthis[key] = function() {\n\t\tvar args = arguments,\n\t\t\tvalue = (rotate ? Base : Point).read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true });\n\t\treturn this.transform(new Matrix()[key](value,\n\t\t\t\tcenter || this.getPosition(true)));\n\t};\n}, {\n\ttranslate: function() {\n\t\tvar mx = new Matrix();\n\t\treturn this.transform(mx.translate.apply(mx, arguments));\n\t},\n\n\ttransform: function(matrix, _applyRecursively, _setApplyMatrix) {\n\t\tvar _matrix = this._matrix,\n\t\t\ttransformMatrix = matrix && !matrix.isIdentity(),\n\t\t\tapplyMatrix = (\n\t\t\t\t_setApplyMatrix && this._canApplyMatrix ||\n\t\t\t\tthis._applyMatrix && (\n\t\t\t\t\ttransformMatrix || !_matrix.isIdentity() ||\n\t\t\t\t\t_applyRecursively && this._children\n\t\t\t\t)\n\t\t\t);\n\t\tif (!transformMatrix && !applyMatrix)\n\t\t\treturn this;\n\t\tif (transformMatrix) {\n\t\t\tif (!matrix.isInvertible() && _matrix.isInvertible())\n\t\t\t\t_matrix._backup = _matrix.getValues();\n\t\t\t_matrix.prepend(matrix, true);\n\t\t\tvar style = this._style,\n\t\t\t\tfillColor = style.getFillColor(true),\n\t\t\t\tstrokeColor = style.getStrokeColor(true);\n\t\t\tif (fillColor)\n\t\t\t\tfillColor.transform(matrix);\n\t\t\tif (strokeColor)\n\t\t\t\tstrokeColor.transform(matrix);\n\t\t}\n\n\t\tif (applyMatrix && (applyMatrix = this._transformContent(\n\t\t\t\t_matrix, _applyRecursively, _setApplyMatrix))) {\n\t\t\tvar pivot = this._pivot;\n\t\t\tif (pivot)\n\t\t\t\t_matrix._transformPoint(pivot, pivot, true);\n\t\t\t_matrix.reset(true);\n\t\t\tif (_setApplyMatrix && this._canApplyMatrix)\n\t\t\t\tthis._applyMatrix = true;\n\t\t}\n\t\tvar bounds = this._bounds,\n\t\t\tposition = this._position;\n\t\tif (transformMatrix || applyMatrix) {\n\t\t\tthis._changed(25);\n\t\t}\n\t\tvar decomp = transformMatrix && bounds && matrix.decompose();\n\t\tif (decomp && decomp.skewing.isZero() && decomp.rotation % 90 === 0) {\n\t\t\tfor (var key in bounds) {\n\t\t\t\tvar cache = bounds[key];\n\t\t\t\tif (cache.nonscaling) {\n\t\t\t\t\tdelete bounds[key];\n\t\t\t\t} else if (applyMatrix || !cache.internal) {\n\t\t\t\t\tvar rect = cache.rect;\n\t\t\t\t\tmatrix._transformBounds(rect, rect);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._bounds = bounds;\n\t\t\tvar cached = bounds[this._getBoundsCacheKey(\n\t\t\t\tthis._boundsOptions || {})];\n\t\t\tif (cached) {\n\t\t\t\tthis._position = this._getPositionFromBounds(cached.rect);\n\t\t\t}\n\t\t} else if (transformMatrix && position && this._pivot) {\n\t\t\tthis._position = matrix._transformPoint(position, position);\n\t\t}\n\t\treturn this;\n\t},\n\n\t_transformContent: function(matrix, applyRecursively, setApplyMatrix) {\n\t\tvar children = this._children;\n\t\tif (children) {\n\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\tchildren[i].transform(matrix, applyRecursively, setApplyMatrix);\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t},\n\n\tglobalToLocal: function() {\n\t\treturn this.getGlobalMatrix(true)._inverseTransform(\n\t\t\t\tPoint.read(arguments));\n\t},\n\n\tlocalToGlobal: function() {\n\t\treturn this.getGlobalMatrix(true)._transformPoint(\n\t\t\t\tPoint.read(arguments));\n\t},\n\n\tparentToLocal: function() {\n\t\treturn this._matrix._inverseTransform(Point.read(arguments));\n\t},\n\n\tlocalToParent: function() {\n\t\treturn this._matrix._transformPoint(Point.read(arguments));\n\t},\n\n\tfitBounds: function(rectangle, fill) {\n\t\trectangle = Rectangle.read(arguments);\n\t\tvar bounds = this.getBounds(),\n\t\t\titemRatio = bounds.height / bounds.width,\n\t\t\trectRatio = rectangle.height / rectangle.width,\n\t\t\tscale = (fill ? itemRatio > rectRatio : itemRatio < rectRatio)\n\t\t\t\t\t? rectangle.width / bounds.width\n\t\t\t\t\t: rectangle.height / bounds.height,\n\t\t\tnewBounds = new Rectangle(new Point(),\n\t\t\t\t\tnew Size(bounds.width * scale, bounds.height * scale));\n\t\tnewBounds.setCenter(rectangle.getCenter());\n\t\tthis.setBounds(newBounds);\n\t}\n}), {\n\n\t_setStyles: function(ctx, param, viewMatrix) {\n\t\tvar style = this._style,\n\t\t\tmatrix = this._matrix;\n\t\tif (style.hasFill()) {\n\t\t\tctx.fillStyle = style.getFillColor().toCanvasStyle(ctx, matrix);\n\t\t}\n\t\tif (style.hasStroke()) {\n\t\t\tctx.strokeStyle = style.getStrokeColor().toCanvasStyle(ctx, matrix);\n\t\t\tctx.lineWidth = style.getStrokeWidth();\n\t\t\tvar strokeJoin = style.getStrokeJoin(),\n\t\t\t\tstrokeCap = style.getStrokeCap(),\n\t\t\t\tmiterLimit = style.getMiterLimit();\n\t\t\tif (strokeJoin)\n\t\t\t\tctx.lineJoin = strokeJoin;\n\t\t\tif (strokeCap)\n\t\t\t\tctx.lineCap = strokeCap;\n\t\t\tif (miterLimit)\n\t\t\t\tctx.miterLimit = miterLimit;\n\t\t\tif (paper.support.nativeDash) {\n\t\t\t\tvar dashArray = style.getDashArray(),\n\t\t\t\t\tdashOffset = style.getDashOffset();\n\t\t\t\tif (dashArray && dashArray.length) {\n\t\t\t\t\tif ('setLineDash' in ctx) {\n\t\t\t\t\t\tctx.setLineDash(dashArray);\n\t\t\t\t\t\tctx.lineDashOffset = dashOffset;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tctx.mozDash = dashArray;\n\t\t\t\t\t\tctx.mozDashOffset = dashOffset;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (style.hasShadow()) {\n\t\t\tvar pixelRatio = param.pixelRatio || 1,\n\t\t\t\tmx = viewMatrix._shiftless().prepend(\n\t\t\t\t\tnew Matrix().scale(pixelRatio, pixelRatio)),\n\t\t\t\tblur = mx.transform(new Point(style.getShadowBlur(), 0)),\n\t\t\t\toffset = mx.transform(this.getShadowOffset());\n\t\t\tctx.shadowColor = style.getShadowColor().toCanvasStyle(ctx);\n\t\t\tctx.shadowBlur = blur.getLength();\n\t\t\tctx.shadowOffsetX = offset.x;\n\t\t\tctx.shadowOffsetY = offset.y;\n\t\t}\n\t},\n\n\tdraw: function(ctx, param, parentStrokeMatrix) {\n\t\tvar updateVersion = this._updateVersion = this._project._updateVersion;\n\t\tif (!this._visible || this._opacity === 0)\n\t\t\treturn;\n\t\tvar matrices = param.matrices,\n\t\t\tviewMatrix = param.viewMatrix,\n\t\t\tmatrix = this._matrix,\n\t\t\tglobalMatrix = matrices[matrices.length - 1].appended(matrix);\n\t\tif (!globalMatrix.isInvertible())\n\t\t\treturn;\n\n\t\tviewMatrix = viewMatrix ? viewMatrix.appended(globalMatrix)\n\t\t\t\t: globalMatrix;\n\n\t\tmatrices.push(globalMatrix);\n\t\tif (param.updateMatrix) {\n\t\t\tthis._globalMatrix = globalMatrix;\n\t\t}\n\n\t\tvar blendMode = this._blendMode,\n\t\t\topacity = this._opacity,\n\t\t\tnormalBlend = blendMode === 'normal',\n\t\t\tnativeBlend = BlendMode.nativeModes[blendMode],\n\t\t\tdirect = normalBlend && opacity === 1\n\t\t\t\t\t|| param.dontStart\n\t\t\t\t\t|| param.clip\n\t\t\t\t\t|| (nativeBlend || normalBlend && opacity < 1)\n\t\t\t\t\t\t&& this._canComposite(),\n\t\t\tpixelRatio = param.pixelRatio || 1,\n\t\t\tmainCtx, itemOffset, prevOffset;\n\t\tif (!direct) {\n\t\t\tvar bounds = this.getStrokeBounds(viewMatrix);\n\t\t\tif (!bounds.width || !bounds.height) {\n\t\t\t\tmatrices.pop();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tprevOffset = param.offset;\n\t\t\titemOffset = param.offset = bounds.getTopLeft().floor();\n\t\t\tmainCtx = ctx;\n\t\t\tctx = CanvasProvider.getContext(bounds.getSize().ceil().add(1)\n\t\t\t\t\t.multiply(pixelRatio));\n\t\t\tif (pixelRatio !== 1)\n\t\t\t\tctx.scale(pixelRatio, pixelRatio);\n\t\t}\n\t\tctx.save();\n\t\tvar strokeMatrix = parentStrokeMatrix\n\t\t\t\t? parentStrokeMatrix.appended(matrix)\n\t\t\t\t: this._canScaleStroke && !this.getStrokeScaling(true)\n\t\t\t\t\t&& viewMatrix,\n\t\t\tclip = !direct && param.clipItem,\n\t\t\ttransform = !strokeMatrix || clip;\n\t\tif (direct) {\n\t\t\tctx.globalAlpha = opacity;\n\t\t\tif (nativeBlend)\n\t\t\t\tctx.globalCompositeOperation = blendMode;\n\t\t} else if (transform) {\n\t\t\tctx.translate(-itemOffset.x, -itemOffset.y);\n\t\t}\n\t\tif (transform) {\n\t\t\t(direct ? matrix : viewMatrix).applyToContext(ctx);\n\t\t}\n\t\tif (clip) {\n\t\t\tparam.clipItem.draw(ctx, param.extend({ clip: true }));\n\t\t}\n\t\tif (strokeMatrix) {\n\t\t\tctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n\t\t\tvar offset = param.offset;\n\t\t\tif (offset)\n\t\t\t\tctx.translate(-offset.x, -offset.y);\n\t\t}\n\t\tthis._draw(ctx, param, viewMatrix, strokeMatrix);\n\t\tctx.restore();\n\t\tmatrices.pop();\n\t\tif (param.clip && !param.dontFinish) {\n\t\t\tctx.clip(this.getFillRule());\n\t\t}\n\t\tif (!direct) {\n\t\t\tBlendMode.process(blendMode, ctx, mainCtx, opacity,\n\t\t\t\t\titemOffset.subtract(prevOffset).multiply(pixelRatio));\n\t\t\tCanvasProvider.release(ctx);\n\t\t\tparam.offset = prevOffset;\n\t\t}\n\t},\n\n\t_isUpdated: function(updateVersion) {\n\t\tvar parent = this._parent;\n\t\tif (parent instanceof CompoundPath)\n\t\t\treturn parent._isUpdated(updateVersion);\n\t\tvar updated = this._updateVersion === updateVersion;\n\t\tif (!updated && parent && parent._visible\n\t\t\t\t&& parent._isUpdated(updateVersion)) {\n\t\t\tthis._updateVersion = updateVersion;\n\t\t\tupdated = true;\n\t\t}\n\t\treturn updated;\n\t},\n\n\t_drawSelection: function(ctx, matrix, size, selectionItems, updateVersion) {\n\t\tvar selection = this._selection,\n\t\t\titemSelected = selection & 1,\n\t\t\tboundsSelected = selection & 2\n\t\t\t\t\t|| itemSelected && this._selectBounds,\n\t\t\tpositionSelected = selection & 4;\n\t\tif (!this._drawSelected)\n\t\t\titemSelected = false;\n\t\tif ((itemSelected || boundsSelected || positionSelected)\n\t\t\t\t&& this._isUpdated(updateVersion)) {\n\t\t\tvar layer,\n\t\t\t\tcolor = this.getSelectedColor(true) || (layer = this.getLayer())\n\t\t\t\t\t&& layer.getSelectedColor(true),\n\t\t\t\tmx = matrix.appended(this.getGlobalMatrix(true)),\n\t\t\t\thalf = size / 2;\n\t\t\tctx.strokeStyle = ctx.fillStyle = color\n\t\t\t\t\t? color.toCanvasStyle(ctx) : '#009dec';\n\t\t\tif (itemSelected)\n\t\t\t\tthis._drawSelected(ctx, mx, selectionItems);\n\t\t\tif (positionSelected) {\n\t\t\t\tvar pos = this.getPosition(true),\n\t\t\t\t\tparent = this._parent,\n\t\t\t\t\tpoint = parent ? parent.localToGlobal(pos) : pos,\n\t\t\t\t\tx = point.x,\n\t\t\t\t\ty = point.y;\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.arc(x, y, half, 0, Math.PI * 2, true);\n\t\t\t\tctx.stroke();\n\t\t\t\tvar deltas = [[0, -1], [1, 0], [0, 1], [-1, 0]],\n\t\t\t\t\tstart = half,\n\t\t\t\t\tend = size + 1;\n\t\t\t\tfor (var i = 0; i < 4; i++) {\n\t\t\t\t\tvar delta = deltas[i],\n\t\t\t\t\t\tdx = delta[0],\n\t\t\t\t\t\tdy = delta[1];\n\t\t\t\t\tctx.moveTo(x + dx * start, y + dy * start);\n\t\t\t\t\tctx.lineTo(x + dx * end, y + dy * end);\n\t\t\t\t\tctx.stroke();\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (boundsSelected) {\n\t\t\t\tvar coords = mx._transformCorners(this.getInternalBounds());\n\t\t\t\tctx.beginPath();\n\t\t\t\tfor (var i = 0; i < 8; i++) {\n\t\t\t\t\tctx[!i ? 'moveTo' : 'lineTo'](coords[i], coords[++i]);\n\t\t\t\t}\n\t\t\t\tctx.closePath();\n\t\t\t\tctx.stroke();\n\t\t\t\tfor (var i = 0; i < 8; i++) {\n\t\t\t\t\tctx.fillRect(coords[i] - half, coords[++i] - half,\n\t\t\t\t\t\t\tsize, size);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t_canComposite: function() {\n\t\treturn false;\n\t}\n}, Base.each(['down', 'drag', 'up', 'move'], function(key) {\n\tthis['removeOn' + Base.capitalize(key)] = function() {\n\t\tvar hash = {};\n\t\thash[key] = true;\n\t\treturn this.removeOn(hash);\n\t};\n}, {\n\n\tremoveOn: function(obj) {\n\t\tfor (var name in obj) {\n\t\t\tif (obj[name]) {\n\t\t\t\tvar key = 'mouse' + name,\n\t\t\t\t\tproject = this._project,\n\t\t\t\t\tsets = project._removeSets = project._removeSets || {};\n\t\t\t\tsets[key] = sets[key] || {};\n\t\t\t\tsets[key][this._id] = this;\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t}\n}), {\n\ttween: function(from, to, options) {\n\t\tif (!options) {\n\t\t\toptions = to;\n\t\t\tto = from;\n\t\t\tfrom = null;\n\t\t\tif (!options) {\n\t\t\t\toptions = to;\n\t\t\t\tto = null;\n\t\t\t}\n\t\t}\n\t\tvar easing = options && options.easing,\n\t\t\tstart = options && options.start,\n\t\t\tduration = options != null && (\n\t\t\t\ttypeof options === 'number' ? options : options.duration\n\t\t\t),\n\t\t\ttween = new Tween(this, from, to, duration, easing, start);\n\t\tfunction onFrame(event) {\n\t\t\ttween._handleFrame(event.time * 1000);\n\t\t\tif (!tween.running) {\n\t\t\t\tthis.off('frame', onFrame);\n\t\t\t}\n\t\t}\n\t\tif (duration) {\n\t\t\tthis.on('frame', onFrame);\n\t\t}\n\t\treturn tween;\n\t},\n\n\ttweenTo: function(to, options) {\n\t\treturn this.tween(null, to, options);\n\t},\n\n\ttweenFrom: function(from, options) {\n\t\treturn this.tween(from, null, options);\n\t}\n});\n\nvar Group = Item.extend({\n\t_class: 'Group',\n\t_selectBounds: false,\n\t_selectChildren: true,\n\t_serializeFields: {\n\t\tchildren: []\n\t},\n\n\tinitialize: function Group(arg) {\n\t\tthis._children = [];\n\t\tthis._namedChildren = {};\n\t\tif (!this._initialize(arg))\n\t\t\tthis.addChildren(Array.isArray(arg) ? arg : arguments);\n\t},\n\n\t_changed: function _changed(flags) {\n\t\t_changed.base.call(this, flags);\n\t\tif (flags & 2050) {\n\t\t\tthis._clipItem = undefined;\n\t\t}\n\t},\n\n\t_getClipItem: function() {\n\t\tvar clipItem = this._clipItem;\n\t\tif (clipItem === undefined) {\n\t\t\tclipItem = null;\n\t\t\tvar children = this._children;\n\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\tif (children[i]._clipMask) {\n\t\t\t\t\tclipItem = children[i];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._clipItem = clipItem;\n\t\t}\n\t\treturn clipItem;\n\t},\n\n\tisClipped: function() {\n\t\treturn !!this._getClipItem();\n\t},\n\n\tsetClipped: function(clipped) {\n\t\tvar child = this.getFirstChild();\n\t\tif (child)\n\t\t\tchild.setClipMask(clipped);\n\t},\n\n\t_getBounds: function _getBounds(matrix, options) {\n\t\tvar clipItem = this._getClipItem();\n\t\treturn clipItem\n\t\t\t? clipItem._getCachedBounds(clipItem._matrix.prepended(matrix),\n\t\t\t\tBase.set({}, options, { stroke: false }))\n\t\t\t: _getBounds.base.call(this, matrix, options);\n\t},\n\n\t_hitTestChildren: function _hitTestChildren(point, options, viewMatrix) {\n\t\tvar clipItem = this._getClipItem();\n\t\treturn (!clipItem || clipItem.contains(point))\n\t\t\t\t&& _hitTestChildren.base.call(this, point, options, viewMatrix,\n\t\t\t\t\tclipItem);\n\t},\n\n\t_draw: function(ctx, param) {\n\t\tvar clip = param.clip,\n\t\t\tclipItem = !clip && this._getClipItem();\n\t\tparam = param.extend({ clipItem: clipItem, clip: false });\n\t\tif (clip) {\n\t\t\tctx.beginPath();\n\t\t\tparam.dontStart = param.dontFinish = true;\n\t\t} else if (clipItem) {\n\t\t\tclipItem.draw(ctx, param.extend({ clip: true }));\n\t\t}\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tvar item = children[i];\n\t\t\tif (item !== clipItem)\n\t\t\t\titem.draw(ctx, param);\n\t\t}\n\t}\n});\n\nvar Layer = Group.extend({\n\t_class: 'Layer',\n\n\tinitialize: function Layer() {\n\t\tGroup.apply(this, arguments);\n\t},\n\n\t_getOwner: function() {\n\t\treturn this._parent || this._index != null && this._project;\n\t},\n\n\tisInserted: function isInserted() {\n\t\treturn this._parent ? isInserted.base.call(this) : this._index != null;\n\t},\n\n\tactivate: function() {\n\t\tthis._project._activeLayer = this;\n\t},\n\n\t_hitTestSelf: function() {\n\t}\n});\n\nvar Shape = Item.extend({\n\t_class: 'Shape',\n\t_applyMatrix: false,\n\t_canApplyMatrix: false,\n\t_canScaleStroke: true,\n\t_serializeFields: {\n\t\ttype: null,\n\t\tsize: null,\n\t\tradius: null\n\t},\n\n\tinitialize: function Shape(props, point) {\n\t\tthis._initialize(props, point);\n\t},\n\n\t_equals: function(item) {\n\t\treturn this._type === item._type\n\t\t\t&& this._size.equals(item._size)\n\t\t\t&& Base.equals(this._radius, item._radius);\n\t},\n\n\tcopyContent: function(source) {\n\t\tthis.setType(source._type);\n\t\tthis.setSize(source._size);\n\t\tthis.setRadius(source._radius);\n\t},\n\n\tgetType: function() {\n\t\treturn this._type;\n\t},\n\n\tsetType: function(type) {\n\t\tthis._type = type;\n\t},\n\n\tgetShape: '#getType',\n\tsetShape: '#setType',\n\n\tgetSize: function() {\n\t\tvar size = this._size;\n\t\treturn new LinkedSize(size.width, size.height, this, 'setSize');\n\t},\n\n\tsetSize: function() {\n\t\tvar size = Size.read(arguments);\n\t\tif (!this._size) {\n\t\t\tthis._size = size.clone();\n\t\t} else if (!this._size.equals(size)) {\n\t\t\tvar type = this._type,\n\t\t\t\twidth = size.width,\n\t\t\t\theight = size.height;\n\t\t\tif (type === 'rectangle') {\n\t\t\t\tthis._radius.set(Size.min(this._radius, size.divide(2).abs()));\n\t\t\t} else if (type === 'circle') {\n\t\t\t\twidth = height = (width + height) / 2;\n\t\t\t\tthis._radius = width / 2;\n\t\t\t} else if (type === 'ellipse') {\n\t\t\t\tthis._radius._set(width / 2, height / 2);\n\t\t\t}\n\t\t\tthis._size._set(width, height);\n\t\t\tthis._changed(9);\n\t\t}\n\t},\n\n\tgetRadius: function() {\n\t\tvar rad = this._radius;\n\t\treturn this._type === 'circle'\n\t\t\t\t? rad\n\t\t\t\t: new LinkedSize(rad.width, rad.height, this, 'setRadius');\n\t},\n\n\tsetRadius: function(radius) {\n\t\tvar type = this._type;\n\t\tif (type === 'circle') {\n\t\t\tif (radius === this._radius)\n\t\t\t\treturn;\n\t\t\tvar size = radius * 2;\n\t\t\tthis._radius = radius;\n\t\t\tthis._size._set(size, size);\n\t\t} else {\n\t\t\tradius = Size.read(arguments);\n\t\t\tif (!this._radius) {\n\t\t\t\tthis._radius = radius.clone();\n\t\t\t} else {\n\t\t\t\tif (this._radius.equals(radius))\n\t\t\t\t\treturn;\n\t\t\t\tthis._radius.set(radius);\n\t\t\t\tif (type === 'rectangle') {\n\t\t\t\t\tvar size = Size.max(this._size, radius.multiply(2));\n\t\t\t\t\tthis._size.set(size);\n\t\t\t\t} else if (type === 'ellipse') {\n\t\t\t\t\tthis._size._set(radius.width * 2, radius.height * 2);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tthis._changed(9);\n\t},\n\n\tisEmpty: function() {\n\t\treturn false;\n\t},\n\n\ttoPath: function(insert) {\n\t\tvar path = new Path[Base.capitalize(this._type)]({\n\t\t\tcenter: new Point(),\n\t\t\tsize: this._size,\n\t\t\tradius: this._radius,\n\t\t\tinsert: false\n\t\t});\n\t\tpath.copyAttributes(this);\n\t\tif (paper.settings.applyMatrix)\n\t\t\tpath.setApplyMatrix(true);\n\t\tif (insert === undefined || insert)\n\t\t\tpath.insertAbove(this);\n\t\treturn path;\n\t},\n\n\ttoShape: '#clone',\n\n\t_asPathItem: function() {\n\t\treturn this.toPath(false);\n\t},\n\n\t_draw: function(ctx, param, viewMatrix, strokeMatrix) {\n\t\tvar style = this._style,\n\t\t\thasFill = style.hasFill(),\n\t\t\thasStroke = style.hasStroke(),\n\t\t\tdontPaint = param.dontFinish || param.clip,\n\t\t\tuntransformed = !strokeMatrix;\n\t\tif (hasFill || hasStroke || dontPaint) {\n\t\t\tvar type = this._type,\n\t\t\t\tradius = this._radius,\n\t\t\t\tisCircle = type === 'circle';\n\t\t\tif (!param.dontStart)\n\t\t\t\tctx.beginPath();\n\t\t\tif (untransformed && isCircle) {\n\t\t\t\tctx.arc(0, 0, radius, 0, Math.PI * 2, true);\n\t\t\t} else {\n\t\t\t\tvar rx = isCircle ? radius : radius.width,\n\t\t\t\t\try = isCircle ? radius : radius.height,\n\t\t\t\t\tsize = this._size,\n\t\t\t\t\twidth = size.width,\n\t\t\t\t\theight = size.height;\n\t\t\t\tif (untransformed && type === 'rectangle' && rx === 0 && ry === 0) {\n\t\t\t\t\tctx.rect(-width / 2, -height / 2, width, height);\n\t\t\t\t} else {\n\t\t\t\t\tvar x = width / 2,\n\t\t\t\t\t\ty = height / 2,\n\t\t\t\t\t\tkappa = 1 - 0.5522847498307936,\n\t\t\t\t\t\tcx = rx * kappa,\n\t\t\t\t\t\tcy = ry * kappa,\n\t\t\t\t\t\tc = [\n\t\t\t\t\t\t\t-x, -y + ry,\n\t\t\t\t\t\t\t-x, -y + cy,\n\t\t\t\t\t\t\t-x + cx, -y,\n\t\t\t\t\t\t\t-x + rx, -y,\n\t\t\t\t\t\t\tx - rx, -y,\n\t\t\t\t\t\t\tx - cx, -y,\n\t\t\t\t\t\t\tx, -y + cy,\n\t\t\t\t\t\t\tx, -y + ry,\n\t\t\t\t\t\t\tx, y - ry,\n\t\t\t\t\t\t\tx, y - cy,\n\t\t\t\t\t\t\tx - cx, y,\n\t\t\t\t\t\t\tx - rx, y,\n\t\t\t\t\t\t\t-x + rx, y,\n\t\t\t\t\t\t\t-x + cx, y,\n\t\t\t\t\t\t\t-x, y - cy,\n\t\t\t\t\t\t\t-x, y - ry\n\t\t\t\t\t\t];\n\t\t\t\t\tif (strokeMatrix)\n\t\t\t\t\t\tstrokeMatrix.transform(c, c, 32);\n\t\t\t\t\tctx.moveTo(c[0], c[1]);\n\t\t\t\t\tctx.bezierCurveTo(c[2], c[3], c[4], c[5], c[6], c[7]);\n\t\t\t\t\tif (x !== rx)\n\t\t\t\t\t\tctx.lineTo(c[8], c[9]);\n\t\t\t\t\tctx.bezierCurveTo(c[10], c[11], c[12], c[13], c[14], c[15]);\n\t\t\t\t\tif (y !== ry)\n\t\t\t\t\t\tctx.lineTo(c[16], c[17]);\n\t\t\t\t\tctx.bezierCurveTo(c[18], c[19], c[20], c[21], c[22], c[23]);\n\t\t\t\t\tif (x !== rx)\n\t\t\t\t\t\tctx.lineTo(c[24], c[25]);\n\t\t\t\t\tctx.bezierCurveTo(c[26], c[27], c[28], c[29], c[30], c[31]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tctx.closePath();\n\t\t}\n\t\tif (!dontPaint && (hasFill || hasStroke)) {\n\t\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\t\tif (hasFill) {\n\t\t\t\tctx.fill(style.getFillRule());\n\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t}\n\t\t\tif (hasStroke)\n\t\t\t\tctx.stroke();\n\t\t}\n\t},\n\n\t_canComposite: function() {\n\t\treturn !(this.hasFill() && this.hasStroke());\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar rect = new Rectangle(this._size).setCenter(0, 0),\n\t\t\tstyle = this._style,\n\t\t\tstrokeWidth = options.stroke && style.hasStroke()\n\t\t\t\t\t&& style.getStrokeWidth();\n\t\tif (matrix)\n\t\t\trect = matrix._transformBounds(rect);\n\t\treturn strokeWidth\n\t\t\t\t? rect.expand(Path._getStrokePadding(strokeWidth,\n\t\t\t\t\tthis._getStrokeMatrix(matrix, options)))\n\t\t\t\t: rect;\n\t}\n},\nnew function() {\n\tfunction getCornerCenter(that, point, expand) {\n\t\tvar radius = that._radius;\n\t\tif (!radius.isZero()) {\n\t\t\tvar halfSize = that._size.divide(2);\n\t\t\tfor (var q = 1; q <= 4; q++) {\n\t\t\t\tvar dir = new Point(q > 1 && q < 4 ? -1 : 1, q > 2 ? -1 : 1),\n\t\t\t\t\tcorner = dir.multiply(halfSize),\n\t\t\t\t\tcenter = corner.subtract(dir.multiply(radius)),\n\t\t\t\t\trect = new Rectangle(\n\t\t\t\t\t\t\texpand ? corner.add(dir.multiply(expand)) : corner,\n\t\t\t\t\t\t\tcenter);\n\t\t\t\tif (rect.contains(point))\n\t\t\t\t\treturn { point: center, quadrant: q };\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction isOnEllipseStroke(point, radius, padding, quadrant) {\n\t\tvar vector = point.divide(radius);\n\t\treturn (!quadrant || vector.isInQuadrant(quadrant)) &&\n\t\t\t\tvector.subtract(vector.normalize()).multiply(radius)\n\t\t\t\t\t.divide(padding).length <= 1;\n\t}\n\n\treturn {\n\t\t_contains: function _contains(point) {\n\t\t\tif (this._type === 'rectangle') {\n\t\t\t\tvar center = getCornerCenter(this, point);\n\t\t\t\treturn center\n\t\t\t\t\t\t? point.subtract(center.point).divide(this._radius)\n\t\t\t\t\t\t\t.getLength() <= 1\n\t\t\t\t\t\t: _contains.base.call(this, point);\n\t\t\t} else {\n\t\t\t\treturn point.divide(this.size).getLength() <= 0.5;\n\t\t\t}\n\t\t},\n\n\t\t_hitTestSelf: function _hitTestSelf(point, options, viewMatrix,\n\t\t\t\tstrokeMatrix) {\n\t\t\tvar hit = false,\n\t\t\t\tstyle = this._style,\n\t\t\t\thitStroke = options.stroke && style.hasStroke(),\n\t\t\t\thitFill = options.fill && style.hasFill();\n\t\t\tif (hitStroke || hitFill) {\n\t\t\t\tvar type = this._type,\n\t\t\t\t\tradius = this._radius,\n\t\t\t\t\tstrokeRadius = hitStroke ? style.getStrokeWidth() / 2 : 0,\n\t\t\t\t\tstrokePadding = options._tolerancePadding.add(\n\t\t\t\t\t\tPath._getStrokePadding(strokeRadius,\n\t\t\t\t\t\t\t!style.getStrokeScaling() && strokeMatrix));\n\t\t\t\tif (type === 'rectangle') {\n\t\t\t\t\tvar padding = strokePadding.multiply(2),\n\t\t\t\t\t\tcenter = getCornerCenter(this, point, padding);\n\t\t\t\t\tif (center) {\n\t\t\t\t\t\thit = isOnEllipseStroke(point.subtract(center.point),\n\t\t\t\t\t\t\t\tradius, strokePadding, center.quadrant);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar rect = new Rectangle(this._size).setCenter(0, 0),\n\t\t\t\t\t\t\touter = rect.expand(padding),\n\t\t\t\t\t\t\tinner = rect.expand(padding.negate());\n\t\t\t\t\t\thit = outer._containsPoint(point)\n\t\t\t\t\t\t\t\t&& !inner._containsPoint(point);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\thit = isOnEllipseStroke(point, radius, strokePadding);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn hit ? new HitResult(hitStroke ? 'stroke' : 'fill', this)\n\t\t\t\t\t: _hitTestSelf.base.apply(this, arguments);\n\t\t}\n\t};\n}, {\n\nstatics: new function() {\n\tfunction createShape(type, point, size, radius, args) {\n\t\tvar item = Base.create(Shape.prototype);\n\t\titem._type = type;\n\t\titem._size = size;\n\t\titem._radius = radius;\n\t\titem._initialize(Base.getNamed(args), point);\n\t\treturn item;\n\t}\n\n\treturn {\n\t\tCircle: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcenter = Point.readNamed(args, 'center'),\n\t\t\t\tradius = Base.readNamed(args, 'radius');\n\t\t\treturn createShape('circle', center, new Size(radius * 2), radius,\n\t\t\t\t\targs);\n\t\t},\n\n\t\tRectangle: function() {\n\t\t\tvar args = arguments,\n\t\t\t\trect = Rectangle.readNamed(args, 'rectangle'),\n\t\t\t\tradius = Size.min(Size.readNamed(args, 'radius'),\n\t\t\t\t\t\trect.getSize(true).divide(2));\n\t\t\treturn createShape('rectangle', rect.getCenter(true),\n\t\t\t\t\trect.getSize(true), radius, args);\n\t\t},\n\n\t\tEllipse: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tellipse = Shape._readEllipse(args),\n\t\t\t\tradius = ellipse.radius;\n\t\t\treturn createShape('ellipse', ellipse.center, radius.multiply(2),\n\t\t\t\t\tradius, args);\n\t\t},\n\n\t\t_readEllipse: function(args) {\n\t\t\tvar center,\n\t\t\t\tradius;\n\t\t\tif (Base.hasNamed(args, 'radius')) {\n\t\t\t\tcenter = Point.readNamed(args, 'center');\n\t\t\t\tradius = Size.readNamed(args, 'radius');\n\t\t\t} else {\n\t\t\t\tvar rect = Rectangle.readNamed(args, 'rectangle');\n\t\t\t\tcenter = rect.getCenter(true);\n\t\t\t\tradius = rect.getSize(true).divide(2);\n\t\t\t}\n\t\t\treturn { center: center, radius: radius };\n\t\t}\n\t};\n}});\n\nvar Raster = Item.extend({\n\t_class: 'Raster',\n\t_applyMatrix: false,\n\t_canApplyMatrix: false,\n\t_boundsOptions: { stroke: false, handle: false },\n\t_serializeFields: {\n\t\tcrossOrigin: null,\n\t\tsource: null\n\t},\n\t_prioritize: ['crossOrigin'],\n\t_smoothing: true,\n\tbeans: true,\n\n\tinitialize: function Raster(source, position) {\n\t\tif (!this._initialize(source,\n\t\t\t\tposition !== undefined && Point.read(arguments))) {\n\t\t\tvar image,\n\t\t\t\ttype = typeof source,\n\t\t\t\tobject = type === 'string'\n\t\t\t\t\t? document.getElementById(source)\n\t\t\t\t\t: type  === 'object'\n\t\t\t\t\t\t? source\n\t\t\t\t\t\t: null;\n\t\t\tif (object && object !== Item.NO_INSERT) {\n\t\t\t\tif (object.getContent || object.naturalHeight != null) {\n\t\t\t\t\timage = object;\n\t\t\t\t} else if (object) {\n\t\t\t\t\tvar size = Size.read(arguments);\n\t\t\t\t\tif (!size.isZero()) {\n\t\t\t\t\t\timage = CanvasProvider.getCanvas(size);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (image) {\n\t\t\t\tthis.setImage(image);\n\t\t\t} else {\n\t\t\t\tthis.setSource(source);\n\t\t\t}\n\t\t}\n\t\tif (!this._size) {\n\t\t\tthis._size = new Size();\n\t\t\tthis._loaded = false;\n\t\t}\n\t},\n\n\t_equals: function(item) {\n\t\treturn this.getSource() === item.getSource();\n\t},\n\n\tcopyContent: function(source) {\n\t\tvar image = source._image,\n\t\t\tcanvas = source._canvas;\n\t\tif (image) {\n\t\t\tthis._setImage(image);\n\t\t} else if (canvas) {\n\t\t\tvar copyCanvas = CanvasProvider.getCanvas(source._size);\n\t\t\tcopyCanvas.getContext('2d').drawImage(canvas, 0, 0);\n\t\t\tthis._setImage(copyCanvas);\n\t\t}\n\t\tthis._crossOrigin = source._crossOrigin;\n\t},\n\n\tgetSize: function() {\n\t\tvar size = this._size;\n\t\treturn new LinkedSize(size ? size.width : 0, size ? size.height : 0,\n\t\t\t\tthis, 'setSize');\n\t},\n\n\tsetSize: function() {\n\t\tvar size = Size.read(arguments);\n\t\tif (!size.equals(this._size)) {\n\t\t\tif (size.width > 0 && size.height > 0) {\n\t\t\t\tvar element = this.getElement();\n\t\t\t\tthis._setImage(CanvasProvider.getCanvas(size));\n\t\t\t\tif (element)\n\t\t\t\t\tthis.getContext(true).drawImage(element, 0, 0,\n\t\t\t\t\t\t\tsize.width, size.height);\n\t\t\t} else {\n\t\t\t\tif (this._canvas)\n\t\t\t\t\tCanvasProvider.release(this._canvas);\n\t\t\t\tthis._size = size.clone();\n\t\t\t}\n\t\t}\n\t},\n\n\tgetWidth: function() {\n\t\treturn this._size ? this._size.width : 0;\n\t},\n\n\tsetWidth: function(width) {\n\t\tthis.setSize(width, this.getHeight());\n\t},\n\n\tgetHeight: function() {\n\t\treturn this._size ? this._size.height : 0;\n\t},\n\n\tsetHeight: function(height) {\n\t\tthis.setSize(this.getWidth(), height);\n\t},\n\n\tgetLoaded: function() {\n\t\treturn this._loaded;\n\t},\n\n\tisEmpty: function() {\n\t\tvar size = this._size;\n\t\treturn !size || size.width === 0 && size.height === 0;\n\t},\n\n\tgetResolution: function() {\n\t\tvar matrix = this._matrix,\n\t\t\torig = new Point(0, 0).transform(matrix),\n\t\t\tu = new Point(1, 0).transform(matrix).subtract(orig),\n\t\t\tv = new Point(0, 1).transform(matrix).subtract(orig);\n\t\treturn new Size(\n\t\t\t72 / u.getLength(),\n\t\t\t72 / v.getLength()\n\t\t);\n\t},\n\n\tgetPpi: '#getResolution',\n\n\tgetImage: function() {\n\t\treturn this._image;\n\t},\n\n\tsetImage: function(image) {\n\t\tvar that = this;\n\n\t\tfunction emit(event) {\n\t\t\tvar view = that.getView(),\n\t\t\t\ttype = event && event.type || 'load';\n\t\t\tif (view && that.responds(type)) {\n\t\t\t\tpaper = view._scope;\n\t\t\t\tthat.emit(type, new Event(event));\n\t\t\t}\n\t\t}\n\n\t\tthis._setImage(image);\n\t\tif (this._loaded) {\n\t\t\tsetTimeout(emit, 0);\n\t\t} else if (image) {\n\t\t\tDomEvent.add(image, {\n\t\t\t\tload: function(event) {\n\t\t\t\t\tthat._setImage(image);\n\t\t\t\t\temit(event);\n\t\t\t\t},\n\t\t\t\terror: emit\n\t\t\t});\n\t\t}\n\t},\n\n\t_setImage: function(image) {\n\t\tif (this._canvas)\n\t\t\tCanvasProvider.release(this._canvas);\n\t\tif (image && image.getContext) {\n\t\t\tthis._image = null;\n\t\t\tthis._canvas = image;\n\t\t\tthis._loaded = true;\n\t\t} else {\n\t\t\tthis._image = image;\n\t\t\tthis._canvas = null;\n\t\t\tthis._loaded = !!(image && image.src && image.complete);\n\t\t}\n\t\tthis._size = new Size(\n\t\t\t\timage ? image.naturalWidth || image.width : 0,\n\t\t\t\timage ? image.naturalHeight || image.height : 0);\n\t\tthis._context = null;\n\t\tthis._changed(1033);\n\t},\n\n\tgetCanvas: function() {\n\t\tif (!this._canvas) {\n\t\t\tvar ctx = CanvasProvider.getContext(this._size);\n\t\t\ttry {\n\t\t\t\tif (this._image)\n\t\t\t\t\tctx.drawImage(this._image, 0, 0);\n\t\t\t\tthis._canvas = ctx.canvas;\n\t\t\t} catch (e) {\n\t\t\t\tCanvasProvider.release(ctx);\n\t\t\t}\n\t\t}\n\t\treturn this._canvas;\n\t},\n\n\tsetCanvas: '#setImage',\n\n\tgetContext: function(_change) {\n\t\tif (!this._context)\n\t\t\tthis._context = this.getCanvas().getContext('2d');\n\t\tif (_change) {\n\t\t\tthis._image = null;\n\t\t\tthis._changed(1025);\n\t\t}\n\t\treturn this._context;\n\t},\n\n\tsetContext: function(context) {\n\t\tthis._context = context;\n\t},\n\n\tgetSource: function() {\n\t\tvar image = this._image;\n\t\treturn image && image.src || this.toDataURL();\n\t},\n\n\tsetSource: function(src) {\n\t\tvar image = new self.Image(),\n\t\t\tcrossOrigin = this._crossOrigin;\n\t\tif (crossOrigin)\n\t\t\timage.crossOrigin = crossOrigin;\n\t\tif (src)\n\t\t\timage.src = src;\n\t\tthis.setImage(image);\n\t},\n\n\tgetCrossOrigin: function() {\n\t\tvar image = this._image;\n\t\treturn image && image.crossOrigin || this._crossOrigin || '';\n\t},\n\n\tsetCrossOrigin: function(crossOrigin) {\n\t\tthis._crossOrigin = crossOrigin;\n\t\tvar image = this._image;\n\t\tif (image)\n\t\t\timage.crossOrigin = crossOrigin;\n\t},\n\n\tgetSmoothing: function() {\n\t\treturn this._smoothing;\n\t},\n\n\tsetSmoothing: function(smoothing) {\n\t\tthis._smoothing = smoothing;\n\t\tthis._changed(257);\n\t},\n\n\tgetElement: function() {\n\t\treturn this._canvas || this._loaded && this._image;\n\t}\n}, {\n\tbeans: false,\n\n\tgetSubCanvas: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\tctx = CanvasProvider.getContext(rect.getSize());\n\t\tctx.drawImage(this.getCanvas(), rect.x, rect.y,\n\t\t\t\trect.width, rect.height, 0, 0, rect.width, rect.height);\n\t\treturn ctx.canvas;\n\t},\n\n\tgetSubRaster: function() {\n\t\tvar rect = Rectangle.read(arguments),\n\t\t\traster = new Raster(Item.NO_INSERT);\n\t\traster._setImage(this.getSubCanvas(rect));\n\t\traster.translate(rect.getCenter().subtract(this.getSize().divide(2)));\n\t\traster._matrix.prepend(this._matrix);\n\t\traster.insertAbove(this);\n\t\treturn raster;\n\t},\n\n\ttoDataURL: function() {\n\t\tvar image = this._image,\n\t\t\tsrc = image && image.src;\n\t\tif (/^data:/.test(src))\n\t\t\treturn src;\n\t\tvar canvas = this.getCanvas();\n\t\treturn canvas ? canvas.toDataURL.apply(canvas, arguments) : null;\n\t},\n\n\tdrawImage: function(image ) {\n\t\tvar point = Point.read(arguments, 1);\n\t\tthis.getContext(true).drawImage(image, point.x, point.y);\n\t},\n\n\tgetAverageColor: function(object) {\n\t\tvar bounds, path;\n\t\tif (!object) {\n\t\t\tbounds = this.getBounds();\n\t\t} else if (object instanceof PathItem) {\n\t\t\tpath = object;\n\t\t\tbounds = object.getBounds();\n\t\t} else if (typeof object === 'object') {\n\t\t\tif ('width' in object) {\n\t\t\t\tbounds = new Rectangle(object);\n\t\t\t} else if ('x' in object) {\n\t\t\t\tbounds = new Rectangle(object.x - 0.5, object.y - 0.5, 1, 1);\n\t\t\t}\n\t\t}\n\t\tif (!bounds)\n\t\t\treturn null;\n\t\tvar sampleSize = 32,\n\t\t\twidth = Math.min(bounds.width, sampleSize),\n\t\t\theight = Math.min(bounds.height, sampleSize);\n\t\tvar ctx = Raster._sampleContext;\n\t\tif (!ctx) {\n\t\t\tctx = Raster._sampleContext = CanvasProvider.getContext(\n\t\t\t\t\tnew Size(sampleSize));\n\t\t} else {\n\t\t\tctx.clearRect(0, 0, sampleSize + 1, sampleSize + 1);\n\t\t}\n\t\tctx.save();\n\t\tvar matrix = new Matrix()\n\t\t\t\t.scale(width / bounds.width, height / bounds.height)\n\t\t\t\t.translate(-bounds.x, -bounds.y);\n\t\tmatrix.applyToContext(ctx);\n\t\tif (path)\n\t\t\tpath.draw(ctx, new Base({ clip: true, matrices: [matrix] }));\n\t\tthis._matrix.applyToContext(ctx);\n\t\tvar element = this.getElement(),\n\t\t\tsize = this._size;\n\t\tif (element)\n\t\t\tctx.drawImage(element, -size.width / 2, -size.height / 2);\n\t\tctx.restore();\n\t\tvar pixels = ctx.getImageData(0.5, 0.5, Math.ceil(width),\n\t\t\t\tMath.ceil(height)).data,\n\t\t\tchannels = [0, 0, 0],\n\t\t\ttotal = 0;\n\t\tfor (var i = 0, l = pixels.length; i < l; i += 4) {\n\t\t\tvar alpha = pixels[i + 3];\n\t\t\ttotal += alpha;\n\t\t\talpha /= 255;\n\t\t\tchannels[0] += pixels[i] * alpha;\n\t\t\tchannels[1] += pixels[i + 1] * alpha;\n\t\t\tchannels[2] += pixels[i + 2] * alpha;\n\t\t}\n\t\tfor (var i = 0; i < 3; i++)\n\t\t\tchannels[i] /= total;\n\t\treturn total ? Color.read(channels) : null;\n\t},\n\n\tgetPixel: function() {\n\t\tvar point = Point.read(arguments);\n\t\tvar data = this.getContext().getImageData(point.x, point.y, 1, 1).data;\n\t\treturn new Color('rgb', [data[0] / 255, data[1] / 255, data[2] / 255],\n\t\t\t\tdata[3] / 255);\n\t},\n\n\tsetPixel: function() {\n\t\tvar args = arguments,\n\t\t\tpoint = Point.read(args),\n\t\t\tcolor = Color.read(args),\n\t\t\tcomponents = color._convert('rgb'),\n\t\t\talpha = color._alpha,\n\t\t\tctx = this.getContext(true),\n\t\t\timageData = ctx.createImageData(1, 1),\n\t\t\tdata = imageData.data;\n\t\tdata[0] = components[0] * 255;\n\t\tdata[1] = components[1] * 255;\n\t\tdata[2] = components[2] * 255;\n\t\tdata[3] = alpha != null ? alpha * 255 : 255;\n\t\tctx.putImageData(imageData, point.x, point.y);\n\t},\n\n\tclear: function() {\n\t\tvar size = this._size;\n\t\tthis.getContext(true).clearRect(0, 0, size.width + 1, size.height + 1);\n\t},\n\n\tcreateImageData: function() {\n\t\tvar size = Size.read(arguments);\n\t\treturn this.getContext().createImageData(size.width, size.height);\n\t},\n\n\tgetImageData: function() {\n\t\tvar rect = Rectangle.read(arguments);\n\t\tif (rect.isEmpty())\n\t\t\trect = new Rectangle(this._size);\n\t\treturn this.getContext().getImageData(rect.x, rect.y,\n\t\t\t\trect.width, rect.height);\n\t},\n\n\tsetImageData: function(data ) {\n\t\tvar point = Point.read(arguments, 1);\n\t\tthis.getContext(true).putImageData(data, point.x, point.y);\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar rect = new Rectangle(this._size).setCenter(0, 0);\n\t\treturn matrix ? matrix._transformBounds(rect) : rect;\n\t},\n\n\t_hitTestSelf: function(point) {\n\t\tif (this._contains(point)) {\n\t\t\tvar that = this;\n\t\t\treturn new HitResult('pixel', that, {\n\t\t\t\toffset: point.add(that._size.divide(2)).round(),\n\t\t\t\tcolor: {\n\t\t\t\t\tget: function() {\n\t\t\t\t\t\treturn that.getPixel(this.offset);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t},\n\n\t_draw: function(ctx, param, viewMatrix) {\n\t\tvar element = this.getElement();\n\t\tif (element && element.width > 0 && element.height > 0) {\n\t\t\tctx.globalAlpha = this._opacity;\n\n\t\t\tthis._setStyles(ctx, param, viewMatrix);\n\n\t\t\tDomElement.setPrefixed(\n\t\t\t\tctx, 'imageSmoothingEnabled', this._smoothing\n\t\t\t);\n\n\t\t\tctx.drawImage(element,\n\t\t\t\t\t-this._size.width / 2, -this._size.height / 2);\n\t\t}\n\t},\n\n\t_canComposite: function() {\n\t\treturn true;\n\t}\n});\n\nvar SymbolItem = Item.extend({\n\t_class: 'SymbolItem',\n\t_applyMatrix: false,\n\t_canApplyMatrix: false,\n\t_boundsOptions: { stroke: true },\n\t_serializeFields: {\n\t\tsymbol: null\n\t},\n\n\tinitialize: function SymbolItem(arg0, arg1) {\n\t\tif (!this._initialize(arg0,\n\t\t\t\targ1 !== undefined && Point.read(arguments, 1)))\n\t\t\tthis.setDefinition(arg0 instanceof SymbolDefinition ?\n\t\t\t\t\targ0 : new SymbolDefinition(arg0));\n\t},\n\n\t_equals: function(item) {\n\t\treturn this._definition === item._definition;\n\t},\n\n\tcopyContent: function(source) {\n\t\tthis.setDefinition(source._definition);\n\t},\n\n\tgetDefinition: function() {\n\t\treturn this._definition;\n\t},\n\n\tsetDefinition: function(definition) {\n\t\tthis._definition = definition;\n\t\tthis._changed(9);\n\t},\n\n\tgetSymbol: '#getDefinition',\n\tsetSymbol: '#setDefinition',\n\n\tisEmpty: function() {\n\t\treturn this._definition._item.isEmpty();\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar item = this._definition._item;\n\t\treturn item._getCachedBounds(item._matrix.prepended(matrix), options);\n\t},\n\n\t_hitTestSelf: function(point, options, viewMatrix) {\n\t\tvar opts = options.extend({ all: false });\n\t\tvar res = this._definition._item._hitTest(point, opts, viewMatrix);\n\t\tif (res)\n\t\t\tres.item = this;\n\t\treturn res;\n\t},\n\n\t_draw: function(ctx, param) {\n\t\tthis._definition._item.draw(ctx, param);\n\t}\n\n});\n\nvar SymbolDefinition = Base.extend({\n\t_class: 'SymbolDefinition',\n\n\tinitialize: function SymbolDefinition(item, dontCenter) {\n\t\tthis._id = UID.get();\n\t\tthis.project = paper.project;\n\t\tif (item)\n\t\t\tthis.setItem(item, dontCenter);\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn dictionary.add(this, function() {\n\t\t\treturn Base.serialize([this._class, this._item],\n\t\t\t\t\toptions, false, dictionary);\n\t\t});\n\t},\n\n\t_changed: function(flags) {\n\t\tif (flags & 8)\n\t\t\tItem._clearBoundsCache(this);\n\t\tif (flags & 1)\n\t\t\tthis.project._changed(flags);\n\t},\n\n\tgetItem: function() {\n\t\treturn this._item;\n\t},\n\n\tsetItem: function(item, _dontCenter) {\n\t\tif (item._symbol)\n\t\t\titem = item.clone();\n\t\tif (this._item)\n\t\t\tthis._item._symbol = null;\n\t\tthis._item = item;\n\t\titem.remove();\n\t\titem.setSelected(false);\n\t\tif (!_dontCenter)\n\t\t\titem.setPosition(new Point());\n\t\titem._symbol = this;\n\t\tthis._changed(9);\n\t},\n\n\tgetDefinition: '#getItem',\n\tsetDefinition: '#setItem',\n\n\tplace: function(position) {\n\t\treturn new SymbolItem(this, position);\n\t},\n\n\tclone: function() {\n\t\treturn new SymbolDefinition(this._item.clone(false));\n\t},\n\n\tequals: function(symbol) {\n\t\treturn symbol === this\n\t\t\t\t|| symbol && this._item.equals(symbol._item)\n\t\t\t\t|| false;\n\t}\n});\n\nvar HitResult = Base.extend({\n\t_class: 'HitResult',\n\n\tinitialize: function HitResult(type, item, values) {\n\t\tthis.type = type;\n\t\tthis.item = item;\n\t\tif (values)\n\t\t\tthis.inject(values);\n\t},\n\n\tstatics: {\n\t\tgetOptions: function(args) {\n\t\t\tvar options = args && Base.read(args);\n\t\t\treturn new Base({\n\t\t\t\ttype: null,\n\t\t\t\ttolerance: paper.settings.hitTolerance,\n\t\t\t\tfill: !options,\n\t\t\t\tstroke: !options,\n\t\t\t\tsegments: !options,\n\t\t\t\thandles: false,\n\t\t\t\tends: false,\n\t\t\t\tposition: false,\n\t\t\t\tcenter: false,\n\t\t\t\tbounds: false,\n\t\t\t\tguides: false,\n\t\t\t\tselected: false\n\t\t\t}, options);\n\t\t}\n\t}\n});\n\nvar Segment = Base.extend({\n\t_class: 'Segment',\n\tbeans: true,\n\t_selection: 0,\n\n\tinitialize: function Segment(arg0, arg1, arg2, arg3, arg4, arg5) {\n\t\tvar count = arguments.length,\n\t\t\tpoint, handleIn, handleOut, selection;\n\t\tif (count > 0) {\n\t\t\tif (arg0 == null || typeof arg0 === 'object') {\n\t\t\t\tif (count === 1 && arg0 && 'point' in arg0) {\n\t\t\t\t\tpoint = arg0.point;\n\t\t\t\t\thandleIn = arg0.handleIn;\n\t\t\t\t\thandleOut = arg0.handleOut;\n\t\t\t\t\tselection = arg0.selection;\n\t\t\t\t} else {\n\t\t\t\t\tpoint = arg0;\n\t\t\t\t\thandleIn = arg1;\n\t\t\t\t\thandleOut = arg2;\n\t\t\t\t\tselection = arg3;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tpoint = [ arg0, arg1 ];\n\t\t\t\thandleIn = arg2 !== undefined ? [ arg2, arg3 ] : null;\n\t\t\t\thandleOut = arg4 !== undefined ? [ arg4, arg5 ] : null;\n\t\t\t}\n\t\t}\n\t\tnew SegmentPoint(point, this, '_point');\n\t\tnew SegmentPoint(handleIn, this, '_handleIn');\n\t\tnew SegmentPoint(handleOut, this, '_handleOut');\n\t\tif (selection)\n\t\t\tthis.setSelection(selection);\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\tvar point = this._point,\n\t\t\tselection = this._selection,\n\t\t\tobj = selection || this.hasHandles()\n\t\t\t\t\t? [point, this._handleIn, this._handleOut]\n\t\t\t\t\t: point;\n\t\tif (selection)\n\t\t\tobj.push(selection);\n\t\treturn Base.serialize(obj, options, true, dictionary);\n\t},\n\n\t_changed: function(point) {\n\t\tvar path = this._path;\n\t\tif (!path)\n\t\t\treturn;\n\t\tvar curves = path._curves,\n\t\t\tindex = this._index,\n\t\t\tcurve;\n\t\tif (curves) {\n\t\t\tif ((!point || point === this._point || point === this._handleIn)\n\t\t\t\t\t&& (curve = index > 0 ? curves[index - 1] : path._closed\n\t\t\t\t\t\t? curves[curves.length - 1] : null))\n\t\t\t\tcurve._changed();\n\t\t\tif ((!point || point === this._point || point === this._handleOut)\n\t\t\t\t\t&& (curve = curves[index]))\n\t\t\t\tcurve._changed();\n\t\t}\n\t\tpath._changed(41);\n\t},\n\n\tgetPoint: function() {\n\t\treturn this._point;\n\t},\n\n\tsetPoint: function() {\n\t\tthis._point.set(Point.read(arguments));\n\t},\n\n\tgetHandleIn: function() {\n\t\treturn this._handleIn;\n\t},\n\n\tsetHandleIn: function() {\n\t\tthis._handleIn.set(Point.read(arguments));\n\t},\n\n\tgetHandleOut: function() {\n\t\treturn this._handleOut;\n\t},\n\n\tsetHandleOut: function() {\n\t\tthis._handleOut.set(Point.read(arguments));\n\t},\n\n\thasHandles: function() {\n\t\treturn !this._handleIn.isZero() || !this._handleOut.isZero();\n\t},\n\n\tisSmooth: function() {\n\t\tvar handleIn = this._handleIn,\n\t\t\thandleOut = this._handleOut;\n\t\treturn !handleIn.isZero() && !handleOut.isZero()\n\t\t\t\t&& handleIn.isCollinear(handleOut);\n\t},\n\n\tclearHandles: function() {\n\t\tthis._handleIn._set(0, 0);\n\t\tthis._handleOut._set(0, 0);\n\t},\n\n\tgetSelection: function() {\n\t\treturn this._selection;\n\t},\n\n\tsetSelection: function(selection) {\n\t\tvar oldSelection = this._selection,\n\t\t\tpath = this._path;\n\t\tthis._selection = selection = selection || 0;\n\t\tif (path && selection !== oldSelection) {\n\t\t\tpath._updateSelection(this, oldSelection, selection);\n\t\t\tpath._changed(257);\n\t\t}\n\t},\n\n\t_changeSelection: function(flag, selected) {\n\t\tvar selection = this._selection;\n\t\tthis.setSelection(selected ? selection | flag : selection & ~flag);\n\t},\n\n\tisSelected: function() {\n\t\treturn !!(this._selection & 7);\n\t},\n\n\tsetSelected: function(selected) {\n\t\tthis._changeSelection(7, selected);\n\t},\n\n\tgetIndex: function() {\n\t\treturn this._index !== undefined ? this._index : null;\n\t},\n\n\tgetPath: function() {\n\t\treturn this._path || null;\n\t},\n\n\tgetCurve: function() {\n\t\tvar path = this._path,\n\t\t\tindex = this._index;\n\t\tif (path) {\n\t\t\tif (index > 0 && !path._closed\n\t\t\t\t\t&& index === path._segments.length - 1)\n\t\t\t\tindex--;\n\t\t\treturn path.getCurves()[index] || null;\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetLocation: function() {\n\t\tvar curve = this.getCurve();\n\t\treturn curve\n\t\t\t\t? new CurveLocation(curve, this === curve._segment1 ? 0 : 1)\n\t\t\t\t: null;\n\t},\n\n\tgetNext: function() {\n\t\tvar segments = this._path && this._path._segments;\n\t\treturn segments && (segments[this._index + 1]\n\t\t\t\t|| this._path._closed && segments[0]) || null;\n\t},\n\n\tsmooth: function(options, _first, _last) {\n\t\tvar opts = options || {},\n\t\t\ttype = opts.type,\n\t\t\tfactor = opts.factor,\n\t\t\tprev = this.getPrevious(),\n\t\t\tnext = this.getNext(),\n\t\t\tp0 = (prev || this)._point,\n\t\t\tp1 = this._point,\n\t\t\tp2 = (next || this)._point,\n\t\t\td1 = p0.getDistance(p1),\n\t\t\td2 = p1.getDistance(p2);\n\t\tif (!type || type === 'catmull-rom') {\n\t\t\tvar a = factor === undefined ? 0.5 : factor,\n\t\t\t\td1_a = Math.pow(d1, a),\n\t\t\t\td1_2a = d1_a * d1_a,\n\t\t\t\td2_a = Math.pow(d2, a),\n\t\t\t\td2_2a = d2_a * d2_a;\n\t\t\tif (!_first && prev) {\n\t\t\t\tvar A = 2 * d2_2a + 3 * d2_a * d1_a + d1_2a,\n\t\t\t\t\tN = 3 * d2_a * (d2_a + d1_a);\n\t\t\t\tthis.setHandleIn(N !== 0\n\t\t\t\t\t? new Point(\n\t\t\t\t\t\t(d2_2a * p0._x + A * p1._x - d1_2a * p2._x) / N - p1._x,\n\t\t\t\t\t\t(d2_2a * p0._y + A * p1._y - d1_2a * p2._y) / N - p1._y)\n\t\t\t\t\t: new Point());\n\t\t\t}\n\t\t\tif (!_last && next) {\n\t\t\t\tvar A = 2 * d1_2a + 3 * d1_a * d2_a + d2_2a,\n\t\t\t\t\tN = 3 * d1_a * (d1_a + d2_a);\n\t\t\t\tthis.setHandleOut(N !== 0\n\t\t\t\t\t? new Point(\n\t\t\t\t\t\t(d1_2a * p2._x + A * p1._x - d2_2a * p0._x) / N - p1._x,\n\t\t\t\t\t\t(d1_2a * p2._y + A * p1._y - d2_2a * p0._y) / N - p1._y)\n\t\t\t\t\t: new Point());\n\t\t\t}\n\t\t} else if (type === 'geometric') {\n\t\t\tif (prev && next) {\n\t\t\t\tvar vector = p0.subtract(p2),\n\t\t\t\t\tt = factor === undefined ? 0.4 : factor,\n\t\t\t\t\tk = t * d1 / (d1 + d2);\n\t\t\t\tif (!_first)\n\t\t\t\t\tthis.setHandleIn(vector.multiply(k));\n\t\t\t\tif (!_last)\n\t\t\t\t\tthis.setHandleOut(vector.multiply(k - t));\n\t\t\t}\n\t\t} else {\n\t\t\tthrow new Error('Smoothing method \\'' + type + '\\' not supported.');\n\t\t}\n\t},\n\n\tgetPrevious: function() {\n\t\tvar segments = this._path && this._path._segments;\n\t\treturn segments && (segments[this._index - 1]\n\t\t\t\t|| this._path._closed && segments[segments.length - 1]) || null;\n\t},\n\n\tisFirst: function() {\n\t\treturn !this._index;\n\t},\n\n\tisLast: function() {\n\t\tvar path = this._path;\n\t\treturn path && this._index === path._segments.length - 1 || false;\n\t},\n\n\treverse: function() {\n\t\tvar handleIn = this._handleIn,\n\t\t\thandleOut = this._handleOut,\n\t\t\ttmp = handleIn.clone();\n\t\thandleIn.set(handleOut);\n\t\thandleOut.set(tmp);\n\t},\n\n\treversed: function() {\n\t\treturn new Segment(this._point, this._handleOut, this._handleIn);\n\t},\n\n\tremove: function() {\n\t\treturn this._path ? !!this._path.removeSegment(this._index) : false;\n\t},\n\n\tclone: function() {\n\t\treturn new Segment(this._point, this._handleIn, this._handleOut);\n\t},\n\n\tequals: function(segment) {\n\t\treturn segment === this || segment && this._class === segment._class\n\t\t\t\t&& this._point.equals(segment._point)\n\t\t\t\t&& this._handleIn.equals(segment._handleIn)\n\t\t\t\t&& this._handleOut.equals(segment._handleOut)\n\t\t\t\t|| false;\n\t},\n\n\ttoString: function() {\n\t\tvar parts = [ 'point: ' + this._point ];\n\t\tif (!this._handleIn.isZero())\n\t\t\tparts.push('handleIn: ' + this._handleIn);\n\t\tif (!this._handleOut.isZero())\n\t\t\tparts.push('handleOut: ' + this._handleOut);\n\t\treturn '{ ' + parts.join(', ') + ' }';\n\t},\n\n\ttransform: function(matrix) {\n\t\tthis._transformCoordinates(matrix, new Array(6), true);\n\t\tthis._changed();\n\t},\n\n\tinterpolate: function(from, to, factor) {\n\t\tvar u = 1 - factor,\n\t\t\tv = factor,\n\t\t\tpoint1 = from._point,\n\t\t\tpoint2 = to._point,\n\t\t\thandleIn1 = from._handleIn,\n\t\t\thandleIn2 = to._handleIn,\n\t\t\thandleOut2 = to._handleOut,\n\t\t\thandleOut1 = from._handleOut;\n\t\tthis._point._set(\n\t\t\t\tu * point1._x + v * point2._x,\n\t\t\t\tu * point1._y + v * point2._y, true);\n\t\tthis._handleIn._set(\n\t\t\t\tu * handleIn1._x + v * handleIn2._x,\n\t\t\t\tu * handleIn1._y + v * handleIn2._y, true);\n\t\tthis._handleOut._set(\n\t\t\t\tu * handleOut1._x + v * handleOut2._x,\n\t\t\t\tu * handleOut1._y + v * handleOut2._y, true);\n\t\tthis._changed();\n\t},\n\n\t_transformCoordinates: function(matrix, coords, change) {\n\t\tvar point = this._point,\n\t\t\thandleIn = !change || !this._handleIn.isZero()\n\t\t\t\t\t? this._handleIn : null,\n\t\t\thandleOut = !change || !this._handleOut.isZero()\n\t\t\t\t\t? this._handleOut : null,\n\t\t\tx = point._x,\n\t\t\ty = point._y,\n\t\t\ti = 2;\n\t\tcoords[0] = x;\n\t\tcoords[1] = y;\n\t\tif (handleIn) {\n\t\t\tcoords[i++] = handleIn._x + x;\n\t\t\tcoords[i++] = handleIn._y + y;\n\t\t}\n\t\tif (handleOut) {\n\t\t\tcoords[i++] = handleOut._x + x;\n\t\t\tcoords[i++] = handleOut._y + y;\n\t\t}\n\t\tif (matrix) {\n\t\t\tmatrix._transformCoordinates(coords, coords, i / 2);\n\t\t\tx = coords[0];\n\t\t\ty = coords[1];\n\t\t\tif (change) {\n\t\t\t\tpoint._x = x;\n\t\t\t\tpoint._y = y;\n\t\t\t\ti = 2;\n\t\t\t\tif (handleIn) {\n\t\t\t\t\thandleIn._x = coords[i++] - x;\n\t\t\t\t\thandleIn._y = coords[i++] - y;\n\t\t\t\t}\n\t\t\t\tif (handleOut) {\n\t\t\t\t\thandleOut._x = coords[i++] - x;\n\t\t\t\t\thandleOut._y = coords[i++] - y;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (!handleIn) {\n\t\t\t\t\tcoords[i++] = x;\n\t\t\t\t\tcoords[i++] = y;\n\t\t\t\t}\n\t\t\t\tif (!handleOut) {\n\t\t\t\t\tcoords[i++] = x;\n\t\t\t\t\tcoords[i++] = y;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn coords;\n\t}\n});\n\nvar SegmentPoint = Point.extend({\n\tinitialize: function SegmentPoint(point, owner, key) {\n\t\tvar x, y,\n\t\t\tselected;\n\t\tif (!point) {\n\t\t\tx = y = 0;\n\t\t} else if ((x = point[0]) !== undefined) {\n\t\t\ty = point[1];\n\t\t} else {\n\t\t\tvar pt = point;\n\t\t\tif ((x = pt.x) === undefined) {\n\t\t\t\tpt = Point.read(arguments);\n\t\t\t\tx = pt.x;\n\t\t\t}\n\t\t\ty = pt.y;\n\t\t\tselected = pt.selected;\n\t\t}\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._owner = owner;\n\t\towner[key] = this;\n\t\tif (selected)\n\t\t\tthis.setSelected(true);\n\t},\n\n\t_set: function(x, y) {\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._owner._changed(this);\n\t\treturn this;\n\t},\n\n\tgetX: function() {\n\t\treturn this._x;\n\t},\n\n\tsetX: function(x) {\n\t\tthis._x = x;\n\t\tthis._owner._changed(this);\n\t},\n\n\tgetY: function() {\n\t\treturn this._y;\n\t},\n\n\tsetY: function(y) {\n\t\tthis._y = y;\n\t\tthis._owner._changed(this);\n\t},\n\n\tisZero: function() {\n\t\tvar isZero = Numerical.isZero;\n\t\treturn isZero(this._x) && isZero(this._y);\n\t},\n\n\tisSelected: function() {\n\t\treturn !!(this._owner._selection & this._getSelection());\n\t},\n\n\tsetSelected: function(selected) {\n\t\tthis._owner._changeSelection(this._getSelection(), selected);\n\t},\n\n\t_getSelection: function() {\n\t\tvar owner = this._owner;\n\t\treturn this === owner._point ? 1\n\t\t\t: this === owner._handleIn ? 2\n\t\t\t: this === owner._handleOut ? 4\n\t\t\t: 0;\n\t}\n});\n\nvar Curve = Base.extend({\n\t_class: 'Curve',\n\tbeans: true,\n\n\tinitialize: function Curve(arg0, arg1, arg2, arg3, arg4, arg5, arg6, arg7) {\n\t\tvar count = arguments.length,\n\t\t\tseg1, seg2,\n\t\t\tpoint1, point2,\n\t\t\thandle1, handle2;\n\t\tif (count === 3) {\n\t\t\tthis._path = arg0;\n\t\t\tseg1 = arg1;\n\t\t\tseg2 = arg2;\n\t\t} else if (!count) {\n\t\t\tseg1 = new Segment();\n\t\t\tseg2 = new Segment();\n\t\t} else if (count === 1) {\n\t\t\tif ('segment1' in arg0) {\n\t\t\t\tseg1 = new Segment(arg0.segment1);\n\t\t\t\tseg2 = new Segment(arg0.segment2);\n\t\t\t} else if ('point1' in arg0) {\n\t\t\t\tpoint1 = arg0.point1;\n\t\t\t\thandle1 = arg0.handle1;\n\t\t\t\thandle2 = arg0.handle2;\n\t\t\t\tpoint2 = arg0.point2;\n\t\t\t} else if (Array.isArray(arg0)) {\n\t\t\t\tpoint1 = [arg0[0], arg0[1]];\n\t\t\t\tpoint2 = [arg0[6], arg0[7]];\n\t\t\t\thandle1 = [arg0[2] - arg0[0], arg0[3] - arg0[1]];\n\t\t\t\thandle2 = [arg0[4] - arg0[6], arg0[5] - arg0[7]];\n\t\t\t}\n\t\t} else if (count === 2) {\n\t\t\tseg1 = new Segment(arg0);\n\t\t\tseg2 = new Segment(arg1);\n\t\t} else if (count === 4) {\n\t\t\tpoint1 = arg0;\n\t\t\thandle1 = arg1;\n\t\t\thandle2 = arg2;\n\t\t\tpoint2 = arg3;\n\t\t} else if (count === 8) {\n\t\t\tpoint1 = [arg0, arg1];\n\t\t\tpoint2 = [arg6, arg7];\n\t\t\thandle1 = [arg2 - arg0, arg3 - arg1];\n\t\t\thandle2 = [arg4 - arg6, arg5 - arg7];\n\t\t}\n\t\tthis._segment1 = seg1 || new Segment(point1, null, handle1);\n\t\tthis._segment2 = seg2 || new Segment(point2, handle2, null);\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn Base.serialize(this.hasHandles()\n\t\t\t\t? [this.getPoint1(), this.getHandle1(), this.getHandle2(),\n\t\t\t\t\tthis.getPoint2()]\n\t\t\t\t: [this.getPoint1(), this.getPoint2()],\n\t\t\t\toptions, true, dictionary);\n\t},\n\n\t_changed: function() {\n\t\tthis._length = this._bounds = undefined;\n\t},\n\n\tclone: function() {\n\t\treturn new Curve(this._segment1, this._segment2);\n\t},\n\n\ttoString: function() {\n\t\tvar parts = [ 'point1: ' + this._segment1._point ];\n\t\tif (!this._segment1._handleOut.isZero())\n\t\t\tparts.push('handle1: ' + this._segment1._handleOut);\n\t\tif (!this._segment2._handleIn.isZero())\n\t\t\tparts.push('handle2: ' + this._segment2._handleIn);\n\t\tparts.push('point2: ' + this._segment2._point);\n\t\treturn '{ ' + parts.join(', ') + ' }';\n\t},\n\n\tclassify: function() {\n\t\treturn Curve.classify(this.getValues());\n\t},\n\n\tremove: function() {\n\t\tvar removed = false;\n\t\tif (this._path) {\n\t\t\tvar segment2 = this._segment2,\n\t\t\t\thandleOut = segment2._handleOut;\n\t\t\tremoved = segment2.remove();\n\t\t\tif (removed)\n\t\t\t\tthis._segment1._handleOut.set(handleOut);\n\t\t}\n\t\treturn removed;\n\t},\n\n\tgetPoint1: function() {\n\t\treturn this._segment1._point;\n\t},\n\n\tsetPoint1: function() {\n\t\tthis._segment1._point.set(Point.read(arguments));\n\t},\n\n\tgetPoint2: function() {\n\t\treturn this._segment2._point;\n\t},\n\n\tsetPoint2: function() {\n\t\tthis._segment2._point.set(Point.read(arguments));\n\t},\n\n\tgetHandle1: function() {\n\t\treturn this._segment1._handleOut;\n\t},\n\n\tsetHandle1: function() {\n\t\tthis._segment1._handleOut.set(Point.read(arguments));\n\t},\n\n\tgetHandle2: function() {\n\t\treturn this._segment2._handleIn;\n\t},\n\n\tsetHandle2: function() {\n\t\tthis._segment2._handleIn.set(Point.read(arguments));\n\t},\n\n\tgetSegment1: function() {\n\t\treturn this._segment1;\n\t},\n\n\tgetSegment2: function() {\n\t\treturn this._segment2;\n\t},\n\n\tgetPath: function() {\n\t\treturn this._path;\n\t},\n\n\tgetIndex: function() {\n\t\treturn this._segment1._index;\n\t},\n\n\tgetNext: function() {\n\t\tvar curves = this._path && this._path._curves;\n\t\treturn curves && (curves[this._segment1._index + 1]\n\t\t\t\t|| this._path._closed && curves[0]) || null;\n\t},\n\n\tgetPrevious: function() {\n\t\tvar curves = this._path && this._path._curves;\n\t\treturn curves && (curves[this._segment1._index - 1]\n\t\t\t\t|| this._path._closed && curves[curves.length - 1]) || null;\n\t},\n\n\tisFirst: function() {\n\t\treturn !this._segment1._index;\n\t},\n\n\tisLast: function() {\n\t\tvar path = this._path;\n\t\treturn path && this._segment1._index === path._curves.length - 1\n\t\t\t\t|| false;\n\t},\n\n\tisSelected: function() {\n\t\treturn this.getPoint1().isSelected()\n\t\t\t\t&& this.getHandle1().isSelected()\n\t\t\t\t&& this.getHandle2().isSelected()\n\t\t\t\t&& this.getPoint2().isSelected();\n\t},\n\n\tsetSelected: function(selected) {\n\t\tthis.getPoint1().setSelected(selected);\n\t\tthis.getHandle1().setSelected(selected);\n\t\tthis.getHandle2().setSelected(selected);\n\t\tthis.getPoint2().setSelected(selected);\n\t},\n\n\tgetValues: function(matrix) {\n\t\treturn Curve.getValues(this._segment1, this._segment2, matrix);\n\t},\n\n\tgetPoints: function() {\n\t\tvar coords = this.getValues(),\n\t\t\tpoints = [];\n\t\tfor (var i = 0; i < 8; i += 2)\n\t\t\tpoints.push(new Point(coords[i], coords[i + 1]));\n\t\treturn points;\n\t}\n}, {\n\tgetLength: function() {\n\t\tif (this._length == null)\n\t\t\tthis._length = Curve.getLength(this.getValues(), 0, 1);\n\t\treturn this._length;\n\t},\n\n\tgetArea: function() {\n\t\treturn Curve.getArea(this.getValues());\n\t},\n\n\tgetLine: function() {\n\t\treturn new Line(this._segment1._point, this._segment2._point);\n\t},\n\n\tgetPart: function(from, to) {\n\t\treturn new Curve(Curve.getPart(this.getValues(), from, to));\n\t},\n\n\tgetPartLength: function(from, to) {\n\t\treturn Curve.getLength(this.getValues(), from, to);\n\t},\n\n\tdivideAt: function(location) {\n\t\treturn this.divideAtTime(location && location.curve === this\n\t\t\t\t? location.time : this.getTimeAt(location));\n\t},\n\n\tdivideAtTime: function(time, _setHandles) {\n\t\tvar tMin = 1e-8,\n\t\t\ttMax = 1 - tMin,\n\t\t\tres = null;\n\t\tif (time >= tMin && time <= tMax) {\n\t\t\tvar parts = Curve.subdivide(this.getValues(), time),\n\t\t\t\tleft = parts[0],\n\t\t\t\tright = parts[1],\n\t\t\t\tsetHandles = _setHandles || this.hasHandles(),\n\t\t\t\tseg1 = this._segment1,\n\t\t\t\tseg2 = this._segment2,\n\t\t\t\tpath = this._path;\n\t\t\tif (setHandles) {\n\t\t\t\tseg1._handleOut._set(left[2] - left[0], left[3] - left[1]);\n\t\t\t\tseg2._handleIn._set(right[4] - right[6],right[5] - right[7]);\n\t\t\t}\n\t\t\tvar x = left[6], y = left[7],\n\t\t\t\tsegment = new Segment(new Point(x, y),\n\t\t\t\t\t\tsetHandles && new Point(left[4] - x, left[5] - y),\n\t\t\t\t\t\tsetHandles && new Point(right[2] - x, right[3] - y));\n\t\t\tif (path) {\n\t\t\t\tpath.insert(seg1._index + 1, segment);\n\t\t\t\tres = this.getNext();\n\t\t\t} else {\n\t\t\t\tthis._segment2 = segment;\n\t\t\t\tthis._changed();\n\t\t\t\tres = new Curve(segment, seg2);\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t},\n\n\tsplitAt: function(location) {\n\t\tvar path = this._path;\n\t\treturn path ? path.splitAt(location) : null;\n\t},\n\n\tsplitAtTime: function(time) {\n\t\treturn this.splitAt(this.getLocationAtTime(time));\n\t},\n\n\tdivide: function(offset, isTime) {\n\t\treturn this.divideAtTime(offset === undefined ? 0.5 : isTime ? offset\n\t\t\t\t: this.getTimeAt(offset));\n\t},\n\n\tsplit: function(offset, isTime) {\n\t\treturn this.splitAtTime(offset === undefined ? 0.5 : isTime ? offset\n\t\t\t\t: this.getTimeAt(offset));\n\t},\n\n\treversed: function() {\n\t\treturn new Curve(this._segment2.reversed(), this._segment1.reversed());\n\t},\n\n\tclearHandles: function() {\n\t\tthis._segment1._handleOut._set(0, 0);\n\t\tthis._segment2._handleIn._set(0, 0);\n\t},\n\nstatics: {\n\tgetValues: function(segment1, segment2, matrix, straight) {\n\t\tvar p1 = segment1._point,\n\t\t\th1 = segment1._handleOut,\n\t\t\th2 = segment2._handleIn,\n\t\t\tp2 = segment2._point,\n\t\t\tx1 = p1.x, y1 = p1.y,\n\t\t\tx2 = p2.x, y2 = p2.y,\n\t\t\tvalues = straight\n\t\t\t\t? [ x1, y1, x1, y1, x2, y2, x2, y2 ]\n\t\t\t\t: [\n\t\t\t\t\tx1, y1,\n\t\t\t\t\tx1 + h1._x, y1 + h1._y,\n\t\t\t\t\tx2 + h2._x, y2 + h2._y,\n\t\t\t\t\tx2, y2\n\t\t\t\t];\n\t\tif (matrix)\n\t\t\tmatrix._transformCoordinates(values, values, 4);\n\t\treturn values;\n\t},\n\n\tsubdivide: function(v, t) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7];\n\t\tif (t === undefined)\n\t\t\tt = 0.5;\n\t\tvar u = 1 - t,\n\t\t\tx4 = u * x0 + t * x1, y4 = u * y0 + t * y1,\n\t\t\tx5 = u * x1 + t * x2, y5 = u * y1 + t * y2,\n\t\t\tx6 = u * x2 + t * x3, y6 = u * y2 + t * y3,\n\t\t\tx7 = u * x4 + t * x5, y7 = u * y4 + t * y5,\n\t\t\tx8 = u * x5 + t * x6, y8 = u * y5 + t * y6,\n\t\t\tx9 = u * x7 + t * x8, y9 = u * y7 + t * y8;\n\t\treturn [\n\t\t\t[x0, y0, x4, y4, x7, y7, x9, y9],\n\t\t\t[x9, y9, x8, y8, x6, y6, x3, y3]\n\t\t];\n\t},\n\n\tgetMonoCurves: function(v, dir) {\n\t\tvar curves = [],\n\t\t\tio = dir ? 0 : 1,\n\t\t\to0 = v[io + 0],\n\t\t\to1 = v[io + 2],\n\t\t\to2 = v[io + 4],\n\t\t\to3 = v[io + 6];\n\t\tif ((o0 >= o1) === (o1 >= o2) && (o1 >= o2) === (o2 >= o3)\n\t\t\t\t|| Curve.isStraight(v)) {\n\t\t\tcurves.push(v);\n\t\t} else {\n\t\t\tvar a = 3 * (o1 - o2) - o0 + o3,\n\t\t\t\tb = 2 * (o0 + o2) - 4 * o1,\n\t\t\t\tc = o1 - o0,\n\t\t\t\ttMin = 1e-8,\n\t\t\t\ttMax = 1 - tMin,\n\t\t\t\troots = [],\n\t\t\t\tn = Numerical.solveQuadratic(a, b, c, roots, tMin, tMax);\n\t\t\tif (!n) {\n\t\t\t\tcurves.push(v);\n\t\t\t} else {\n\t\t\t\troots.sort();\n\t\t\t\tvar t = roots[0],\n\t\t\t\t\tparts = Curve.subdivide(v, t);\n\t\t\t\tcurves.push(parts[0]);\n\t\t\t\tif (n > 1) {\n\t\t\t\t\tt = (roots[1] - t) / (1 - t);\n\t\t\t\t\tparts = Curve.subdivide(parts[1], t);\n\t\t\t\t\tcurves.push(parts[0]);\n\t\t\t\t}\n\t\t\t\tcurves.push(parts[1]);\n\t\t\t}\n\t\t}\n\t\treturn curves;\n\t},\n\n\tsolveCubic: function (v, coord, val, roots, min, max) {\n\t\tvar v0 = v[coord],\n\t\t\tv1 = v[coord + 2],\n\t\t\tv2 = v[coord + 4],\n\t\t\tv3 = v[coord + 6],\n\t\t\tres = 0;\n\t\tif (  !(v0 < val && v3 < val && v1 < val && v2 < val ||\n\t\t\t\tv0 > val && v3 > val && v1 > val && v2 > val)) {\n\t\t\tvar c = 3 * (v1 - v0),\n\t\t\t\tb = 3 * (v2 - v1) - c,\n\t\t\t\ta = v3 - v0 - c - b;\n\t\t\tres = Numerical.solveCubic(a, b, c, v0 - val, roots, min, max);\n\t\t}\n\t\treturn res;\n\t},\n\n\tgetTimeOf: function(v, point) {\n\t\tvar p0 = new Point(v[0], v[1]),\n\t\t\tp3 = new Point(v[6], v[7]),\n\t\t\tepsilon = 1e-12,\n\t\t\tgeomEpsilon = 1e-7,\n\t\t\tt = point.isClose(p0, epsilon) ? 0\n\t\t\t  : point.isClose(p3, epsilon) ? 1\n\t\t\t  : null;\n\t\tif (t === null) {\n\t\t\tvar coords = [point.x, point.y],\n\t\t\t\troots = [];\n\t\t\tfor (var c = 0; c < 2; c++) {\n\t\t\t\tvar count = Curve.solveCubic(v, c, coords[c], roots, 0, 1);\n\t\t\t\tfor (var i = 0; i < count; i++) {\n\t\t\t\t\tvar u = roots[i];\n\t\t\t\t\tif (point.isClose(Curve.getPoint(v, u), geomEpsilon))\n\t\t\t\t\t\treturn u;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn point.isClose(p0, geomEpsilon) ? 0\n\t\t\t : point.isClose(p3, geomEpsilon) ? 1\n\t\t\t : null;\n\t},\n\n\tgetNearestTime: function(v, point) {\n\t\tif (Curve.isStraight(v)) {\n\t\t\tvar x0 = v[0], y0 = v[1],\n\t\t\t\tx3 = v[6], y3 = v[7],\n\t\t\t\tvx = x3 - x0, vy = y3 - y0,\n\t\t\t\tdet = vx * vx + vy * vy;\n\t\t\tif (det === 0)\n\t\t\t\treturn 0;\n\t\t\tvar u = ((point.x - x0) * vx + (point.y - y0) * vy) / det;\n\t\t\treturn u < 1e-12 ? 0\n\t\t\t\t : u > 0.999999999999 ? 1\n\t\t\t\t : Curve.getTimeOf(v,\n\t\t\t\t\tnew Point(x0 + u * vx, y0 + u * vy));\n\t\t}\n\n\t\tvar count = 100,\n\t\t\tminDist = Infinity,\n\t\t\tminT = 0;\n\n\t\tfunction refine(t) {\n\t\t\tif (t >= 0 && t <= 1) {\n\t\t\t\tvar dist = point.getDistance(Curve.getPoint(v, t), true);\n\t\t\t\tif (dist < minDist) {\n\t\t\t\t\tminDist = dist;\n\t\t\t\t\tminT = t;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0; i <= count; i++)\n\t\t\trefine(i / count);\n\n\t\tvar step = 1 / (count * 2);\n\t\twhile (step > 1e-8) {\n\t\t\tif (!refine(minT - step) && !refine(minT + step))\n\t\t\t\tstep /= 2;\n\t\t}\n\t\treturn minT;\n\t},\n\n\tgetPart: function(v, from, to) {\n\t\tvar flip = from > to;\n\t\tif (flip) {\n\t\t\tvar tmp = from;\n\t\t\tfrom = to;\n\t\t\tto = tmp;\n\t\t}\n\t\tif (from > 0)\n\t\t\tv = Curve.subdivide(v, from)[1];\n\t\tif (to < 1)\n\t\t\tv = Curve.subdivide(v, (to - from) / (1 - from))[0];\n\t\treturn flip\n\t\t\t\t? [v[6], v[7], v[4], v[5], v[2], v[3], v[0], v[1]]\n\t\t\t\t: v;\n\t},\n\n\tisFlatEnough: function(v, flatness) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7],\n\t\t\tux = 3 * x1 - 2 * x0 - x3,\n\t\t\tuy = 3 * y1 - 2 * y0 - y3,\n\t\t\tvx = 3 * x2 - 2 * x3 - x0,\n\t\t\tvy = 3 * y2 - 2 * y3 - y0;\n\t\treturn Math.max(ux * ux, vx * vx) + Math.max(uy * uy, vy * vy)\n\t\t\t\t<= 16 * flatness * flatness;\n\t},\n\n\tgetArea: function(v) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7];\n\t\treturn 3 * ((y3 - y0) * (x1 + x2) - (x3 - x0) * (y1 + y2)\n\t\t\t\t+ y1 * (x0 - x2) - x1 * (y0 - y2)\n\t\t\t\t+ y3 * (x2 + x0 / 3) - x3 * (y2 + y0 / 3)) / 20;\n\t},\n\n\tgetBounds: function(v) {\n\t\tvar min = v.slice(0, 2),\n\t\t\tmax = min.slice(),\n\t\t\troots = [0, 0];\n\t\tfor (var i = 0; i < 2; i++)\n\t\t\tCurve._addBounds(v[i], v[i + 2], v[i + 4], v[i + 6],\n\t\t\t\t\ti, 0, min, max, roots);\n\t\treturn new Rectangle(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n\t},\n\n\t_addBounds: function(v0, v1, v2, v3, coord, padding, min, max, roots) {\n\t\tfunction add(value, padding) {\n\t\t\tvar left = value - padding,\n\t\t\t\tright = value + padding;\n\t\t\tif (left < min[coord])\n\t\t\t\tmin[coord] = left;\n\t\t\tif (right > max[coord])\n\t\t\t\tmax[coord] = right;\n\t\t}\n\n\t\tpadding /= 2;\n\t\tvar minPad = min[coord] - padding,\n\t\t\tmaxPad = max[coord] + padding;\n\t\tif (    v0 < minPad || v1 < minPad || v2 < minPad || v3 < minPad ||\n\t\t\t\tv0 > maxPad || v1 > maxPad || v2 > maxPad || v3 > maxPad) {\n\t\t\tif (v1 < v0 != v1 < v3 && v2 < v0 != v2 < v3) {\n\t\t\t\tadd(v0, padding);\n\t\t\t\tadd(v3, padding);\n\t\t\t} else {\n\t\t\t\tvar a = 3 * (v1 - v2) - v0 + v3,\n\t\t\t\t\tb = 2 * (v0 + v2) - 4 * v1,\n\t\t\t\t\tc = v1 - v0,\n\t\t\t\t\tcount = Numerical.solveQuadratic(a, b, c, roots),\n\t\t\t\t\ttMin = 1e-8,\n\t\t\t\t\ttMax = 1 - tMin;\n\t\t\t\tadd(v3, 0);\n\t\t\t\tfor (var i = 0; i < count; i++) {\n\t\t\t\t\tvar t = roots[i],\n\t\t\t\t\t\tu = 1 - t;\n\t\t\t\t\tif (tMin <= t && t <= tMax)\n\t\t\t\t\t\tadd(u * u * u * v0\n\t\t\t\t\t\t\t+ 3 * u * u * t * v1\n\t\t\t\t\t\t\t+ 3 * u * t * t * v2\n\t\t\t\t\t\t\t+ t * t * t * v3,\n\t\t\t\t\t\t\tpadding);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}}, Base.each(\n\t['getBounds', 'getStrokeBounds', 'getHandleBounds'],\n\tfunction(name) {\n\t\tthis[name] = function() {\n\t\t\tif (!this._bounds)\n\t\t\t\tthis._bounds = {};\n\t\t\tvar bounds = this._bounds[name];\n\t\t\tif (!bounds) {\n\t\t\t\tbounds = this._bounds[name] = Path[name](\n\t\t\t\t\t\t[this._segment1, this._segment2], false, this._path);\n\t\t\t}\n\t\t\treturn bounds.clone();\n\t\t};\n\t},\n{\n\n}), Base.each({\n\tisStraight: function(p1, h1, h2, p2) {\n\t\tif (h1.isZero() && h2.isZero()) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\tvar v = p2.subtract(p1);\n\t\t\tif (v.isZero()) {\n\t\t\t\treturn false;\n\t\t\t} else if (v.isCollinear(h1) && v.isCollinear(h2)) {\n\t\t\t\tvar l = new Line(p1, p2),\n\t\t\t\t\tepsilon = 1e-7;\n\t\t\t\tif (l.getDistance(p1.add(h1)) < epsilon &&\n\t\t\t\t\tl.getDistance(p2.add(h2)) < epsilon) {\n\t\t\t\t\tvar div = v.dot(v),\n\t\t\t\t\t\ts1 = v.dot(h1) / div,\n\t\t\t\t\t\ts2 = v.dot(h2) / div;\n\t\t\t\t\treturn s1 >= 0 && s1 <= 1 && s2 <= 0 && s2 >= -1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t},\n\n\tisLinear: function(p1, h1, h2, p2) {\n\t\tvar third = p2.subtract(p1).divide(3);\n\t\treturn h1.equals(third) && h2.negate().equals(third);\n\t}\n}, function(test, name) {\n\tthis[name] = function(epsilon) {\n\t\tvar seg1 = this._segment1,\n\t\t\tseg2 = this._segment2;\n\t\treturn test(seg1._point, seg1._handleOut, seg2._handleIn, seg2._point,\n\t\t\t\tepsilon);\n\t};\n\n\tthis.statics[name] = function(v, epsilon) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx3 = v[6], y3 = v[7];\n\t\treturn test(\n\t\t\t\tnew Point(x0, y0),\n\t\t\t\tnew Point(v[2] - x0, v[3] - y0),\n\t\t\t\tnew Point(v[4] - x3, v[5] - y3),\n\t\t\t\tnew Point(x3, y3), epsilon);\n\t};\n}, {\n\tstatics: {},\n\n\thasHandles: function() {\n\t\treturn !this._segment1._handleOut.isZero()\n\t\t\t\t|| !this._segment2._handleIn.isZero();\n\t},\n\n\thasLength: function(epsilon) {\n\t\treturn (!this.getPoint1().equals(this.getPoint2()) || this.hasHandles())\n\t\t\t\t&& this.getLength() > (epsilon || 0);\n\t},\n\n\tisCollinear: function(curve) {\n\t\treturn curve && this.isStraight() && curve.isStraight()\n\t\t\t\t&& this.getLine().isCollinear(curve.getLine());\n\t},\n\n\tisHorizontal: function() {\n\t\treturn this.isStraight() && Math.abs(this.getTangentAtTime(0.5).y)\n\t\t\t\t< 1e-8;\n\t},\n\n\tisVertical: function() {\n\t\treturn this.isStraight() && Math.abs(this.getTangentAtTime(0.5).x)\n\t\t\t\t< 1e-8;\n\t}\n}), {\n\tbeans: false,\n\n\tgetLocationAt: function(offset, _isTime) {\n\t\treturn this.getLocationAtTime(\n\t\t\t\t_isTime ? offset : this.getTimeAt(offset));\n\t},\n\n\tgetLocationAtTime: function(t) {\n\t\treturn t != null && t >= 0 && t <= 1\n\t\t\t\t? new CurveLocation(this, t)\n\t\t\t\t: null;\n\t},\n\n\tgetTimeAt: function(offset, start) {\n\t\treturn Curve.getTimeAt(this.getValues(), offset, start);\n\t},\n\n\tgetParameterAt: '#getTimeAt',\n\n\tgetTimesWithTangent: function () {\n\t\tvar tangent = Point.read(arguments);\n\t\treturn tangent.isZero()\n\t\t\t\t? []\n\t\t\t\t: Curve.getTimesWithTangent(this.getValues(), tangent);\n\t},\n\n\tgetOffsetAtTime: function(t) {\n\t\treturn this.getPartLength(0, t);\n\t},\n\n\tgetLocationOf: function() {\n\t\treturn this.getLocationAtTime(this.getTimeOf(Point.read(arguments)));\n\t},\n\n\tgetOffsetOf: function() {\n\t\tvar loc = this.getLocationOf.apply(this, arguments);\n\t\treturn loc ? loc.getOffset() : null;\n\t},\n\n\tgetTimeOf: function() {\n\t\treturn Curve.getTimeOf(this.getValues(), Point.read(arguments));\n\t},\n\n\tgetParameterOf: '#getTimeOf',\n\n\tgetNearestLocation: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tvalues = this.getValues(),\n\t\t\tt = Curve.getNearestTime(values, point),\n\t\t\tpt = Curve.getPoint(values, t);\n\t\treturn new CurveLocation(this, t, pt, null, point.getDistance(pt));\n\t},\n\n\tgetNearestPoint: function() {\n\t\tvar loc = this.getNearestLocation.apply(this, arguments);\n\t\treturn loc ? loc.getPoint() : loc;\n\t}\n\n},\nnew function() {\n\tvar methods = ['getPoint', 'getTangent', 'getNormal', 'getWeightedTangent',\n\t\t'getWeightedNormal', 'getCurvature'];\n\treturn Base.each(methods,\n\t\tfunction(name) {\n\t\t\tthis[name + 'At'] = function(location, _isTime) {\n\t\t\t\tvar values = this.getValues();\n\t\t\t\treturn Curve[name](values, _isTime ? location\n\t\t\t\t\t\t: Curve.getTimeAt(values, location));\n\t\t\t};\n\n\t\t\tthis[name + 'AtTime'] = function(time) {\n\t\t\t\treturn Curve[name](this.getValues(), time);\n\t\t\t};\n\t\t}, {\n\t\t\tstatics: {\n\t\t\t\t_evaluateMethods: methods\n\t\t\t}\n\t\t}\n\t);\n},\nnew function() {\n\n\tfunction getLengthIntegrand(v) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7],\n\n\t\t\tax = 9 * (x1 - x2) + 3 * (x3 - x0),\n\t\t\tbx = 6 * (x0 + x2) - 12 * x1,\n\t\t\tcx = 3 * (x1 - x0),\n\n\t\t\tay = 9 * (y1 - y2) + 3 * (y3 - y0),\n\t\t\tby = 6 * (y0 + y2) - 12 * y1,\n\t\t\tcy = 3 * (y1 - y0);\n\n\t\treturn function(t) {\n\t\t\tvar dx = (ax * t + bx) * t + cx,\n\t\t\t\tdy = (ay * t + by) * t + cy;\n\t\t\treturn Math.sqrt(dx * dx + dy * dy);\n\t\t};\n\t}\n\n\tfunction getIterations(a, b) {\n\t\treturn Math.max(2, Math.min(16, Math.ceil(Math.abs(b - a) * 32)));\n\t}\n\n\tfunction evaluate(v, t, type, normalized) {\n\t\tif (t == null || t < 0 || t > 1)\n\t\t\treturn null;\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7],\n\t\t\tisZero = Numerical.isZero;\n\t\tif (isZero(x1 - x0) && isZero(y1 - y0)) {\n\t\t\tx1 = x0;\n\t\t\ty1 = y0;\n\t\t}\n\t\tif (isZero(x2 - x3) && isZero(y2 - y3)) {\n\t\t\tx2 = x3;\n\t\t\ty2 = y3;\n\t\t}\n\t\tvar cx = 3 * (x1 - x0),\n\t\t\tbx = 3 * (x2 - x1) - cx,\n\t\t\tax = x3 - x0 - cx - bx,\n\t\t\tcy = 3 * (y1 - y0),\n\t\t\tby = 3 * (y2 - y1) - cy,\n\t\t\tay = y3 - y0 - cy - by,\n\t\t\tx, y;\n\t\tif (type === 0) {\n\t\t\tx = t === 0 ? x0 : t === 1 ? x3\n\t\t\t\t\t: ((ax * t + bx) * t + cx) * t + x0;\n\t\t\ty = t === 0 ? y0 : t === 1 ? y3\n\t\t\t\t\t: ((ay * t + by) * t + cy) * t + y0;\n\t\t} else {\n\t\t\tvar tMin = 1e-8,\n\t\t\t\ttMax = 1 - tMin;\n\t\t\tif (t < tMin) {\n\t\t\t\tx = cx;\n\t\t\t\ty = cy;\n\t\t\t} else if (t > tMax) {\n\t\t\t\tx = 3 * (x3 - x2);\n\t\t\t\ty = 3 * (y3 - y2);\n\t\t\t} else {\n\t\t\t\tx = (3 * ax * t + 2 * bx) * t + cx;\n\t\t\t\ty = (3 * ay * t + 2 * by) * t + cy;\n\t\t\t}\n\t\t\tif (normalized) {\n\t\t\t\tif (x === 0 && y === 0 && (t < tMin || t > tMax)) {\n\t\t\t\t\tx = x2 - x1;\n\t\t\t\t\ty = y2 - y1;\n\t\t\t\t}\n\t\t\t\tvar len = Math.sqrt(x * x + y * y);\n\t\t\t\tif (len) {\n\t\t\t\t\tx /= len;\n\t\t\t\t\ty /= len;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (type === 3) {\n\t\t\t\tvar x2 = 6 * ax * t + 2 * bx,\n\t\t\t\t\ty2 = 6 * ay * t + 2 * by,\n\t\t\t\t\td = Math.pow(x * x + y * y, 3 / 2);\n\t\t\t\tx = d !== 0 ? (x * y2 - y * x2) / d : 0;\n\t\t\t\ty = 0;\n\t\t\t}\n\t\t}\n\t\treturn type === 2 ? new Point(y, -x) : new Point(x, y);\n\t}\n\n\treturn { statics: {\n\n\t\tclassify: function(v) {\n\n\t\t\tvar x0 = v[0], y0 = v[1],\n\t\t\t\tx1 = v[2], y1 = v[3],\n\t\t\t\tx2 = v[4], y2 = v[5],\n\t\t\t\tx3 = v[6], y3 = v[7],\n\t\t\t\ta1 = x0 * (y3 - y2) + y0 * (x2 - x3) + x3 * y2 - y3 * x2,\n\t\t\t\ta2 = x1 * (y0 - y3) + y1 * (x3 - x0) + x0 * y3 - y0 * x3,\n\t\t\t\ta3 = x2 * (y1 - y0) + y2 * (x0 - x1) + x1 * y0 - y1 * x0,\n\t\t\t\td3 = 3 * a3,\n\t\t\t\td2 = d3 - a2,\n\t\t\t\td1 = d2 - a2 + a1,\n\t\t\t\tl = Math.sqrt(d1 * d1 + d2 * d2 + d3 * d3),\n\t\t\t\ts = l !== 0 ? 1 / l : 0,\n\t\t\t\tisZero = Numerical.isZero,\n\t\t\t\tserpentine = 'serpentine';\n\t\t\td1 *= s;\n\t\t\td2 *= s;\n\t\t\td3 *= s;\n\n\t\t\tfunction type(type, t1, t2) {\n\t\t\t\tvar hasRoots = t1 !== undefined,\n\t\t\t\t\tt1Ok = hasRoots && t1 > 0 && t1 < 1,\n\t\t\t\t\tt2Ok = hasRoots && t2 > 0 && t2 < 1;\n\t\t\t\tif (hasRoots && (!(t1Ok || t2Ok)\n\t\t\t\t\t\t|| type === 'loop' && !(t1Ok && t2Ok))) {\n\t\t\t\t\ttype = 'arch';\n\t\t\t\t\tt1Ok = t2Ok = false;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\ttype: type,\n\t\t\t\t\troots: t1Ok || t2Ok\n\t\t\t\t\t\t\t? t1Ok && t2Ok\n\t\t\t\t\t\t\t\t? t1 < t2 ? [t1, t2] : [t2, t1]\n\t\t\t\t\t\t\t\t: [t1Ok ? t1 : t2]\n\t\t\t\t\t\t\t: null\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tif (isZero(d1)) {\n\t\t\t\treturn isZero(d2)\n\t\t\t\t\t\t? type(isZero(d3) ? 'line' : 'quadratic')\n\t\t\t\t\t\t: type(serpentine, d3 / (3 * d2));\n\t\t\t}\n\t\t\tvar d = 3 * d2 * d2 - 4 * d1 * d3;\n\t\t\tif (isZero(d)) {\n\t\t\t\treturn type('cusp', d2 / (2 * d1));\n\t\t\t}\n\t\t\tvar f1 = d > 0 ? Math.sqrt(d / 3) : Math.sqrt(-d),\n\t\t\t\tf2 = 2 * d1;\n\t\t\treturn type(d > 0 ? serpentine : 'loop',\n\t\t\t\t\t(d2 + f1) / f2,\n\t\t\t\t\t(d2 - f1) / f2);\n\t\t},\n\n\t\tgetLength: function(v, a, b, ds) {\n\t\t\tif (a === undefined)\n\t\t\t\ta = 0;\n\t\t\tif (b === undefined)\n\t\t\t\tb = 1;\n\t\t\tif (Curve.isStraight(v)) {\n\t\t\t\tvar c = v;\n\t\t\t\tif (b < 1) {\n\t\t\t\t\tc = Curve.subdivide(c, b)[0];\n\t\t\t\t\ta /= b;\n\t\t\t\t}\n\t\t\t\tif (a > 0) {\n\t\t\t\t\tc = Curve.subdivide(c, a)[1];\n\t\t\t\t}\n\t\t\t\tvar dx = c[6] - c[0],\n\t\t\t\t\tdy = c[7] - c[1];\n\t\t\t\treturn Math.sqrt(dx * dx + dy * dy);\n\t\t\t}\n\t\t\treturn Numerical.integrate(ds || getLengthIntegrand(v), a, b,\n\t\t\t\t\tgetIterations(a, b));\n\t\t},\n\n\t\tgetTimeAt: function(v, offset, start) {\n\t\t\tif (start === undefined)\n\t\t\t\tstart = offset < 0 ? 1 : 0;\n\t\t\tif (offset === 0)\n\t\t\t\treturn start;\n\t\t\tvar abs = Math.abs,\n\t\t\t\tepsilon = 1e-12,\n\t\t\t\tforward = offset > 0,\n\t\t\t\ta = forward ? start : 0,\n\t\t\t\tb = forward ? 1 : start,\n\t\t\t\tds = getLengthIntegrand(v),\n\t\t\t\trangeLength = Curve.getLength(v, a, b, ds),\n\t\t\t\tdiff = abs(offset) - rangeLength;\n\t\t\tif (abs(diff) < epsilon) {\n\t\t\t\treturn forward ? b : a;\n\t\t\t} else if (diff > epsilon) {\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tvar guess = offset / rangeLength,\n\t\t\t\tlength = 0;\n\t\t\tfunction f(t) {\n\t\t\t\tlength += Numerical.integrate(ds, start, t,\n\t\t\t\t\t\tgetIterations(start, t));\n\t\t\t\tstart = t;\n\t\t\t\treturn length - offset;\n\t\t\t}\n\t\t\treturn Numerical.findRoot(f, ds, start + guess, a, b, 32,\n\t\t\t\t\t1e-12);\n\t\t},\n\n\t\tgetPoint: function(v, t) {\n\t\t\treturn evaluate(v, t, 0, false);\n\t\t},\n\n\t\tgetTangent: function(v, t) {\n\t\t\treturn evaluate(v, t, 1, true);\n\t\t},\n\n\t\tgetWeightedTangent: function(v, t) {\n\t\t\treturn evaluate(v, t, 1, false);\n\t\t},\n\n\t\tgetNormal: function(v, t) {\n\t\t\treturn evaluate(v, t, 2, true);\n\t\t},\n\n\t\tgetWeightedNormal: function(v, t) {\n\t\t\treturn evaluate(v, t, 2, false);\n\t\t},\n\n\t\tgetCurvature: function(v, t) {\n\t\t\treturn evaluate(v, t, 3, false).x;\n\t\t},\n\n\t\tgetPeaks: function(v) {\n\t\t\tvar x0 = v[0], y0 = v[1],\n\t\t\t\tx1 = v[2], y1 = v[3],\n\t\t\t\tx2 = v[4], y2 = v[5],\n\t\t\t\tx3 = v[6], y3 = v[7],\n\t\t\t\tax =     -x0 + 3 * x1 - 3 * x2 + x3,\n\t\t\t\tbx =  3 * x0 - 6 * x1 + 3 * x2,\n\t\t\t\tcx = -3 * x0 + 3 * x1,\n\t\t\t\tay =     -y0 + 3 * y1 - 3 * y2 + y3,\n\t\t\t\tby =  3 * y0 - 6 * y1 + 3 * y2,\n\t\t\t\tcy = -3 * y0 + 3 * y1,\n\t\t\t\ttMin = 1e-8,\n\t\t\t\ttMax = 1 - tMin,\n\t\t\t\troots = [];\n\t\t\tNumerical.solveCubic(\n\t\t\t\t\t9 * (ax * ax + ay * ay),\n\t\t\t\t\t9 * (ax * bx + by * ay),\n\t\t\t\t\t2 * (bx * bx + by * by) + 3 * (cx * ax + cy * ay),\n\t\t\t\t\t(cx * bx + by * cy),\n\t\t\t\t\troots, tMin, tMax);\n\t\t\treturn roots.sort();\n\t\t}\n\t}};\n},\nnew function() {\n\n\tfunction addLocation(locations, include, c1, t1, c2, t2, overlap) {\n\t\tvar excludeStart = !overlap && c1.getPrevious() === c2,\n\t\t\texcludeEnd = !overlap && c1 !== c2 && c1.getNext() === c2,\n\t\t\ttMin = 1e-8,\n\t\t\ttMax = 1 - tMin;\n\t\tif (t1 !== null && t1 >= (excludeStart ? tMin : 0) &&\n\t\t\tt1 <= (excludeEnd ? tMax : 1)) {\n\t\t\tif (t2 !== null && t2 >= (excludeEnd ? tMin : 0) &&\n\t\t\t\tt2 <= (excludeStart ? tMax : 1)) {\n\t\t\t\tvar loc1 = new CurveLocation(c1, t1, null, overlap),\n\t\t\t\t\tloc2 = new CurveLocation(c2, t2, null, overlap);\n\t\t\t\tloc1._intersection = loc2;\n\t\t\t\tloc2._intersection = loc1;\n\t\t\t\tif (!include || include(loc1)) {\n\t\t\t\t\tCurveLocation.insert(locations, loc1, true);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction addCurveIntersections(v1, v2, c1, c2, locations, include, flip,\n\t\t\trecursion, calls, tMin, tMax, uMin, uMax) {\n\t\tif (++calls >= 4096 || ++recursion >= 40)\n\t\t\treturn calls;\n\t\tvar fatLineEpsilon = 1e-9,\n\t\t\tq0x = v2[0], q0y = v2[1], q3x = v2[6], q3y = v2[7],\n\t\t\tgetSignedDistance = Line.getSignedDistance,\n\t\t\td1 = getSignedDistance(q0x, q0y, q3x, q3y, v2[2], v2[3]),\n\t\t\td2 = getSignedDistance(q0x, q0y, q3x, q3y, v2[4], v2[5]),\n\t\t\tfactor = d1 * d2 > 0 ? 3 / 4 : 4 / 9,\n\t\t\tdMin = factor * Math.min(0, d1, d2),\n\t\t\tdMax = factor * Math.max(0, d1, d2),\n\t\t\tdp0 = getSignedDistance(q0x, q0y, q3x, q3y, v1[0], v1[1]),\n\t\t\tdp1 = getSignedDistance(q0x, q0y, q3x, q3y, v1[2], v1[3]),\n\t\t\tdp2 = getSignedDistance(q0x, q0y, q3x, q3y, v1[4], v1[5]),\n\t\t\tdp3 = getSignedDistance(q0x, q0y, q3x, q3y, v1[6], v1[7]),\n\t\t\thull = getConvexHull(dp0, dp1, dp2, dp3),\n\t\t\ttop = hull[0],\n\t\t\tbottom = hull[1],\n\t\t\ttMinClip,\n\t\t\ttMaxClip;\n\t\tif (d1 === 0 && d2 === 0\n\t\t\t\t&& dp0 === 0 && dp1 === 0 && dp2 === 0 && dp3 === 0\n\t\t\t|| (tMinClip = clipConvexHull(top, bottom, dMin, dMax)) == null\n\t\t\t|| (tMaxClip = clipConvexHull(top.reverse(), bottom.reverse(),\n\t\t\t\tdMin, dMax)) == null)\n\t\t\treturn calls;\n\t\tvar tMinNew = tMin + (tMax - tMin) * tMinClip,\n\t\t\ttMaxNew = tMin + (tMax - tMin) * tMaxClip;\n\t\tif (Math.max(uMax - uMin, tMaxNew - tMinNew) < fatLineEpsilon) {\n\t\t\tvar t = (tMinNew + tMaxNew) / 2,\n\t\t\t\tu = (uMin + uMax) / 2;\n\t\t\taddLocation(locations, include,\n\t\t\t\t\tflip ? c2 : c1, flip ? u : t,\n\t\t\t\t\tflip ? c1 : c2, flip ? t : u);\n\t\t} else {\n\t\t\tv1 = Curve.getPart(v1, tMinClip, tMaxClip);\n\t\t\tvar uDiff = uMax - uMin;\n\t\t\tif (tMaxClip - tMinClip > 0.8) {\n\t\t\t\tif (tMaxNew - tMinNew > uDiff) {\n\t\t\t\t\tvar parts = Curve.subdivide(v1, 0.5),\n\t\t\t\t\t\tt = (tMinNew + tMaxNew) / 2;\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tv2, parts[0], c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, uMin, uMax, tMinNew, t);\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tv2, parts[1], c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, uMin, uMax, t, tMaxNew);\n\t\t\t\t} else {\n\t\t\t\t\tvar parts = Curve.subdivide(v2, 0.5),\n\t\t\t\t\t\tu = (uMin + uMax) / 2;\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tparts[0], v1, c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, uMin, u, tMinNew, tMaxNew);\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tparts[1], v1, c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, u, uMax, tMinNew, tMaxNew);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (uDiff === 0 || uDiff >= fatLineEpsilon) {\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tv2, v1, c2, c1, locations, include, !flip,\n\t\t\t\t\t\t\trecursion, calls, uMin, uMax, tMinNew, tMaxNew);\n\t\t\t\t} else {\n\t\t\t\t\tcalls = addCurveIntersections(\n\t\t\t\t\t\t\tv1, v2, c1, c2, locations, include, flip,\n\t\t\t\t\t\t\trecursion, calls, tMinNew, tMaxNew, uMin, uMax);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn calls;\n\t}\n\n\tfunction getConvexHull(dq0, dq1, dq2, dq3) {\n\t\tvar p0 = [ 0, dq0 ],\n\t\t\tp1 = [ 1 / 3, dq1 ],\n\t\t\tp2 = [ 2 / 3, dq2 ],\n\t\t\tp3 = [ 1, dq3 ],\n\t\t\tdist1 = dq1 - (2 * dq0 + dq3) / 3,\n\t\t\tdist2 = dq2 - (dq0 + 2 * dq3) / 3,\n\t\t\thull;\n\t\tif (dist1 * dist2 < 0) {\n\t\t\thull = [[p0, p1, p3], [p0, p2, p3]];\n\t\t} else {\n\t\t\tvar distRatio = dist1 / dist2;\n\t\t\thull = [\n\t\t\t\tdistRatio >= 2 ? [p0, p1, p3]\n\t\t\t\t: distRatio <= 0.5 ? [p0, p2, p3]\n\t\t\t\t: [p0, p1, p2, p3],\n\t\t\t\t[p0, p3]\n\t\t\t];\n\t\t}\n\t\treturn (dist1 || dist2) < 0 ? hull.reverse() : hull;\n\t}\n\n\tfunction clipConvexHull(hullTop, hullBottom, dMin, dMax) {\n\t\tif (hullTop[0][1] < dMin) {\n\t\t\treturn clipConvexHullPart(hullTop, true, dMin);\n\t\t} else if (hullBottom[0][1] > dMax) {\n\t\t\treturn clipConvexHullPart(hullBottom, false, dMax);\n\t\t} else {\n\t\t\treturn hullTop[0][0];\n\t\t}\n\t}\n\n\tfunction clipConvexHullPart(part, top, threshold) {\n\t\tvar px = part[0][0],\n\t\t\tpy = part[0][1];\n\t\tfor (var i = 1, l = part.length; i < l; i++) {\n\t\t\tvar qx = part[i][0],\n\t\t\t\tqy = part[i][1];\n\t\t\tif (top ? qy >= threshold : qy <= threshold) {\n\t\t\t\treturn qy === threshold ? qx\n\t\t\t\t\t\t: px + (threshold - py) * (qx - px) / (qy - py);\n\t\t\t}\n\t\t\tpx = qx;\n\t\t\tpy = qy;\n\t\t}\n\t\treturn null;\n\t}\n\n\tfunction getCurveLineIntersections(v, px, py, vx, vy) {\n\t\tvar isZero = Numerical.isZero;\n\t\tif (isZero(vx) && isZero(vy)) {\n\t\t\tvar t = Curve.getTimeOf(v, new Point(px, py));\n\t\t\treturn t === null ? [] : [t];\n\t\t}\n\t\tvar angle = Math.atan2(-vy, vx),\n\t\t\tsin = Math.sin(angle),\n\t\t\tcos = Math.cos(angle),\n\t\t\trv = [],\n\t\t\troots = [];\n\t\tfor (var i = 0; i < 8; i += 2) {\n\t\t\tvar x = v[i] - px,\n\t\t\t\ty = v[i + 1] - py;\n\t\t\trv.push(\n\t\t\t\tx * cos - y * sin,\n\t\t\t\tx * sin + y * cos);\n\t\t}\n\t\tCurve.solveCubic(rv, 1, 0, roots, 0, 1);\n\t\treturn roots;\n\t}\n\n\tfunction addCurveLineIntersections(v1, v2, c1, c2, locations, include,\n\t\t\tflip) {\n\t\tvar x1 = v2[0], y1 = v2[1],\n\t\t\tx2 = v2[6], y2 = v2[7],\n\t\t\troots = getCurveLineIntersections(v1, x1, y1, x2 - x1, y2 - y1);\n\t\tfor (var i = 0, l = roots.length; i < l; i++) {\n\t\t\tvar t1 = roots[i],\n\t\t\t\tp1 = Curve.getPoint(v1, t1),\n\t\t\t\tt2 = Curve.getTimeOf(v2, p1);\n\t\t\tif (t2 !== null) {\n\t\t\t\taddLocation(locations, include,\n\t\t\t\t\t\tflip ? c2 : c1, flip ? t2 : t1,\n\t\t\t\t\t\tflip ? c1 : c2, flip ? t1 : t2);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction addLineIntersection(v1, v2, c1, c2, locations, include) {\n\t\tvar pt = Line.intersect(\n\t\t\t\tv1[0], v1[1], v1[6], v1[7],\n\t\t\t\tv2[0], v2[1], v2[6], v2[7]);\n\t\tif (pt) {\n\t\t\taddLocation(locations, include,\n\t\t\t\t\tc1, Curve.getTimeOf(v1, pt),\n\t\t\t\t\tc2, Curve.getTimeOf(v2, pt));\n\t\t}\n\t}\n\n\tfunction getCurveIntersections(v1, v2, c1, c2, locations, include) {\n\t\tvar epsilon = 1e-12,\n\t\t\tmin = Math.min,\n\t\t\tmax = Math.max;\n\n\t\tif (max(v1[0], v1[2], v1[4], v1[6]) + epsilon >\n\t\t\tmin(v2[0], v2[2], v2[4], v2[6]) &&\n\t\t\tmin(v1[0], v1[2], v1[4], v1[6]) - epsilon <\n\t\t\tmax(v2[0], v2[2], v2[4], v2[6]) &&\n\t\t\tmax(v1[1], v1[3], v1[5], v1[7]) + epsilon >\n\t\t\tmin(v2[1], v2[3], v2[5], v2[7]) &&\n\t\t\tmin(v1[1], v1[3], v1[5], v1[7]) - epsilon <\n\t\t\tmax(v2[1], v2[3], v2[5], v2[7])) {\n\t\t\tvar overlaps = getOverlaps(v1, v2);\n\t\t\tif (overlaps) {\n\t\t\t\tfor (var i = 0; i < 2; i++) {\n\t\t\t\t\tvar overlap = overlaps[i];\n\t\t\t\t\taddLocation(locations, include,\n\t\t\t\t\t\t\tc1, overlap[0],\n\t\t\t\t\t\t\tc2, overlap[1], true);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar straight1 = Curve.isStraight(v1),\n\t\t\t\t\tstraight2 = Curve.isStraight(v2),\n\t\t\t\t\tstraight = straight1 && straight2,\n\t\t\t\t\tflip = straight1 && !straight2,\n\t\t\t\t\tbefore = locations.length;\n\t\t\t\t(straight\n\t\t\t\t\t? addLineIntersection\n\t\t\t\t\t: straight1 || straight2\n\t\t\t\t\t\t? addCurveLineIntersections\n\t\t\t\t\t\t: addCurveIntersections)(\n\t\t\t\t\t\t\tflip ? v2 : v1, flip ? v1 : v2,\n\t\t\t\t\t\t\tflip ? c2 : c1, flip ? c1 : c2,\n\t\t\t\t\t\t\tlocations, include, flip,\n\t\t\t\t\t\t\t0, 0, 0, 1, 0, 1);\n\t\t\t\tif (!straight || locations.length === before) {\n\t\t\t\t\tfor (var i = 0; i < 4; i++) {\n\t\t\t\t\t\tvar t1 = i >> 1,\n\t\t\t\t\t\t\tt2 = i & 1,\n\t\t\t\t\t\t\ti1 = t1 * 6,\n\t\t\t\t\t\t\ti2 = t2 * 6,\n\t\t\t\t\t\t\tp1 = new Point(v1[i1], v1[i1 + 1]),\n\t\t\t\t\t\t\tp2 = new Point(v2[i2], v2[i2 + 1]);\n\t\t\t\t\t\tif (p1.isClose(p2, epsilon)) {\n\t\t\t\t\t\t\taddLocation(locations, include,\n\t\t\t\t\t\t\t\t\tc1, t1,\n\t\t\t\t\t\t\t\t\tc2, t2);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn locations;\n\t}\n\n\tfunction getSelfIntersection(v1, c1, locations, include) {\n\t\tvar info = Curve.classify(v1);\n\t\tif (info.type === 'loop') {\n\t\t\tvar roots = info.roots;\n\t\t\taddLocation(locations, include,\n\t\t\t\t\tc1, roots[0],\n\t\t\t\t\tc1, roots[1]);\n\t\t}\n\t  return locations;\n\t}\n\n\tfunction getIntersections(curves1, curves2, include, matrix1, matrix2,\n\t\t\t_returnFirst) {\n\t\tvar epsilon = 1e-7,\n\t\t\tself = !curves2;\n\t\tif (self)\n\t\t\tcurves2 = curves1;\n\t\tvar length1 = curves1.length,\n\t\t\tlength2 = curves2.length,\n\t\t\tvalues1 = new Array(length1),\n\t\t\tvalues2 = self ? values1 : new Array(length2),\n\t\t\tlocations = [];\n\n\t\tfor (var i = 0; i < length1; i++) {\n\t\t\tvalues1[i] = curves1[i].getValues(matrix1);\n\t\t}\n\t\tif (!self) {\n\t\t\tfor (var i = 0; i < length2; i++) {\n\t\t\t\tvalues2[i] = curves2[i].getValues(matrix2);\n\t\t\t}\n\t\t}\n\t\tvar boundsCollisions = CollisionDetection.findCurveBoundsCollisions(\n\t\t\t\tvalues1, values2, epsilon);\n\t\tfor (var index1 = 0; index1 < length1; index1++) {\n\t\t\tvar curve1 = curves1[index1],\n\t\t\t\tv1 = values1[index1];\n\t\t\tif (self) {\n\t\t\t\tgetSelfIntersection(v1, curve1, locations, include);\n\t\t\t}\n\t\t\tvar collisions1 = boundsCollisions[index1];\n\t\t\tif (collisions1) {\n\t\t\t\tfor (var j = 0; j < collisions1.length; j++) {\n\t\t\t\t\tif (_returnFirst && locations.length)\n\t\t\t\t\t\treturn locations;\n\t\t\t\t\tvar index2 = collisions1[j];\n\t\t\t\t\tif (!self || index2 > index1) {\n\t\t\t\t\t\tvar curve2 = curves2[index2],\n\t\t\t\t\t\t\tv2 = values2[index2];\n\t\t\t\t\t\tgetCurveIntersections(\n\t\t\t\t\t\t\t\tv1, v2, curve1, curve2, locations, include);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn locations;\n\t}\n\n\tfunction getOverlaps(v1, v2) {\n\n\t\tfunction getSquaredLineLength(v) {\n\t\t\tvar x = v[6] - v[0],\n\t\t\t\ty = v[7] - v[1];\n\t\t\treturn x * x + y * y;\n\t\t}\n\n\t\tvar abs = Math.abs,\n\t\t\tgetDistance = Line.getDistance,\n\t\t\ttimeEpsilon = 1e-8,\n\t\t\tgeomEpsilon = 1e-7,\n\t\t\tstraight1 = Curve.isStraight(v1),\n\t\t\tstraight2 = Curve.isStraight(v2),\n\t\t\tstraightBoth = straight1 && straight2,\n\t\t\tflip = getSquaredLineLength(v1) < getSquaredLineLength(v2),\n\t\t\tl1 = flip ? v2 : v1,\n\t\t\tl2 = flip ? v1 : v2,\n\t\t\tpx = l1[0], py = l1[1],\n\t\t\tvx = l1[6] - px, vy = l1[7] - py;\n\t\tif (getDistance(px, py, vx, vy, l2[0], l2[1], true) < geomEpsilon &&\n\t\t\tgetDistance(px, py, vx, vy, l2[6], l2[7], true) < geomEpsilon) {\n\t\t\tif (!straightBoth &&\n\t\t\t\tgetDistance(px, py, vx, vy, l1[2], l1[3], true) < geomEpsilon &&\n\t\t\t\tgetDistance(px, py, vx, vy, l1[4], l1[5], true) < geomEpsilon &&\n\t\t\t\tgetDistance(px, py, vx, vy, l2[2], l2[3], true) < geomEpsilon &&\n\t\t\t\tgetDistance(px, py, vx, vy, l2[4], l2[5], true) < geomEpsilon) {\n\t\t\t\tstraight1 = straight2 = straightBoth = true;\n\t\t\t}\n\t\t} else if (straightBoth) {\n\t\t\treturn null;\n\t\t}\n\t\tif (straight1 ^ straight2) {\n\t\t\treturn null;\n\t\t}\n\n\t\tvar v = [v1, v2],\n\t\t\tpairs = [];\n\t\tfor (var i = 0; i < 4 && pairs.length < 2; i++) {\n\t\t\tvar i1 = i & 1,\n\t\t\t\ti2 = i1 ^ 1,\n\t\t\t\tt1 = i >> 1,\n\t\t\t\tt2 = Curve.getTimeOf(v[i1], new Point(\n\t\t\t\t\tv[i2][t1 ? 6 : 0],\n\t\t\t\t\tv[i2][t1 ? 7 : 1]));\n\t\t\tif (t2 != null) {\n\t\t\t\tvar pair = i1 ? [t1, t2] : [t2, t1];\n\t\t\t\tif (!pairs.length ||\n\t\t\t\t\tabs(pair[0] - pairs[0][0]) > timeEpsilon &&\n\t\t\t\t\tabs(pair[1] - pairs[0][1]) > timeEpsilon) {\n\t\t\t\t\tpairs.push(pair);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (i > 2 && !pairs.length)\n\t\t\t\tbreak;\n\t\t}\n\t\tif (pairs.length !== 2) {\n\t\t\tpairs = null;\n\t\t} else if (!straightBoth) {\n\t\t\tvar o1 = Curve.getPart(v1, pairs[0][0], pairs[1][0]),\n\t\t\t\to2 = Curve.getPart(v2, pairs[0][1], pairs[1][1]);\n\t\t\tif (abs(o2[2] - o1[2]) > geomEpsilon ||\n\t\t\t\tabs(o2[3] - o1[3]) > geomEpsilon ||\n\t\t\t\tabs(o2[4] - o1[4]) > geomEpsilon ||\n\t\t\t\tabs(o2[5] - o1[5]) > geomEpsilon)\n\t\t\t\tpairs = null;\n\t\t}\n\t\treturn pairs;\n\t}\n\n\tfunction getTimesWithTangent(v, tangent) {\n\t\tvar x0 = v[0], y0 = v[1],\n\t\t\tx1 = v[2], y1 = v[3],\n\t\t\tx2 = v[4], y2 = v[5],\n\t\t\tx3 = v[6], y3 = v[7],\n\t\t\tnormalized = tangent.normalize(),\n\t\t\ttx = normalized.x,\n\t\t\tty = normalized.y,\n\t\t\tax = 3 * x3 - 9 * x2 + 9 * x1 - 3 * x0,\n\t\t\tay = 3 * y3 - 9 * y2 + 9 * y1 - 3 * y0,\n\t\t\tbx = 6 * x2 - 12 * x1 + 6 * x0,\n\t\t\tby = 6 * y2 - 12 * y1 + 6 * y0,\n\t\t\tcx = 3 * x1 - 3 * x0,\n\t\t\tcy = 3 * y1 - 3 * y0,\n\t\t\tden = 2 * ax * ty - 2 * ay * tx,\n\t\t\ttimes = [];\n\t\tif (Math.abs(den) < Numerical.CURVETIME_EPSILON) {\n\t\t\tvar num = ax * cy - ay * cx,\n\t\t\t\tden = ax * by - ay * bx;\n\t\t\tif (den != 0) {\n\t\t\t\tvar t = -num / den;\n\t\t\t\tif (t >= 0 && t <= 1) times.push(t);\n\t\t\t}\n\t\t} else {\n\t\t\tvar delta = (bx * bx - 4 * ax * cx) * ty * ty +\n\t\t\t\t(-2 * bx * by + 4 * ay * cx + 4 * ax * cy) * tx * ty +\n\t\t\t\t(by * by - 4 * ay * cy) * tx * tx,\n\t\t\t\tk = bx * ty - by * tx;\n\t\t\tif (delta >= 0 && den != 0) {\n\t\t\t\tvar d = Math.sqrt(delta),\n\t\t\t\t\tt0 = -(k + d) / den,\n\t\t\t\t\tt1 = (-k + d) / den;\n\t\t\t\tif (t0 >= 0 && t0 <= 1) times.push(t0);\n\t\t\t\tif (t1 >= 0 && t1 <= 1) times.push(t1);\n\t\t\t}\n\t\t}\n\t\treturn times;\n\t}\n\n\treturn {\n\t\tgetIntersections: function(curve) {\n\t\t\tvar v1 = this.getValues(),\n\t\t\t\tv2 = curve && curve !== this && curve.getValues();\n\t\t\treturn v2 ? getCurveIntersections(v1, v2, this, curve, [])\n\t\t\t\t\t  : getSelfIntersection(v1, this, []);\n\t\t},\n\n\t\tstatics: {\n\t\t\tgetOverlaps: getOverlaps,\n\t\t\tgetIntersections: getIntersections,\n\t\t\tgetCurveLineIntersections: getCurveLineIntersections,\n\t\t\tgetTimesWithTangent: getTimesWithTangent\n\t\t}\n\t};\n});\n\nvar CurveLocation = Base.extend({\n\t_class: 'CurveLocation',\n\n\tinitialize: function CurveLocation(curve, time, point, _overlap, _distance) {\n\t\tif (time >= 0.99999999) {\n\t\t\tvar next = curve.getNext();\n\t\t\tif (next) {\n\t\t\t\ttime = 0;\n\t\t\t\tcurve = next;\n\t\t\t}\n\t\t}\n\t\tthis._setCurve(curve);\n\t\tthis._time = time;\n\t\tthis._point = point || curve.getPointAtTime(time);\n\t\tthis._overlap = _overlap;\n\t\tthis._distance = _distance;\n\t\tthis._intersection = this._next = this._previous = null;\n\t},\n\n\t_setCurve: function(curve) {\n\t\tvar path = curve._path;\n\t\tthis._path = path;\n\t\tthis._version = path ? path._version : 0;\n\t\tthis._curve = curve;\n\t\tthis._segment = null;\n\t\tthis._segment1 = curve._segment1;\n\t\tthis._segment2 = curve._segment2;\n\t},\n\n\t_setSegment: function(segment) {\n\t\tthis._setCurve(segment.getCurve());\n\t\tthis._segment = segment;\n\t\tthis._time = segment === this._segment1 ? 0 : 1;\n\t\tthis._point = segment._point.clone();\n\t},\n\n\tgetSegment: function() {\n\t\tvar segment = this._segment;\n\t\tif (!segment) {\n\t\t\tvar curve = this.getCurve(),\n\t\t\t\ttime = this.getTime();\n\t\t\tif (time === 0) {\n\t\t\t\tsegment = curve._segment1;\n\t\t\t} else if (time === 1) {\n\t\t\t\tsegment = curve._segment2;\n\t\t\t} else if (time != null) {\n\t\t\t\tsegment = curve.getPartLength(0, time)\n\t\t\t\t\t< curve.getPartLength(time, 1)\n\t\t\t\t\t\t? curve._segment1\n\t\t\t\t\t\t: curve._segment2;\n\t\t\t}\n\t\t\tthis._segment = segment;\n\t\t}\n\t\treturn segment;\n\t},\n\n\tgetCurve: function() {\n\t\tvar path = this._path,\n\t\t\tthat = this;\n\t\tif (path && path._version !== this._version) {\n\t\t\tthis._time = this._offset = this._curveOffset = this._curve = null;\n\t\t}\n\n\t\tfunction trySegment(segment) {\n\t\t\tvar curve = segment && segment.getCurve();\n\t\t\tif (curve && (that._time = curve.getTimeOf(that._point)) != null) {\n\t\t\t\tthat._setCurve(curve);\n\t\t\t\treturn curve;\n\t\t\t}\n\t\t}\n\n\t\treturn this._curve\n\t\t\t|| trySegment(this._segment)\n\t\t\t|| trySegment(this._segment1)\n\t\t\t|| trySegment(this._segment2.getPrevious());\n\t},\n\n\tgetPath: function() {\n\t\tvar curve = this.getCurve();\n\t\treturn curve && curve._path;\n\t},\n\n\tgetIndex: function() {\n\t\tvar curve = this.getCurve();\n\t\treturn curve && curve.getIndex();\n\t},\n\n\tgetTime: function() {\n\t\tvar curve = this.getCurve(),\n\t\t\ttime = this._time;\n\t\treturn curve && time == null\n\t\t\t? this._time = curve.getTimeOf(this._point)\n\t\t\t: time;\n\t},\n\n\tgetParameter: '#getTime',\n\n\tgetPoint: function() {\n\t\treturn this._point;\n\t},\n\n\tgetOffset: function() {\n\t\tvar offset = this._offset;\n\t\tif (offset == null) {\n\t\t\toffset = 0;\n\t\t\tvar path = this.getPath(),\n\t\t\t\tindex = this.getIndex();\n\t\t\tif (path && index != null) {\n\t\t\t\tvar curves = path.getCurves();\n\t\t\t\tfor (var i = 0; i < index; i++)\n\t\t\t\t\toffset += curves[i].getLength();\n\t\t\t}\n\t\t\tthis._offset = offset += this.getCurveOffset();\n\t\t}\n\t\treturn offset;\n\t},\n\n\tgetCurveOffset: function() {\n\t\tvar offset = this._curveOffset;\n\t\tif (offset == null) {\n\t\t\tvar curve = this.getCurve(),\n\t\t\t\ttime = this.getTime();\n\t\t\tthis._curveOffset = offset = time != null && curve\n\t\t\t\t\t&& curve.getPartLength(0, time);\n\t\t}\n\t\treturn offset;\n\t},\n\n\tgetIntersection: function() {\n\t\treturn this._intersection;\n\t},\n\n\tgetDistance: function() {\n\t\treturn this._distance;\n\t},\n\n\tdivide: function() {\n\t\tvar curve = this.getCurve(),\n\t\t\tres = curve && curve.divideAtTime(this.getTime());\n\t\tif (res) {\n\t\t\tthis._setSegment(res._segment1);\n\t\t}\n\t\treturn res;\n\t},\n\n\tsplit: function() {\n\t\tvar curve = this.getCurve(),\n\t\t\tpath = curve._path,\n\t\t\tres = curve && curve.splitAtTime(this.getTime());\n\t\tif (res) {\n\t\t\tthis._setSegment(path.getLastSegment());\n\t\t}\n\t\treturn  res;\n\t},\n\n\tequals: function(loc, _ignoreOther) {\n\t\tvar res = this === loc;\n\t\tif (!res && loc instanceof CurveLocation) {\n\t\t\tvar c1 = this.getCurve(),\n\t\t\t\tc2 = loc.getCurve(),\n\t\t\t\tp1 = c1._path,\n\t\t\t\tp2 = c2._path;\n\t\t\tif (p1 === p2) {\n\t\t\t\tvar abs = Math.abs,\n\t\t\t\t\tepsilon = 1e-7,\n\t\t\t\t\tdiff = abs(this.getOffset() - loc.getOffset()),\n\t\t\t\t\ti1 = !_ignoreOther && this._intersection,\n\t\t\t\t\ti2 = !_ignoreOther && loc._intersection;\n\t\t\t\tres = (diff < epsilon\n\t\t\t\t\t\t|| p1 && abs(p1.getLength() - diff) < epsilon)\n\t\t\t\t\t&& (!i1 && !i2 || i1 && i2 && i1.equals(i2, true));\n\t\t\t}\n\t\t}\n\t\treturn res;\n\t},\n\n\ttoString: function() {\n\t\tvar parts = [],\n\t\t\tpoint = this.getPoint(),\n\t\t\tf = Formatter.instance;\n\t\tif (point)\n\t\t\tparts.push('point: ' + point);\n\t\tvar index = this.getIndex();\n\t\tif (index != null)\n\t\t\tparts.push('index: ' + index);\n\t\tvar time = this.getTime();\n\t\tif (time != null)\n\t\t\tparts.push('time: ' + f.number(time));\n\t\tif (this._distance != null)\n\t\t\tparts.push('distance: ' + f.number(this._distance));\n\t\treturn '{ ' + parts.join(', ') + ' }';\n\t},\n\n\tisTouching: function() {\n\t\tvar inter = this._intersection;\n\t\tif (inter && this.getTangent().isCollinear(inter.getTangent())) {\n\t\t\tvar curve1 = this.getCurve(),\n\t\t\t\tcurve2 = inter.getCurve();\n\t\t\treturn !(curve1.isStraight() && curve2.isStraight()\n\t\t\t\t\t&& curve1.getLine().intersect(curve2.getLine()));\n\t\t}\n\t\treturn false;\n\t},\n\n\tisCrossing: function() {\n\t\tvar inter = this._intersection;\n\t\tif (!inter)\n\t\t\treturn false;\n\t\tvar t1 = this.getTime(),\n\t\t\tt2 = inter.getTime(),\n\t\t\ttMin = 1e-8,\n\t\t\ttMax = 1 - tMin,\n\t\t\tt1Inside = t1 >= tMin && t1 <= tMax,\n\t\t\tt2Inside = t2 >= tMin && t2 <= tMax;\n\t\tif (t1Inside && t2Inside)\n\t\t\treturn !this.isTouching();\n\t\tvar c2 = this.getCurve(),\n\t\t\tc1 = c2 && t1 < tMin ? c2.getPrevious() : c2,\n\t\t\tc4 = inter.getCurve(),\n\t\t\tc3 = c4 && t2 < tMin ? c4.getPrevious() : c4;\n\t\tif (t1 > tMax)\n\t\t\tc2 = c2.getNext();\n\t\tif (t2 > tMax)\n\t\t\tc4 = c4.getNext();\n\t\tif (!c1 || !c2 || !c3 || !c4)\n\t\t\treturn false;\n\n\t\tvar offsets = [];\n\n\t\tfunction addOffsets(curve, end) {\n\t\t\tvar v = curve.getValues(),\n\t\t\t\troots = Curve.classify(v).roots || Curve.getPeaks(v),\n\t\t\t\tcount = roots.length,\n\t\t\t\toffset = Curve.getLength(v,\n\t\t\t\t\tend && count ? roots[count - 1] : 0,\n\t\t\t\t\t!end && count ? roots[0] : 1);\n\t\t\toffsets.push(count ? offset : offset / 64);\n\t\t}\n\n\t\tfunction isInRange(angle, min, max) {\n\t\t\treturn min < max\n\t\t\t\t\t? angle > min && angle < max\n\t\t\t\t\t: angle > min || angle < max;\n\t\t}\n\n\t\tif (!t1Inside) {\n\t\t\taddOffsets(c1, true);\n\t\t\taddOffsets(c2, false);\n\t\t}\n\t\tif (!t2Inside) {\n\t\t\taddOffsets(c3, true);\n\t\t\taddOffsets(c4, false);\n\t\t}\n\t\tvar pt = this.getPoint(),\n\t\t\toffset = Math.min.apply(Math, offsets),\n\t\t\tv2 = t1Inside ? c2.getTangentAtTime(t1)\n\t\t\t\t\t: c2.getPointAt(offset).subtract(pt),\n\t\t\tv1 = t1Inside ? v2.negate()\n\t\t\t\t\t: c1.getPointAt(-offset).subtract(pt),\n\t\t\tv4 = t2Inside ? c4.getTangentAtTime(t2)\n\t\t\t\t\t: c4.getPointAt(offset).subtract(pt),\n\t\t\tv3 = t2Inside ? v4.negate()\n\t\t\t\t\t: c3.getPointAt(-offset).subtract(pt),\n\t\t\ta1 = v1.getAngle(),\n\t\t\ta2 = v2.getAngle(),\n\t\t\ta3 = v3.getAngle(),\n\t\t\ta4 = v4.getAngle();\n\t\treturn !!(t1Inside\n\t\t\t\t? (isInRange(a1, a3, a4) ^ isInRange(a2, a3, a4)) &&\n\t\t\t\t  (isInRange(a1, a4, a3) ^ isInRange(a2, a4, a3))\n\t\t\t\t: (isInRange(a3, a1, a2) ^ isInRange(a4, a1, a2)) &&\n\t\t\t\t  (isInRange(a3, a2, a1) ^ isInRange(a4, a2, a1)));\n\t},\n\n\thasOverlap: function() {\n\t\treturn !!this._overlap;\n\t}\n}, Base.each(Curve._evaluateMethods, function(name) {\n\tvar get = name + 'At';\n\tthis[name] = function() {\n\t\tvar curve = this.getCurve(),\n\t\t\ttime = this.getTime();\n\t\treturn time != null && curve && curve[get](time, true);\n\t};\n}, {\n\tpreserve: true\n}),\nnew function() {\n\n\tfunction insert(locations, loc, merge) {\n\t\tvar length = locations.length,\n\t\t\tl = 0,\n\t\t\tr = length - 1;\n\n\t\tfunction search(index, dir) {\n\t\t\tfor (var i = index + dir; i >= -1 && i <= length; i += dir) {\n\t\t\t\tvar loc2 = locations[((i % length) + length) % length];\n\t\t\t\tif (!loc.getPoint().isClose(loc2.getPoint(),\n\t\t\t\t\t\t1e-7))\n\t\t\t\t\tbreak;\n\t\t\t\tif (loc.equals(loc2))\n\t\t\t\t\treturn loc2;\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\twhile (l <= r) {\n\t\t\tvar m = (l + r) >>> 1,\n\t\t\t\tloc2 = locations[m],\n\t\t\t\tfound;\n\t\t\tif (merge && (found = loc.equals(loc2) ? loc2\n\t\t\t\t\t: (search(m, -1) || search(m, 1)))) {\n\t\t\t\tif (loc._overlap) {\n\t\t\t\t\tfound._overlap = found._intersection._overlap = true;\n\t\t\t\t}\n\t\t\t\treturn found;\n\t\t\t}\n\t\tvar path1 = loc.getPath(),\n\t\t\tpath2 = loc2.getPath(),\n\t\t\tdiff = path1 !== path2\n\t\t\t\t? path1._id - path2._id\n\t\t\t\t: (loc.getIndex() + loc.getTime())\n\t\t\t\t- (loc2.getIndex() + loc2.getTime());\n\t\t\tif (diff < 0) {\n\t\t\t\tr = m - 1;\n\t\t\t} else {\n\t\t\t\tl = m + 1;\n\t\t\t}\n\t\t}\n\t\tlocations.splice(l, 0, loc);\n\t\treturn loc;\n\t}\n\n\treturn { statics: {\n\t\tinsert: insert,\n\n\t\texpand: function(locations) {\n\t\t\tvar expanded = locations.slice();\n\t\t\tfor (var i = locations.length - 1; i >= 0; i--) {\n\t\t\t\tinsert(expanded, locations[i]._intersection, false);\n\t\t\t}\n\t\t\treturn expanded;\n\t\t}\n\t}};\n});\n\nvar PathItem = Item.extend({\n\t_class: 'PathItem',\n\t_selectBounds: false,\n\t_canScaleStroke: true,\n\tbeans: true,\n\n\tinitialize: function PathItem() {\n\t},\n\n\tstatics: {\n\t\tcreate: function(arg) {\n\t\t\tvar data,\n\t\t\t\tsegments,\n\t\t\t\tcompound;\n\t\t\tif (Base.isPlainObject(arg)) {\n\t\t\t\tsegments = arg.segments;\n\t\t\t\tdata = arg.pathData;\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tsegments = arg;\n\t\t\t} else if (typeof arg === 'string') {\n\t\t\t\tdata = arg;\n\t\t\t}\n\t\t\tif (segments) {\n\t\t\t\tvar first = segments[0];\n\t\t\t\tcompound = first && Array.isArray(first[0]);\n\t\t\t} else if (data) {\n\t\t\t\tcompound = (data.match(/m/gi) || []).length > 1\n\t\t\t\t\t\t|| /z\\s*\\S+/i.test(data);\n\t\t\t}\n\t\t\tvar ctor = compound ? CompoundPath : Path;\n\t\t\treturn new ctor(arg);\n\t\t}\n\t},\n\n\t_asPathItem: function() {\n\t\treturn this;\n\t},\n\n\tisClockwise: function() {\n\t\treturn this.getArea() >= 0;\n\t},\n\n\tsetClockwise: function(clockwise) {\n\t\tif (this.isClockwise() != (clockwise = !!clockwise))\n\t\t\tthis.reverse();\n\t},\n\n\tsetPathData: function(data) {\n\n\t\tvar parts = data && data.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),\n\t\t\tcoords,\n\t\t\trelative = false,\n\t\t\tprevious,\n\t\t\tcontrol,\n\t\t\tcurrent = new Point(),\n\t\t\tstart = new Point();\n\n\t\tfunction getCoord(index, coord) {\n\t\t\tvar val = +coords[index];\n\t\t\tif (relative)\n\t\t\t\tval += current[coord];\n\t\t\treturn val;\n\t\t}\n\n\t\tfunction getPoint(index) {\n\t\t\treturn new Point(\n\t\t\t\tgetCoord(index, 'x'),\n\t\t\t\tgetCoord(index + 1, 'y')\n\t\t\t);\n\t\t}\n\n\t\tthis.clear();\n\n\t\tfor (var i = 0, l = parts && parts.length; i < l; i++) {\n\t\t\tvar part = parts[i],\n\t\t\t\tcommand = part[0],\n\t\t\t\tlower = command.toLowerCase();\n\t\t\tcoords = part.match(/[+-]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][+-]?\\d+)?/g);\n\t\t\tvar length = coords && coords.length;\n\t\t\trelative = command === lower;\n\t\t\tif (previous === 'z' && !/[mz]/.test(lower))\n\t\t\t\tthis.moveTo(current);\n\t\t\tswitch (lower) {\n\t\t\tcase 'm':\n\t\t\tcase 'l':\n\t\t\t\tvar move = lower === 'm';\n\t\t\t\tfor (var j = 0; j < length; j += 2) {\n\t\t\t\t\tthis[move ? 'moveTo' : 'lineTo'](current = getPoint(j));\n\t\t\t\t\tif (move) {\n\t\t\t\t\t\tstart = current;\n\t\t\t\t\t\tmove = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tcontrol = current;\n\t\t\t\tbreak;\n\t\t\tcase 'h':\n\t\t\tcase 'v':\n\t\t\t\tvar coord = lower === 'h' ? 'x' : 'y';\n\t\t\t\tcurrent = current.clone();\n\t\t\t\tfor (var j = 0; j < length; j++) {\n\t\t\t\t\tcurrent[coord] = getCoord(j, coord);\n\t\t\t\t\tthis.lineTo(current);\n\t\t\t\t}\n\t\t\t\tcontrol = current;\n\t\t\t\tbreak;\n\t\t\tcase 'c':\n\t\t\t\tfor (var j = 0; j < length; j += 6) {\n\t\t\t\t\tthis.cubicCurveTo(\n\t\t\t\t\t\t\tgetPoint(j),\n\t\t\t\t\t\t\tcontrol = getPoint(j + 2),\n\t\t\t\t\t\t\tcurrent = getPoint(j + 4));\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 's':\n\t\t\t\tfor (var j = 0; j < length; j += 4) {\n\t\t\t\t\tthis.cubicCurveTo(\n\t\t\t\t\t\t\t/[cs]/.test(previous)\n\t\t\t\t\t\t\t\t\t? current.multiply(2).subtract(control)\n\t\t\t\t\t\t\t\t\t: current,\n\t\t\t\t\t\t\tcontrol = getPoint(j),\n\t\t\t\t\t\t\tcurrent = getPoint(j + 2));\n\t\t\t\t\tprevious = lower;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'q':\n\t\t\t\tfor (var j = 0; j < length; j += 4) {\n\t\t\t\t\tthis.quadraticCurveTo(\n\t\t\t\t\t\t\tcontrol = getPoint(j),\n\t\t\t\t\t\t\tcurrent = getPoint(j + 2));\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 't':\n\t\t\t\tfor (var j = 0; j < length; j += 2) {\n\t\t\t\t\tthis.quadraticCurveTo(\n\t\t\t\t\t\t\tcontrol = (/[qt]/.test(previous)\n\t\t\t\t\t\t\t\t\t? current.multiply(2).subtract(control)\n\t\t\t\t\t\t\t\t\t: current),\n\t\t\t\t\t\t\tcurrent = getPoint(j));\n\t\t\t\t\tprevious = lower;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'a':\n\t\t\t\tfor (var j = 0; j < length; j += 7) {\n\t\t\t\t\tthis.arcTo(current = getPoint(j + 5),\n\t\t\t\t\t\t\tnew Size(+coords[j], +coords[j + 1]),\n\t\t\t\t\t\t\t+coords[j + 2], +coords[j + 4], +coords[j + 3]);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase 'z':\n\t\t\t\tthis.closePath(1e-12);\n\t\t\t\tcurrent = start;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tprevious = lower;\n\t\t}\n\t},\n\n\t_canComposite: function() {\n\t\treturn !(this.hasFill() && this.hasStroke());\n\t},\n\n\t_contains: function(point) {\n\t\tvar winding = point.isInside(\n\t\t\t\tthis.getBounds({ internal: true, handle: true }))\n\t\t\t\t\t? this._getWinding(point)\n\t\t\t\t\t: {};\n\t\treturn winding.onPath || !!(this.getFillRule() === 'evenodd'\n\t\t\t\t? winding.windingL & 1 || winding.windingR & 1\n\t\t\t\t: winding.winding);\n\t},\n\n\tgetIntersections: function(path, include, _matrix, _returnFirst) {\n\t\tvar self = this === path || !path,\n\t\t\tmatrix1 = this._matrix._orNullIfIdentity(),\n\t\t\tmatrix2 = self ? matrix1\n\t\t\t\t: (_matrix || path._matrix)._orNullIfIdentity();\n\t\treturn self || this.getBounds(matrix1).intersects(\n\t\t\t\tpath.getBounds(matrix2), 1e-12)\n\t\t\t\t? Curve.getIntersections(\n\t\t\t\t\t\tthis.getCurves(), !self && path.getCurves(), include,\n\t\t\t\t\t\tmatrix1, matrix2, _returnFirst)\n\t\t\t\t: [];\n\t},\n\n\tgetCrossings: function(path) {\n\t\treturn this.getIntersections(path, function(inter) {\n\t\t\treturn inter.isCrossing();\n\t\t});\n\t},\n\n\tgetNearestLocation: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tcurves = this.getCurves(),\n\t\t\tminDist = Infinity,\n\t\t\tminLoc = null;\n\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\tvar loc = curves[i].getNearestLocation(point);\n\t\t\tif (loc._distance < minDist) {\n\t\t\t\tminDist = loc._distance;\n\t\t\t\tminLoc = loc;\n\t\t\t}\n\t\t}\n\t\treturn minLoc;\n\t},\n\n\tgetNearestPoint: function() {\n\t\tvar loc = this.getNearestLocation.apply(this, arguments);\n\t\treturn loc ? loc.getPoint() : loc;\n\t},\n\n\tinterpolate: function(from, to, factor) {\n\t\tvar isPath = !this._children,\n\t\t\tname = isPath ? '_segments' : '_children',\n\t\t\titemsFrom = from[name],\n\t\t\titemsTo = to[name],\n\t\t\titems = this[name];\n\t\tif (!itemsFrom || !itemsTo || itemsFrom.length !== itemsTo.length) {\n\t\t\tthrow new Error('Invalid operands in interpolate() call: ' +\n\t\t\t\t\tfrom + ', ' + to);\n\t\t}\n\t\tvar current = items.length,\n\t\t\tlength = itemsTo.length;\n\t\tif (current < length) {\n\t\t\tvar ctor = isPath ? Segment : Path;\n\t\t\tfor (var i = current; i < length; i++) {\n\t\t\t\tthis.add(new ctor());\n\t\t\t}\n\t\t} else if (current > length) {\n\t\t\tthis[isPath ? 'removeSegments' : 'removeChildren'](length, current);\n\t\t}\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\titems[i].interpolate(itemsFrom[i], itemsTo[i], factor);\n\t\t}\n\t\tif (isPath) {\n\t\t\tthis.setClosed(from._closed);\n\t\t\tthis._changed(9);\n\t\t}\n\t},\n\n\tcompare: function(path) {\n\t\tvar ok = false;\n\t\tif (path) {\n\t\t\tvar paths1 = this._children || [this],\n\t\t\t\tpaths2 = path._children ? path._children.slice() : [path],\n\t\t\t\tlength1 = paths1.length,\n\t\t\t\tlength2 = paths2.length,\n\t\t\t\tmatched = [],\n\t\t\t\tcount = 0;\n\t\t\tok = true;\n\t\t\tvar boundsOverlaps = CollisionDetection.findBoundsOverlaps(paths1, paths2, Numerical.GEOMETRIC_EPSILON);\n\t\t\tfor (var i1 = length1 - 1; i1 >= 0 && ok; i1--) {\n\t\t\t\tvar path1 = paths1[i1];\n\t\t\t\tok = false;\n\t\t\t\tvar pathBoundsOverlaps = boundsOverlaps[i1];\n\t\t\t\tif (pathBoundsOverlaps) {\n\t\t\t\t\tfor (var i2 = pathBoundsOverlaps.length - 1; i2 >= 0 && !ok; i2--) {\n\t\t\t\t\t\tif (path1.compare(paths2[pathBoundsOverlaps[i2]])) {\n\t\t\t\t\t\t\tif (!matched[pathBoundsOverlaps[i2]]) {\n\t\t\t\t\t\t\t\tmatched[pathBoundsOverlaps[i2]] = true;\n\t\t\t\t\t\t\t\tcount++;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tok = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tok = ok && count === length2;\n\t\t}\n\t\treturn ok;\n\t},\n\n});\n\nvar Path = PathItem.extend({\n\t_class: 'Path',\n\t_serializeFields: {\n\t\tsegments: [],\n\t\tclosed: false\n\t},\n\n\tinitialize: function Path(arg) {\n\t\tthis._closed = false;\n\t\tthis._segments = [];\n\t\tthis._version = 0;\n\t\tvar args = arguments,\n\t\t\tsegments = Array.isArray(arg)\n\t\t\t? typeof arg[0] === 'object'\n\t\t\t\t? arg\n\t\t\t\t: args\n\t\t\t: arg && (arg.size === undefined && (arg.x !== undefined\n\t\t\t\t\t|| arg.point !== undefined))\n\t\t\t\t? args\n\t\t\t\t: null;\n\t\tif (segments && segments.length > 0) {\n\t\t\tthis.setSegments(segments);\n\t\t} else {\n\t\t\tthis._curves = undefined;\n\t\t\tthis._segmentSelection = 0;\n\t\t\tif (!segments && typeof arg === 'string') {\n\t\t\t\tthis.setPathData(arg);\n\t\t\t\targ = null;\n\t\t\t}\n\t\t}\n\t\tthis._initialize(!segments && arg);\n\t},\n\n\t_equals: function(item) {\n\t\treturn this._closed === item._closed\n\t\t\t\t&& Base.equals(this._segments, item._segments);\n\t},\n\n\tcopyContent: function(source) {\n\t\tthis.setSegments(source._segments);\n\t\tthis._closed = source._closed;\n\t},\n\n\t_changed: function _changed(flags) {\n\t\t_changed.base.call(this, flags);\n\t\tif (flags & 8) {\n\t\t\tthis._length = this._area = undefined;\n\t\t\tif (flags & 32) {\n\t\t\t\tthis._version++;\n\t\t\t} else if (this._curves) {\n\t\t\t   for (var i = 0, l = this._curves.length; i < l; i++)\n\t\t\t\t\tthis._curves[i]._changed();\n\t\t\t}\n\t\t} else if (flags & 64) {\n\t\t\tthis._bounds = undefined;\n\t\t}\n\t},\n\n\tgetStyle: function() {\n\t\tvar parent = this._parent;\n\t\treturn (parent instanceof CompoundPath ? parent : this)._style;\n\t},\n\n\tgetSegments: function() {\n\t\treturn this._segments;\n\t},\n\n\tsetSegments: function(segments) {\n\t\tvar fullySelected = this.isFullySelected(),\n\t\t\tlength = segments && segments.length;\n\t\tthis._segments.length = 0;\n\t\tthis._segmentSelection = 0;\n\t\tthis._curves = undefined;\n\t\tif (length) {\n\t\t\tvar last = segments[length - 1];\n\t\t\tif (typeof last === 'boolean') {\n\t\t\t\tthis.setClosed(last);\n\t\t\t\tlength--;\n\t\t\t}\n\t\t\tthis._add(Segment.readList(segments, 0, {}, length));\n\t\t}\n\t\tif (fullySelected)\n\t\t\tthis.setFullySelected(true);\n\t},\n\n\tgetFirstSegment: function() {\n\t\treturn this._segments[0];\n\t},\n\n\tgetLastSegment: function() {\n\t\treturn this._segments[this._segments.length - 1];\n\t},\n\n\tgetCurves: function() {\n\t\tvar curves = this._curves,\n\t\t\tsegments = this._segments;\n\t\tif (!curves) {\n\t\t\tvar length = this._countCurves();\n\t\t\tcurves = this._curves = new Array(length);\n\t\t\tfor (var i = 0; i < length; i++)\n\t\t\t\tcurves[i] = new Curve(this, segments[i],\n\t\t\t\t\tsegments[i + 1] || segments[0]);\n\t\t}\n\t\treturn curves;\n\t},\n\n\tgetFirstCurve: function() {\n\t\treturn this.getCurves()[0];\n\t},\n\n\tgetLastCurve: function() {\n\t\tvar curves = this.getCurves();\n\t\treturn curves[curves.length - 1];\n\t},\n\n\tisClosed: function() {\n\t\treturn this._closed;\n\t},\n\n\tsetClosed: function(closed) {\n\t\tif (this._closed != (closed = !!closed)) {\n\t\t\tthis._closed = closed;\n\t\t\tif (this._curves) {\n\t\t\t\tvar length = this._curves.length = this._countCurves();\n\t\t\t\tif (closed)\n\t\t\t\t\tthis._curves[length - 1] = new Curve(this,\n\t\t\t\t\t\tthis._segments[length - 1], this._segments[0]);\n\t\t\t}\n\t\t\tthis._changed(41);\n\t\t}\n\t}\n}, {\n\tbeans: true,\n\n\tgetPathData: function(_matrix, _precision) {\n\t\tvar segments = this._segments,\n\t\t\tlength = segments.length,\n\t\t\tf = new Formatter(_precision),\n\t\t\tcoords = new Array(6),\n\t\t\tfirst = true,\n\t\t\tcurX, curY,\n\t\t\tprevX, prevY,\n\t\t\tinX, inY,\n\t\t\toutX, outY,\n\t\t\tparts = [];\n\n\t\tfunction addSegment(segment, skipLine) {\n\t\t\tsegment._transformCoordinates(_matrix, coords);\n\t\t\tcurX = coords[0];\n\t\t\tcurY = coords[1];\n\t\t\tif (first) {\n\t\t\t\tparts.push('M' + f.pair(curX, curY));\n\t\t\t\tfirst = false;\n\t\t\t} else {\n\t\t\t\tinX = coords[2];\n\t\t\t\tinY = coords[3];\n\t\t\t\tif (inX === curX && inY === curY\n\t\t\t\t\t\t&& outX === prevX && outY === prevY) {\n\t\t\t\t\tif (!skipLine) {\n\t\t\t\t\t\tvar dx = curX - prevX,\n\t\t\t\t\t\t\tdy = curY - prevY;\n\t\t\t\t\t\tparts.push(\n\t\t\t\t\t\t\t  dx === 0 ? 'v' + f.number(dy)\n\t\t\t\t\t\t\t: dy === 0 ? 'h' + f.number(dx)\n\t\t\t\t\t\t\t: 'l' + f.pair(dx, dy));\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tparts.push('c' + f.pair(outX - prevX, outY - prevY)\n\t\t\t\t\t\t\t + ' ' + f.pair( inX - prevX,  inY - prevY)\n\t\t\t\t\t\t\t + ' ' + f.pair(curX - prevX, curY - prevY));\n\t\t\t\t}\n\t\t\t}\n\t\t\tprevX = curX;\n\t\t\tprevY = curY;\n\t\t\toutX = coords[4];\n\t\t\toutY = coords[5];\n\t\t}\n\n\t\tif (!length)\n\t\t\treturn '';\n\n\t\tfor (var i = 0; i < length; i++)\n\t\t\taddSegment(segments[i]);\n\t\tif (this._closed && length > 0) {\n\t\t\taddSegment(segments[0], true);\n\t\t\tparts.push('z');\n\t\t}\n\t\treturn parts.join('');\n\t},\n\n\tisEmpty: function() {\n\t\treturn !this._segments.length;\n\t},\n\n\t_transformContent: function(matrix) {\n\t\tvar segments = this._segments,\n\t\t\tcoords = new Array(6);\n\t\tfor (var i = 0, l = segments.length; i < l; i++)\n\t\t\tsegments[i]._transformCoordinates(matrix, coords, true);\n\t\treturn true;\n\t},\n\n\t_add: function(segs, index) {\n\t\tvar segments = this._segments,\n\t\t\tcurves = this._curves,\n\t\t\tamount = segs.length,\n\t\t\tappend = index == null,\n\t\t\tindex = append ? segments.length : index;\n\t\tfor (var i = 0; i < amount; i++) {\n\t\t\tvar segment = segs[i];\n\t\t\tif (segment._path)\n\t\t\t\tsegment = segs[i] = segment.clone();\n\t\t\tsegment._path = this;\n\t\t\tsegment._index = index + i;\n\t\t\tif (segment._selection)\n\t\t\t\tthis._updateSelection(segment, 0, segment._selection);\n\t\t}\n\t\tif (append) {\n\t\t\tBase.push(segments, segs);\n\t\t} else {\n\t\t\tsegments.splice.apply(segments, [index, 0].concat(segs));\n\t\t\tfor (var i = index + amount, l = segments.length; i < l; i++)\n\t\t\t\tsegments[i]._index = i;\n\t\t}\n\t\tif (curves) {\n\t\t\tvar total = this._countCurves(),\n\t\t\t\tstart = index > 0 && index + amount - 1 === total ? index - 1\n\t\t\t\t\t: index,\n\t\t\t\tinsert = start,\n\t\t\t\tend = Math.min(start + amount, total);\n\t\t\tif (segs._curves) {\n\t\t\t\tcurves.splice.apply(curves, [start, 0].concat(segs._curves));\n\t\t\t\tinsert += segs._curves.length;\n\t\t\t}\n\t\t\tfor (var i = insert; i < end; i++)\n\t\t\t\tcurves.splice(i, 0, new Curve(this, null, null));\n\t\t\tthis._adjustCurves(start, end);\n\t\t}\n\t\tthis._changed(41);\n\t\treturn segs;\n\t},\n\n\t_adjustCurves: function(start, end) {\n\t\tvar segments = this._segments,\n\t\t\tcurves = this._curves,\n\t\t\tcurve;\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tcurve = curves[i];\n\t\t\tcurve._path = this;\n\t\t\tcurve._segment1 = segments[i];\n\t\t\tcurve._segment2 = segments[i + 1] || segments[0];\n\t\t\tcurve._changed();\n\t\t}\n\t\tif (curve = curves[this._closed && !start ? segments.length - 1\n\t\t\t\t: start - 1]) {\n\t\t\tcurve._segment2 = segments[start] || segments[0];\n\t\t\tcurve._changed();\n\t\t}\n\t\tif (curve = curves[end]) {\n\t\t\tcurve._segment1 = segments[end];\n\t\t\tcurve._changed();\n\t\t}\n\t},\n\n\t_countCurves: function() {\n\t\tvar length = this._segments.length;\n\t\treturn !this._closed && length > 0 ? length - 1 : length;\n\t},\n\n\tadd: function(segment1 ) {\n\t\tvar args = arguments;\n\t\treturn args.length > 1 && typeof segment1 !== 'number'\n\t\t\t? this._add(Segment.readList(args))\n\t\t\t: this._add([ Segment.read(args) ])[0];\n\t},\n\n\tinsert: function(index, segment1 ) {\n\t\tvar args = arguments;\n\t\treturn args.length > 2 && typeof segment1 !== 'number'\n\t\t\t? this._add(Segment.readList(args, 1), index)\n\t\t\t: this._add([ Segment.read(args, 1) ], index)[0];\n\t},\n\n\taddSegment: function() {\n\t\treturn this._add([ Segment.read(arguments) ])[0];\n\t},\n\n\tinsertSegment: function(index ) {\n\t\treturn this._add([ Segment.read(arguments, 1) ], index)[0];\n\t},\n\n\taddSegments: function(segments) {\n\t\treturn this._add(Segment.readList(segments));\n\t},\n\n\tinsertSegments: function(index, segments) {\n\t\treturn this._add(Segment.readList(segments), index);\n\t},\n\n\tremoveSegment: function(index) {\n\t\treturn this.removeSegments(index, index + 1)[0] || null;\n\t},\n\n\tremoveSegments: function(start, end, _includeCurves) {\n\t\tstart = start || 0;\n\t\tend = Base.pick(end, this._segments.length);\n\t\tvar segments = this._segments,\n\t\t\tcurves = this._curves,\n\t\t\tcount = segments.length,\n\t\t\tremoved = segments.splice(start, end - start),\n\t\t\tamount = removed.length;\n\t\tif (!amount)\n\t\t\treturn removed;\n\t\tfor (var i = 0; i < amount; i++) {\n\t\t\tvar segment = removed[i];\n\t\t\tif (segment._selection)\n\t\t\t\tthis._updateSelection(segment, segment._selection, 0);\n\t\t\tsegment._index = segment._path = null;\n\t\t}\n\t\tfor (var i = start, l = segments.length; i < l; i++)\n\t\t\tsegments[i]._index = i;\n\t\tif (curves) {\n\t\t\tvar index = start > 0 && end === count + (this._closed ? 1 : 0)\n\t\t\t\t\t? start - 1\n\t\t\t\t\t: start,\n\t\t\t\tcurves = curves.splice(index, amount);\n\t\t\tfor (var i = curves.length - 1; i >= 0; i--)\n\t\t\t\tcurves[i]._path = null;\n\t\t\tif (_includeCurves)\n\t\t\t\tremoved._curves = curves.slice(1);\n\t\t\tthis._adjustCurves(index, index);\n\t\t}\n\t\tthis._changed(41);\n\t\treturn removed;\n\t},\n\n\tclear: '#removeSegments',\n\n\thasHandles: function() {\n\t\tvar segments = this._segments;\n\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\tif (segments[i].hasHandles())\n\t\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t},\n\n\tclearHandles: function() {\n\t\tvar segments = this._segments;\n\t\tfor (var i = 0, l = segments.length; i < l; i++)\n\t\t\tsegments[i].clearHandles();\n\t},\n\n\tgetLength: function() {\n\t\tif (this._length == null) {\n\t\t\tvar curves = this.getCurves(),\n\t\t\t\tlength = 0;\n\t\t\tfor (var i = 0, l = curves.length; i < l; i++)\n\t\t\t\tlength += curves[i].getLength();\n\t\t\tthis._length = length;\n\t\t}\n\t\treturn this._length;\n\t},\n\n\tgetArea: function() {\n\t\tvar area = this._area;\n\t\tif (area == null) {\n\t\t\tvar segments = this._segments,\n\t\t\t\tclosed = this._closed;\n\t\t\tarea = 0;\n\t\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\t\tvar last = i + 1 === l;\n\t\t\t\tarea += Curve.getArea(Curve.getValues(\n\t\t\t\t\t\tsegments[i], segments[last ? 0 : i + 1],\n\t\t\t\t\t\tnull, last && !closed));\n\t\t\t}\n\t\t\tthis._area = area;\n\t\t}\n\t\treturn area;\n\t},\n\n\tisFullySelected: function() {\n\t\tvar length = this._segments.length;\n\t\treturn this.isSelected() && length > 0 && this._segmentSelection\n\t\t\t\t=== length * 7;\n\t},\n\n\tsetFullySelected: function(selected) {\n\t\tif (selected)\n\t\t\tthis._selectSegments(true);\n\t\tthis.setSelected(selected);\n\t},\n\n\tsetSelection: function setSelection(selection) {\n\t\tif (!(selection & 1))\n\t\t\tthis._selectSegments(false);\n\t\tsetSelection.base.call(this, selection);\n\t},\n\n\t_selectSegments: function(selected) {\n\t\tvar segments = this._segments,\n\t\t\tlength = segments.length,\n\t\t\tselection = selected ? 7 : 0;\n\t\tthis._segmentSelection = selection * length;\n\t\tfor (var i = 0; i < length; i++)\n\t\t\tsegments[i]._selection = selection;\n\t},\n\n\t_updateSelection: function(segment, oldSelection, newSelection) {\n\t\tsegment._selection = newSelection;\n\t\tvar selection = this._segmentSelection += newSelection - oldSelection;\n\t\tif (selection > 0)\n\t\t\tthis.setSelected(true);\n\t},\n\n\tdivideAt: function(location) {\n\t\tvar loc = this.getLocationAt(location),\n\t\t\tcurve;\n\t\treturn loc && (curve = loc.getCurve().divideAt(loc.getCurveOffset()))\n\t\t\t\t? curve._segment1\n\t\t\t\t: null;\n\t},\n\n\tsplitAt: function(location) {\n\t\tvar loc = this.getLocationAt(location),\n\t\t\tindex = loc && loc.index,\n\t\t\ttime = loc && loc.time,\n\t\t\ttMin = 1e-8,\n\t\t\ttMax = 1 - tMin;\n\t\tif (time > tMax) {\n\t\t\tindex++;\n\t\t\ttime = 0;\n\t\t}\n\t\tvar curves = this.getCurves();\n\t\tif (index >= 0 && index < curves.length) {\n\t\t\tif (time >= tMin) {\n\t\t\t\tcurves[index++].divideAtTime(time);\n\t\t\t}\n\t\t\tvar segs = this.removeSegments(index, this._segments.length, true),\n\t\t\t\tpath;\n\t\t\tif (this._closed) {\n\t\t\t\tthis.setClosed(false);\n\t\t\t\tpath = this;\n\t\t\t} else {\n\t\t\t\tpath = new Path(Item.NO_INSERT);\n\t\t\t\tpath.insertAbove(this);\n\t\t\t\tpath.copyAttributes(this);\n\t\t\t}\n\t\t\tpath._add(segs, 0);\n\t\t\tthis.addSegment(segs[0]);\n\t\t\treturn path;\n\t\t}\n\t\treturn null;\n\t},\n\n\tsplit: function(index, time) {\n\t\tvar curve,\n\t\t\tlocation = time === undefined ? index\n\t\t\t\t: (curve = this.getCurves()[index])\n\t\t\t\t\t&& curve.getLocationAtTime(time);\n\t\treturn location != null ? this.splitAt(location) : null;\n\t},\n\n\tjoin: function(path, tolerance) {\n\t\tvar epsilon = tolerance || 0;\n\t\tif (path && path !== this) {\n\t\t\tvar segments = path._segments,\n\t\t\t\tlast1 = this.getLastSegment(),\n\t\t\t\tlast2 = path.getLastSegment();\n\t\t\tif (!last2)\n\t\t\t\treturn this;\n\t\t\tif (last1 && last1._point.isClose(last2._point, epsilon))\n\t\t\t\tpath.reverse();\n\t\t\tvar first2 = path.getFirstSegment();\n\t\t\tif (last1 && last1._point.isClose(first2._point, epsilon)) {\n\t\t\t\tlast1.setHandleOut(first2._handleOut);\n\t\t\t\tthis._add(segments.slice(1));\n\t\t\t} else {\n\t\t\t\tvar first1 = this.getFirstSegment();\n\t\t\t\tif (first1 && first1._point.isClose(first2._point, epsilon))\n\t\t\t\t\tpath.reverse();\n\t\t\t\tlast2 = path.getLastSegment();\n\t\t\t\tif (first1 && first1._point.isClose(last2._point, epsilon)) {\n\t\t\t\t\tfirst1.setHandleIn(last2._handleIn);\n\t\t\t\t\tthis._add(segments.slice(0, segments.length - 1), 0);\n\t\t\t\t} else {\n\t\t\t\t\tthis._add(segments.slice());\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (path._closed)\n\t\t\t\tthis._add([segments[0]]);\n\t\t\tpath.remove();\n\t\t}\n\t\tvar first = this.getFirstSegment(),\n\t\t\tlast = this.getLastSegment();\n\t\tif (first !== last && first._point.isClose(last._point, epsilon)) {\n\t\t\tfirst.setHandleIn(last._handleIn);\n\t\t\tlast.remove();\n\t\t\tthis.setClosed(true);\n\t\t}\n\t\treturn this;\n\t},\n\n\treduce: function(options) {\n\t\tvar curves = this.getCurves(),\n\t\t\tsimplify = options && options.simplify,\n\t\t\ttolerance = simplify ? 1e-7 : 0;\n\t\tfor (var i = curves.length - 1; i >= 0; i--) {\n\t\t\tvar curve = curves[i];\n\t\t\tif (!curve.hasHandles() && (!curve.hasLength(tolerance)\n\t\t\t\t\t|| simplify && curve.isCollinear(curve.getNext())))\n\t\t\t\tcurve.remove();\n\t\t}\n\t\treturn this;\n\t},\n\n\treverse: function() {\n\t\tthis._segments.reverse();\n\t\tfor (var i = 0, l = this._segments.length; i < l; i++) {\n\t\t\tvar segment = this._segments[i];\n\t\t\tvar handleIn = segment._handleIn;\n\t\t\tsegment._handleIn = segment._handleOut;\n\t\t\tsegment._handleOut = handleIn;\n\t\t\tsegment._index = i;\n\t\t}\n\t\tthis._curves = null;\n\t\tthis._changed(9);\n\t},\n\n\tflatten: function(flatness) {\n\t\tvar flattener = new PathFlattener(this, flatness || 0.25, 256, true),\n\t\t\tparts = flattener.parts,\n\t\t\tlength = parts.length,\n\t\t\tsegments = [];\n\t\tfor (var i = 0; i < length; i++) {\n\t\t\tsegments.push(new Segment(parts[i].curve.slice(0, 2)));\n\t\t}\n\t\tif (!this._closed && length > 0) {\n\t\t\tsegments.push(new Segment(parts[length - 1].curve.slice(6)));\n\t\t}\n\t\tthis.setSegments(segments);\n\t},\n\n\tsimplify: function(tolerance) {\n\t\tvar segments = new PathFitter(this).fit(tolerance || 2.5);\n\t\tif (segments)\n\t\t\tthis.setSegments(segments);\n\t\treturn !!segments;\n\t},\n\n\tsmooth: function(options) {\n\t\tvar that = this,\n\t\t\topts = options || {},\n\t\t\ttype = opts.type || 'asymmetric',\n\t\t\tsegments = this._segments,\n\t\t\tlength = segments.length,\n\t\t\tclosed = this._closed;\n\n\t\tfunction getIndex(value, _default) {\n\t\t\tvar index = value && value.index;\n\t\t\tif (index != null) {\n\t\t\t\tvar path = value.path;\n\t\t\t\tif (path && path !== that)\n\t\t\t\t\tthrow new Error(value._class + ' ' + index + ' of ' + path\n\t\t\t\t\t\t\t+ ' is not part of ' + that);\n\t\t\t\tif (_default && value instanceof Curve)\n\t\t\t\t\tindex++;\n\t\t\t} else {\n\t\t\t\tindex = typeof value === 'number' ? value : _default;\n\t\t\t}\n\t\t\treturn Math.min(index < 0 && closed\n\t\t\t\t\t? index % length\n\t\t\t\t\t: index < 0 ? index + length : index, length - 1);\n\t\t}\n\n\t\tvar loop = closed && opts.from === undefined && opts.to === undefined,\n\t\t\tfrom = getIndex(opts.from, 0),\n\t\t\tto = getIndex(opts.to, length - 1);\n\n\t\tif (from > to) {\n\t\t\tif (closed) {\n\t\t\t\tfrom -= length;\n\t\t\t} else {\n\t\t\t\tvar tmp = from;\n\t\t\t\tfrom = to;\n\t\t\t\tto = tmp;\n\t\t\t}\n\t\t}\n\t\tif (/^(?:asymmetric|continuous)$/.test(type)) {\n\t\t\tvar asymmetric = type === 'asymmetric',\n\t\t\t\tmin = Math.min,\n\t\t\t\tamount = to - from + 1,\n\t\t\t\tn = amount - 1,\n\t\t\t\tpadding = loop ? min(amount, 4) : 1,\n\t\t\t\tpaddingLeft = padding,\n\t\t\t\tpaddingRight = padding,\n\t\t\t\tknots = [];\n\t\t\tif (!closed) {\n\t\t\t\tpaddingLeft = min(1, from);\n\t\t\t\tpaddingRight = min(1, length - to - 1);\n\t\t\t}\n\t\t\tn += paddingLeft + paddingRight;\n\t\t\tif (n <= 1)\n\t\t\t\treturn;\n\t\t\tfor (var i = 0, j = from - paddingLeft; i <= n; i++, j++) {\n\t\t\t\tknots[i] = segments[(j < 0 ? j + length : j) % length]._point;\n\t\t\t}\n\n\t\t\tvar x = knots[0]._x + 2 * knots[1]._x,\n\t\t\t\ty = knots[0]._y + 2 * knots[1]._y,\n\t\t\t\tf = 2,\n\t\t\t\tn_1 = n - 1,\n\t\t\t\trx = [x],\n\t\t\t\try = [y],\n\t\t\t\trf = [f],\n\t\t\t\tpx = [],\n\t\t\t\tpy = [];\n\t\t\tfor (var i = 1; i < n; i++) {\n\t\t\t\tvar internal = i < n_1,\n\t\t\t\t\ta = internal ? 1 : asymmetric ? 1 : 2,\n\t\t\t\t\tb = internal ? 4 : asymmetric ? 2 : 7,\n\t\t\t\t\tu = internal ? 4 : asymmetric ? 3 : 8,\n\t\t\t\t\tv = internal ? 2 : asymmetric ? 0 : 1,\n\t\t\t\t\tm = a / f;\n\t\t\t\tf = rf[i] = b - m;\n\t\t\t\tx = rx[i] = u * knots[i]._x + v * knots[i + 1]._x - m * x;\n\t\t\t\ty = ry[i] = u * knots[i]._y + v * knots[i + 1]._y - m * y;\n\t\t\t}\n\n\t\t\tpx[n_1] = rx[n_1] / rf[n_1];\n\t\t\tpy[n_1] = ry[n_1] / rf[n_1];\n\t\t\tfor (var i = n - 2; i >= 0; i--) {\n\t\t\t\tpx[i] = (rx[i] - px[i + 1]) / rf[i];\n\t\t\t\tpy[i] = (ry[i] - py[i + 1]) / rf[i];\n\t\t\t}\n\t\t\tpx[n] = (3 * knots[n]._x - px[n_1]) / 2;\n\t\t\tpy[n] = (3 * knots[n]._y - py[n_1]) / 2;\n\n\t\t\tfor (var i = paddingLeft, max = n - paddingRight, j = from;\n\t\t\t\t\ti <= max; i++, j++) {\n\t\t\t\tvar segment = segments[j < 0 ? j + length : j],\n\t\t\t\t\tpt = segment._point,\n\t\t\t\t\thx = px[i] - pt._x,\n\t\t\t\t\thy = py[i] - pt._y;\n\t\t\t\tif (loop || i < max)\n\t\t\t\t\tsegment.setHandleOut(hx, hy);\n\t\t\t\tif (loop || i > paddingLeft)\n\t\t\t\t\tsegment.setHandleIn(-hx, -hy);\n\t\t\t}\n\t\t} else {\n\t\t\tfor (var i = from; i <= to; i++) {\n\t\t\t\tsegments[i < 0 ? i + length : i].smooth(opts,\n\t\t\t\t\t\t!loop && i === from, !loop && i === to);\n\t\t\t}\n\t\t}\n\t},\n\n\ttoShape: function(insert) {\n\t\tif (!this._closed)\n\t\t\treturn null;\n\n\t\tvar segments = this._segments,\n\t\t\ttype,\n\t\t\tsize,\n\t\t\tradius,\n\t\t\ttopCenter;\n\n\t\tfunction isCollinear(i, j) {\n\t\t\tvar seg1 = segments[i],\n\t\t\t\tseg2 = seg1.getNext(),\n\t\t\t\tseg3 = segments[j],\n\t\t\t\tseg4 = seg3.getNext();\n\t\t\treturn seg1._handleOut.isZero() && seg2._handleIn.isZero()\n\t\t\t\t\t&& seg3._handleOut.isZero() && seg4._handleIn.isZero()\n\t\t\t\t\t&& seg2._point.subtract(seg1._point).isCollinear(\n\t\t\t\t\t\tseg4._point.subtract(seg3._point));\n\t\t}\n\n\t\tfunction isOrthogonal(i) {\n\t\t\tvar seg2 = segments[i],\n\t\t\t\tseg1 = seg2.getPrevious(),\n\t\t\t\tseg3 = seg2.getNext();\n\t\t\treturn seg1._handleOut.isZero() && seg2._handleIn.isZero()\n\t\t\t\t\t&& seg2._handleOut.isZero() && seg3._handleIn.isZero()\n\t\t\t\t\t&& seg2._point.subtract(seg1._point).isOrthogonal(\n\t\t\t\t\t\tseg3._point.subtract(seg2._point));\n\t\t}\n\n\t\tfunction isArc(i) {\n\t\t\tvar seg1 = segments[i],\n\t\t\t\tseg2 = seg1.getNext(),\n\t\t\t\thandle1 = seg1._handleOut,\n\t\t\t\thandle2 = seg2._handleIn,\n\t\t\t\tkappa = 0.5522847498307936;\n\t\t\tif (handle1.isOrthogonal(handle2)) {\n\t\t\t\tvar pt1 = seg1._point,\n\t\t\t\t\tpt2 = seg2._point,\n\t\t\t\t\tcorner = new Line(pt1, handle1, true).intersect(\n\t\t\t\t\t\t\tnew Line(pt2, handle2, true), true);\n\t\t\t\treturn corner && Numerical.isZero(handle1.getLength() /\n\t\t\t\t\t\tcorner.subtract(pt1).getLength() - kappa)\n\t\t\t\t\t&& Numerical.isZero(handle2.getLength() /\n\t\t\t\t\t\tcorner.subtract(pt2).getLength() - kappa);\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tfunction getDistance(i, j) {\n\t\t\treturn segments[i]._point.getDistance(segments[j]._point);\n\t\t}\n\n\t\tif (!this.hasHandles() && segments.length === 4\n\t\t\t\t&& isCollinear(0, 2) && isCollinear(1, 3) && isOrthogonal(1)) {\n\t\t\ttype = Shape.Rectangle;\n\t\t\tsize = new Size(getDistance(0, 3), getDistance(0, 1));\n\t\t\ttopCenter = segments[1]._point.add(segments[2]._point).divide(2);\n\t\t} else if (segments.length === 8 && isArc(0) && isArc(2) && isArc(4)\n\t\t\t\t&& isArc(6) && isCollinear(1, 5) && isCollinear(3, 7)) {\n\t\t\ttype = Shape.Rectangle;\n\t\t\tsize = new Size(getDistance(1, 6), getDistance(0, 3));\n\t\t\tradius = size.subtract(new Size(getDistance(0, 7),\n\t\t\t\t\tgetDistance(1, 2))).divide(2);\n\t\t\ttopCenter = segments[3]._point.add(segments[4]._point).divide(2);\n\t\t} else if (segments.length === 4\n\t\t\t\t&& isArc(0) && isArc(1) && isArc(2) && isArc(3)) {\n\t\t\tif (Numerical.isZero(getDistance(0, 2) - getDistance(1, 3))) {\n\t\t\t\ttype = Shape.Circle;\n\t\t\t\tradius = getDistance(0, 2) / 2;\n\t\t\t} else {\n\t\t\t\ttype = Shape.Ellipse;\n\t\t\t\tradius = new Size(getDistance(2, 0) / 2, getDistance(3, 1) / 2);\n\t\t\t}\n\t\t\ttopCenter = segments[1]._point;\n\t\t}\n\n\t\tif (type) {\n\t\t\tvar center = this.getPosition(true),\n\t\t\t\tshape = new type({\n\t\t\t\t\tcenter: center,\n\t\t\t\t\tsize: size,\n\t\t\t\t\tradius: radius,\n\t\t\t\t\tinsert: false\n\t\t\t\t});\n\t\t\tshape.copyAttributes(this, true);\n\t\t\tshape._matrix.prepend(this._matrix);\n\t\t\tshape.rotate(topCenter.subtract(center).getAngle() + 90);\n\t\t\tif (insert === undefined || insert)\n\t\t\t\tshape.insertAbove(this);\n\t\t\treturn shape;\n\t\t}\n\t\treturn null;\n\t},\n\n\ttoPath: '#clone',\n\n\tcompare: function compare(path) {\n\t\tif (!path || path instanceof CompoundPath)\n\t\t\treturn compare.base.call(this, path);\n\t\tvar curves1 = this.getCurves(),\n\t\t\tcurves2 = path.getCurves(),\n\t\t\tlength1 = curves1.length,\n\t\t\tlength2 = curves2.length;\n\t\tif (!length1 || !length2) {\n\t\t\treturn length1 == length2;\n\t\t}\n\t\tvar v1 = curves1[0].getValues(),\n\t\t\tvalues2 = [],\n\t\t\tpos1 = 0, pos2,\n\t\t\tend1 = 0, end2;\n\t\tfor (var i = 0; i < length2; i++) {\n\t\t\tvar v2 = curves2[i].getValues();\n\t\t\tvalues2.push(v2);\n\t\t\tvar overlaps = Curve.getOverlaps(v1, v2);\n\t\t\tif (overlaps) {\n\t\t\t\tpos2 = !i && overlaps[0][0] > 0 ? length2 - 1 : i;\n\t\t\t\tend2 = overlaps[0][1];\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar abs = Math.abs,\n\t\t\tepsilon = 1e-8,\n\t\t\tv2 = values2[pos2],\n\t\t\tstart2;\n\t\twhile (v1 && v2) {\n\t\t\tvar overlaps = Curve.getOverlaps(v1, v2);\n\t\t\tif (overlaps) {\n\t\t\t\tvar t1 = overlaps[0][0];\n\t\t\t\tif (abs(t1 - end1) < epsilon) {\n\t\t\t\t\tend1 = overlaps[1][0];\n\t\t\t\t\tif (end1 === 1) {\n\t\t\t\t\t\tv1 = ++pos1 < length1 ? curves1[pos1].getValues() : null;\n\t\t\t\t\t\tend1 = 0;\n\t\t\t\t\t}\n\t\t\t\t\tvar t2 = overlaps[0][1];\n\t\t\t\t\tif (abs(t2 - end2) < epsilon) {\n\t\t\t\t\t\tif (!start2)\n\t\t\t\t\t\t\tstart2 = [pos2, t2];\n\t\t\t\t\t\tend2 = overlaps[1][1];\n\t\t\t\t\t\tif (end2 === 1) {\n\t\t\t\t\t\t\tif (++pos2 >= length2)\n\t\t\t\t\t\t\t\tpos2 = 0;\n\t\t\t\t\t\t\tv2 = values2[pos2] || curves2[pos2].getValues();\n\t\t\t\t\t\t\tend2 = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (!v1) {\n\t\t\t\t\t\t\treturn start2[0] === pos2 && start2[1] === end2;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t\treturn false;\n\t},\n\n\t_hitTestSelf: function(point, options, viewMatrix, strokeMatrix) {\n\t\tvar that = this,\n\t\t\tstyle = this.getStyle(),\n\t\t\tsegments = this._segments,\n\t\t\tnumSegments = segments.length,\n\t\t\tclosed = this._closed,\n\t\t\ttolerancePadding = options._tolerancePadding,\n\t\t\tstrokePadding = tolerancePadding,\n\t\t\tjoin, cap, miterLimit,\n\t\t\tarea, loc, res,\n\t\t\thitStroke = options.stroke && style.hasStroke(),\n\t\t\thitFill = options.fill && style.hasFill(),\n\t\t\thitCurves = options.curves,\n\t\t\tstrokeRadius = hitStroke\n\t\t\t\t\t? style.getStrokeWidth() / 2\n\t\t\t\t\t: hitFill && options.tolerance > 0 || hitCurves\n\t\t\t\t\t\t? 0 : null;\n\t\tif (strokeRadius !== null) {\n\t\t\tif (strokeRadius > 0) {\n\t\t\t\tjoin = style.getStrokeJoin();\n\t\t\t\tcap = style.getStrokeCap();\n\t\t\t\tmiterLimit = style.getMiterLimit();\n\t\t\t\tstrokePadding = strokePadding.add(\n\t\t\t\t\tPath._getStrokePadding(strokeRadius, strokeMatrix));\n\t\t\t} else {\n\t\t\t\tjoin = cap = 'round';\n\t\t\t}\n\t\t}\n\n\t\tfunction isCloseEnough(pt, padding) {\n\t\t\treturn point.subtract(pt).divide(padding).length <= 1;\n\t\t}\n\n\t\tfunction checkSegmentPoint(seg, pt, name) {\n\t\t\tif (!options.selected || pt.isSelected()) {\n\t\t\t\tvar anchor = seg._point;\n\t\t\t\tif (pt !== anchor)\n\t\t\t\t\tpt = pt.add(anchor);\n\t\t\t\tif (isCloseEnough(pt, strokePadding)) {\n\t\t\t\t\treturn new HitResult(name, that, {\n\t\t\t\t\t\tsegment: seg,\n\t\t\t\t\t\tpoint: pt\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfunction checkSegmentPoints(seg, ends) {\n\t\t\treturn (ends || options.segments)\n\t\t\t\t&& checkSegmentPoint(seg, seg._point, 'segment')\n\t\t\t\t|| (!ends && options.handles) && (\n\t\t\t\t\tcheckSegmentPoint(seg, seg._handleIn, 'handle-in') ||\n\t\t\t\t\tcheckSegmentPoint(seg, seg._handleOut, 'handle-out'));\n\t\t}\n\n\t\tfunction addToArea(point) {\n\t\t\tarea.add(point);\n\t\t}\n\n\t\tfunction checkSegmentStroke(segment) {\n\t\t\tvar isJoin = closed || segment._index > 0\n\t\t\t\t\t&& segment._index < numSegments - 1;\n\t\t\tif ((isJoin ? join : cap) === 'round') {\n\t\t\t\treturn isCloseEnough(segment._point, strokePadding);\n\t\t\t} else {\n\t\t\t\tarea = new Path({ internal: true, closed: true });\n\t\t\t\tif (isJoin) {\n\t\t\t\t\tif (!segment.isSmooth()) {\n\t\t\t\t\t\tPath._addBevelJoin(segment, join, strokeRadius,\n\t\t\t\t\t\t\t   miterLimit, null, strokeMatrix, addToArea, true);\n\t\t\t\t\t}\n\t\t\t\t} else if (cap === 'square') {\n\t\t\t\t\tPath._addSquareCap(segment, cap, strokeRadius, null,\n\t\t\t\t\t\t\tstrokeMatrix, addToArea, true);\n\t\t\t\t}\n\t\t\t\tif (!area.isEmpty()) {\n\t\t\t\t\tvar loc;\n\t\t\t\t\treturn area.contains(point)\n\t\t\t\t\t\t|| (loc = area.getNearestLocation(point))\n\t\t\t\t\t\t\t&& isCloseEnough(loc.getPoint(), tolerancePadding);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (options.ends && !options.segments && !closed) {\n\t\t\tif (res = checkSegmentPoints(segments[0], true)\n\t\t\t\t\t|| checkSegmentPoints(segments[numSegments - 1], true))\n\t\t\t\treturn res;\n\t\t} else if (options.segments || options.handles) {\n\t\t\tfor (var i = 0; i < numSegments; i++)\n\t\t\t\tif (res = checkSegmentPoints(segments[i]))\n\t\t\t\t\treturn res;\n\t\t}\n\t\tif (strokeRadius !== null) {\n\t\t\tloc = this.getNearestLocation(point);\n\t\t\tif (loc) {\n\t\t\t\tvar time = loc.getTime();\n\t\t\t\tif (time === 0 || time === 1 && numSegments > 1) {\n\t\t\t\t\tif (!checkSegmentStroke(loc.getSegment()))\n\t\t\t\t\t\tloc = null;\n\t\t\t\t} else if (!isCloseEnough(loc.getPoint(), strokePadding)) {\n\t\t\t\t\tloc = null;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!loc && join === 'miter' && numSegments > 1) {\n\t\t\t\tfor (var i = 0; i < numSegments; i++) {\n\t\t\t\t\tvar segment = segments[i];\n\t\t\t\t\tif (point.getDistance(segment._point)\n\t\t\t\t\t\t\t<= miterLimit * strokeRadius\n\t\t\t\t\t\t\t&& checkSegmentStroke(segment)) {\n\t\t\t\t\t\tloc = segment.getLocation();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn !loc && hitFill && this._contains(point)\n\t\t\t\t|| loc && !hitStroke && !hitCurves\n\t\t\t\t\t? new HitResult('fill', this)\n\t\t\t\t\t: loc\n\t\t\t\t\t\t? new HitResult(hitStroke ? 'stroke' : 'curve', this, {\n\t\t\t\t\t\t\tlocation: loc,\n\t\t\t\t\t\t\tpoint: loc.getPoint()\n\t\t\t\t\t\t})\n\t\t\t\t\t\t: null;\n\t}\n\n}, Base.each(Curve._evaluateMethods,\n\tfunction(name) {\n\t\tthis[name + 'At'] = function(offset) {\n\t\t\tvar loc = this.getLocationAt(offset);\n\t\t\treturn loc && loc[name]();\n\t\t};\n\t},\n{\n\tbeans: false,\n\n\tgetLocationOf: function() {\n\t\tvar point = Point.read(arguments),\n\t\t\tcurves = this.getCurves();\n\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\tvar loc = curves[i].getLocationOf(point);\n\t\t\tif (loc)\n\t\t\t\treturn loc;\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetOffsetOf: function() {\n\t\tvar loc = this.getLocationOf.apply(this, arguments);\n\t\treturn loc ? loc.getOffset() : null;\n\t},\n\n\tgetLocationAt: function(offset) {\n\t\tif (typeof offset === 'number') {\n\t\t\tvar curves = this.getCurves(),\n\t\t\t\tlength = 0;\n\t\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\t\tvar start = length,\n\t\t\t\t\tcurve = curves[i];\n\t\t\t\tlength += curve.getLength();\n\t\t\t\tif (length > offset) {\n\t\t\t\t\treturn curve.getLocationAt(offset - start);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (curves.length > 0 && offset <= this.getLength()) {\n\t\t\t\treturn new CurveLocation(curves[curves.length - 1], 1);\n\t\t\t}\n\t\t} else if (offset && offset.getPath && offset.getPath() === this) {\n\t\t\treturn offset;\n\t\t}\n\t\treturn null;\n\t},\n\n\tgetOffsetsWithTangent: function() {\n\t\tvar tangent = Point.read(arguments);\n\t\tif (tangent.isZero()) {\n\t\t\treturn [];\n\t\t}\n\n\t\tvar offsets = [];\n\t\tvar curveStart = 0;\n\t\tvar curves = this.getCurves();\n\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\tvar curve = curves[i];\n\t\t\tvar curveTimes = curve.getTimesWithTangent(tangent);\n\t\t\tfor (var j = 0, m = curveTimes.length; j < m; j++) {\n\t\t\t\tvar offset = curveStart + curve.getOffsetAtTime(curveTimes[j]);\n\t\t\t\tif (offsets.indexOf(offset) < 0) {\n\t\t\t\t\toffsets.push(offset);\n\t\t\t\t}\n\t\t\t}\n\t\t\tcurveStart += curve.length;\n\t\t}\n\t\treturn offsets;\n\t}\n}),\nnew function() {\n\n\tfunction drawHandles(ctx, segments, matrix, size) {\n\t\tif (size <= 0) return;\n\n\t\tvar half = size / 2,\n\t\t\tminiSize = size - 2,\n\t\t\tminiHalf = half - 1,\n\t\t\tcoords = new Array(6),\n\t\t\tpX, pY;\n\n\t\tfunction drawHandle(index) {\n\t\t\tvar hX = coords[index],\n\t\t\t\thY = coords[index + 1];\n\t\t\tif (pX != hX || pY != hY) {\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.moveTo(pX, pY);\n\t\t\t\tctx.lineTo(hX, hY);\n\t\t\t\tctx.stroke();\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.arc(hX, hY, half, 0, Math.PI * 2, true);\n\t\t\t\tctx.fill();\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\tvar segment = segments[i],\n\t\t\t\tselection = segment._selection;\n\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\tpX = coords[0];\n\t\t\tpY = coords[1];\n\t\t\tif (selection & 2)\n\t\t\t\tdrawHandle(2);\n\t\t\tif (selection & 4)\n\t\t\t\tdrawHandle(4);\n\t\t\tctx.fillRect(pX - half, pY - half, size, size);\n\t\t\tif (miniSize > 0 && !(selection & 1)) {\n\t\t\t\tvar fillStyle = ctx.fillStyle;\n\t\t\t\tctx.fillStyle = '#ffffff';\n\t\t\t\tctx.fillRect(pX - miniHalf, pY - miniHalf, miniSize, miniSize);\n\t\t\t\tctx.fillStyle = fillStyle;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction drawSegments(ctx, path, matrix) {\n\t\tvar segments = path._segments,\n\t\t\tlength = segments.length,\n\t\t\tcoords = new Array(6),\n\t\t\tfirst = true,\n\t\t\tcurX, curY,\n\t\t\tprevX, prevY,\n\t\t\tinX, inY,\n\t\t\toutX, outY;\n\n\t\tfunction drawSegment(segment) {\n\t\t\tif (matrix) {\n\t\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\t\tcurX = coords[0];\n\t\t\t\tcurY = coords[1];\n\t\t\t} else {\n\t\t\t\tvar point = segment._point;\n\t\t\t\tcurX = point._x;\n\t\t\t\tcurY = point._y;\n\t\t\t}\n\t\t\tif (first) {\n\t\t\t\tctx.moveTo(curX, curY);\n\t\t\t\tfirst = false;\n\t\t\t} else {\n\t\t\t\tif (matrix) {\n\t\t\t\t\tinX = coords[2];\n\t\t\t\t\tinY = coords[3];\n\t\t\t\t} else {\n\t\t\t\t\tvar handle = segment._handleIn;\n\t\t\t\t\tinX = curX + handle._x;\n\t\t\t\t\tinY = curY + handle._y;\n\t\t\t\t}\n\t\t\t\tif (inX === curX && inY === curY\n\t\t\t\t\t\t&& outX === prevX && outY === prevY) {\n\t\t\t\t\tctx.lineTo(curX, curY);\n\t\t\t\t} else {\n\t\t\t\t\tctx.bezierCurveTo(outX, outY, inX, inY, curX, curY);\n\t\t\t\t}\n\t\t\t}\n\t\t\tprevX = curX;\n\t\t\tprevY = curY;\n\t\t\tif (matrix) {\n\t\t\t\toutX = coords[4];\n\t\t\t\toutY = coords[5];\n\t\t\t} else {\n\t\t\t\tvar handle = segment._handleOut;\n\t\t\t\toutX = prevX + handle._x;\n\t\t\t\toutY = prevY + handle._y;\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0; i < length; i++)\n\t\t\tdrawSegment(segments[i]);\n\t\tif (path._closed && length > 0)\n\t\t\tdrawSegment(segments[0]);\n\t}\n\n\treturn {\n\t\t_draw: function(ctx, param, viewMatrix, strokeMatrix) {\n\t\t\tvar dontStart = param.dontStart,\n\t\t\t\tdontPaint = param.dontFinish || param.clip,\n\t\t\t\tstyle = this.getStyle(),\n\t\t\t\thasFill = style.hasFill(),\n\t\t\t\thasStroke = style.hasStroke(),\n\t\t\t\tdashArray = style.getDashArray(),\n\t\t\t\tdashLength = !paper.support.nativeDash && hasStroke\n\t\t\t\t\t\t&& dashArray && dashArray.length;\n\n\t\t\tif (!dontStart)\n\t\t\t\tctx.beginPath();\n\n\t\t\tif (hasFill || hasStroke && !dashLength || dontPaint) {\n\t\t\t\tdrawSegments(ctx, this, strokeMatrix);\n\t\t\t\tif (this._closed)\n\t\t\t\t\tctx.closePath();\n\t\t\t}\n\n\t\t\tfunction getOffset(i) {\n\t\t\t\treturn dashArray[((i % dashLength) + dashLength) % dashLength];\n\t\t\t}\n\n\t\t\tif (!dontPaint && (hasFill || hasStroke)) {\n\t\t\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\t\t\tif (hasFill) {\n\t\t\t\t\tctx.fill(style.getFillRule());\n\t\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t\t}\n\t\t\t\tif (hasStroke) {\n\t\t\t\t\tif (dashLength) {\n\t\t\t\t\t\tif (!dontStart)\n\t\t\t\t\t\t\tctx.beginPath();\n\t\t\t\t\t\tvar flattener = new PathFlattener(this, 0.25, 32, false,\n\t\t\t\t\t\t\t\tstrokeMatrix),\n\t\t\t\t\t\t\tlength = flattener.length,\n\t\t\t\t\t\t\tfrom = -style.getDashOffset(), to,\n\t\t\t\t\t\t\ti = 0;\n\t\t\t\t\t\tfrom = from % length;\n\t\t\t\t\t\twhile (from > 0) {\n\t\t\t\t\t\t\tfrom -= getOffset(i--) + getOffset(i--);\n\t\t\t\t\t\t}\n\t\t\t\t\t\twhile (from < length) {\n\t\t\t\t\t\t\tto = from + getOffset(i++);\n\t\t\t\t\t\t\tif (from > 0 || to > 0)\n\t\t\t\t\t\t\t\tflattener.drawPart(ctx,\n\t\t\t\t\t\t\t\t\t\tMath.max(from, 0), Math.max(to, 0));\n\t\t\t\t\t\t\tfrom = to + getOffset(i++);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tctx.stroke();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_drawSelected: function(ctx, matrix) {\n\t\t\tctx.beginPath();\n\t\t\tdrawSegments(ctx, this, matrix);\n\t\t\tctx.stroke();\n\t\t\tdrawHandles(ctx, this._segments, matrix, paper.settings.handleSize);\n\t\t}\n\t};\n},\nnew function() {\n\tfunction getCurrentSegment(that) {\n\t\tvar segments = that._segments;\n\t\tif (!segments.length)\n\t\t\tthrow new Error('Use a moveTo() command first');\n\t\treturn segments[segments.length - 1];\n\t}\n\n\treturn {\n\t\tmoveTo: function() {\n\t\t\tvar segments = this._segments;\n\t\t\tif (segments.length === 1)\n\t\t\t\tthis.removeSegment(0);\n\t\t\tif (!segments.length)\n\t\t\t\tthis._add([ new Segment(Point.read(arguments)) ]);\n\t\t},\n\n\t\tmoveBy: function() {\n\t\t\tthrow new Error('moveBy() is unsupported on Path items.');\n\t\t},\n\n\t\tlineTo: function() {\n\t\t\tthis._add([ new Segment(Point.read(arguments)) ]);\n\t\t},\n\n\t\tcubicCurveTo: function() {\n\t\t\tvar args = arguments,\n\t\t\t\thandle1 = Point.read(args),\n\t\t\t\thandle2 = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this);\n\t\t\tcurrent.setHandleOut(handle1.subtract(current._point));\n\t\t\tthis._add([ new Segment(to, handle2.subtract(to)) ]);\n\t\t},\n\n\t\tquadraticCurveTo: function() {\n\t\t\tvar args = arguments,\n\t\t\t\thandle = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.cubicCurveTo(\n\t\t\t\thandle.add(current.subtract(handle).multiply(1 / 3)),\n\t\t\t\thandle.add(to.subtract(handle).multiply(1 / 3)),\n\t\t\t\tto\n\t\t\t);\n\t\t},\n\n\t\tcurveTo: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tthrough = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tt = Base.pick(Base.read(args), 0.5),\n\t\t\t\tt1 = 1 - t,\n\t\t\t\tcurrent = getCurrentSegment(this)._point,\n\t\t\t\thandle = through.subtract(current.multiply(t1 * t1))\n\t\t\t\t\t.subtract(to.multiply(t * t)).divide(2 * t * t1);\n\t\t\tif (handle.isNaN())\n\t\t\t\tthrow new Error(\n\t\t\t\t\t'Cannot put a curve through points with parameter = ' + t);\n\t\t\tthis.quadraticCurveTo(handle, to);\n\t\t},\n\n\t\tarcTo: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tabs = Math.abs,\n\t\t\t\tsqrt = Math.sqrt,\n\t\t\t\tcurrent = getCurrentSegment(this),\n\t\t\t\tfrom = current._point,\n\t\t\t\tto = Point.read(args),\n\t\t\t\tthrough,\n\t\t\t\tpeek = Base.peek(args),\n\t\t\t\tclockwise = Base.pick(peek, true),\n\t\t\t\tcenter, extent, vector, matrix;\n\t\t\tif (typeof clockwise === 'boolean') {\n\t\t\t\tvar middle = from.add(to).divide(2),\n\t\t\t\tthrough = middle.add(middle.subtract(from).rotate(\n\t\t\t\t\t\tclockwise ? -90 : 90));\n\t\t\t} else if (Base.remain(args) <= 2) {\n\t\t\t\tthrough = to;\n\t\t\t\tto = Point.read(args);\n\t\t\t} else if (!from.equals(to)) {\n\t\t\t\tvar radius = Size.read(args),\n\t\t\t\t\tisZero = Numerical.isZero;\n\t\t\t\tif (isZero(radius.width) || isZero(radius.height))\n\t\t\t\t\treturn this.lineTo(to);\n\t\t\t\tvar rotation = Base.read(args),\n\t\t\t\t\tclockwise = !!Base.read(args),\n\t\t\t\t\tlarge = !!Base.read(args),\n\t\t\t\t\tmiddle = from.add(to).divide(2),\n\t\t\t\t\tpt = from.subtract(middle).rotate(-rotation),\n\t\t\t\t\tx = pt.x,\n\t\t\t\t\ty = pt.y,\n\t\t\t\t\trx = abs(radius.width),\n\t\t\t\t\try = abs(radius.height),\n\t\t\t\t\trxSq = rx * rx,\n\t\t\t\t\trySq = ry * ry,\n\t\t\t\t\txSq = x * x,\n\t\t\t\t\tySq = y * y;\n\t\t\t\tvar factor = sqrt(xSq / rxSq + ySq / rySq);\n\t\t\t\tif (factor > 1) {\n\t\t\t\t\trx *= factor;\n\t\t\t\t\try *= factor;\n\t\t\t\t\trxSq = rx * rx;\n\t\t\t\t\trySq = ry * ry;\n\t\t\t\t}\n\t\t\t\tfactor = (rxSq * rySq - rxSq * ySq - rySq * xSq) /\n\t\t\t\t\t\t(rxSq * ySq + rySq * xSq);\n\t\t\t\tif (abs(factor) < 1e-12)\n\t\t\t\t\tfactor = 0;\n\t\t\t\tif (factor < 0)\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t'Cannot create an arc with the given arguments');\n\t\t\t\tcenter = new Point(rx * y / ry, -ry * x / rx)\n\t\t\t\t\t\t.multiply((large === clockwise ? -1 : 1) * sqrt(factor))\n\t\t\t\t\t\t.rotate(rotation).add(middle);\n\t\t\t\tmatrix = new Matrix().translate(center).rotate(rotation)\n\t\t\t\t\t\t.scale(rx, ry);\n\t\t\t\tvector = matrix._inverseTransform(from);\n\t\t\t\textent = vector.getDirectedAngle(matrix._inverseTransform(to));\n\t\t\t\tif (!clockwise && extent > 0)\n\t\t\t\t\textent -= 360;\n\t\t\t\telse if (clockwise && extent < 0)\n\t\t\t\t\textent += 360;\n\t\t\t}\n\t\t\tif (through) {\n\t\t\t\tvar l1 = new Line(from.add(through).divide(2),\n\t\t\t\t\t\t\tthrough.subtract(from).rotate(90), true),\n\t\t\t\t\tl2 = new Line(through.add(to).divide(2),\n\t\t\t\t\t\t\tto.subtract(through).rotate(90), true),\n\t\t\t\t\tline = new Line(from, to),\n\t\t\t\t\tthroughSide = line.getSide(through);\n\t\t\t\tcenter = l1.intersect(l2, true);\n\t\t\t\tif (!center) {\n\t\t\t\t\tif (!throughSide)\n\t\t\t\t\t\treturn this.lineTo(to);\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t'Cannot create an arc with the given arguments');\n\t\t\t\t}\n\t\t\t\tvector = from.subtract(center);\n\t\t\t\textent = vector.getDirectedAngle(to.subtract(center));\n\t\t\t\tvar centerSide = line.getSide(center, true);\n\t\t\t\tif (centerSide === 0) {\n\t\t\t\t\textent = throughSide * abs(extent);\n\t\t\t\t} else if (throughSide === centerSide) {\n\t\t\t\t\textent += extent < 0 ? 360 : -360;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (extent) {\n\t\t\t\tvar epsilon = 1e-7,\n\t\t\t\t\text = abs(extent),\n\t\t\t\t\tcount = ext >= 360 ? 4 : Math.ceil((ext - epsilon) / 90),\n\t\t\t\t\tinc = extent / count,\n\t\t\t\t\thalf = inc * Math.PI / 360,\n\t\t\t\t\tz = 4 / 3 * Math.sin(half) / (1 + Math.cos(half)),\n\t\t\t\t\tsegments = [];\n\t\t\t\tfor (var i = 0; i <= count; i++) {\n\t\t\t\t\tvar pt = to,\n\t\t\t\t\t\tout = null;\n\t\t\t\t\tif (i < count) {\n\t\t\t\t\t\tout = vector.rotate(90).multiply(z);\n\t\t\t\t\t\tif (matrix) {\n\t\t\t\t\t\t\tpt = matrix._transformPoint(vector);\n\t\t\t\t\t\t\tout = matrix._transformPoint(vector.add(out))\n\t\t\t\t\t\t\t\t\t.subtract(pt);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tpt = center.add(vector);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!i) {\n\t\t\t\t\t\tcurrent.setHandleOut(out);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar _in = vector.rotate(-90).multiply(z);\n\t\t\t\t\t\tif (matrix) {\n\t\t\t\t\t\t\t_in = matrix._transformPoint(vector.add(_in))\n\t\t\t\t\t\t\t\t\t.subtract(pt);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsegments.push(new Segment(pt, _in, out));\n\t\t\t\t\t}\n\t\t\t\t\tvector = vector.rotate(inc);\n\t\t\t\t}\n\t\t\t\tthis._add(segments);\n\t\t\t}\n\t\t},\n\n\t\tlineBy: function() {\n\t\t\tvar to = Point.read(arguments),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.lineTo(current.add(to));\n\t\t},\n\n\t\tcurveBy: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tthrough = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tparameter = Base.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.curveTo(current.add(through), current.add(to), parameter);\n\t\t},\n\n\t\tcubicCurveBy: function() {\n\t\t\tvar args = arguments,\n\t\t\t\thandle1 = Point.read(args),\n\t\t\t\thandle2 = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.cubicCurveTo(current.add(handle1), current.add(handle2),\n\t\t\t\t\tcurrent.add(to));\n\t\t},\n\n\t\tquadraticCurveBy: function() {\n\t\t\tvar args = arguments,\n\t\t\t\thandle = Point.read(args),\n\t\t\t\tto = Point.read(args),\n\t\t\t\tcurrent = getCurrentSegment(this)._point;\n\t\t\tthis.quadraticCurveTo(current.add(handle), current.add(to));\n\t\t},\n\n\t\tarcBy: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcurrent = getCurrentSegment(this)._point,\n\t\t\t\tpoint = current.add(Point.read(args)),\n\t\t\t\tclockwise = Base.pick(Base.peek(args), true);\n\t\t\tif (typeof clockwise === 'boolean') {\n\t\t\t\tthis.arcTo(point, clockwise);\n\t\t\t} else {\n\t\t\t\tthis.arcTo(point, current.add(Point.read(args)));\n\t\t\t}\n\t\t},\n\n\t\tclosePath: function(tolerance) {\n\t\t\tthis.setClosed(true);\n\t\t\tthis.join(this, tolerance);\n\t\t}\n\t};\n}, {\n\n\t_getBounds: function(matrix, options) {\n\t\tvar method = options.handle\n\t\t\t\t? 'getHandleBounds'\n\t\t\t\t: options.stroke\n\t\t\t\t? 'getStrokeBounds'\n\t\t\t\t: 'getBounds';\n\t\treturn Path[method](this._segments, this._closed, this, matrix, options);\n\t},\n\nstatics: {\n\tgetBounds: function(segments, closed, path, matrix, options, strokePadding) {\n\t\tvar first = segments[0];\n\t\tif (!first)\n\t\t\treturn new Rectangle();\n\t\tvar coords = new Array(6),\n\t\t\tprevCoords = first._transformCoordinates(matrix, new Array(6)),\n\t\t\tmin = prevCoords.slice(0, 2),\n\t\t\tmax = min.slice(),\n\t\t\troots = new Array(2);\n\n\t\tfunction processSegment(segment) {\n\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\tfor (var i = 0; i < 2; i++) {\n\t\t\t\tCurve._addBounds(\n\t\t\t\t\tprevCoords[i],\n\t\t\t\t\tprevCoords[i + 4],\n\t\t\t\t\tcoords[i + 2],\n\t\t\t\t\tcoords[i],\n\t\t\t\t\ti, strokePadding ? strokePadding[i] : 0, min, max, roots);\n\t\t\t}\n\t\t\tvar tmp = prevCoords;\n\t\t\tprevCoords = coords;\n\t\t\tcoords = tmp;\n\t\t}\n\n\t\tfor (var i = 1, l = segments.length; i < l; i++)\n\t\t\tprocessSegment(segments[i]);\n\t\tif (closed)\n\t\t\tprocessSegment(first);\n\t\treturn new Rectangle(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n\t},\n\n\tgetStrokeBounds: function(segments, closed, path, matrix, options) {\n\t\tvar style = path.getStyle(),\n\t\t\tstroke = style.hasStroke(),\n\t\t\tstrokeWidth = style.getStrokeWidth(),\n\t\t\tstrokeMatrix = stroke && path._getStrokeMatrix(matrix, options),\n\t\t\tstrokePadding = stroke && Path._getStrokePadding(strokeWidth,\n\t\t\t\tstrokeMatrix),\n\t\t\tbounds = Path.getBounds(segments, closed, path, matrix, options,\n\t\t\t\tstrokePadding);\n\t\tif (!stroke)\n\t\t\treturn bounds;\n\t\tvar strokeRadius = strokeWidth / 2,\n\t\t\tjoin = style.getStrokeJoin(),\n\t\t\tcap = style.getStrokeCap(),\n\t\t\tmiterLimit = style.getMiterLimit(),\n\t\t\tjoinBounds = new Rectangle(new Size(strokePadding));\n\n\t\tfunction addPoint(point) {\n\t\t\tbounds = bounds.include(point);\n\t\t}\n\n\t\tfunction addRound(segment) {\n\t\t\tbounds = bounds.unite(\n\t\t\t\t\tjoinBounds.setCenter(segment._point.transform(matrix)));\n\t\t}\n\n\t\tfunction addJoin(segment, join) {\n\t\t\tif (join === 'round' || segment.isSmooth()) {\n\t\t\t\taddRound(segment);\n\t\t\t} else {\n\t\t\t\tPath._addBevelJoin(segment, join, strokeRadius, miterLimit,\n\t\t\t\t\t\tmatrix, strokeMatrix, addPoint);\n\t\t\t}\n\t\t}\n\n\t\tfunction addCap(segment, cap) {\n\t\t\tif (cap === 'round') {\n\t\t\t\taddRound(segment);\n\t\t\t} else {\n\t\t\t\tPath._addSquareCap(segment, cap, strokeRadius, matrix,\n\t\t\t\t\t\tstrokeMatrix, addPoint);\n\t\t\t}\n\t\t}\n\n\t\tvar length = segments.length - (closed ? 0 : 1);\n\t\tfor (var i = 1; i < length; i++)\n\t\t\taddJoin(segments[i], join);\n\t\tif (closed) {\n\t\t\taddJoin(segments[0], join);\n\t\t} else if (length > 0) {\n\t\t\taddCap(segments[0], cap);\n\t\t\taddCap(segments[segments.length - 1], cap);\n\t\t}\n\t\treturn bounds;\n\t},\n\n\t_getStrokePadding: function(radius, matrix) {\n\t\tif (!matrix)\n\t\t\treturn [radius, radius];\n\t\tvar hor = new Point(radius, 0).transform(matrix),\n\t\t\tver = new Point(0, radius).transform(matrix),\n\t\t\tphi = hor.getAngleInRadians(),\n\t\t\ta = hor.getLength(),\n\t\t\tb = ver.getLength();\n\t\tvar sin = Math.sin(phi),\n\t\t\tcos = Math.cos(phi),\n\t\t\ttan = Math.tan(phi),\n\t\t\ttx = Math.atan2(b * tan, a),\n\t\t\tty = Math.atan2(b, tan * a);\n\t\treturn [Math.abs(a * Math.cos(tx) * cos + b * Math.sin(tx) * sin),\n\t\t\t\tMath.abs(b * Math.sin(ty) * cos + a * Math.cos(ty) * sin)];\n\t},\n\n\t_addBevelJoin: function(segment, join, radius, miterLimit, matrix,\n\t\t\tstrokeMatrix, addPoint, isArea) {\n\t\tvar curve2 = segment.getCurve(),\n\t\t\tcurve1 = curve2.getPrevious(),\n\t\t\tpoint = curve2.getPoint1().transform(matrix),\n\t\t\tnormal1 = curve1.getNormalAtTime(1).multiply(radius)\n\t\t\t\t.transform(strokeMatrix),\n\t\t\tnormal2 = curve2.getNormalAtTime(0).multiply(radius)\n\t\t\t\t.transform(strokeMatrix),\n\t\t\t\tangle = normal1.getDirectedAngle(normal2);\n\t\tif (angle < 0 || angle >= 180) {\n\t\t\tnormal1 = normal1.negate();\n\t\t\tnormal2 = normal2.negate();\n\t\t}\n\t\tif (isArea)\n\t\t\taddPoint(point);\n\t\taddPoint(point.add(normal1));\n\t\tif (join === 'miter') {\n\t\t\tvar corner = new Line(point.add(normal1),\n\t\t\t\t\tnew Point(-normal1.y, normal1.x), true\n\t\t\t\t).intersect(new Line(point.add(normal2),\n\t\t\t\t\tnew Point(-normal2.y, normal2.x), true\n\t\t\t\t), true);\n\t\t\tif (corner && point.getDistance(corner) <= miterLimit * radius) {\n\t\t\t\taddPoint(corner);\n\t\t\t}\n\t\t}\n\t\taddPoint(point.add(normal2));\n\t},\n\n\t_addSquareCap: function(segment, cap, radius, matrix, strokeMatrix,\n\t\t\taddPoint, isArea) {\n\t\tvar point = segment._point.transform(matrix),\n\t\t\tloc = segment.getLocation(),\n\t\t\tnormal = loc.getNormal()\n\t\t\t\t\t.multiply(loc.getTime() === 0 ? radius : -radius)\n\t\t\t\t\t.transform(strokeMatrix);\n\t\tif (cap === 'square') {\n\t\t\tif (isArea) {\n\t\t\t\taddPoint(point.subtract(normal));\n\t\t\t\taddPoint(point.add(normal));\n\t\t\t}\n\t\t\tpoint = point.add(normal.rotate(-90));\n\t\t}\n\t\taddPoint(point.add(normal));\n\t\taddPoint(point.subtract(normal));\n\t},\n\n\tgetHandleBounds: function(segments, closed, path, matrix, options) {\n\t\tvar style = path.getStyle(),\n\t\t\tstroke = options.stroke && style.hasStroke(),\n\t\t\tstrokePadding,\n\t\t\tjoinPadding;\n\t\tif (stroke) {\n\t\t\tvar strokeMatrix = path._getStrokeMatrix(matrix, options),\n\t\t\t\tstrokeRadius = style.getStrokeWidth() / 2,\n\t\t\t\tjoinRadius = strokeRadius;\n\t\t\tif (style.getStrokeJoin() === 'miter')\n\t\t\t\tjoinRadius = strokeRadius * style.getMiterLimit();\n\t\t\tif (style.getStrokeCap() === 'square')\n\t\t\t\tjoinRadius = Math.max(joinRadius, strokeRadius * Math.SQRT2);\n\t\t\tstrokePadding = Path._getStrokePadding(strokeRadius, strokeMatrix);\n\t\t\tjoinPadding = Path._getStrokePadding(joinRadius, strokeMatrix);\n\t\t}\n\t\tvar coords = new Array(6),\n\t\t\tx1 = Infinity,\n\t\t\tx2 = -x1,\n\t\t\ty1 = x1,\n\t\t\ty2 = x2;\n\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\tvar segment = segments[i];\n\t\t\tsegment._transformCoordinates(matrix, coords);\n\t\t\tfor (var j = 0; j < 6; j += 2) {\n\t\t\t\tvar padding = !j ? joinPadding : strokePadding,\n\t\t\t\t\tpaddingX = padding ? padding[0] : 0,\n\t\t\t\t\tpaddingY = padding ? padding[1] : 0,\n\t\t\t\t\tx = coords[j],\n\t\t\t\t\ty = coords[j + 1],\n\t\t\t\t\txn = x - paddingX,\n\t\t\t\t\txx = x + paddingX,\n\t\t\t\t\tyn = y - paddingY,\n\t\t\t\t\tyx = y + paddingY;\n\t\t\t\tif (xn < x1) x1 = xn;\n\t\t\t\tif (xx > x2) x2 = xx;\n\t\t\t\tif (yn < y1) y1 = yn;\n\t\t\t\tif (yx > y2) y2 = yx;\n\t\t\t}\n\t\t}\n\t\treturn new Rectangle(x1, y1, x2 - x1, y2 - y1);\n\t}\n}});\n\nPath.inject({ statics: new function() {\n\n\tvar kappa = 0.5522847498307936,\n\t\tellipseSegments = [\n\t\t\tnew Segment([-1, 0], [0, kappa ], [0, -kappa]),\n\t\t\tnew Segment([0, -1], [-kappa, 0], [kappa, 0 ]),\n\t\t\tnew Segment([1, 0], [0, -kappa], [0, kappa ]),\n\t\t\tnew Segment([0, 1], [kappa, 0 ], [-kappa, 0])\n\t\t];\n\n\tfunction createPath(segments, closed, args) {\n\t\tvar props = Base.getNamed(args),\n\t\t\tpath = new Path(props && props.insert == false && Item.NO_INSERT);\n\t\tpath._add(segments);\n\t\tpath._closed = closed;\n\t\treturn path.set(props, { insert: true });\n\t}\n\n\tfunction createEllipse(center, radius, args) {\n\t\tvar segments = new Array(4);\n\t\tfor (var i = 0; i < 4; i++) {\n\t\t\tvar segment = ellipseSegments[i];\n\t\t\tsegments[i] = new Segment(\n\t\t\t\tsegment._point.multiply(radius).add(center),\n\t\t\t\tsegment._handleIn.multiply(radius),\n\t\t\t\tsegment._handleOut.multiply(radius)\n\t\t\t);\n\t\t}\n\t\treturn createPath(segments, true, args);\n\t}\n\n\treturn {\n\t\tLine: function() {\n\t\t\tvar args = arguments;\n\t\t\treturn createPath([\n\t\t\t\tnew Segment(Point.readNamed(args, 'from')),\n\t\t\t\tnew Segment(Point.readNamed(args, 'to'))\n\t\t\t], false, args);\n\t\t},\n\n\t\tCircle: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcenter = Point.readNamed(args, 'center'),\n\t\t\t\tradius = Base.readNamed(args, 'radius');\n\t\t\treturn createEllipse(center, new Size(radius), args);\n\t\t},\n\n\t\tRectangle: function() {\n\t\t\tvar args = arguments,\n\t\t\t\trect = Rectangle.readNamed(args, 'rectangle'),\n\t\t\t\tradius = Size.readNamed(args, 'radius', 0,\n\t\t\t\t\t\t{ readNull: true }),\n\t\t\t\tbl = rect.getBottomLeft(true),\n\t\t\t\ttl = rect.getTopLeft(true),\n\t\t\t\ttr = rect.getTopRight(true),\n\t\t\t\tbr = rect.getBottomRight(true),\n\t\t\t\tsegments;\n\t\t\tif (!radius || radius.isZero()) {\n\t\t\t\tsegments = [\n\t\t\t\t\tnew Segment(bl),\n\t\t\t\t\tnew Segment(tl),\n\t\t\t\t\tnew Segment(tr),\n\t\t\t\t\tnew Segment(br)\n\t\t\t\t];\n\t\t\t} else {\n\t\t\t\tradius = Size.min(radius, rect.getSize(true).divide(2));\n\t\t\t\tvar rx = radius.width,\n\t\t\t\t\try = radius.height,\n\t\t\t\t\thx = rx * kappa,\n\t\t\t\t\thy = ry * kappa;\n\t\t\t\tsegments = [\n\t\t\t\t\tnew Segment(bl.add(rx, 0), null, [-hx, 0]),\n\t\t\t\t\tnew Segment(bl.subtract(0, ry), [0, hy]),\n\t\t\t\t\tnew Segment(tl.add(0, ry), null, [0, -hy]),\n\t\t\t\t\tnew Segment(tl.add(rx, 0), [-hx, 0], null),\n\t\t\t\t\tnew Segment(tr.subtract(rx, 0), null, [hx, 0]),\n\t\t\t\t\tnew Segment(tr.add(0, ry), [0, -hy], null),\n\t\t\t\t\tnew Segment(br.subtract(0, ry), null, [0, hy]),\n\t\t\t\t\tnew Segment(br.subtract(rx, 0), [hx, 0])\n\t\t\t\t];\n\t\t\t}\n\t\t\treturn createPath(segments, true, args);\n\t\t},\n\n\t\tRoundRectangle: '#Rectangle',\n\n\t\tEllipse: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tellipse = Shape._readEllipse(args);\n\t\t\treturn createEllipse(ellipse.center, ellipse.radius, args);\n\t\t},\n\n\t\tOval: '#Ellipse',\n\n\t\tArc: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tfrom = Point.readNamed(args, 'from'),\n\t\t\t\tthrough = Point.readNamed(args, 'through'),\n\t\t\t\tto = Point.readNamed(args, 'to'),\n\t\t\t\tprops = Base.getNamed(args),\n\t\t\t\tpath = new Path(props && props.insert == false\n\t\t\t\t\t\t&& Item.NO_INSERT);\n\t\t\tpath.moveTo(from);\n\t\t\tpath.arcTo(through, to);\n\t\t\treturn path.set(props);\n\t\t},\n\n\t\tRegularPolygon: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcenter = Point.readNamed(args, 'center'),\n\t\t\t\tsides = Base.readNamed(args, 'sides'),\n\t\t\t\tradius = Base.readNamed(args, 'radius'),\n\t\t\t\tstep = 360 / sides,\n\t\t\t\tthree = sides % 3 === 0,\n\t\t\t\tvector = new Point(0, three ? -radius : radius),\n\t\t\t\toffset = three ? -1 : 0.5,\n\t\t\t\tsegments = new Array(sides);\n\t\t\tfor (var i = 0; i < sides; i++)\n\t\t\t\tsegments[i] = new Segment(center.add(\n\t\t\t\t\tvector.rotate((i + offset) * step)));\n\t\t\treturn createPath(segments, true, args);\n\t\t},\n\n\t\tStar: function() {\n\t\t\tvar args = arguments,\n\t\t\t\tcenter = Point.readNamed(args, 'center'),\n\t\t\t\tpoints = Base.readNamed(args, 'points') * 2,\n\t\t\t\tradius1 = Base.readNamed(args, 'radius1'),\n\t\t\t\tradius2 = Base.readNamed(args, 'radius2'),\n\t\t\t\tstep = 360 / points,\n\t\t\t\tvector = new Point(0, -1),\n\t\t\t\tsegments = new Array(points);\n\t\t\tfor (var i = 0; i < points; i++)\n\t\t\t\tsegments[i] = new Segment(center.add(vector.rotate(step * i)\n\t\t\t\t\t\t.multiply(i % 2 ? radius2 : radius1)));\n\t\t\treturn createPath(segments, true, args);\n\t\t}\n\t};\n}});\n\nvar CompoundPath = PathItem.extend({\n\t_class: 'CompoundPath',\n\t_serializeFields: {\n\t\tchildren: []\n\t},\n\tbeans: true,\n\n\tinitialize: function CompoundPath(arg) {\n\t\tthis._children = [];\n\t\tthis._namedChildren = {};\n\t\tif (!this._initialize(arg)) {\n\t\t\tif (typeof arg === 'string') {\n\t\t\t\tthis.setPathData(arg);\n\t\t\t} else {\n\t\t\t\tthis.addChildren(Array.isArray(arg) ? arg : arguments);\n\t\t\t}\n\t\t}\n\t},\n\n\tinsertChildren: function insertChildren(index, items) {\n\t\tvar list = items,\n\t\t\tfirst = list[0];\n\t\tif (first && typeof first[0] === 'number')\n\t\t\tlist = [list];\n\t\tfor (var i = items.length - 1; i >= 0; i--) {\n\t\t\tvar item = list[i];\n\t\t\tif (list === items && !(item instanceof Path))\n\t\t\t\tlist = Base.slice(list);\n\t\t\tif (Array.isArray(item)) {\n\t\t\t\tlist[i] = new Path({ segments: item, insert: false });\n\t\t\t} else if (item instanceof CompoundPath) {\n\t\t\t\tlist.splice.apply(list, [i, 1].concat(item.removeChildren()));\n\t\t\t\titem.remove();\n\t\t\t}\n\t\t}\n\t\treturn insertChildren.base.call(this, index, list);\n\t},\n\n\treduce: function reduce(options) {\n\t\tvar children = this._children;\n\t\tfor (var i = children.length - 1; i >= 0; i--) {\n\t\t\tvar path = children[i].reduce(options);\n\t\t\tif (path.isEmpty())\n\t\t\t\tpath.remove();\n\t\t}\n\t\tif (!children.length) {\n\t\t\tvar path = new Path(Item.NO_INSERT);\n\t\t\tpath.copyAttributes(this);\n\t\t\tpath.insertAbove(this);\n\t\t\tthis.remove();\n\t\t\treturn path;\n\t\t}\n\t\treturn reduce.base.call(this);\n\t},\n\n\tisClosed: function() {\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tif (!children[i]._closed)\n\t\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\tsetClosed: function(closed) {\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tchildren[i].setClosed(closed);\n\t\t}\n\t},\n\n\tgetFirstSegment: function() {\n\t\tvar first = this.getFirstChild();\n\t\treturn first && first.getFirstSegment();\n\t},\n\n\tgetLastSegment: function() {\n\t\tvar last = this.getLastChild();\n\t\treturn last && last.getLastSegment();\n\t},\n\n\tgetCurves: function() {\n\t\tvar children = this._children,\n\t\t\tcurves = [];\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tBase.push(curves, children[i].getCurves());\n\t\t}\n\t\treturn curves;\n\t},\n\n\tgetFirstCurve: function() {\n\t\tvar first = this.getFirstChild();\n\t\treturn first && first.getFirstCurve();\n\t},\n\n\tgetLastCurve: function() {\n\t\tvar last = this.getLastChild();\n\t\treturn last && last.getLastCurve();\n\t},\n\n\tgetArea: function() {\n\t\tvar children = this._children,\n\t\t\tarea = 0;\n\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\tarea += children[i].getArea();\n\t\treturn area;\n\t},\n\n\tgetLength: function() {\n\t\tvar children = this._children,\n\t\t\tlength = 0;\n\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\tlength += children[i].getLength();\n\t\treturn length;\n\t},\n\n\tgetPathData: function(_matrix, _precision) {\n\t\tvar children = this._children,\n\t\t\tpaths = [];\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tvar child = children[i],\n\t\t\t\tmx = child._matrix;\n\t\t\tpaths.push(child.getPathData(_matrix && !mx.isIdentity()\n\t\t\t\t\t? _matrix.appended(mx) : _matrix, _precision));\n\t\t}\n\t\treturn paths.join('');\n\t},\n\n\t_hitTestChildren: function _hitTestChildren(point, options, viewMatrix) {\n\t\treturn _hitTestChildren.base.call(this, point,\n\t\t\t\toptions.class === Path || options.type === 'path' ? options\n\t\t\t\t\t: Base.set({}, options, { fill: false }),\n\t\t\t\tviewMatrix);\n\t},\n\n\t_draw: function(ctx, param, viewMatrix, strokeMatrix) {\n\t\tvar children = this._children;\n\t\tif (!children.length)\n\t\t\treturn;\n\n\t\tparam = param.extend({ dontStart: true, dontFinish: true });\n\t\tctx.beginPath();\n\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\tchildren[i].draw(ctx, param, strokeMatrix);\n\n\t\tif (!param.clip) {\n\t\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\t\tvar style = this._style;\n\t\t\tif (style.hasFill()) {\n\t\t\t\tctx.fill(style.getFillRule());\n\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t}\n\t\t\tif (style.hasStroke())\n\t\t\t\tctx.stroke();\n\t\t}\n\t},\n\n\t_drawSelected: function(ctx, matrix, selectionItems) {\n\t\tvar children = this._children;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tvar child = children[i],\n\t\t\t\tmx = child._matrix;\n\t\t\tif (!selectionItems[child._id]) {\n\t\t\t\tchild._drawSelected(ctx, mx.isIdentity() ? matrix\n\t\t\t\t\t\t: matrix.appended(mx));\n\t\t\t}\n\t\t}\n\t}\n},\nnew function() {\n\tfunction getCurrentPath(that, check) {\n\t\tvar children = that._children;\n\t\tif (check && !children.length)\n\t\t\tthrow new Error('Use a moveTo() command first');\n\t\treturn children[children.length - 1];\n\t}\n\n\treturn Base.each(['lineTo', 'cubicCurveTo', 'quadraticCurveTo', 'curveTo',\n\t\t\t'arcTo', 'lineBy', 'cubicCurveBy', 'quadraticCurveBy', 'curveBy',\n\t\t\t'arcBy'],\n\t\tfunction(key) {\n\t\t\tthis[key] = function() {\n\t\t\t\tvar path = getCurrentPath(this, true);\n\t\t\t\tpath[key].apply(path, arguments);\n\t\t\t};\n\t\t}, {\n\t\t\tmoveTo: function() {\n\t\t\t\tvar current = getCurrentPath(this),\n\t\t\t\t\tpath = current && current.isEmpty() ? current\n\t\t\t\t\t\t\t: new Path(Item.NO_INSERT);\n\t\t\t\tif (path !== current)\n\t\t\t\t\tthis.addChild(path);\n\t\t\t\tpath.moveTo.apply(path, arguments);\n\t\t\t},\n\n\t\t\tmoveBy: function() {\n\t\t\t\tvar current = getCurrentPath(this, true),\n\t\t\t\t\tlast = current && current.getLastSegment(),\n\t\t\t\t\tpoint = Point.read(arguments);\n\t\t\t\tthis.moveTo(last ? point.add(last._point) : point);\n\t\t\t},\n\n\t\t\tclosePath: function(tolerance) {\n\t\t\t\tgetCurrentPath(this, true).closePath(tolerance);\n\t\t\t}\n\t\t}\n\t);\n}, Base.each(['reverse', 'flatten', 'simplify', 'smooth'], function(key) {\n\tthis[key] = function(param) {\n\t\tvar children = this._children,\n\t\t\tres;\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tres = children[i][key](param) || res;\n\t\t}\n\t\treturn res;\n\t};\n}, {}));\n\nPathItem.inject(new function() {\n\tvar min = Math.min,\n\t\tmax = Math.max,\n\t\tabs = Math.abs,\n\t\toperators = {\n\t\t\tunite:     { '1': true, '2': true },\n\t\t\tintersect: { '2': true },\n\t\t\tsubtract:  { '1': true },\n\t\t\texclude:   { '1': true, '-1': true }\n\t\t};\n\n\tfunction getPaths(path) {\n\t\treturn path._children || [path];\n\t}\n\n\tfunction preparePath(path, resolve) {\n\t\tvar res = path\n\t\t\t.clone(false)\n\t\t\t.reduce({ simplify: true })\n\t\t\t.transform(null, true, true);\n\t\tif (resolve) {\n\t\t\tvar paths = getPaths(res);\n\t\t\tfor (var i = 0, l = paths.length; i < l; i++) {\n\t\t\t\tvar path = paths[i];\n\t\t\t\tif (!path._closed && !path.isEmpty()) {\n\t\t\t\t\tpath.closePath(1e-12);\n\t\t\t\t\tpath.getFirstSegment().setHandleIn(0, 0);\n\t\t\t\t\tpath.getLastSegment().setHandleOut(0, 0);\n\t\t\t\t}\n\t\t\t}\n\t\t\tres = res\n\t\t\t\t.resolveCrossings()\n\t\t\t\t.reorient(res.getFillRule() === 'nonzero', true);\n\t\t}\n\t\treturn res;\n\t}\n\n\tfunction createResult(paths, simplify, path1, path2, options) {\n\t\tvar result = new CompoundPath(Item.NO_INSERT);\n\t\tresult.addChildren(paths, true);\n\t\tresult = result.reduce({ simplify: simplify });\n\t\tif (!(options && options.insert == false)) {\n\t\t\tresult.insertAbove(path2 && path1.isSibling(path2)\n\t\t\t\t\t&& path1.getIndex() < path2.getIndex() ? path2 : path1);\n\t\t}\n\t\tresult.copyAttributes(path1, true);\n\t\treturn result;\n\t}\n\n\tfunction filterIntersection(inter) {\n\t\treturn inter.hasOverlap() || inter.isCrossing();\n\t}\n\n\tfunction traceBoolean(path1, path2, operation, options) {\n\t\tif (options && (options.trace == false || options.stroke) &&\n\t\t\t\t/^(subtract|intersect)$/.test(operation))\n\t\t\treturn splitBoolean(path1, path2, operation);\n\t\tvar _path1 = preparePath(path1, true),\n\t\t\t_path2 = path2 && path1 !== path2 && preparePath(path2, true),\n\t\t\toperator = operators[operation];\n\t\toperator[operation] = true;\n\t\tif (_path2 && (operator.subtract || operator.exclude)\n\t\t\t\t^ (_path2.isClockwise() ^ _path1.isClockwise()))\n\t\t\t_path2.reverse();\n\t\tvar crossings = divideLocations(CurveLocation.expand(\n\t\t\t\t_path1.getIntersections(_path2, filterIntersection))),\n\t\t\tpaths1 = getPaths(_path1),\n\t\t\tpaths2 = _path2 && getPaths(_path2),\n\t\t\tsegments = [],\n\t\t\tcurves = [],\n\t\t\tpaths;\n\n\t\tfunction collectPaths(paths) {\n\t\t\tfor (var i = 0, l = paths.length; i < l; i++) {\n\t\t\t\tvar path = paths[i];\n\t\t\t\tBase.push(segments, path._segments);\n\t\t\t\tBase.push(curves, path.getCurves());\n\t\t\t\tpath._overlapsOnly = true;\n\t\t\t}\n\t\t}\n\n\t\tfunction getCurves(indices) {\n\t\t\tvar list = [];\n\t\t\tfor (var i = 0, l = indices && indices.length; i < l; i++) {\n\t\t\t\tlist.push(curves[indices[i]]);\n\t\t\t}\n\t\t\treturn list;\n\t\t}\n\n\t\tif (crossings.length) {\n\t\t\tcollectPaths(paths1);\n\t\t\tif (paths2)\n\t\t\t\tcollectPaths(paths2);\n\n\t\t\tvar curvesValues = new Array(curves.length);\n\t\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\t\tcurvesValues[i] = curves[i].getValues();\n\t\t\t}\n\t\t\tvar curveCollisions = CollisionDetection.findCurveBoundsCollisions(\n\t\t\t\t\tcurvesValues, curvesValues, 0, true);\n\t\t\tvar curveCollisionsMap = {};\n\t\t\tfor (var i = 0; i < curves.length; i++) {\n\t\t\t\tvar curve = curves[i],\n\t\t\t\t\tid = curve._path._id,\n\t\t\t\t\tmap = curveCollisionsMap[id] = curveCollisionsMap[id] || {};\n\t\t\t\tmap[curve.getIndex()] = {\n\t\t\t\t\thor: getCurves(curveCollisions[i].hor),\n\t\t\t\t\tver: getCurves(curveCollisions[i].ver)\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tfor (var i = 0, l = crossings.length; i < l; i++) {\n\t\t\t\tpropagateWinding(crossings[i]._segment, _path1, _path2,\n\t\t\t\t\t\tcurveCollisionsMap, operator);\n\t\t\t}\n\t\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\t\tvar segment = segments[i],\n\t\t\t\t\tinter = segment._intersection;\n\t\t\t\tif (!segment._winding) {\n\t\t\t\t\tpropagateWinding(segment, _path1, _path2,\n\t\t\t\t\t\t\tcurveCollisionsMap, operator);\n\t\t\t\t}\n\t\t\t\tif (!(inter && inter._overlap))\n\t\t\t\t\tsegment._path._overlapsOnly = false;\n\t\t\t}\n\t\t\tpaths = tracePaths(segments, operator);\n\t\t} else {\n\t\t\tpaths = reorientPaths(\n\t\t\t\t\tpaths2 ? paths1.concat(paths2) : paths1.slice(),\n\t\t\t\t\tfunction(w) {\n\t\t\t\t\t\treturn !!operator[w];\n\t\t\t\t\t});\n\t\t}\n\t\treturn createResult(paths, true, path1, path2, options);\n\t}\n\n\tfunction splitBoolean(path1, path2, operation) {\n\t\tvar _path1 = preparePath(path1),\n\t\t\t_path2 = preparePath(path2),\n\t\t\tcrossings = _path1.getIntersections(_path2, filterIntersection),\n\t\t\tsubtract = operation === 'subtract',\n\t\t\tdivide = operation === 'divide',\n\t\t\tadded = {},\n\t\t\tpaths = [];\n\n\t\tfunction addPath(path) {\n\t\t\tif (!added[path._id] && (divide ||\n\t\t\t\t\t_path2.contains(path.getPointAt(path.getLength() / 2))\n\t\t\t\t\t\t^ subtract)) {\n\t\t\t\tpaths.unshift(path);\n\t\t\t\treturn added[path._id] = true;\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = crossings.length - 1; i >= 0; i--) {\n\t\t\tvar path = crossings[i].split();\n\t\t\tif (path) {\n\t\t\t\tif (addPath(path))\n\t\t\t\t\tpath.getFirstSegment().setHandleIn(0, 0);\n\t\t\t\t_path1.getLastSegment().setHandleOut(0, 0);\n\t\t\t}\n\t\t}\n\t\taddPath(_path1);\n\t\treturn createResult(paths, false, path1, path2);\n\t}\n\n\tfunction linkIntersections(from, to) {\n\t\tvar prev = from;\n\t\twhile (prev) {\n\t\t\tif (prev === to)\n\t\t\t\treturn;\n\t\t\tprev = prev._previous;\n\t\t}\n\t\twhile (from._next && from._next !== to)\n\t\t\tfrom = from._next;\n\t\tif (!from._next) {\n\t\t\twhile (to._previous)\n\t\t\t\tto = to._previous;\n\t\t\tfrom._next = to;\n\t\t\tto._previous = from;\n\t\t}\n\t}\n\n\tfunction clearCurveHandles(curves) {\n\t\tfor (var i = curves.length - 1; i >= 0; i--)\n\t\t\tcurves[i].clearHandles();\n\t}\n\n\tfunction reorientPaths(paths, isInside, clockwise) {\n\t\tvar length = paths && paths.length;\n\t\tif (length) {\n\t\t\tvar lookup = Base.each(paths, function (path, i) {\n\t\t\t\t\tthis[path._id] = {\n\t\t\t\t\t\tcontainer: null,\n\t\t\t\t\t\twinding: path.isClockwise() ? 1 : -1,\n\t\t\t\t\t\tindex: i\n\t\t\t\t\t};\n\t\t\t\t}, {}),\n\t\t\t\tsorted = paths.slice().sort(function (a, b) {\n\t\t\t\t\treturn abs(b.getArea()) - abs(a.getArea());\n\t\t\t\t}),\n\t\t\t\tfirst = sorted[0];\n\t\t\tvar collisions = CollisionDetection.findItemBoundsCollisions(sorted,\n\t\t\t\t\tnull, Numerical.GEOMETRIC_EPSILON);\n\t\t\tif (clockwise == null)\n\t\t\t\tclockwise = first.isClockwise();\n\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\tvar path1 = sorted[i],\n\t\t\t\t\tentry1 = lookup[path1._id],\n\t\t\t\t\tcontainerWinding = 0,\n\t\t\t\t\tindices = collisions[i];\n\t\t\t\tif (indices) {\n\t\t\t\t\tvar point = null;\n\t\t\t\t\tfor (var j = indices.length - 1; j >= 0; j--) {\n\t\t\t\t\t\tif (indices[j] < i) {\n\t\t\t\t\t\t\tpoint = point || path1.getInteriorPoint();\n\t\t\t\t\t\t\tvar path2 = sorted[indices[j]];\n\t\t\t\t\t\t\tif (path2.contains(point)) {\n\t\t\t\t\t\t\t\tvar entry2 = lookup[path2._id];\n\t\t\t\t\t\t\t\tcontainerWinding = entry2.winding;\n\t\t\t\t\t\t\t\tentry1.winding += containerWinding;\n\t\t\t\t\t\t\t\tentry1.container = entry2.exclude\n\t\t\t\t\t\t\t\t\t? entry2.container : path2;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (isInside(entry1.winding) === isInside(containerWinding)) {\n\t\t\t\t\tentry1.exclude = true;\n\t\t\t\t\tpaths[entry1.index] = null;\n\t\t\t\t} else {\n\t\t\t\t\tvar container = entry1.container;\n\t\t\t\t\tpath1.setClockwise(\n\t\t\t\t\t\t\tcontainer ? !container.isClockwise() : clockwise);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn paths;\n\t}\n\n\tfunction divideLocations(locations, include, clearLater) {\n\t\tvar results = include && [],\n\t\t\ttMin = 1e-8,\n\t\t\ttMax = 1 - tMin,\n\t\t\tclearHandles = false,\n\t\t\tclearCurves = clearLater || [],\n\t\t\tclearLookup = clearLater && {},\n\t\t\trenormalizeLocs,\n\t\t\tprevCurve,\n\t\t\tprevTime;\n\n\t\tfunction getId(curve) {\n\t\t\treturn curve._path._id + '.' + curve._segment1._index;\n\t\t}\n\n\t\tfor (var i = (clearLater && clearLater.length) - 1; i >= 0; i--) {\n\t\t\tvar curve = clearLater[i];\n\t\t\tif (curve._path)\n\t\t\t\tclearLookup[getId(curve)] = true;\n\t\t}\n\n\t\tfor (var i = locations.length - 1; i >= 0; i--) {\n\t\t\tvar loc = locations[i],\n\t\t\t\ttime = loc._time,\n\t\t\t\torigTime = time,\n\t\t\t\texclude = include && !include(loc),\n\t\t\t\tcurve = loc._curve,\n\t\t\t\tsegment;\n\t\t\tif (curve) {\n\t\t\t\tif (curve !== prevCurve) {\n\t\t\t\t\tclearHandles = !curve.hasHandles()\n\t\t\t\t\t\t\t|| clearLookup && clearLookup[getId(curve)];\n\t\t\t\t\trenormalizeLocs = [];\n\t\t\t\t\tprevTime = null;\n\t\t\t\t\tprevCurve = curve;\n\t\t\t\t} else if (prevTime >= tMin) {\n\t\t\t\t\ttime /= prevTime;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (exclude) {\n\t\t\t\tif (renormalizeLocs)\n\t\t\t\t\trenormalizeLocs.push(loc);\n\t\t\t\tcontinue;\n\t\t\t} else if (include) {\n\t\t\t\tresults.unshift(loc);\n\t\t\t}\n\t\t\tprevTime = origTime;\n\t\t\tif (time < tMin) {\n\t\t\t\tsegment = curve._segment1;\n\t\t\t} else if (time > tMax) {\n\t\t\t\tsegment = curve._segment2;\n\t\t\t} else {\n\t\t\t\tvar newCurve = curve.divideAtTime(time, true);\n\t\t\t\tif (clearHandles)\n\t\t\t\t\tclearCurves.push(curve, newCurve);\n\t\t\t\tsegment = newCurve._segment1;\n\t\t\t\tfor (var j = renormalizeLocs.length - 1; j >= 0; j--) {\n\t\t\t\t\tvar l = renormalizeLocs[j];\n\t\t\t\t\tl._time = (l._time - time) / (1 - time);\n\t\t\t\t}\n\t\t\t}\n\t\t\tloc._setSegment(segment);\n\t\t\tvar inter = segment._intersection,\n\t\t\t\tdest = loc._intersection;\n\t\t\tif (inter) {\n\t\t\t\tlinkIntersections(inter, dest);\n\t\t\t\tvar other = inter;\n\t\t\t\twhile (other) {\n\t\t\t\t\tlinkIntersections(other._intersection, inter);\n\t\t\t\t\tother = other._next;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsegment._intersection = dest;\n\t\t\t}\n\t\t}\n\t\tif (!clearLater)\n\t\t\tclearCurveHandles(clearCurves);\n\t\treturn results || locations;\n\t}\n\n\tfunction getWinding(point, curves, dir, closed, dontFlip) {\n\t\tvar curvesList = Array.isArray(curves)\n\t\t\t? curves\n\t\t\t: curves[dir ? 'hor' : 'ver'];\n\t\tvar ia = dir ? 1 : 0,\n\t\t\tio = ia ^ 1,\n\t\t\tpv = [point.x, point.y],\n\t\t\tpa = pv[ia],\n\t\t\tpo = pv[io],\n\t\t\twindingEpsilon = 1e-9,\n\t\t\tqualityEpsilon = 1e-6,\n\t\t\tpaL = pa - windingEpsilon,\n\t\t\tpaR = pa + windingEpsilon,\n\t\t\twindingL = 0,\n\t\t\twindingR = 0,\n\t\t\tpathWindingL = 0,\n\t\t\tpathWindingR = 0,\n\t\t\tonPath = false,\n\t\t\tonAnyPath = false,\n\t\t\tquality = 1,\n\t\t\troots = [],\n\t\t\tvPrev,\n\t\t\tvClose;\n\n\t\tfunction addWinding(v) {\n\t\t\tvar o0 = v[io + 0],\n\t\t\t\to3 = v[io + 6];\n\t\t\tif (po < min(o0, o3) || po > max(o0, o3)) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar a0 = v[ia + 0],\n\t\t\t\ta1 = v[ia + 2],\n\t\t\t\ta2 = v[ia + 4],\n\t\t\t\ta3 = v[ia + 6];\n\t\t\tif (o0 === o3) {\n\t\t\t\tif (a0 < paR && a3 > paL || a3 < paR && a0 > paL) {\n\t\t\t\t\tonPath = true;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar t =   po === o0 ? 0\n\t\t\t\t\t: po === o3 ? 1\n\t\t\t\t\t: paL > max(a0, a1, a2, a3) || paR < min(a0, a1, a2, a3)\n\t\t\t\t\t? 1\n\t\t\t\t\t: Curve.solveCubic(v, io, po, roots, 0, 1) > 0\n\t\t\t\t\t\t? roots[0]\n\t\t\t\t\t\t: 1,\n\t\t\t\ta =   t === 0 ? a0\n\t\t\t\t\t: t === 1 ? a3\n\t\t\t\t\t: Curve.getPoint(v, t)[dir ? 'y' : 'x'],\n\t\t\t\twinding = o0 > o3 ? 1 : -1,\n\t\t\t\twindingPrev = vPrev[io] > vPrev[io + 6] ? 1 : -1,\n\t\t\t\ta3Prev = vPrev[ia + 6];\n\t\t\tif (po !== o0) {\n\t\t\t\tif (a < paL) {\n\t\t\t\t\tpathWindingL += winding;\n\t\t\t\t} else if (a > paR) {\n\t\t\t\t\tpathWindingR += winding;\n\t\t\t\t} else {\n\t\t\t\t\tonPath = true;\n\t\t\t\t}\n\t\t\t\tif (a > pa - qualityEpsilon && a < pa + qualityEpsilon)\n\t\t\t\t\tquality /= 2;\n\t\t\t} else {\n\t\t\t\tif (winding !== windingPrev) {\n\t\t\t\t\tif (a0 < paL) {\n\t\t\t\t\t\tpathWindingL += winding;\n\t\t\t\t\t} else if (a0 > paR) {\n\t\t\t\t\t\tpathWindingR += winding;\n\t\t\t\t\t}\n\t\t\t\t} else if (a0 != a3Prev) {\n\t\t\t\t\tif (a3Prev < paR && a > paR) {\n\t\t\t\t\t\tpathWindingR += winding;\n\t\t\t\t\t\tonPath = true;\n\t\t\t\t\t} else if (a3Prev > paL && a < paL) {\n\t\t\t\t\t\tpathWindingL += winding;\n\t\t\t\t\t\tonPath = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tquality /= 4;\n\t\t\t}\n\t\t\tvPrev = v;\n\t\t\treturn !dontFlip && a > paL && a < paR\n\t\t\t\t\t&& Curve.getTangent(v, t)[dir ? 'x' : 'y'] === 0\n\t\t\t\t\t&& getWinding(point, curves, !dir, closed, true);\n\t\t}\n\n\t\tfunction handleCurve(v) {\n\t\t\tvar o0 = v[io + 0],\n\t\t\t\to1 = v[io + 2],\n\t\t\t\to2 = v[io + 4],\n\t\t\t\to3 = v[io + 6];\n\t\t\tif (po <= max(o0, o1, o2, o3) && po >= min(o0, o1, o2, o3)) {\n\t\t\t\tvar a0 = v[ia + 0],\n\t\t\t\t\ta1 = v[ia + 2],\n\t\t\t\t\ta2 = v[ia + 4],\n\t\t\t\t\ta3 = v[ia + 6],\n\t\t\t\t\tmonoCurves = paL > max(a0, a1, a2, a3) ||\n\t\t\t\t\t\t\t\t paR < min(a0, a1, a2, a3)\n\t\t\t\t\t\t\t? [v] : Curve.getMonoCurves(v, dir),\n\t\t\t\t\tres;\n\t\t\t\tfor (var i = 0, l = monoCurves.length; i < l; i++) {\n\t\t\t\t\tif (res = addWinding(monoCurves[i]))\n\t\t\t\t\t\treturn res;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 0, l = curvesList.length; i < l; i++) {\n\t\t\tvar curve = curvesList[i],\n\t\t\t\tpath = curve._path,\n\t\t\t\tv = curve.getValues(),\n\t\t\t\tres;\n\t\t\tif (!i || curvesList[i - 1]._path !== path) {\n\t\t\t\tvPrev = null;\n\t\t\t\tif (!path._closed) {\n\t\t\t\t\tvClose = Curve.getValues(\n\t\t\t\t\t\t\tpath.getLastCurve().getSegment2(),\n\t\t\t\t\t\t\tcurve.getSegment1(),\n\t\t\t\t\t\t\tnull, !closed);\n\t\t\t\t\tif (vClose[io] !== vClose[io + 6]) {\n\t\t\t\t\t\tvPrev = vClose;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (!vPrev) {\n\t\t\t\t\tvPrev = v;\n\t\t\t\t\tvar prev = path.getLastCurve();\n\t\t\t\t\twhile (prev && prev !== curve) {\n\t\t\t\t\t\tvar v2 = prev.getValues();\n\t\t\t\t\t\tif (v2[io] !== v2[io + 6]) {\n\t\t\t\t\t\t\tvPrev = v2;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tprev = prev.getPrevious();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (res = handleCurve(v))\n\t\t\t\treturn res;\n\n\t\t\tif (i + 1 === l || curvesList[i + 1]._path !== path) {\n\t\t\t\tif (vClose && (res = handleCurve(vClose)))\n\t\t\t\t\treturn res;\n\t\t\t\tif (onPath && !pathWindingL && !pathWindingR) {\n\t\t\t\t\tpathWindingL = pathWindingR = path.isClockwise(closed) ^ dir\n\t\t\t\t\t\t\t? 1 : -1;\n\t\t\t\t}\n\t\t\t\twindingL += pathWindingL;\n\t\t\t\twindingR += pathWindingR;\n\t\t\t\tpathWindingL = pathWindingR = 0;\n\t\t\t\tif (onPath) {\n\t\t\t\t\tonAnyPath = true;\n\t\t\t\t\tonPath = false;\n\t\t\t\t}\n\t\t\t\tvClose = null;\n\t\t\t}\n\t\t}\n\t\twindingL = abs(windingL);\n\t\twindingR = abs(windingR);\n\t\treturn {\n\t\t\twinding: max(windingL, windingR),\n\t\t\twindingL: windingL,\n\t\t\twindingR: windingR,\n\t\t\tquality: quality,\n\t\t\tonPath: onAnyPath\n\t\t};\n\t}\n\n\tfunction propagateWinding(segment, path1, path2, curveCollisionsMap,\n\t\t\toperator) {\n\t\tvar chain = [],\n\t\t\tstart = segment,\n\t\t\ttotalLength = 0,\n\t\t\twinding;\n\t\tdo {\n\t\t\tvar curve = segment.getCurve();\n\t\t\tif (curve) {\n\t\t\t\tvar length = curve.getLength();\n\t\t\t\tchain.push({ segment: segment, curve: curve, length: length });\n\t\t\t\ttotalLength += length;\n\t\t\t}\n\t\t\tsegment = segment.getNext();\n\t\t} while (segment && !segment._intersection && segment !== start);\n\t\tvar offsets = [0.5, 0.25, 0.75],\n\t\t\twinding = { winding: 0, quality: -1 },\n\t\t\ttMin = 1e-3,\n\t\t\ttMax = 1 - tMin;\n\t\tfor (var i = 0; i < offsets.length && winding.quality < 0.5; i++) {\n\t\t\tvar length = totalLength * offsets[i];\n\t\t\tfor (var j = 0, l = chain.length; j < l; j++) {\n\t\t\t\tvar entry = chain[j],\n\t\t\t\t\tcurveLength = entry.length;\n\t\t\t\tif (length <= curveLength) {\n\t\t\t\t\tvar curve = entry.curve,\n\t\t\t\t\t\tpath = curve._path,\n\t\t\t\t\t\tparent = path._parent,\n\t\t\t\t\t\toperand = parent instanceof CompoundPath ? parent : path,\n\t\t\t\t\t\tt = Numerical.clamp(curve.getTimeAt(length), tMin, tMax),\n\t\t\t\t\t\tpt = curve.getPointAtTime(t),\n\t\t\t\t\t\tdir = abs(curve.getTangentAtTime(t).y) < Math.SQRT1_2;\n\t\t\t\t\tvar wind = null;\n\t\t\t\t\tif (operator.subtract && path2) {\n\t\t\t\t\t\tvar otherPath = operand === path1 ? path2 : path1,\n\t\t\t\t\t\t\tpathWinding = otherPath._getWinding(pt, dir, true);\n\t\t\t\t\t\tif (operand === path1 && pathWinding.winding ||\n\t\t\t\t\t\t\toperand === path2 && !pathWinding.winding) {\n\t\t\t\t\t\t\tif (pathWinding.quality < 1) {\n\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\twind = { winding: 0, quality: 1 };\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\twind =  wind || getWinding(\n\t\t\t\t\t\t\tpt, curveCollisionsMap[path._id][curve.getIndex()],\n\t\t\t\t\t\t\tdir, true);\n\t\t\t\t\tif (wind.quality > winding.quality)\n\t\t\t\t\t\twinding = wind;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tlength -= curveLength;\n\t\t\t}\n\t\t}\n\t\tfor (var j = chain.length - 1; j >= 0; j--) {\n\t\t\tchain[j].segment._winding = winding;\n\t\t}\n\t}\n\n\tfunction tracePaths(segments, operator) {\n\t\tvar paths = [],\n\t\t\tstarts;\n\n\t\tfunction isValid(seg) {\n\t\t\tvar winding;\n\t\t\treturn !!(seg && !seg._visited && (!operator\n\t\t\t\t\t|| operator[(winding = seg._winding || {}).winding]\n\t\t\t\t\t\t&& !(operator.unite && winding.winding === 2\n\t\t\t\t\t\t\t&& winding.windingL && winding.windingR)));\n\t\t}\n\n\t\tfunction isStart(seg) {\n\t\t\tif (seg) {\n\t\t\t\tfor (var i = 0, l = starts.length; i < l; i++) {\n\t\t\t\t\tif (seg === starts[i])\n\t\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn false;\n\t\t}\n\n\t\tfunction visitPath(path) {\n\t\t\tvar segments = path._segments;\n\t\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\t\tsegments[i]._visited = true;\n\t\t\t}\n\t\t}\n\n\t\tfunction getCrossingSegments(segment, collectStarts) {\n\t\t\tvar inter = segment._intersection,\n\t\t\t\tstart = inter,\n\t\t\t\tcrossings = [];\n\t\t\tif (collectStarts)\n\t\t\t\tstarts = [segment];\n\n\t\t\tfunction collect(inter, end) {\n\t\t\t\twhile (inter && inter !== end) {\n\t\t\t\t\tvar other = inter._segment,\n\t\t\t\t\t\tpath = other && other._path;\n\t\t\t\t\tif (path) {\n\t\t\t\t\t\tvar next = other.getNext() || path.getFirstSegment(),\n\t\t\t\t\t\t\tnextInter = next._intersection;\n\t\t\t\t\t\tif (other !== segment && (isStart(other)\n\t\t\t\t\t\t\t|| isStart(next)\n\t\t\t\t\t\t\t|| next && (isValid(other) && (isValid(next)\n\t\t\t\t\t\t\t\t|| nextInter && isValid(nextInter._segment))))\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tcrossings.push(other);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (collectStarts)\n\t\t\t\t\t\t\tstarts.push(other);\n\t\t\t\t\t}\n\t\t\t\t\tinter = inter._next;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (inter) {\n\t\t\t\tcollect(inter);\n\t\t\t\twhile (inter && inter._prev)\n\t\t\t\t\tinter = inter._prev;\n\t\t\t\tcollect(inter, start);\n\t\t\t}\n\t\t\treturn crossings;\n\t\t}\n\n\t\tsegments.sort(function(seg1, seg2) {\n\t\t\tvar inter1 = seg1._intersection,\n\t\t\t\tinter2 = seg2._intersection,\n\t\t\t\tover1 = !!(inter1 && inter1._overlap),\n\t\t\t\tover2 = !!(inter2 && inter2._overlap),\n\t\t\t\tpath1 = seg1._path,\n\t\t\t\tpath2 = seg2._path;\n\t\t\treturn over1 ^ over2\n\t\t\t\t\t? over1 ? 1 : -1\n\t\t\t\t\t: !inter1 ^ !inter2\n\t\t\t\t\t\t? inter1 ? 1 : -1\n\t\t\t\t\t\t: path1 !== path2\n\t\t\t\t\t\t\t? path1._id - path2._id\n\t\t\t\t\t\t\t: seg1._index - seg2._index;\n\t\t});\n\n\t\tfor (var i = 0, l = segments.length; i < l; i++) {\n\t\t\tvar seg = segments[i],\n\t\t\t\tvalid = isValid(seg),\n\t\t\t\tpath = null,\n\t\t\t\tfinished = false,\n\t\t\t\tclosed = true,\n\t\t\t\tbranches = [],\n\t\t\t\tbranch,\n\t\t\t\tvisited,\n\t\t\t\thandleIn;\n\t\t\tif (valid && seg._path._overlapsOnly) {\n\t\t\t\tvar path1 = seg._path,\n\t\t\t\t\tpath2 = seg._intersection._segment._path;\n\t\t\t\tif (path1.compare(path2)) {\n\t\t\t\t\tif (path1.getArea())\n\t\t\t\t\t\tpaths.push(path1.clone(false));\n\t\t\t\t\tvisitPath(path1);\n\t\t\t\t\tvisitPath(path2);\n\t\t\t\t\tvalid = false;\n\t\t\t\t}\n\t\t\t}\n\t\t\twhile (valid) {\n\t\t\t\tvar first = !path,\n\t\t\t\t\tcrossings = getCrossingSegments(seg, first),\n\t\t\t\t\tother = crossings.shift(),\n\t\t\t\t\tfinished = !first && (isStart(seg) || isStart(other)),\n\t\t\t\t\tcross = !finished && other;\n\t\t\t\tif (first) {\n\t\t\t\t\tpath = new Path(Item.NO_INSERT);\n\t\t\t\t\tbranch = null;\n\t\t\t\t}\n\t\t\t\tif (finished) {\n\t\t\t\t\tif (seg.isFirst() || seg.isLast())\n\t\t\t\t\t\tclosed = seg._path._closed;\n\t\t\t\t\tseg._visited = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (cross && branch) {\n\t\t\t\t\tbranches.push(branch);\n\t\t\t\t\tbranch = null;\n\t\t\t\t}\n\t\t\t\tif (!branch) {\n\t\t\t\t\tif (cross)\n\t\t\t\t\t\tcrossings.push(seg);\n\t\t\t\t\tbranch = {\n\t\t\t\t\t\tstart: path._segments.length,\n\t\t\t\t\t\tcrossings: crossings,\n\t\t\t\t\t\tvisited: visited = [],\n\t\t\t\t\t\thandleIn: handleIn\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tif (cross)\n\t\t\t\t\tseg = other;\n\t\t\t\tif (!isValid(seg)) {\n\t\t\t\t\tpath.removeSegments(branch.start);\n\t\t\t\t\tfor (var j = 0, k = visited.length; j < k; j++) {\n\t\t\t\t\t\tvisited[j]._visited = false;\n\t\t\t\t\t}\n\t\t\t\t\tvisited.length = 0;\n\t\t\t\t\tdo {\n\t\t\t\t\t\tseg = branch && branch.crossings.shift();\n\t\t\t\t\t\tif (!seg || !seg._path) {\n\t\t\t\t\t\t\tseg = null;\n\t\t\t\t\t\t\tbranch = branches.pop();\n\t\t\t\t\t\t\tif (branch) {\n\t\t\t\t\t\t\t\tvisited = branch.visited;\n\t\t\t\t\t\t\t\thandleIn = branch.handleIn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} while (branch && !isValid(seg));\n\t\t\t\t\tif (!seg)\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tvar next = seg.getNext();\n\t\t\t\tpath.add(new Segment(seg._point, handleIn,\n\t\t\t\t\t\tnext && seg._handleOut));\n\t\t\t\tseg._visited = true;\n\t\t\t\tvisited.push(seg);\n\t\t\t\tseg = next || seg._path.getFirstSegment();\n\t\t\t\thandleIn = next && next._handleIn;\n\t\t\t}\n\t\t\tif (finished) {\n\t\t\t\tif (closed) {\n\t\t\t\t\tpath.getFirstSegment().setHandleIn(handleIn);\n\t\t\t\t\tpath.setClosed(closed);\n\t\t\t\t}\n\t\t\t\tif (path.getArea() !== 0) {\n\t\t\t\t\tpaths.push(path);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn paths;\n\t}\n\n\treturn {\n\t\t_getWinding: function(point, dir, closed) {\n\t\t\treturn getWinding(point, this.getCurves(), dir, closed);\n\t\t},\n\n\t\tunite: function(path, options) {\n\t\t\treturn traceBoolean(this, path, 'unite', options);\n\t\t},\n\n\t\tintersect: function(path, options) {\n\t\t\treturn traceBoolean(this, path, 'intersect', options);\n\t\t},\n\n\t\tsubtract: function(path, options) {\n\t\t\treturn traceBoolean(this, path, 'subtract', options);\n\t\t},\n\n\t\texclude: function(path, options) {\n\t\t\treturn traceBoolean(this, path, 'exclude', options);\n\t\t},\n\n\t\tdivide: function(path, options) {\n\t\t\treturn options && (options.trace == false || options.stroke)\n\t\t\t\t\t? splitBoolean(this, path, 'divide')\n\t\t\t\t\t: createResult([\n\t\t\t\t\t\tthis.subtract(path, options),\n\t\t\t\t\t\tthis.intersect(path, options)\n\t\t\t\t\t], true, this, path, options);\n\t\t},\n\n\t\tresolveCrossings: function() {\n\t\t\tvar children = this._children,\n\t\t\t\tpaths = children || [this];\n\n\t\t\tfunction hasOverlap(seg, path) {\n\t\t\t\tvar inter = seg && seg._intersection;\n\t\t\t\treturn inter && inter._overlap && inter._path === path;\n\t\t\t}\n\n\t\t\tvar hasOverlaps = false,\n\t\t\t\thasCrossings = false,\n\t\t\t\tintersections = this.getIntersections(null, function(inter) {\n\t\t\t\t\treturn inter.hasOverlap() && (hasOverlaps = true) ||\n\t\t\t\t\t\t\tinter.isCrossing() && (hasCrossings = true);\n\t\t\t\t}),\n\t\t\t\tclearCurves = hasOverlaps && hasCrossings && [];\n\t\t\tintersections = CurveLocation.expand(intersections);\n\t\t\tif (hasOverlaps) {\n\t\t\t\tvar overlaps = divideLocations(intersections, function(inter) {\n\t\t\t\t\treturn inter.hasOverlap();\n\t\t\t\t}, clearCurves);\n\t\t\t\tfor (var i = overlaps.length - 1; i >= 0; i--) {\n\t\t\t\t\tvar overlap = overlaps[i],\n\t\t\t\t\t\tpath = overlap._path,\n\t\t\t\t\t\tseg = overlap._segment,\n\t\t\t\t\t\tprev = seg.getPrevious(),\n\t\t\t\t\t\tnext = seg.getNext();\n\t\t\t\t\tif (hasOverlap(prev, path) && hasOverlap(next, path)) {\n\t\t\t\t\t\tseg.remove();\n\t\t\t\t\t\tprev._handleOut._set(0, 0);\n\t\t\t\t\t\tnext._handleIn._set(0, 0);\n\t\t\t\t\t\tif (prev !== seg && !prev.getCurve().hasLength()) {\n\t\t\t\t\t\t\tnext._handleIn.set(prev._handleIn);\n\t\t\t\t\t\t\tprev.remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (hasCrossings) {\n\t\t\t\tdivideLocations(intersections, hasOverlaps && function(inter) {\n\t\t\t\t\tvar curve1 = inter.getCurve(),\n\t\t\t\t\t\tseg1 = inter.getSegment(),\n\t\t\t\t\t\tother = inter._intersection,\n\t\t\t\t\t\tcurve2 = other._curve,\n\t\t\t\t\t\tseg2 = other._segment;\n\t\t\t\t\tif (curve1 && curve2 && curve1._path && curve2._path)\n\t\t\t\t\t\treturn true;\n\t\t\t\t\tif (seg1)\n\t\t\t\t\t\tseg1._intersection = null;\n\t\t\t\t\tif (seg2)\n\t\t\t\t\t\tseg2._intersection = null;\n\t\t\t\t}, clearCurves);\n\t\t\t\tif (clearCurves)\n\t\t\t\t\tclearCurveHandles(clearCurves);\n\t\t\t\tpaths = tracePaths(Base.each(paths, function(path) {\n\t\t\t\t\tBase.push(this, path._segments);\n\t\t\t\t}, []));\n\t\t\t}\n\t\t\tvar length = paths.length,\n\t\t\t\titem;\n\t\t\tif (length > 1 && children) {\n\t\t\t\tif (paths !== children)\n\t\t\t\t\tthis.setChildren(paths);\n\t\t\t\titem = this;\n\t\t\t} else if (length === 1 && !children) {\n\t\t\t\tif (paths[0] !== this)\n\t\t\t\t\tthis.setSegments(paths[0].removeSegments());\n\t\t\t\titem = this;\n\t\t\t}\n\t\t\tif (!item) {\n\t\t\t\titem = new CompoundPath(Item.NO_INSERT);\n\t\t\t\titem.addChildren(paths);\n\t\t\t\titem = item.reduce();\n\t\t\t\titem.copyAttributes(this);\n\t\t\t\tthis.replaceWith(item);\n\t\t\t}\n\t\t\treturn item;\n\t\t},\n\n\t\treorient: function(nonZero, clockwise) {\n\t\t\tvar children = this._children;\n\t\t\tif (children && children.length) {\n\t\t\t\tthis.setChildren(reorientPaths(this.removeChildren(),\n\t\t\t\t\t\tfunction(w) {\n\t\t\t\t\t\t\treturn !!(nonZero ? w : w & 1);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tclockwise));\n\t\t\t} else if (clockwise !== undefined) {\n\t\t\t\tthis.setClockwise(clockwise);\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\n\t\tgetInteriorPoint: function() {\n\t\t\tvar bounds = this.getBounds(),\n\t\t\t\tpoint = bounds.getCenter(true);\n\t\t\tif (!this.contains(point)) {\n\t\t\t\tvar curves = this.getCurves(),\n\t\t\t\t\ty = point.y,\n\t\t\t\t\tintercepts = [],\n\t\t\t\t\troots = [];\n\t\t\t\tfor (var i = 0, l = curves.length; i < l; i++) {\n\t\t\t\t\tvar v = curves[i].getValues(),\n\t\t\t\t\t\to0 = v[1],\n\t\t\t\t\t\to1 = v[3],\n\t\t\t\t\t\to2 = v[5],\n\t\t\t\t\t\to3 = v[7];\n\t\t\t\t\tif (y >= min(o0, o1, o2, o3) && y <= max(o0, o1, o2, o3)) {\n\t\t\t\t\t\tvar monoCurves = Curve.getMonoCurves(v);\n\t\t\t\t\t\tfor (var j = 0, m = monoCurves.length; j < m; j++) {\n\t\t\t\t\t\t\tvar mv = monoCurves[j],\n\t\t\t\t\t\t\t\tmo0 = mv[1],\n\t\t\t\t\t\t\t\tmo3 = mv[7];\n\t\t\t\t\t\t\tif ((mo0 !== mo3) &&\n\t\t\t\t\t\t\t\t(y >= mo0 && y <= mo3 || y >= mo3 && y <= mo0)){\n\t\t\t\t\t\t\t\tvar x = y === mo0 ? mv[0]\n\t\t\t\t\t\t\t\t\t: y === mo3 ? mv[6]\n\t\t\t\t\t\t\t\t\t: Curve.solveCubic(mv, 1, y, roots, 0, 1)\n\t\t\t\t\t\t\t\t\t\t=== 1\n\t\t\t\t\t\t\t\t\t\t? Curve.getPoint(mv, roots[0]).x\n\t\t\t\t\t\t\t\t\t\t: (mv[0] + mv[6]) / 2;\n\t\t\t\t\t\t\t\tintercepts.push(x);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (intercepts.length > 1) {\n\t\t\t\t\tintercepts.sort(function(a, b) { return a - b; });\n\t\t\t\t\tpoint.x = (intercepts[0] + intercepts[1]) / 2;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn point;\n\t\t}\n\t};\n});\n\nvar PathFlattener = Base.extend({\n\t_class: 'PathFlattener',\n\n\tinitialize: function(path, flatness, maxRecursion, ignoreStraight, matrix) {\n\t\tvar curves = [],\n\t\t\tparts = [],\n\t\t\tlength = 0,\n\t\t\tminSpan = 1 / (maxRecursion || 32),\n\t\t\tsegments = path._segments,\n\t\t\tsegment1 = segments[0],\n\t\t\tsegment2;\n\n\t\tfunction addCurve(segment1, segment2) {\n\t\t\tvar curve = Curve.getValues(segment1, segment2, matrix);\n\t\t\tcurves.push(curve);\n\t\t\tcomputeParts(curve, segment1._index, 0, 1);\n\t\t}\n\n\t\tfunction computeParts(curve, index, t1, t2) {\n\t\t\tif ((t2 - t1) > minSpan\n\t\t\t\t\t&& !(ignoreStraight && Curve.isStraight(curve))\n\t\t\t\t\t&& !Curve.isFlatEnough(curve, flatness || 0.25)) {\n\t\t\t\tvar halves = Curve.subdivide(curve, 0.5),\n\t\t\t\t\ttMid = (t1 + t2) / 2;\n\t\t\t\tcomputeParts(halves[0], index, t1, tMid);\n\t\t\t\tcomputeParts(halves[1], index, tMid, t2);\n\t\t\t} else {\n\t\t\t\tvar dx = curve[6] - curve[0],\n\t\t\t\t\tdy = curve[7] - curve[1],\n\t\t\t\t\tdist = Math.sqrt(dx * dx + dy * dy);\n\t\t\t\tif (dist > 0) {\n\t\t\t\t\tlength += dist;\n\t\t\t\t\tparts.push({\n\t\t\t\t\t\toffset: length,\n\t\t\t\t\t\tcurve: curve,\n\t\t\t\t\t\tindex: index,\n\t\t\t\t\t\ttime: t2,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tfor (var i = 1, l = segments.length; i < l; i++) {\n\t\t\tsegment2 = segments[i];\n\t\t\taddCurve(segment1, segment2);\n\t\t\tsegment1 = segment2;\n\t\t}\n\t\tif (path._closed)\n\t\t\taddCurve(segment2 || segment1, segments[0]);\n\t\tthis.curves = curves;\n\t\tthis.parts = parts;\n\t\tthis.length = length;\n\t\tthis.index = 0;\n\t},\n\n\t_get: function(offset) {\n\t\tvar parts = this.parts,\n\t\t\tlength = parts.length,\n\t\t\tstart,\n\t\t\ti, j = this.index;\n\t\tfor (;;) {\n\t\t\ti = j;\n\t\t\tif (!j || parts[--j].offset < offset)\n\t\t\t\tbreak;\n\t\t}\n\t\tfor (; i < length; i++) {\n\t\t\tvar part = parts[i];\n\t\t\tif (part.offset >= offset) {\n\t\t\t\tthis.index = i;\n\t\t\t\tvar prev = parts[i - 1],\n\t\t\t\t\tprevTime = prev && prev.index === part.index ? prev.time : 0,\n\t\t\t\t\tprevOffset = prev ? prev.offset : 0;\n\t\t\t\treturn {\n\t\t\t\t\tindex: part.index,\n\t\t\t\t\ttime: prevTime + (part.time - prevTime)\n\t\t\t\t\t\t* (offset - prevOffset) / (part.offset - prevOffset)\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\tindex: parts[length - 1].index,\n\t\t\ttime: 1\n\t\t};\n\t},\n\n\tdrawPart: function(ctx, from, to) {\n\t\tvar start = this._get(from),\n\t\t\tend = this._get(to);\n\t\tfor (var i = start.index, l = end.index; i <= l; i++) {\n\t\t\tvar curve = Curve.getPart(this.curves[i],\n\t\t\t\t\ti === start.index ? start.time : 0,\n\t\t\t\t\ti === end.index ? end.time : 1);\n\t\t\tif (i === start.index)\n\t\t\t\tctx.moveTo(curve[0], curve[1]);\n\t\t\tctx.bezierCurveTo.apply(ctx, curve.slice(2));\n\t\t}\n\t}\n}, Base.each(Curve._evaluateMethods,\n\tfunction(name) {\n\t\tthis[name + 'At'] = function(offset) {\n\t\t\tvar param = this._get(offset);\n\t\t\treturn Curve[name](this.curves[param.index], param.time);\n\t\t};\n\t}, {})\n);\n\nvar PathFitter = Base.extend({\n\tinitialize: function(path) {\n\t\tvar points = this.points = [],\n\t\t\tsegments = path._segments,\n\t\t\tclosed = path._closed;\n\t\tfor (var i = 0, prev, l = segments.length; i < l; i++) {\n\t\t\tvar point = segments[i].point;\n\t\t\tif (!prev || !prev.equals(point)) {\n\t\t\t\tpoints.push(prev = point.clone());\n\t\t\t}\n\t\t}\n\t\tif (closed) {\n\t\t\tpoints.unshift(points[points.length - 1]);\n\t\t\tpoints.push(points[1]);\n\t\t}\n\t\tthis.closed = closed;\n\t},\n\n\tfit: function(error) {\n\t\tvar points = this.points,\n\t\t\tlength = points.length,\n\t\t\tsegments = null;\n\t\tif (length > 0) {\n\t\t\tsegments = [new Segment(points[0])];\n\t\t\tif (length > 1) {\n\t\t\t\tthis.fitCubic(segments, error, 0, length - 1,\n\t\t\t\t\t\tpoints[1].subtract(points[0]),\n\t\t\t\t\t\tpoints[length - 2].subtract(points[length - 1]));\n\t\t\t\tif (this.closed) {\n\t\t\t\t\tsegments.shift();\n\t\t\t\t\tsegments.pop();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn segments;\n\t},\n\n\tfitCubic: function(segments, error, first, last, tan1, tan2) {\n\t\tvar points = this.points;\n\t\tif (last - first === 1) {\n\t\t\tvar pt1 = points[first],\n\t\t\t\tpt2 = points[last],\n\t\t\t\tdist = pt1.getDistance(pt2) / 3;\n\t\t\tthis.addCurve(segments, [pt1, pt1.add(tan1.normalize(dist)),\n\t\t\t\t\tpt2.add(tan2.normalize(dist)), pt2]);\n\t\t\treturn;\n\t\t}\n\t\tvar uPrime = this.chordLengthParameterize(first, last),\n\t\t\tmaxError = Math.max(error, error * error),\n\t\t\tsplit,\n\t\t\tparametersInOrder = true;\n\t\tfor (var i = 0; i <= 4; i++) {\n\t\t\tvar curve = this.generateBezier(first, last, uPrime, tan1, tan2);\n\t\t\tvar max = this.findMaxError(first, last, curve, uPrime);\n\t\t\tif (max.error < error && parametersInOrder) {\n\t\t\t\tthis.addCurve(segments, curve);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tsplit = max.index;\n\t\t\tif (max.error >= maxError)\n\t\t\t\tbreak;\n\t\t\tparametersInOrder = this.reparameterize(first, last, uPrime, curve);\n\t\t\tmaxError = max.error;\n\t\t}\n\t\tvar tanCenter = points[split - 1].subtract(points[split + 1]);\n\t\tthis.fitCubic(segments, error, first, split, tan1, tanCenter);\n\t\tthis.fitCubic(segments, error, split, last, tanCenter.negate(), tan2);\n\t},\n\n\taddCurve: function(segments, curve) {\n\t\tvar prev = segments[segments.length - 1];\n\t\tprev.setHandleOut(curve[1].subtract(curve[0]));\n\t\tsegments.push(new Segment(curve[3], curve[2].subtract(curve[3])));\n\t},\n\n\tgenerateBezier: function(first, last, uPrime, tan1, tan2) {\n\t\tvar epsilon = 1e-12,\n\t\t\tabs = Math.abs,\n\t\t\tpoints = this.points,\n\t\t\tpt1 = points[first],\n\t\t\tpt2 = points[last],\n\t\t\tC = [[0, 0], [0, 0]],\n\t\t\tX = [0, 0];\n\n\t\tfor (var i = 0, l = last - first + 1; i < l; i++) {\n\t\t\tvar u = uPrime[i],\n\t\t\t\tt = 1 - u,\n\t\t\t\tb = 3 * u * t,\n\t\t\t\tb0 = t * t * t,\n\t\t\t\tb1 = b * t,\n\t\t\t\tb2 = b * u,\n\t\t\t\tb3 = u * u * u,\n\t\t\t\ta1 = tan1.normalize(b1),\n\t\t\t\ta2 = tan2.normalize(b2),\n\t\t\t\ttmp = points[first + i]\n\t\t\t\t\t.subtract(pt1.multiply(b0 + b1))\n\t\t\t\t\t.subtract(pt2.multiply(b2 + b3));\n\t\t\tC[0][0] += a1.dot(a1);\n\t\t\tC[0][1] += a1.dot(a2);\n\t\t\tC[1][0] = C[0][1];\n\t\t\tC[1][1] += a2.dot(a2);\n\t\t\tX[0] += a1.dot(tmp);\n\t\t\tX[1] += a2.dot(tmp);\n\t\t}\n\n\t\tvar detC0C1 = C[0][0] * C[1][1] - C[1][0] * C[0][1],\n\t\t\talpha1,\n\t\t\talpha2;\n\t\tif (abs(detC0C1) > epsilon) {\n\t\t\tvar detC0X = C[0][0] * X[1]    - C[1][0] * X[0],\n\t\t\t\tdetXC1 = X[0]    * C[1][1] - X[1]    * C[0][1];\n\t\t\talpha1 = detXC1 / detC0C1;\n\t\t\talpha2 = detC0X / detC0C1;\n\t\t} else {\n\t\t\tvar c0 = C[0][0] + C[0][1],\n\t\t\t\tc1 = C[1][0] + C[1][1];\n\t\t\talpha1 = alpha2 = abs(c0) > epsilon ? X[0] / c0\n\t\t\t\t\t\t\t: abs(c1) > epsilon ? X[1] / c1\n\t\t\t\t\t\t\t: 0;\n\t\t}\n\n\t\tvar segLength = pt2.getDistance(pt1),\n\t\t\teps = epsilon * segLength,\n\t\t\thandle1,\n\t\t\thandle2;\n\t\tif (alpha1 < eps || alpha2 < eps) {\n\t\t\talpha1 = alpha2 = segLength / 3;\n\t\t} else {\n\t\t\tvar line = pt2.subtract(pt1);\n\t\t\thandle1 = tan1.normalize(alpha1);\n\t\t\thandle2 = tan2.normalize(alpha2);\n\t\t\tif (handle1.dot(line) - handle2.dot(line) > segLength * segLength) {\n\t\t\t\talpha1 = alpha2 = segLength / 3;\n\t\t\t\thandle1 = handle2 = null;\n\t\t\t}\n\t\t}\n\n\t\treturn [pt1,\n\t\t\t\tpt1.add(handle1 || tan1.normalize(alpha1)),\n\t\t\t\tpt2.add(handle2 || tan2.normalize(alpha2)),\n\t\t\t\tpt2];\n\t},\n\n\treparameterize: function(first, last, u, curve) {\n\t\tfor (var i = first; i <= last; i++) {\n\t\t\tu[i - first] = this.findRoot(curve, this.points[i], u[i - first]);\n\t\t}\n\t\tfor (var i = 1, l = u.length; i < l; i++) {\n\t\t\tif (u[i] <= u[i - 1])\n\t\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\n\tfindRoot: function(curve, point, u) {\n\t\tvar curve1 = [],\n\t\t\tcurve2 = [];\n\t\tfor (var i = 0; i <= 2; i++) {\n\t\t\tcurve1[i] = curve[i + 1].subtract(curve[i]).multiply(3);\n\t\t}\n\t\tfor (var i = 0; i <= 1; i++) {\n\t\t\tcurve2[i] = curve1[i + 1].subtract(curve1[i]).multiply(2);\n\t\t}\n\t\tvar pt = this.evaluate(3, curve, u),\n\t\t\tpt1 = this.evaluate(2, curve1, u),\n\t\t\tpt2 = this.evaluate(1, curve2, u),\n\t\t\tdiff = pt.subtract(point),\n\t\t\tdf = pt1.dot(pt1) + diff.dot(pt2);\n\t\treturn Numerical.isMachineZero(df) ? u : u - diff.dot(pt1) / df;\n\t},\n\n\tevaluate: function(degree, curve, t) {\n\t\tvar tmp = curve.slice();\n\t\tfor (var i = 1; i <= degree; i++) {\n\t\t\tfor (var j = 0; j <= degree - i; j++) {\n\t\t\t\ttmp[j] = tmp[j].multiply(1 - t).add(tmp[j + 1].multiply(t));\n\t\t\t}\n\t\t}\n\t\treturn tmp[0];\n\t},\n\n\tchordLengthParameterize: function(first, last) {\n\t\tvar u = [0];\n\t\tfor (var i = first + 1; i <= last; i++) {\n\t\t\tu[i - first] = u[i - first - 1]\n\t\t\t\t\t+ this.points[i].getDistance(this.points[i - 1]);\n\t\t}\n\t\tfor (var i = 1, m = last - first; i <= m; i++) {\n\t\t\tu[i] /= u[m];\n\t\t}\n\t\treturn u;\n\t},\n\n\tfindMaxError: function(first, last, curve, u) {\n\t\tvar index = Math.floor((last - first + 1) / 2),\n\t\t\tmaxDist = 0;\n\t\tfor (var i = first + 1; i < last; i++) {\n\t\t\tvar P = this.evaluate(3, curve, u[i - first]);\n\t\t\tvar v = P.subtract(this.points[i]);\n\t\t\tvar dist = v.x * v.x + v.y * v.y;\n\t\t\tif (dist >= maxDist) {\n\t\t\t\tmaxDist = dist;\n\t\t\t\tindex = i;\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\terror: maxDist,\n\t\t\tindex: index\n\t\t};\n\t}\n});\n\nvar TextItem = Item.extend({\n\t_class: 'TextItem',\n\t_applyMatrix: false,\n\t_canApplyMatrix: false,\n\t_serializeFields: {\n\t\tcontent: null\n\t},\n\t_boundsOptions: { stroke: false, handle: false },\n\n\tinitialize: function TextItem(arg) {\n\t\tthis._content = '';\n\t\tthis._lines = [];\n\t\tvar hasProps = arg && Base.isPlainObject(arg)\n\t\t\t\t&& arg.x === undefined && arg.y === undefined;\n\t\tthis._initialize(hasProps && arg, !hasProps && Point.read(arguments));\n\t},\n\n\t_equals: function(item) {\n\t\treturn this._content === item._content;\n\t},\n\n\tcopyContent: function(source) {\n\t\tthis.setContent(source._content);\n\t},\n\n\tgetContent: function() {\n\t\treturn this._content;\n\t},\n\n\tsetContent: function(content) {\n\t\tthis._content = '' + content;\n\t\tthis._lines = this._content.split(/\\r\\n|\\n|\\r/mg);\n\t\tthis._changed(521);\n\t},\n\n\tisEmpty: function() {\n\t\treturn !this._content;\n\t},\n\n\tgetCharacterStyle: '#getStyle',\n\tsetCharacterStyle: '#setStyle',\n\n\tgetParagraphStyle: '#getStyle',\n\tsetParagraphStyle: '#setStyle'\n});\n\nvar PointText = TextItem.extend({\n\t_class: 'PointText',\n\n\tinitialize: function PointText() {\n\t\tTextItem.apply(this, arguments);\n\t},\n\n\tgetPoint: function() {\n\t\tvar point = this._matrix.getTranslation();\n\t\treturn new LinkedPoint(point.x, point.y, this, 'setPoint');\n\t},\n\n\tsetPoint: function() {\n\t\tvar point = Point.read(arguments);\n\t\tthis.translate(point.subtract(this._matrix.getTranslation()));\n\t},\n\n\t_draw: function(ctx, param, viewMatrix) {\n\t\tif (!this._content)\n\t\t\treturn;\n\t\tthis._setStyles(ctx, param, viewMatrix);\n\t\tvar lines = this._lines,\n\t\t\tstyle = this._style,\n\t\t\thasFill = style.hasFill(),\n\t\t\thasStroke = style.hasStroke(),\n\t\t\tleading = style.getLeading(),\n\t\t\tshadowColor = ctx.shadowColor;\n\t\tctx.font = style.getFontStyle();\n\t\tctx.textAlign = style.getJustification();\n\t\tfor (var i = 0, l = lines.length; i < l; i++) {\n\t\t\tctx.shadowColor = shadowColor;\n\t\t\tvar line = lines[i];\n\t\t\tif (hasFill) {\n\t\t\t\tctx.fillText(line, 0, 0);\n\t\t\t\tctx.shadowColor = 'rgba(0,0,0,0)';\n\t\t\t}\n\t\t\tif (hasStroke)\n\t\t\t\tctx.strokeText(line, 0, 0);\n\t\t\tctx.translate(0, leading);\n\t\t}\n\t},\n\n\t_getBounds: function(matrix, options) {\n\t\tvar style = this._style,\n\t\t\tlines = this._lines,\n\t\t\tnumLines = lines.length,\n\t\t\tjustification = style.getJustification(),\n\t\t\tleading = style.getLeading(),\n\t\t\twidth = this.getView().getTextWidth(style.getFontStyle(), lines),\n\t\t\tx = 0;\n\t\tif (justification !== 'left')\n\t\t\tx -= width / (justification === 'center' ? 2: 1);\n\t\tvar rect = new Rectangle(x,\n\t\t\t\t\tnumLines ? - 0.75 * leading : 0,\n\t\t\t\t\twidth, numLines * leading);\n\t\treturn matrix ? matrix._transformBounds(rect, rect) : rect;\n\t}\n});\n\nvar Color = Base.extend(new function() {\n\tvar types = {\n\t\tgray: ['gray'],\n\t\trgb: ['red', 'green', 'blue'],\n\t\thsb: ['hue', 'saturation', 'brightness'],\n\t\thsl: ['hue', 'saturation', 'lightness'],\n\t\tgradient: ['gradient', 'origin', 'destination', 'highlight']\n\t};\n\n\tvar componentParsers = {},\n\t\tnamedColors = {\n\t\t\ttransparent: [0, 0, 0, 0]\n\t\t},\n\t\tcolorCtx;\n\n\tfunction fromCSS(string) {\n\t\tvar match = string.match(\n\t\t\t\t/^#([\\da-f]{2})([\\da-f]{2})([\\da-f]{2})([\\da-f]{2})?$/i\n\t\t\t) || string.match(\n\t\t\t\t/^#([\\da-f])([\\da-f])([\\da-f])([\\da-f])?$/i\n\t\t\t),\n\t\t\ttype = 'rgb',\n\t\t\tcomponents;\n\t\tif (match) {\n\t\t\tvar amount = match[4] ? 4 : 3;\n\t\t\tcomponents = new Array(amount);\n\t\t\tfor (var i = 0; i < amount; i++) {\n\t\t\t\tvar value = match[i + 1];\n\t\t\t\tcomponents[i] = parseInt(value.length == 1\n\t\t\t\t\t\t? value + value : value, 16) / 255;\n\t\t\t}\n\t\t} else if (match = string.match(/^(rgb|hsl)a?\\((.*)\\)$/)) {\n\t\t\ttype = match[1];\n\t\t\tcomponents = match[2].trim().split(/[,\\s]+/g);\n\t\t\tvar isHSL = type === 'hsl';\n\t\t\tfor (var i = 0, l = Math.min(components.length, 4); i < l; i++) {\n\t\t\t\tvar component = components[i];\n\t\t\t\tvar value = parseFloat(component);\n\t\t\t\tif (isHSL) {\n\t\t\t\t\tif (i === 0) {\n\t\t\t\t\t\tvar unit = component.match(/([a-z]*)$/)[1];\n\t\t\t\t\t\tvalue *= ({\n\t\t\t\t\t\t\tturn: 360,\n\t\t\t\t\t\t\trad: 180 / Math.PI,\n\t\t\t\t\t\t\tgrad: 0.9\n\t\t\t\t\t\t}[unit] || 1);\n\t\t\t\t\t} else if (i < 3) {\n\t\t\t\t\t\tvalue /= 100;\n\t\t\t\t\t}\n\t\t\t\t} else if (i < 3) {\n\t\t\t\t\tvalue /= /%$/.test(component) ? 100 : 255;\n\t\t\t\t}\n\t\t\t\tcomponents[i] = value;\n\t\t\t}\n\t\t} else {\n\t\t\tvar color = namedColors[string];\n\t\t\tif (!color) {\n\t\t\t\tif (window) {\n\t\t\t\t\tif (!colorCtx) {\n\t\t\t\t\t\tcolorCtx = CanvasProvider.getContext(1, 1);\n\t\t\t\t\t\tcolorCtx.globalCompositeOperation = 'copy';\n\t\t\t\t\t}\n\t\t\t\t\tcolorCtx.fillStyle = 'rgba(0,0,0,0)';\n\t\t\t\t\tcolorCtx.fillStyle = string;\n\t\t\t\t\tcolorCtx.fillRect(0, 0, 1, 1);\n\t\t\t\t\tvar data = colorCtx.getImageData(0, 0, 1, 1).data;\n\t\t\t\t\tcolor = namedColors[string] = [\n\t\t\t\t\t\tdata[0] / 255,\n\t\t\t\t\t\tdata[1] / 255,\n\t\t\t\t\t\tdata[2] / 255\n\t\t\t\t\t];\n\t\t\t\t} else {\n\t\t\t\t\tcolor = [0, 0, 0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tcomponents = color.slice();\n\t\t}\n\t\treturn [type, components];\n\t}\n\n\tvar hsbIndices = [\n\t\t[0, 3, 1],\n\t\t[2, 0, 1],\n\t\t[1, 0, 3],\n\t\t[1, 2, 0],\n\t\t[3, 1, 0],\n\t\t[0, 1, 2]\n\t];\n\n\tvar converters = {\n\t\t'rgb-hsb': function(r, g, b) {\n\t\t\tvar max = Math.max(r, g, b),\n\t\t\t\tmin = Math.min(r, g, b),\n\t\t\t\tdelta = max - min,\n\t\t\t\th = delta === 0 ? 0\n\t\t\t\t\t:   ( max == r ? (g - b) / delta + (g < b ? 6 : 0)\n\t\t\t\t\t\t: max == g ? (b - r) / delta + 2\n\t\t\t\t\t\t:            (r - g) / delta + 4) * 60;\n\t\t\treturn [h, max === 0 ? 0 : delta / max, max];\n\t\t},\n\n\t\t'hsb-rgb': function(h, s, b) {\n\t\t\th = (((h / 60) % 6) + 6) % 6;\n\t\t\tvar i = Math.floor(h),\n\t\t\t\tf = h - i,\n\t\t\t\ti = hsbIndices[i],\n\t\t\t\tv = [\n\t\t\t\t\tb,\n\t\t\t\t\tb * (1 - s),\n\t\t\t\t\tb * (1 - s * f),\n\t\t\t\t\tb * (1 - s * (1 - f))\n\t\t\t\t];\n\t\t\treturn [v[i[0]], v[i[1]], v[i[2]]];\n\t\t},\n\n\t\t'rgb-hsl': function(r, g, b) {\n\t\t\tvar max = Math.max(r, g, b),\n\t\t\t\tmin = Math.min(r, g, b),\n\t\t\t\tdelta = max - min,\n\t\t\t\tachromatic = delta === 0,\n\t\t\t\th = achromatic ? 0\n\t\t\t\t\t:   ( max == r ? (g - b) / delta + (g < b ? 6 : 0)\n\t\t\t\t\t\t: max == g ? (b - r) / delta + 2\n\t\t\t\t\t\t:            (r - g) / delta + 4) * 60,\n\t\t\t\tl = (max + min) / 2,\n\t\t\t\ts = achromatic ? 0 : l < 0.5\n\t\t\t\t\t\t? delta / (max + min)\n\t\t\t\t\t\t: delta / (2 - max - min);\n\t\t\treturn [h, s, l];\n\t\t},\n\n\t\t'hsl-rgb': function(h, s, l) {\n\t\t\th = (((h / 360) % 1) + 1) % 1;\n\t\t\tif (s === 0)\n\t\t\t\treturn [l, l, l];\n\t\t\tvar t3s = [ h + 1 / 3, h, h - 1 / 3 ],\n\t\t\t\tt2 = l < 0.5 ? l * (1 + s) : l + s - l * s,\n\t\t\t\tt1 = 2 * l - t2,\n\t\t\t\tc = [];\n\t\t\tfor (var i = 0; i < 3; i++) {\n\t\t\t\tvar t3 = t3s[i];\n\t\t\t\tif (t3 < 0) t3 += 1;\n\t\t\t\tif (t3 > 1) t3 -= 1;\n\t\t\t\tc[i] = 6 * t3 < 1\n\t\t\t\t\t? t1 + (t2 - t1) * 6 * t3\n\t\t\t\t\t: 2 * t3 < 1\n\t\t\t\t\t\t? t2\n\t\t\t\t\t\t: 3 * t3 < 2\n\t\t\t\t\t\t\t? t1 + (t2 - t1) * ((2 / 3) - t3) * 6\n\t\t\t\t\t\t\t: t1;\n\t\t\t}\n\t\t\treturn c;\n\t\t},\n\n\t\t'rgb-gray': function(r, g, b) {\n\t\t\treturn [r * 0.2989 + g * 0.587 + b * 0.114];\n\t\t},\n\n\t\t'gray-rgb': function(g) {\n\t\t\treturn [g, g, g];\n\t\t},\n\n\t\t'gray-hsb': function(g) {\n\t\t\treturn [0, 0, g];\n\t\t},\n\n\t\t'gray-hsl': function(g) {\n\t\t\treturn [0, 0, g];\n\t\t},\n\n\t\t'gradient-rgb': function() {\n\t\t\treturn [];\n\t\t},\n\n\t\t'rgb-gradient': function() {\n\t\t\treturn [];\n\t\t}\n\n\t};\n\n\treturn Base.each(types, function(properties, type) {\n\t\tcomponentParsers[type] = [];\n\t\tBase.each(properties, function(name, index) {\n\t\t\tvar part = Base.capitalize(name),\n\t\t\t\thasOverlap = /^(hue|saturation)$/.test(name),\n\t\t\t\tparser = componentParsers[type][index] = type === 'gradient'\n\t\t\t\t\t? name === 'gradient'\n\t\t\t\t\t\t? function(value) {\n\t\t\t\t\t\t\tvar current = this._components[0];\n\t\t\t\t\t\t\tvalue = Gradient.read(\n\t\t\t\t\t\t\t\tArray.isArray(value)\n\t\t\t\t\t\t\t\t\t? value\n\t\t\t\t\t\t\t\t\t: arguments, 0, { readNull: true }\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (current !== value) {\n\t\t\t\t\t\t\t\tif (current)\n\t\t\t\t\t\t\t\t\tcurrent._removeOwner(this);\n\t\t\t\t\t\t\t\tif (value)\n\t\t\t\t\t\t\t\t\tvalue._addOwner(this);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\treturn value;\n\t\t\t\t\t\t}\n\t\t\t\t\t\t: function() {\n\t\t\t\t\t\t\treturn Point.read(arguments, 0, {\n\t\t\t\t\t\t\t\t\treadNull: name === 'highlight',\n\t\t\t\t\t\t\t\t\tclone: true\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t: function(value) {\n\t\t\t\t\t\treturn value == null || isNaN(value) ? 0 : +value;\n\t\t\t\t\t};\n\t\t\tthis['get' + part] = function() {\n\t\t\t\treturn this._type === type\n\t\t\t\t\t|| hasOverlap && /^hs[bl]$/.test(this._type)\n\t\t\t\t\t\t? this._components[index]\n\t\t\t\t\t\t: this._convert(type)[index];\n\t\t\t};\n\n\t\t\tthis['set' + part] = function(value) {\n\t\t\t\tif (this._type !== type\n\t\t\t\t\t\t&& !(hasOverlap && /^hs[bl]$/.test(this._type))) {\n\t\t\t\t\tthis._components = this._convert(type);\n\t\t\t\t\tthis._properties = types[type];\n\t\t\t\t\tthis._type = type;\n\t\t\t\t}\n\t\t\t\tthis._components[index] = parser.call(this, value);\n\t\t\t\tthis._changed();\n\t\t\t};\n\t\t}, this);\n\t}, {\n\t\t_class: 'Color',\n\t\t_readIndex: true,\n\n\t\tinitialize: function Color(arg) {\n\t\t\tvar args = arguments,\n\t\t\t\treading = this.__read,\n\t\t\t\tread = 0,\n\t\t\t\ttype,\n\t\t\t\tcomponents,\n\t\t\t\talpha,\n\t\t\t\tvalues;\n\t\t\tif (Array.isArray(arg)) {\n\t\t\t\targs = arg;\n\t\t\t\targ = args[0];\n\t\t\t}\n\t\t\tvar argType = arg != null && typeof arg;\n\t\t\tif (argType === 'string' && arg in types) {\n\t\t\t\ttype = arg;\n\t\t\t\targ = args[1];\n\t\t\t\tif (Array.isArray(arg)) {\n\t\t\t\t\tcomponents = arg;\n\t\t\t\t\talpha = args[2];\n\t\t\t\t} else {\n\t\t\t\t\tif (reading)\n\t\t\t\t\t\tread = 1;\n\t\t\t\t\targs = Base.slice(args, 1);\n\t\t\t\t\targType = typeof arg;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!components) {\n\t\t\t\tvalues = argType === 'number'\n\t\t\t\t\t\t? args\n\t\t\t\t\t\t: argType === 'object' && arg.length != null\n\t\t\t\t\t\t\t? arg\n\t\t\t\t\t\t\t: null;\n\t\t\t\tif (values) {\n\t\t\t\t\tif (!type)\n\t\t\t\t\t\ttype = values.length >= 3\n\t\t\t\t\t\t\t\t? 'rgb'\n\t\t\t\t\t\t\t\t: 'gray';\n\t\t\t\t\tvar length = types[type].length;\n\t\t\t\t\talpha = values[length];\n\t\t\t\t\tif (reading) {\n\t\t\t\t\t\tread += values === arguments\n\t\t\t\t\t\t\t? length + (alpha != null ? 1 : 0)\n\t\t\t\t\t\t\t: 1;\n\t\t\t\t\t}\n\t\t\t\t\tif (values.length > length)\n\t\t\t\t\t\tvalues = Base.slice(values, 0, length);\n\t\t\t\t} else if (argType === 'string') {\n\t\t\t\t\tvar converted = fromCSS(arg);\n\t\t\t\t\ttype = converted[0];\n\t\t\t\t\tcomponents = converted[1];\n\t\t\t\t\tif (components.length === 4) {\n\t\t\t\t\t\talpha = components[3];\n\t\t\t\t\t\tcomponents.length--;\n\t\t\t\t\t}\n\t\t\t\t} else if (argType === 'object') {\n\t\t\t\t\tif (arg.constructor === Color) {\n\t\t\t\t\t\ttype = arg._type;\n\t\t\t\t\t\tcomponents = arg._components.slice();\n\t\t\t\t\t\talpha = arg._alpha;\n\t\t\t\t\t\tif (type === 'gradient') {\n\t\t\t\t\t\t\tfor (var i = 1, l = components.length; i < l; i++) {\n\t\t\t\t\t\t\t\tvar point = components[i];\n\t\t\t\t\t\t\t\tif (point)\n\t\t\t\t\t\t\t\t\tcomponents[i] = point.clone();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (arg.constructor === Gradient) {\n\t\t\t\t\t\ttype = 'gradient';\n\t\t\t\t\t\tvalues = args;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttype = 'hue' in arg\n\t\t\t\t\t\t\t? 'lightness' in arg\n\t\t\t\t\t\t\t\t? 'hsl'\n\t\t\t\t\t\t\t\t: 'hsb'\n\t\t\t\t\t\t\t: 'gradient' in arg || 'stops' in arg\n\t\t\t\t\t\t\t\t\t|| 'radial' in arg\n\t\t\t\t\t\t\t\t? 'gradient'\n\t\t\t\t\t\t\t\t: 'gray' in arg\n\t\t\t\t\t\t\t\t\t? 'gray'\n\t\t\t\t\t\t\t\t\t: 'rgb';\n\t\t\t\t\t\tvar properties = types[type],\n\t\t\t\t\t\t\tparsers = componentParsers[type];\n\t\t\t\t\t\tthis._components = components = [];\n\t\t\t\t\t\tfor (var i = 0, l = properties.length; i < l; i++) {\n\t\t\t\t\t\t\tvar value = arg[properties[i]];\n\t\t\t\t\t\t\tif (value == null && !i && type === 'gradient'\n\t\t\t\t\t\t\t\t\t&& 'stops' in arg) {\n\t\t\t\t\t\t\t\tvalue = {\n\t\t\t\t\t\t\t\t\tstops: arg.stops,\n\t\t\t\t\t\t\t\t\tradial: arg.radial\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvalue = parsers[i].call(this, value);\n\t\t\t\t\t\t\tif (value != null)\n\t\t\t\t\t\t\t\tcomponents[i] = value;\n\t\t\t\t\t\t}\n\t\t\t\t\t\talpha = arg.alpha;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (reading && type)\n\t\t\t\t\tread = 1;\n\t\t\t}\n\t\t\tthis._type = type || 'rgb';\n\t\t\tif (!components) {\n\t\t\t\tthis._components = components = [];\n\t\t\t\tvar parsers = componentParsers[this._type];\n\t\t\t\tfor (var i = 0, l = parsers.length; i < l; i++) {\n\t\t\t\t\tvar value = parsers[i].call(this, values && values[i]);\n\t\t\t\t\tif (value != null)\n\t\t\t\t\t\tcomponents[i] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._components = components;\n\t\t\tthis._properties = types[this._type];\n\t\t\tthis._alpha = alpha;\n\t\t\tif (reading)\n\t\t\t\tthis.__read = read;\n\t\t\treturn this;\n\t\t},\n\n\t\tset: '#initialize',\n\n\t\t_serialize: function(options, dictionary) {\n\t\t\tvar components = this.getComponents();\n\t\t\treturn Base.serialize(\n\t\t\t\t\t/^(gray|rgb)$/.test(this._type)\n\t\t\t\t\t\t? components\n\t\t\t\t\t\t: [this._type].concat(components),\n\t\t\t\t\toptions, true, dictionary);\n\t\t},\n\n\t\t_changed: function() {\n\t\t\tthis._canvasStyle = null;\n\t\t\tif (this._owner) {\n\t\t\t\tif (this._setter) {\n\t\t\t\t\tthis._owner[this._setter](this);\n\t\t\t\t} else {\n\t\t\t\t\tthis._owner._changed(129);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_convert: function(type) {\n\t\t\tvar converter;\n\t\t\treturn this._type === type\n\t\t\t\t\t? this._components.slice()\n\t\t\t\t\t: (converter = converters[this._type + '-' + type])\n\t\t\t\t\t\t? converter.apply(this, this._components)\n\t\t\t\t\t\t: converters['rgb-' + type].apply(this,\n\t\t\t\t\t\t\tconverters[this._type + '-rgb'].apply(this,\n\t\t\t\t\t\t\t\tthis._components));\n\t\t},\n\n\t\tconvert: function(type) {\n\t\t\treturn new Color(type, this._convert(type), this._alpha);\n\t\t},\n\n\t\tgetType: function() {\n\t\t\treturn this._type;\n\t\t},\n\n\t\tsetType: function(type) {\n\t\t\tthis._components = this._convert(type);\n\t\t\tthis._properties = types[type];\n\t\t\tthis._type = type;\n\t\t},\n\n\t\tgetComponents: function() {\n\t\t\tvar components = this._components.slice();\n\t\t\tif (this._alpha != null)\n\t\t\t\tcomponents.push(this._alpha);\n\t\t\treturn components;\n\t\t},\n\n\t\tgetAlpha: function() {\n\t\t\treturn this._alpha != null ? this._alpha : 1;\n\t\t},\n\n\t\tsetAlpha: function(alpha) {\n\t\t\tthis._alpha = alpha == null ? null : Math.min(Math.max(alpha, 0), 1);\n\t\t\tthis._changed();\n\t\t},\n\n\t\thasAlpha: function() {\n\t\t\treturn this._alpha != null;\n\t\t},\n\n\t\tequals: function(color) {\n\t\t\tvar col = Base.isPlainValue(color, true)\n\t\t\t\t\t? Color.read(arguments)\n\t\t\t\t\t: color;\n\t\t\treturn col === this || col && this._class === col._class\n\t\t\t\t\t&& this._type === col._type\n\t\t\t\t\t&& this.getAlpha() === col.getAlpha()\n\t\t\t\t\t&& Base.equals(this._components, col._components)\n\t\t\t\t\t|| false;\n\t\t},\n\n\t\ttoString: function() {\n\t\t\tvar properties = this._properties,\n\t\t\t\tparts = [],\n\t\t\t\tisGradient = this._type === 'gradient',\n\t\t\t\tf = Formatter.instance;\n\t\t\tfor (var i = 0, l = properties.length; i < l; i++) {\n\t\t\t\tvar value = this._components[i];\n\t\t\t\tif (value != null)\n\t\t\t\t\tparts.push(properties[i] + ': '\n\t\t\t\t\t\t\t+ (isGradient ? value : f.number(value)));\n\t\t\t}\n\t\t\tif (this._alpha != null)\n\t\t\t\tparts.push('alpha: ' + f.number(this._alpha));\n\t\t\treturn '{ ' + parts.join(', ') + ' }';\n\t\t},\n\n\t\ttoCSS: function(hex) {\n\t\t\tvar components = this._convert('rgb'),\n\t\t\t\talpha = hex || this._alpha == null ? 1 : this._alpha;\n\t\t\tfunction convert(val) {\n\t\t\t\treturn Math.round((val < 0 ? 0 : val > 1 ? 1 : val) * 255);\n\t\t\t}\n\t\t\tcomponents = [\n\t\t\t\tconvert(components[0]),\n\t\t\t\tconvert(components[1]),\n\t\t\t\tconvert(components[2])\n\t\t\t];\n\t\t\tif (alpha < 1)\n\t\t\t\tcomponents.push(alpha < 0 ? 0 : alpha);\n\t\t\treturn hex\n\t\t\t\t\t? '#' + ((1 << 24) + (components[0] << 16)\n\t\t\t\t\t\t+ (components[1] << 8)\n\t\t\t\t\t\t+ components[2]).toString(16).slice(1)\n\t\t\t\t\t: (components.length == 4 ? 'rgba(' : 'rgb(')\n\t\t\t\t\t\t+ components.join(',') + ')';\n\t\t},\n\n\t\ttoCanvasStyle: function(ctx, matrix) {\n\t\t\tif (this._canvasStyle)\n\t\t\t\treturn this._canvasStyle;\n\t\t\tif (this._type !== 'gradient')\n\t\t\t\treturn this._canvasStyle = this.toCSS();\n\t\t\tvar components = this._components,\n\t\t\t\tgradient = components[0],\n\t\t\t\tstops = gradient._stops,\n\t\t\t\torigin = components[1],\n\t\t\t\tdestination = components[2],\n\t\t\t\thighlight = components[3],\n\t\t\t\tinverse = matrix && matrix.inverted(),\n\t\t\t\tcanvasGradient;\n\t\t\tif (inverse) {\n\t\t\t\torigin = inverse._transformPoint(origin);\n\t\t\t\tdestination = inverse._transformPoint(destination);\n\t\t\t\tif (highlight)\n\t\t\t\t\thighlight = inverse._transformPoint(highlight);\n\t\t\t}\n\t\t\tif (gradient._radial) {\n\t\t\t\tvar radius = destination.getDistance(origin);\n\t\t\t\tif (highlight) {\n\t\t\t\t\tvar vector = highlight.subtract(origin);\n\t\t\t\t\tif (vector.getLength() > radius)\n\t\t\t\t\t\thighlight = origin.add(vector.normalize(radius - 0.1));\n\t\t\t\t}\n\t\t\t\tvar start = highlight || origin;\n\t\t\t\tcanvasGradient = ctx.createRadialGradient(start.x, start.y,\n\t\t\t\t\t\t0, origin.x, origin.y, radius);\n\t\t\t} else {\n\t\t\t\tcanvasGradient = ctx.createLinearGradient(origin.x, origin.y,\n\t\t\t\t\t\tdestination.x, destination.y);\n\t\t\t}\n\t\t\tfor (var i = 0, l = stops.length; i < l; i++) {\n\t\t\t\tvar stop = stops[i],\n\t\t\t\t\toffset = stop._offset;\n\t\t\t\tcanvasGradient.addColorStop(\n\t\t\t\t\t\toffset == null ? i / (l - 1) : offset,\n\t\t\t\t\t\tstop._color.toCanvasStyle());\n\t\t\t}\n\t\t\treturn this._canvasStyle = canvasGradient;\n\t\t},\n\n\t\ttransform: function(matrix) {\n\t\t\tif (this._type === 'gradient') {\n\t\t\t\tvar components = this._components;\n\t\t\t\tfor (var i = 1, l = components.length; i < l; i++) {\n\t\t\t\t\tvar point = components[i];\n\t\t\t\t\tmatrix._transformPoint(point, point, true);\n\t\t\t\t}\n\t\t\t\tthis._changed();\n\t\t\t}\n\t\t},\n\n\t\tstatics: {\n\t\t\t_types: types,\n\n\t\t\trandom: function() {\n\t\t\t\tvar random = Math.random;\n\t\t\t\treturn new Color(random(), random(), random());\n\t\t\t},\n\n\t\t\t_setOwner: function(color, owner, setter) {\n\t\t\t\tif (color) {\n\t\t\t\t\tif (color._owner && owner && color._owner !== owner) {\n\t\t\t\t\t\tcolor = color.clone();\n\t\t\t\t\t}\n\t\t\t\t\tif (!color._owner ^ !owner) {\n\t\t\t\t\t\tcolor._owner = owner || null;\n\t\t\t\t\t\tcolor._setter = setter || null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn color;\n\t\t\t}\n\t\t}\n\t});\n},\nnew function() {\n\tvar operators = {\n\t\tadd: function(a, b) {\n\t\t\treturn a + b;\n\t\t},\n\n\t\tsubtract: function(a, b) {\n\t\t\treturn a - b;\n\t\t},\n\n\t\tmultiply: function(a, b) {\n\t\t\treturn a * b;\n\t\t},\n\n\t\tdivide: function(a, b) {\n\t\t\treturn a / b;\n\t\t}\n\t};\n\n\treturn Base.each(operators, function(operator, name) {\n\t\tthis[name] = function(color) {\n\t\t\tcolor = Color.read(arguments);\n\t\t\tvar type = this._type,\n\t\t\t\tcomponents1 = this._components,\n\t\t\t\tcomponents2 = color._convert(type);\n\t\t\tfor (var i = 0, l = components1.length; i < l; i++)\n\t\t\t\tcomponents2[i] = operator(components1[i], components2[i]);\n\t\t\treturn new Color(type, components2,\n\t\t\t\t\tthis._alpha != null\n\t\t\t\t\t\t\t? operator(this._alpha, color.getAlpha())\n\t\t\t\t\t\t\t: null);\n\t\t};\n\t}, {\n\t});\n});\n\nvar Gradient = Base.extend({\n\t_class: 'Gradient',\n\n\tinitialize: function Gradient(stops, radial) {\n\t\tthis._id = UID.get();\n\t\tif (stops && Base.isPlainObject(stops)) {\n\t\t\tthis.set(stops);\n\t\t\tstops = radial = null;\n\t\t}\n\t\tif (this._stops == null) {\n\t\t\tthis.setStops(stops || ['white', 'black']);\n\t\t}\n\t\tif (this._radial == null) {\n\t\t\tthis.setRadial(typeof radial === 'string' && radial === 'radial'\n\t\t\t\t\t|| radial || false);\n\t\t}\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\treturn dictionary.add(this, function() {\n\t\t\treturn Base.serialize([this._stops, this._radial],\n\t\t\t\t\toptions, true, dictionary);\n\t\t});\n\t},\n\n\t_changed: function() {\n\t\tfor (var i = 0, l = this._owners && this._owners.length; i < l; i++) {\n\t\t\tthis._owners[i]._changed();\n\t\t}\n\t},\n\n\t_addOwner: function(color) {\n\t\tif (!this._owners)\n\t\t\tthis._owners = [];\n\t\tthis._owners.push(color);\n\t},\n\n\t_removeOwner: function(color) {\n\t\tvar index = this._owners ? this._owners.indexOf(color) : -1;\n\t\tif (index != -1) {\n\t\t\tthis._owners.splice(index, 1);\n\t\t\tif (!this._owners.length)\n\t\t\t\tthis._owners = undefined;\n\t\t}\n\t},\n\n\tclone: function() {\n\t\tvar stops = [];\n\t\tfor (var i = 0, l = this._stops.length; i < l; i++) {\n\t\t\tstops[i] = this._stops[i].clone();\n\t\t}\n\t\treturn new Gradient(stops, this._radial);\n\t},\n\n\tgetStops: function() {\n\t\treturn this._stops;\n\t},\n\n\tsetStops: function(stops) {\n\t\tif (stops.length < 2) {\n\t\t\tthrow new Error(\n\t\t\t\t\t'Gradient stop list needs to contain at least two stops.');\n\t\t}\n\t\tvar _stops = this._stops;\n\t\tif (_stops) {\n\t\t\tfor (var i = 0, l = _stops.length; i < l; i++)\n\t\t\t\t_stops[i]._owner = undefined;\n\t\t}\n\t\t_stops = this._stops = GradientStop.readList(stops, 0, { clone: true });\n\t\tfor (var i = 0, l = _stops.length; i < l; i++)\n\t\t\t_stops[i]._owner = this;\n\t\tthis._changed();\n\t},\n\n\tgetRadial: function() {\n\t\treturn this._radial;\n\t},\n\n\tsetRadial: function(radial) {\n\t\tthis._radial = radial;\n\t\tthis._changed();\n\t},\n\n\tequals: function(gradient) {\n\t\tif (gradient === this)\n\t\t\treturn true;\n\t\tif (gradient && this._class === gradient._class) {\n\t\t\tvar stops1 = this._stops,\n\t\t\t\tstops2 = gradient._stops,\n\t\t\t\tlength = stops1.length;\n\t\t\tif (length === stops2.length) {\n\t\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\t\tif (!stops1[i].equals(stops2[i]))\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n});\n\nvar GradientStop = Base.extend({\n\t_class: 'GradientStop',\n\n\tinitialize: function GradientStop(arg0, arg1) {\n\t\tvar color = arg0,\n\t\t\toffset = arg1;\n\t\tif (typeof arg0 === 'object' && arg1 === undefined) {\n\t\t\tif (Array.isArray(arg0) && typeof arg0[0] !== 'number') {\n\t\t\t\tcolor = arg0[0];\n\t\t\t\toffset = arg0[1];\n\t\t\t} else if ('color' in arg0 || 'offset' in arg0\n\t\t\t\t\t|| 'rampPoint' in arg0) {\n\t\t\t\tcolor = arg0.color;\n\t\t\t\toffset = arg0.offset || arg0.rampPoint || 0;\n\t\t\t}\n\t\t}\n\t\tthis.setColor(color);\n\t\tthis.setOffset(offset);\n\t},\n\n\tclone: function() {\n\t\treturn new GradientStop(this._color.clone(), this._offset);\n\t},\n\n\t_serialize: function(options, dictionary) {\n\t\tvar color = this._color,\n\t\t\toffset = this._offset;\n\t\treturn Base.serialize(offset == null ? [color] : [color, offset],\n\t\t\t\toptions, true, dictionary);\n\t},\n\n\t_changed: function() {\n\t\tif (this._owner)\n\t\t\tthis._owner._changed(129);\n\t},\n\n\tgetOffset: function() {\n\t\treturn this._offset;\n\t},\n\n\tsetOffset: function(offset) {\n\t\tthis._offset = offset;\n\t\tthis._changed();\n\t},\n\n\tgetRampPoint: '#getOffset',\n\tsetRampPoint: '#setOffset',\n\n\tgetColor: function() {\n\t\treturn this._color;\n\t},\n\n\tsetColor: function() {\n\t\tColor._setOwner(this._color, null);\n\t\tthis._color = Color._setOwner(Color.read(arguments, 0), this,\n\t\t\t\t'setColor');\n\t\tthis._changed();\n\t},\n\n\tequals: function(stop) {\n\t\treturn stop === this || stop && this._class === stop._class\n\t\t\t\t&& this._color.equals(stop._color)\n\t\t\t\t&& this._offset == stop._offset\n\t\t\t\t|| false;\n\t}\n});\n\nvar Style = Base.extend(new function() {\n\tvar itemDefaults = {\n\t\tfillColor: null,\n\t\tfillRule: 'nonzero',\n\t\tstrokeColor: null,\n\t\tstrokeWidth: 1,\n\t\tstrokeCap: 'butt',\n\t\tstrokeJoin: 'miter',\n\t\tstrokeScaling: true,\n\t\tmiterLimit: 10,\n\t\tdashOffset: 0,\n\t\tdashArray: [],\n\t\tshadowColor: null,\n\t\tshadowBlur: 0,\n\t\tshadowOffset: new Point(),\n\t\tselectedColor: null\n\t},\n\tgroupDefaults = Base.set({}, itemDefaults, {\n\t\tfontFamily: 'sans-serif',\n\t\tfontWeight: 'normal',\n\t\tfontSize: 12,\n\t\tleading: null,\n\t\tjustification: 'left'\n\t}),\n\ttextDefaults = Base.set({}, groupDefaults, {\n\t\tfillColor: new Color()\n\t}),\n\tflags = {\n\t\tstrokeWidth: 193,\n\t\tstrokeCap: 193,\n\t\tstrokeJoin: 193,\n\t\tstrokeScaling: 201,\n\t\tmiterLimit: 193,\n\t\tfontFamily: 9,\n\t\tfontWeight: 9,\n\t\tfontSize: 9,\n\t\tfont: 9,\n\t\tleading: 9,\n\t\tjustification: 9\n\t},\n\titem = {\n\t\tbeans: true\n\t},\n\tfields = {\n\t\t_class: 'Style',\n\t\tbeans: true,\n\n\t\tinitialize: function Style(style, _owner, _project) {\n\t\t\tthis._values = {};\n\t\t\tthis._owner = _owner;\n\t\t\tthis._project = _owner && _owner._project || _project\n\t\t\t\t\t|| paper.project;\n\t\t\tthis._defaults = !_owner || _owner instanceof Group ? groupDefaults\n\t\t\t\t\t: _owner instanceof TextItem ? textDefaults\n\t\t\t\t\t: itemDefaults;\n\t\t\tif (style)\n\t\t\t\tthis.set(style);\n\t\t}\n\t};\n\n\tBase.each(groupDefaults, function(value, key) {\n\t\tvar isColor = /Color$/.test(key),\n\t\t\tisPoint = key === 'shadowOffset',\n\t\t\tpart = Base.capitalize(key),\n\t\t\tflag = flags[key],\n\t\t\tset = 'set' + part,\n\t\t\tget = 'get' + part;\n\n\t\tfields[set] = function(value) {\n\t\t\tvar owner = this._owner,\n\t\t\t\tchildren = owner && owner._children,\n\t\t\t\tapplyToChildren = children && children.length > 0\n\t\t\t\t\t&& !(owner instanceof CompoundPath);\n\t\t\tif (applyToChildren) {\n\t\t\t\tfor (var i = 0, l = children.length; i < l; i++)\n\t\t\t\t\tchildren[i]._style[set](value);\n\t\t\t}\n\t\t\tif ((key === 'selectedColor' || !applyToChildren)\n\t\t\t\t\t&& key in this._defaults) {\n\t\t\t\tvar old = this._values[key];\n\t\t\t\tif (old !== value) {\n\t\t\t\t\tif (isColor) {\n\t\t\t\t\t\tif (old) {\n\t\t\t\t\t\t\tColor._setOwner(old, null);\n\t\t\t\t\t\t\told._canvasStyle = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (value && value.constructor === Color) {\n\t\t\t\t\t\t\tvalue = Color._setOwner(value, owner,\n\t\t\t\t\t\t\t\t\tapplyToChildren && set);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis._values[key] = value;\n\t\t\t\t\tif (owner)\n\t\t\t\t\t\towner._changed(flag || 129);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tfields[get] = function(_dontMerge) {\n\t\t\tvar owner = this._owner,\n\t\t\t\tchildren = owner && owner._children,\n\t\t\t\tapplyToChildren = children && children.length > 0\n\t\t\t\t\t&& !(owner instanceof CompoundPath),\n\t\t\t\tvalue;\n\t\t\tif (applyToChildren && !_dontMerge) {\n\t\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\t\tvar childValue = children[i]._style[get]();\n\t\t\t\t\tif (!i) {\n\t\t\t\t\t\tvalue = childValue;\n\t\t\t\t\t} else if (!Base.equals(value, childValue)) {\n\t\t\t\t\t\treturn undefined;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (key in this._defaults) {\n\t\t\t\tvar value = this._values[key];\n\t\t\t\tif (value === undefined) {\n\t\t\t\t\tvalue = this._defaults[key];\n\t\t\t\t\tif (value && value.clone) {\n\t\t\t\t\t\tvalue = value.clone();\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tvar ctor = isColor ? Color : isPoint ? Point : null;\n\t\t\t\t\tif (ctor && !(value && value.constructor === ctor)) {\n\t\t\t\t\t\tthis._values[key] = value = ctor.read([value], 0,\n\t\t\t\t\t\t\t\t{ readNull: true, clone: true });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (value && isColor) {\n\t\t\t\tvalue = Color._setOwner(value, owner, applyToChildren && set);\n\t\t\t}\n\t\t\treturn value;\n\t\t};\n\n\t\titem[get] = function(_dontMerge) {\n\t\t\treturn this._style[get](_dontMerge);\n\t\t};\n\n\t\titem[set] = function(value) {\n\t\t\tthis._style[set](value);\n\t\t};\n\t});\n\n\tBase.each({\n\t\tFont: 'FontFamily',\n\t\tWindingRule: 'FillRule'\n\t}, function(value, key) {\n\t\tvar get = 'get' + key,\n\t\t\tset = 'set' + key;\n\t\tfields[get] = item[get] = '#get' + value;\n\t\tfields[set] = item[set] = '#set' + value;\n\t});\n\n\tItem.inject(item);\n\treturn fields;\n}, {\n\tset: function(style) {\n\t\tvar isStyle = style instanceof Style,\n\t\t\tvalues = isStyle ? style._values : style;\n\t\tif (values) {\n\t\t\tfor (var key in values) {\n\t\t\t\tif (key in this._defaults) {\n\t\t\t\t\tvar value = values[key];\n\t\t\t\t\tthis[key] = value && isStyle && value.clone\n\t\t\t\t\t\t\t? value.clone() : value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tequals: function(style) {\n\t\tfunction compare(style1, style2, secondary) {\n\t\t\tvar values1 = style1._values,\n\t\t\t\tvalues2 = style2._values,\n\t\t\t\tdefaults2 = style2._defaults;\n\t\t\tfor (var key in values1) {\n\t\t\t\tvar value1 = values1[key],\n\t\t\t\t\tvalue2 = values2[key];\n\t\t\t\tif (!(secondary && key in values2) && !Base.equals(value1,\n\t\t\t\t\t\tvalue2 === undefined ? defaults2[key] : value2))\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\treturn style === this || style && this._class === style._class\n\t\t\t\t&& compare(this, style)\n\t\t\t\t&& compare(style, this, true)\n\t\t\t\t|| false;\n\t},\n\n\t_dispose: function() {\n\t\tvar color;\n\t\tcolor = this.getFillColor();\n\t\tif (color) color._canvasStyle = null;\n\t\tcolor = this.getStrokeColor();\n\t\tif (color) color._canvasStyle = null;\n\t\tcolor = this.getShadowColor();\n\t\tif (color) color._canvasStyle = null;\n\t},\n\n\thasFill: function() {\n\t\tvar color = this.getFillColor();\n\t\treturn !!color && color.alpha > 0;\n\t},\n\n\thasStroke: function() {\n\t\tvar color = this.getStrokeColor();\n\t\treturn !!color && color.alpha > 0 && this.getStrokeWidth() > 0;\n\t},\n\n\thasShadow: function() {\n\t\tvar color = this.getShadowColor();\n\t\treturn !!color && color.alpha > 0 && (this.getShadowBlur() > 0\n\t\t\t\t|| !this.getShadowOffset().isZero());\n\t},\n\n\tgetView: function() {\n\t\treturn this._project._view;\n\t},\n\n\tgetFontStyle: function() {\n\t\tvar fontSize = this.getFontSize();\n\t\treturn this.getFontWeight()\n\t\t\t\t+ ' ' + fontSize + (/[a-z]/i.test(fontSize + '') ? ' ' : 'px ')\n\t\t\t\t+ this.getFontFamily();\n\t},\n\n\tgetFont: '#getFontFamily',\n\tsetFont: '#setFontFamily',\n\n\tgetLeading: function getLeading() {\n\t\tvar leading = getLeading.base.call(this),\n\t\t\tfontSize = this.getFontSize();\n\t\tif (/pt|em|%|px/.test(fontSize))\n\t\t\tfontSize = this.getView().getPixelSize(fontSize);\n\t\treturn leading != null ? leading : fontSize * 1.2;\n\t}\n\n});\n\nvar DomElement = new function() {\n\tfunction handlePrefix(el, name, set, value) {\n\t\tvar prefixes = ['', 'webkit', 'moz', 'Moz', 'ms', 'o'],\n\t\t\tsuffix = name[0].toUpperCase() + name.substring(1);\n\t\tfor (var i = 0; i < 6; i++) {\n\t\t\tvar prefix = prefixes[i],\n\t\t\t\tkey = prefix ? prefix + suffix : name;\n\t\t\tif (key in el) {\n\t\t\t\tif (set) {\n\t\t\t\t\tel[key] = value;\n\t\t\t\t} else {\n\t\t\t\t\treturn el[key];\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\tgetStyles: function(el) {\n\t\t\tvar doc = el && el.nodeType !== 9 ? el.ownerDocument : el,\n\t\t\t\tview = doc && doc.defaultView;\n\t\t\treturn view && view.getComputedStyle(el, '');\n\t\t},\n\n\t\tgetBounds: function(el, viewport) {\n\t\t\tvar doc = el.ownerDocument,\n\t\t\t\tbody = doc.body,\n\t\t\t\thtml = doc.documentElement,\n\t\t\t\trect;\n\t\t\ttry {\n\t\t\t\trect = el.getBoundingClientRect();\n\t\t\t} catch (e) {\n\t\t\t\trect = { left: 0, top: 0, width: 0, height: 0 };\n\t\t\t}\n\t\t\tvar x = rect.left - (html.clientLeft || body.clientLeft || 0),\n\t\t\t\ty = rect.top - (html.clientTop || body.clientTop || 0);\n\t\t\tif (!viewport) {\n\t\t\t\tvar view = doc.defaultView;\n\t\t\t\tx += view.pageXOffset || html.scrollLeft || body.scrollLeft;\n\t\t\t\ty += view.pageYOffset || html.scrollTop || body.scrollTop;\n\t\t\t}\n\t\t\treturn new Rectangle(x, y, rect.width, rect.height);\n\t\t},\n\n\t\tgetViewportBounds: function(el) {\n\t\t\tvar doc = el.ownerDocument,\n\t\t\t\tview = doc.defaultView,\n\t\t\t\thtml = doc.documentElement;\n\t\t\treturn new Rectangle(0, 0,\n\t\t\t\tview.innerWidth || html.clientWidth,\n\t\t\t\tview.innerHeight || html.clientHeight\n\t\t\t);\n\t\t},\n\n\t\tgetOffset: function(el, viewport) {\n\t\t\treturn DomElement.getBounds(el, viewport).getPoint();\n\t\t},\n\n\t\tgetSize: function(el) {\n\t\t\treturn DomElement.getBounds(el, true).getSize();\n\t\t},\n\n\t\tisInvisible: function(el) {\n\t\t\treturn DomElement.getSize(el).equals(new Size(0, 0));\n\t\t},\n\n\t\tisInView: function(el) {\n\t\t\treturn !DomElement.isInvisible(el)\n\t\t\t\t\t&& DomElement.getViewportBounds(el).intersects(\n\t\t\t\t\t\tDomElement.getBounds(el, true));\n\t\t},\n\n\t\tisInserted: function(el) {\n\t\t\treturn document.body.contains(el);\n\t\t},\n\n\t\tgetPrefixed: function(el, name) {\n\t\t\treturn el && handlePrefix(el, name);\n\t\t},\n\n\t\tsetPrefixed: function(el, name, value) {\n\t\t\tif (typeof name === 'object') {\n\t\t\t\tfor (var key in name)\n\t\t\t\t\thandlePrefix(el, key, true, name[key]);\n\t\t\t} else {\n\t\t\t\thandlePrefix(el, name, true, value);\n\t\t\t}\n\t\t}\n\t};\n};\n\nvar DomEvent = {\n\tadd: function(el, events) {\n\t\tif (el) {\n\t\t\tfor (var type in events) {\n\t\t\t\tvar func = events[type],\n\t\t\t\t\tparts = type.split(/[\\s,]+/g);\n\t\t\t\tfor (var i = 0, l = parts.length; i < l; i++) {\n\t\t\t\t\tvar name = parts[i];\n\t\t\t\t\tvar options = (\n\t\t\t\t\t\tel === document\n\t\t\t\t\t\t&& (name === 'touchstart' || name === 'touchmove')\n\t\t\t\t\t) ? { passive: false } : false;\n\t\t\t\t\tel.addEventListener(name, func, options);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tremove: function(el, events) {\n\t\tif (el) {\n\t\t\tfor (var type in events) {\n\t\t\t\tvar func = events[type],\n\t\t\t\t\tparts = type.split(/[\\s,]+/g);\n\t\t\t\tfor (var i = 0, l = parts.length; i < l; i++)\n\t\t\t\t\tel.removeEventListener(parts[i], func, false);\n\t\t\t}\n\t\t}\n\t},\n\n\tgetPoint: function(event) {\n\t\tvar pos = event.targetTouches\n\t\t\t\t? event.targetTouches.length\n\t\t\t\t\t? event.targetTouches[0]\n\t\t\t\t\t: event.changedTouches[0]\n\t\t\t\t: event;\n\t\treturn new Point(\n\t\t\tpos.pageX || pos.clientX + document.documentElement.scrollLeft,\n\t\t\tpos.pageY || pos.clientY + document.documentElement.scrollTop\n\t\t);\n\t},\n\n\tgetTarget: function(event) {\n\t\treturn event.target || event.srcElement;\n\t},\n\n\tgetRelatedTarget: function(event) {\n\t\treturn event.relatedTarget || event.toElement;\n\t},\n\n\tgetOffset: function(event, target) {\n\t\treturn DomEvent.getPoint(event).subtract(DomElement.getOffset(\n\t\t\t\ttarget || DomEvent.getTarget(event)));\n\t}\n};\n\nDomEvent.requestAnimationFrame = new function() {\n\tvar nativeRequest = DomElement.getPrefixed(window, 'requestAnimationFrame'),\n\t\trequested = false,\n\t\tcallbacks = [],\n\t\ttimer;\n\n\tfunction handleCallbacks() {\n\t\tvar functions = callbacks;\n\t\tcallbacks = [];\n\t\tfor (var i = 0, l = functions.length; i < l; i++)\n\t\t\tfunctions[i]();\n\t\trequested = nativeRequest && callbacks.length;\n\t\tif (requested)\n\t\t\tnativeRequest(handleCallbacks);\n\t}\n\n\treturn function(callback) {\n\t\tcallbacks.push(callback);\n\t\tif (nativeRequest) {\n\t\t\tif (!requested) {\n\t\t\t\tnativeRequest(handleCallbacks);\n\t\t\t\trequested = true;\n\t\t\t}\n\t\t} else if (!timer) {\n\t\t\ttimer = setInterval(handleCallbacks, 1000 / 60);\n\t\t}\n\t};\n};\n\nvar View = Base.extend(Emitter, {\n\t_class: 'View',\n\n\tinitialize: function View(project, element) {\n\n\t\tfunction getSize(name) {\n\t\t\treturn element[name] || parseInt(element.getAttribute(name), 10);\n\t\t}\n\n\t\tfunction getCanvasSize() {\n\t\t\tvar size = DomElement.getSize(element);\n\t\t\treturn size.isNaN() || size.isZero()\n\t\t\t\t\t? new Size(getSize('width'), getSize('height'))\n\t\t\t\t\t: size;\n\t\t}\n\n\t\tvar size;\n\t\tif (window && element) {\n\t\t\tthis._id = element.getAttribute('id');\n\t\t\tif (this._id == null)\n\t\t\t\telement.setAttribute('id', this._id = 'view-' + View._id++);\n\t\t\tDomEvent.add(element, this._viewEvents);\n\t\t\tvar none = 'none';\n\t\t\tDomElement.setPrefixed(element.style, {\n\t\t\t\tuserDrag: none,\n\t\t\t\tuserSelect: none,\n\t\t\t\ttouchCallout: none,\n\t\t\t\tcontentZooming: none,\n\t\t\t\ttapHighlightColor: 'rgba(0,0,0,0)'\n\t\t\t});\n\n\t\t\tif (PaperScope.hasAttribute(element, 'resize')) {\n\t\t\t\tvar that = this;\n\t\t\t\tDomEvent.add(window, this._windowEvents = {\n\t\t\t\t\tresize: function() {\n\t\t\t\t\t\tthat.setViewSize(getCanvasSize());\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tsize = getCanvasSize();\n\n\t\t\tif (PaperScope.hasAttribute(element, 'stats')\n\t\t\t\t\t&& typeof Stats !== 'undefined') {\n\t\t\t\tthis._stats = new Stats();\n\t\t\t\tvar stats = this._stats.domElement,\n\t\t\t\t\tstyle = stats.style,\n\t\t\t\t\toffset = DomElement.getOffset(element);\n\t\t\t\tstyle.position = 'absolute';\n\t\t\t\tstyle.left = offset.x + 'px';\n\t\t\t\tstyle.top = offset.y + 'px';\n\t\t\t\tdocument.body.appendChild(stats);\n\t\t\t}\n\t\t} else {\n\t\t\tsize = new Size(element);\n\t\t\telement = null;\n\t\t}\n\t\tthis._project = project;\n\t\tthis._scope = project._scope;\n\t\tthis._element = element;\n\t\tif (!this._pixelRatio)\n\t\t\tthis._pixelRatio = window && window.devicePixelRatio || 1;\n\t\tthis._setElementSize(size.width, size.height);\n\t\tthis._viewSize = size;\n\t\tView._views.push(this);\n\t\tView._viewsById[this._id] = this;\n\t\t(this._matrix = new Matrix())._owner = this;\n\t\tif (!View._focused)\n\t\t\tView._focused = this;\n\t\tthis._frameItems = {};\n\t\tthis._frameItemCount = 0;\n\t\tthis._itemEvents = { native: {}, virtual: {} };\n\t\tthis._autoUpdate = !paper.agent.node;\n\t\tthis._needsUpdate = false;\n\t},\n\n\tremove: function() {\n\t\tif (!this._project)\n\t\t\treturn false;\n\t\tif (View._focused === this)\n\t\t\tView._focused = null;\n\t\tView._views.splice(View._views.indexOf(this), 1);\n\t\tdelete View._viewsById[this._id];\n\t\tvar project = this._project;\n\t\tif (project._view === this)\n\t\t\tproject._view = null;\n\t\tDomEvent.remove(this._element, this._viewEvents);\n\t\tDomEvent.remove(window, this._windowEvents);\n\t\tthis._element = this._project = null;\n\t\tthis.off('frame');\n\t\tthis._animate = false;\n\t\tthis._frameItems = {};\n\t\treturn true;\n\t},\n\n\t_events: Base.each(\n\t\tItem._itemHandlers.concat(['onResize', 'onKeyDown', 'onKeyUp']),\n\t\tfunction(name) {\n\t\t\tthis[name] = {};\n\t\t}, {\n\t\t\tonFrame: {\n\t\t\t\tinstall: function() {\n\t\t\t\t\tthis.play();\n\t\t\t\t},\n\n\t\t\t\tuninstall: function() {\n\t\t\t\t\tthis.pause();\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t),\n\n\t_animate: false,\n\t_time: 0,\n\t_count: 0,\n\n\tgetAutoUpdate: function() {\n\t\treturn this._autoUpdate;\n\t},\n\n\tsetAutoUpdate: function(autoUpdate) {\n\t\tthis._autoUpdate = autoUpdate;\n\t\tif (autoUpdate)\n\t\t\tthis.requestUpdate();\n\t},\n\n\tupdate: function() {\n\t},\n\n\tdraw: function() {\n\t\tthis.update();\n\t},\n\n\trequestUpdate: function() {\n\t\tif (!this._requested) {\n\t\t\tvar that = this;\n\t\t\tDomEvent.requestAnimationFrame(function() {\n\t\t\t\tthat._requested = false;\n\t\t\t\tif (that._animate) {\n\t\t\t\t\tthat.requestUpdate();\n\t\t\t\t\tvar element = that._element;\n\t\t\t\t\tif ((!DomElement.getPrefixed(document, 'hidden')\n\t\t\t\t\t\t\t|| PaperScope.getAttribute(element, 'keepalive')\n\t\t\t\t\t\t\t\t=== 'true') && DomElement.isInView(element)) {\n\t\t\t\t\t\tthat._handleFrame();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (that._autoUpdate)\n\t\t\t\t\tthat.update();\n\t\t\t});\n\t\t\tthis._requested = true;\n\t\t}\n\t},\n\n\tplay: function() {\n\t\tthis._animate = true;\n\t\tthis.requestUpdate();\n\t},\n\n\tpause: function() {\n\t\tthis._animate = false;\n\t},\n\n\t_handleFrame: function() {\n\t\tpaper = this._scope;\n\t\tvar now = Date.now() / 1000,\n\t\t\tdelta = this._last ? now - this._last : 0;\n\t\tthis._last = now;\n\t\tthis.emit('frame', new Base({\n\t\t\tdelta: delta,\n\t\t\ttime: this._time += delta,\n\t\t\tcount: this._count++\n\t\t}));\n\t\tif (this._stats)\n\t\t\tthis._stats.update();\n\t},\n\n\t_animateItem: function(item, animate) {\n\t\tvar items = this._frameItems;\n\t\tif (animate) {\n\t\t\titems[item._id] = {\n\t\t\t\titem: item,\n\t\t\t\ttime: 0,\n\t\t\t\tcount: 0\n\t\t\t};\n\t\t\tif (++this._frameItemCount === 1)\n\t\t\t\tthis.on('frame', this._handleFrameItems);\n\t\t} else {\n\t\t\tdelete items[item._id];\n\t\t\tif (--this._frameItemCount === 0) {\n\t\t\t\tthis.off('frame', this._handleFrameItems);\n\t\t\t}\n\t\t}\n\t},\n\n\t_handleFrameItems: function(event) {\n\t\tfor (var i in this._frameItems) {\n\t\t\tvar entry = this._frameItems[i];\n\t\t\tentry.item.emit('frame', new Base(event, {\n\t\t\t\ttime: entry.time += event.delta,\n\t\t\t\tcount: entry.count++\n\t\t\t}));\n\t\t}\n\t},\n\n\t_changed: function() {\n\t\tthis._project._changed(4097);\n\t\tthis._bounds = this._decomposed = undefined;\n\t},\n\n\tgetElement: function() {\n\t\treturn this._element;\n\t},\n\n\tgetPixelRatio: function() {\n\t\treturn this._pixelRatio;\n\t},\n\n\tgetResolution: function() {\n\t\treturn this._pixelRatio * 72;\n\t},\n\n\tgetViewSize: function() {\n\t\tvar size = this._viewSize;\n\t\treturn new LinkedSize(size.width, size.height, this, 'setViewSize');\n\t},\n\n\tsetViewSize: function() {\n\t\tvar size = Size.read(arguments),\n\t\t\tdelta = size.subtract(this._viewSize);\n\t\tif (delta.isZero())\n\t\t\treturn;\n\t\tthis._setElementSize(size.width, size.height);\n\t\tthis._viewSize.set(size);\n\t\tthis._changed();\n\t\tthis.emit('resize', { size: size, delta: delta });\n\t\tif (this._autoUpdate) {\n\t\t\tthis.update();\n\t\t}\n\t},\n\n\t_setElementSize: function(width, height) {\n\t\tvar element = this._element;\n\t\tif (element) {\n\t\t\tif (element.width !== width)\n\t\t\t\telement.width = width;\n\t\t\tif (element.height !== height)\n\t\t\t\telement.height = height;\n\t\t}\n\t},\n\n\tgetBounds: function() {\n\t\tif (!this._bounds)\n\t\t\tthis._bounds = this._matrix.inverted()._transformBounds(\n\t\t\t\t\tnew Rectangle(new Point(), this._viewSize));\n\t\treturn this._bounds;\n\t},\n\n\tgetSize: function() {\n\t\treturn this.getBounds().getSize();\n\t},\n\n\tisVisible: function() {\n\t\treturn DomElement.isInView(this._element);\n\t},\n\n\tisInserted: function() {\n\t\treturn DomElement.isInserted(this._element);\n\t},\n\n\tgetPixelSize: function(size) {\n\t\tvar element = this._element,\n\t\t\tpixels;\n\t\tif (element) {\n\t\t\tvar parent = element.parentNode,\n\t\t\t\ttemp = document.createElement('div');\n\t\t\ttemp.style.fontSize = size;\n\t\t\tparent.appendChild(temp);\n\t\t\tpixels = parseFloat(DomElement.getStyles(temp).fontSize);\n\t\t\tparent.removeChild(temp);\n\t\t} else {\n\t\t\tpixels = parseFloat(pixels);\n\t\t}\n\t\treturn pixels;\n\t},\n\n\tgetTextWidth: function(font, lines) {\n\t\treturn 0;\n\t}\n}, Base.each(['rotate', 'scale', 'shear', 'skew'], function(key) {\n\tvar rotate = key === 'rotate';\n\tthis[key] = function() {\n\t\tvar args = arguments,\n\t\t\tvalue = (rotate ? Base : Point).read(args),\n\t\t\tcenter = Point.read(args, 0, { readNull: true });\n\t\treturn this.transform(new Matrix()[key](value,\n\t\t\t\tcenter || this.getCenter(true)));\n\t};\n}, {\n\t_decompose: function() {\n\t\treturn this._decomposed || (this._decomposed = this._matrix.decompose());\n\t},\n\n\ttranslate: function() {\n\t\tvar mx = new Matrix();\n\t\treturn this.transform(mx.translate.apply(mx, arguments));\n\t},\n\n\tgetCenter: function() {\n\t\treturn this.getBounds().getCenter();\n\t},\n\n\tsetCenter: function() {\n\t\tvar center = Point.read(arguments);\n\t\tthis.translate(this.getCenter().subtract(center));\n\t},\n\n\tgetZoom: function() {\n\t\tvar scaling = this._decompose().scaling;\n\t\treturn (scaling.x + scaling.y) / 2;\n\t},\n\n\tsetZoom: function(zoom) {\n\t\tthis.transform(new Matrix().scale(zoom / this.getZoom(),\n\t\t\tthis.getCenter()));\n\t},\n\n\tgetRotation: function() {\n\t\treturn this._decompose().rotation;\n\t},\n\n\tsetRotation: function(rotation) {\n\t\tvar current = this.getRotation();\n\t\tif (current != null && rotation != null) {\n\t\t\tthis.rotate(rotation - current);\n\t\t}\n\t},\n\n\tgetScaling: function() {\n\t\tvar scaling = this._decompose().scaling;\n\t\treturn new LinkedPoint(scaling.x, scaling.y, this, 'setScaling');\n\t},\n\n\tsetScaling: function() {\n\t\tvar current = this.getScaling(),\n\t\t\tscaling = Point.read(arguments, 0, { clone: true, readNull: true });\n\t\tif (current && scaling) {\n\t\t\tthis.scale(scaling.x / current.x, scaling.y / current.y);\n\t\t}\n\t},\n\n\tgetMatrix: function() {\n\t\treturn this._matrix;\n\t},\n\n\tsetMatrix: function() {\n\t\tvar matrix = this._matrix;\n\t\tmatrix.initialize.apply(matrix, arguments);\n\t},\n\n\ttransform: function(matrix) {\n\t\tthis._matrix.append(matrix);\n\t},\n\n\tscrollBy: function() {\n\t\tthis.translate(Point.read(arguments).negate());\n\t}\n}), {\n\n\tprojectToView: function() {\n\t\treturn this._matrix._transformPoint(Point.read(arguments));\n\t},\n\n\tviewToProject: function() {\n\t\treturn this._matrix._inverseTransform(Point.read(arguments));\n\t},\n\n\tgetEventPoint: function(event) {\n\t\treturn this.viewToProject(DomEvent.getOffset(event, this._element));\n\t},\n\n}, {\n\tstatics: {\n\t\t_views: [],\n\t\t_viewsById: {},\n\t\t_id: 0,\n\n\t\tcreate: function(project, element) {\n\t\t\tif (document && typeof element === 'string')\n\t\t\t\telement = document.getElementById(element);\n\t\t\tvar ctor = window ? CanvasView : View;\n\t\t\treturn new ctor(project, element);\n\t\t}\n\t}\n},\nnew function() {\n\tif (!window)\n\t\treturn;\n\tvar prevFocus,\n\t\ttempFocus,\n\t\tdragging = false,\n\t\tmouseDown = false;\n\n\tfunction getView(event) {\n\t\tvar target = DomEvent.getTarget(event);\n\t\treturn target.getAttribute && View._viewsById[\n\t\t\t\ttarget.getAttribute('id')];\n\t}\n\n\tfunction updateFocus() {\n\t\tvar view = View._focused;\n\t\tif (!view || !view.isVisible()) {\n\t\t\tfor (var i = 0, l = View._views.length; i < l; i++) {\n\t\t\t\tif ((view = View._views[i]).isVisible()) {\n\t\t\t\t\tView._focused = tempFocus = view;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction handleMouseMove(view, event, point) {\n\t\tview._handleMouseEvent('mousemove', event, point);\n\t}\n\n\tvar navigator = window.navigator,\n\t\tmousedown, mousemove, mouseup;\n\tif (navigator.pointerEnabled || navigator.msPointerEnabled) {\n\t\tmousedown = 'pointerdown MSPointerDown';\n\t\tmousemove = 'pointermove MSPointerMove';\n\t\tmouseup = 'pointerup pointercancel MSPointerUp MSPointerCancel';\n\t} else {\n\t\tmousedown = 'touchstart';\n\t\tmousemove = 'touchmove';\n\t\tmouseup = 'touchend touchcancel';\n\t\tif (!('ontouchstart' in window && navigator.userAgent.match(\n\t\t\t\t/mobile|tablet|ip(ad|hone|od)|android|silk/i))) {\n\t\t\tmousedown += ' mousedown';\n\t\t\tmousemove += ' mousemove';\n\t\t\tmouseup += ' mouseup';\n\t\t}\n\t}\n\n\tvar viewEvents = {},\n\t\tdocEvents = {\n\t\t\tmouseout: function(event) {\n\t\t\t\tvar view = View._focused,\n\t\t\t\t\ttarget = DomEvent.getRelatedTarget(event);\n\t\t\t\tif (view && (!target || target.nodeName === 'HTML')) {\n\t\t\t\t\tvar offset = DomEvent.getOffset(event, view._element),\n\t\t\t\t\t\tx = offset.x,\n\t\t\t\t\t\tabs = Math.abs,\n\t\t\t\t\t\tax = abs(x),\n\t\t\t\t\t\tmax = 1 << 25,\n\t\t\t\t\t\tdiff = ax - max;\n\t\t\t\t\toffset.x = abs(diff) < ax ? diff * (x < 0 ? -1 : 1) : x;\n\t\t\t\t\thandleMouseMove(view, event, view.viewToProject(offset));\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tscroll: updateFocus\n\t\t};\n\n\tviewEvents[mousedown] = function(event) {\n\t\tvar view = View._focused = getView(event);\n\t\tif (!dragging) {\n\t\t\tdragging = true;\n\t\t\tview._handleMouseEvent('mousedown', event);\n\t\t}\n\t};\n\n\tdocEvents[mousemove] = function(event) {\n\t\tvar view = View._focused;\n\t\tif (!mouseDown) {\n\t\t\tvar target = getView(event);\n\t\t\tif (target) {\n\t\t\t\tif (view !== target) {\n\t\t\t\t\tif (view)\n\t\t\t\t\t\thandleMouseMove(view, event);\n\t\t\t\t\tif (!prevFocus)\n\t\t\t\t\t\tprevFocus = view;\n\t\t\t\t\tview = View._focused = tempFocus = target;\n\t\t\t\t}\n\t\t\t} else if (tempFocus && tempFocus === view) {\n\t\t\t\tif (prevFocus && !prevFocus.isInserted())\n\t\t\t\t\tprevFocus = null;\n\t\t\t\tview = View._focused = prevFocus;\n\t\t\t\tprevFocus = null;\n\t\t\t\tupdateFocus();\n\t\t\t}\n\t\t}\n\t\tif (view)\n\t\t\thandleMouseMove(view, event);\n\t};\n\n\tdocEvents[mousedown] = function() {\n\t\tmouseDown = true;\n\t};\n\n\tdocEvents[mouseup] = function(event) {\n\t\tvar view = View._focused;\n\t\tif (view && dragging)\n\t\t\tview._handleMouseEvent('mouseup', event);\n\t\tmouseDown = dragging = false;\n\t};\n\n\tDomEvent.add(document, docEvents);\n\n\tDomEvent.add(window, {\n\t\tload: updateFocus\n\t});\n\n\tvar called = false,\n\t\tprevented = false,\n\t\tfallbacks = {\n\t\t\tdoubleclick: 'click',\n\t\t\tmousedrag: 'mousemove'\n\t\t},\n\t\twasInView = false,\n\t\toverView,\n\t\tdownPoint,\n\t\tlastPoint,\n\t\tdownItem,\n\t\toverItem,\n\t\tdragItem,\n\t\tclickItem,\n\t\tclickTime,\n\t\tdblClick;\n\n\tfunction emitMouseEvent(obj, target, type, event, point, prevPoint,\n\t\t\tstopItem) {\n\t\tvar stopped = false,\n\t\t\tmouseEvent;\n\n\t\tfunction emit(obj, type) {\n\t\t\tif (obj.responds(type)) {\n\t\t\t\tif (!mouseEvent) {\n\t\t\t\t\tmouseEvent = new MouseEvent(type, event, point,\n\t\t\t\t\t\t\ttarget || obj,\n\t\t\t\t\t\t\tprevPoint ? point.subtract(prevPoint) : null);\n\t\t\t\t}\n\t\t\t\tif (obj.emit(type, mouseEvent)) {\n\t\t\t\t\tcalled = true;\n\t\t\t\t\tif (mouseEvent.prevented)\n\t\t\t\t\t\tprevented = true;\n\t\t\t\t\tif (mouseEvent.stopped)\n\t\t\t\t\t\treturn stopped = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvar fallback = fallbacks[type];\n\t\t\t\tif (fallback)\n\t\t\t\t\treturn emit(obj, fallback);\n\t\t\t}\n\t\t}\n\n\t\twhile (obj && obj !== stopItem) {\n\t\t\tif (emit(obj, type))\n\t\t\t\tbreak;\n\t\t\tobj = obj._parent;\n\t\t}\n\t\treturn stopped;\n\t}\n\n\tfunction emitMouseEvents(view, hitItem, type, event, point, prevPoint) {\n\t\tview._project.removeOn(type);\n\t\tprevented = called = false;\n\t\treturn (dragItem && emitMouseEvent(dragItem, null, type, event,\n\t\t\t\t\tpoint, prevPoint)\n\t\t\t|| hitItem && hitItem !== dragItem\n\t\t\t\t&& !hitItem.isDescendant(dragItem)\n\t\t\t\t&& emitMouseEvent(hitItem, null, type === 'mousedrag' ?\n\t\t\t\t\t'mousemove' : type, event, point, prevPoint, dragItem)\n\t\t\t|| emitMouseEvent(view, dragItem || hitItem || view, type, event,\n\t\t\t\t\tpoint, prevPoint));\n\t}\n\n\tvar itemEventsMap = {\n\t\tmousedown: {\n\t\t\tmousedown: 1,\n\t\t\tmousedrag: 1,\n\t\t\tclick: 1,\n\t\t\tdoubleclick: 1\n\t\t},\n\t\tmouseup: {\n\t\t\tmouseup: 1,\n\t\t\tmousedrag: 1,\n\t\t\tclick: 1,\n\t\t\tdoubleclick: 1\n\t\t},\n\t\tmousemove: {\n\t\t\tmousedrag: 1,\n\t\t\tmousemove: 1,\n\t\t\tmouseenter: 1,\n\t\t\tmouseleave: 1\n\t\t}\n\t};\n\n\treturn {\n\t\t_viewEvents: viewEvents,\n\n\t\t_handleMouseEvent: function(type, event, point) {\n\t\t\tvar itemEvents = this._itemEvents,\n\t\t\t\thitItems = itemEvents.native[type],\n\t\t\t\tnativeMove = type === 'mousemove',\n\t\t\t\ttool = this._scope.tool,\n\t\t\t\tview = this;\n\n\t\t\tfunction responds(type) {\n\t\t\t\treturn itemEvents.virtual[type] || view.responds(type)\n\t\t\t\t\t\t|| tool && tool.responds(type);\n\t\t\t}\n\n\t\t\tif (nativeMove && dragging && responds('mousedrag'))\n\t\t\t\ttype = 'mousedrag';\n\t\t\tif (!point)\n\t\t\t\tpoint = this.getEventPoint(event);\n\n\t\t\tvar inView = this.getBounds().contains(point),\n\t\t\t\thit = hitItems && inView && view._project.hitTest(point, {\n\t\t\t\t\ttolerance: 0,\n\t\t\t\t\tfill: true,\n\t\t\t\t\tstroke: true\n\t\t\t\t}),\n\t\t\t\thitItem = hit && hit.item || null,\n\t\t\t\thandle = false,\n\t\t\t\tmouse = {};\n\t\t\tmouse[type.substr(5)] = true;\n\n\t\t\tif (hitItems && hitItem !== overItem) {\n\t\t\t\tif (overItem) {\n\t\t\t\t\temitMouseEvent(overItem, null, 'mouseleave', event, point);\n\t\t\t\t}\n\t\t\t\tif (hitItem) {\n\t\t\t\t\temitMouseEvent(hitItem, null, 'mouseenter', event, point);\n\t\t\t\t}\n\t\t\t\toverItem = hitItem;\n\t\t\t}\n\t\t\tif (wasInView ^ inView) {\n\t\t\t\temitMouseEvent(this, null, inView ? 'mouseenter' : 'mouseleave',\n\t\t\t\t\t\tevent, point);\n\t\t\t\toverView = inView ? this : null;\n\t\t\t\thandle = true;\n\t\t\t}\n\t\t\tif ((inView || mouse.drag) && !point.equals(lastPoint)) {\n\t\t\t\temitMouseEvents(this, hitItem, nativeMove ? type : 'mousemove',\n\t\t\t\t\t\tevent, point, lastPoint);\n\t\t\t\thandle = true;\n\t\t\t}\n\t\t\twasInView = inView;\n\t\t\tif (mouse.down && inView || mouse.up && downPoint) {\n\t\t\t\temitMouseEvents(this, hitItem, type, event, point, downPoint);\n\t\t\t\tif (mouse.down) {\n\t\t\t\t\tdblClick = hitItem === clickItem\n\t\t\t\t\t\t&& (Date.now() - clickTime < 300);\n\t\t\t\t\tdownItem = clickItem = hitItem;\n\t\t\t\t\tif (!prevented && hitItem) {\n\t\t\t\t\t\tvar item = hitItem;\n\t\t\t\t\t\twhile (item && !item.responds('mousedrag'))\n\t\t\t\t\t\t\titem = item._parent;\n\t\t\t\t\t\tif (item)\n\t\t\t\t\t\t\tdragItem = hitItem;\n\t\t\t\t\t}\n\t\t\t\t\tdownPoint = point;\n\t\t\t\t} else if (mouse.up) {\n\t\t\t\t\tif (!prevented && hitItem === downItem) {\n\t\t\t\t\t\tclickTime = Date.now();\n\t\t\t\t\t\temitMouseEvents(this, hitItem, dblClick ? 'doubleclick'\n\t\t\t\t\t\t\t\t: 'click', event, point, downPoint);\n\t\t\t\t\t\tdblClick = false;\n\t\t\t\t\t}\n\t\t\t\t\tdownItem = dragItem = null;\n\t\t\t\t}\n\t\t\t\twasInView = false;\n\t\t\t\thandle = true;\n\t\t\t}\n\t\t\tlastPoint = point;\n\t\t\tif (handle && tool) {\n\t\t\t\tcalled = tool._handleMouseEvent(type, event, point, mouse)\n\t\t\t\t\t|| called;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tevent.cancelable !== false\n\t\t\t\t&& (called && !mouse.move || mouse.down && responds('mouseup'))\n\t\t\t) {\n\t\t\t\tevent.preventDefault();\n\t\t\t}\n\t\t},\n\n\t\t_handleKeyEvent: function(type, event, key, character) {\n\t\t\tvar scope = this._scope,\n\t\t\t\ttool = scope.tool,\n\t\t\t\tkeyEvent;\n\n\t\t\tfunction emit(obj) {\n\t\t\t\tif (obj.responds(type)) {\n\t\t\t\t\tpaper = scope;\n\t\t\t\t\tobj.emit(type, keyEvent = keyEvent\n\t\t\t\t\t\t\t|| new KeyEvent(type, event, key, character));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.isVisible()) {\n\t\t\t\temit(this);\n\t\t\t\tif (tool && tool.responds(type))\n\t\t\t\t\temit(tool);\n\t\t\t}\n\t\t},\n\n\t\t_countItemEvent: function(type, sign) {\n\t\t\tvar itemEvents = this._itemEvents,\n\t\t\t\tnative = itemEvents.native,\n\t\t\t\tvirtual = itemEvents.virtual;\n\t\t\tfor (var key in itemEventsMap) {\n\t\t\t\tnative[key] = (native[key] || 0)\n\t\t\t\t\t\t+ (itemEventsMap[key][type] || 0) * sign;\n\t\t\t}\n\t\t\tvirtual[type] = (virtual[type] || 0) + sign;\n\t\t},\n\n\t\tstatics: {\n\t\t\tupdateFocus: updateFocus,\n\n\t\t\t_resetState: function() {\n\t\t\t\tdragging = mouseDown = called = wasInView = false;\n\t\t\t\tprevFocus = tempFocus = overView = downPoint = lastPoint =\n\t\t\t\t\tdownItem = overItem = dragItem = clickItem = clickTime =\n\t\t\t\t\tdblClick = null;\n\t\t\t}\n\t\t}\n\t};\n});\n\nvar CanvasView = View.extend({\n\t_class: 'CanvasView',\n\n\tinitialize: function CanvasView(project, canvas) {\n\t\tif (!(canvas instanceof window.HTMLCanvasElement)) {\n\t\t\tvar size = Size.read(arguments, 1);\n\t\t\tif (size.isZero())\n\t\t\t\tthrow new Error(\n\t\t\t\t\t\t'Cannot create CanvasView with the provided argument: '\n\t\t\t\t\t\t+ Base.slice(arguments, 1));\n\t\t\tcanvas = CanvasProvider.getCanvas(size);\n\t\t}\n\t\tvar ctx = this._context = canvas.getContext('2d');\n\t\tctx.save();\n\t\tthis._pixelRatio = 1;\n\t\tif (!/^off|false$/.test(PaperScope.getAttribute(canvas, 'hidpi'))) {\n\t\t\tvar deviceRatio = window.devicePixelRatio || 1,\n\t\t\t\tbackingStoreRatio = DomElement.getPrefixed(ctx,\n\t\t\t\t\t\t'backingStorePixelRatio') || 1;\n\t\t\tthis._pixelRatio = deviceRatio / backingStoreRatio;\n\t\t}\n\t\tView.call(this, project, canvas);\n\t\tthis._needsUpdate = true;\n\t},\n\n\tremove: function remove() {\n\t\tthis._context.restore();\n\t\treturn remove.base.call(this);\n\t},\n\n\t_setElementSize: function _setElementSize(width, height) {\n\t\tvar pixelRatio = this._pixelRatio;\n\t\t_setElementSize.base.call(this, width * pixelRatio, height * pixelRatio);\n\t\tif (pixelRatio !== 1) {\n\t\t\tvar element = this._element,\n\t\t\t\tctx = this._context;\n\t\t\tif (!PaperScope.hasAttribute(element, 'resize')) {\n\t\t\t\tvar style = element.style;\n\t\t\t\tstyle.width = width + 'px';\n\t\t\t\tstyle.height = height + 'px';\n\t\t\t}\n\t\t\tctx.restore();\n\t\t\tctx.save();\n\t\t\tctx.scale(pixelRatio, pixelRatio);\n\t\t}\n\t},\n\n\tgetContext: function() {\n\t\treturn this._context;\n\t},\n\n\tgetPixelSize: function getPixelSize(size) {\n\t\tvar agent = paper.agent,\n\t\t\tpixels;\n\t\tif (agent && agent.firefox) {\n\t\t\tpixels = getPixelSize.base.call(this, size);\n\t\t} else {\n\t\t\tvar ctx = this._context,\n\t\t\t\tprevFont = ctx.font;\n\t\t\tctx.font = size + ' serif';\n\t\t\tpixels = parseFloat(ctx.font);\n\t\t\tctx.font = prevFont;\n\t\t}\n\t\treturn pixels;\n\t},\n\n\tgetTextWidth: function(font, lines) {\n\t\tvar ctx = this._context,\n\t\t\tprevFont = ctx.font,\n\t\t\twidth = 0;\n\t\tctx.font = font;\n\t\tfor (var i = 0, l = lines.length; i < l; i++)\n\t\t\twidth = Math.max(width, ctx.measureText(lines[i]).width);\n\t\tctx.font = prevFont;\n\t\treturn width;\n\t},\n\n\tupdate: function() {\n\t\tif (!this._needsUpdate)\n\t\t\treturn false;\n\t\tvar project = this._project,\n\t\t\tctx = this._context,\n\t\t\tsize = this._viewSize;\n\t\tctx.clearRect(0, 0, size.width + 1, size.height + 1);\n\t\tif (project)\n\t\t\tproject.draw(ctx, this._matrix, this._pixelRatio);\n\t\tthis._needsUpdate = false;\n\t\treturn true;\n\t}\n});\n\nvar Event = Base.extend({\n\t_class: 'Event',\n\n\tinitialize: function Event(event) {\n\t\tthis.event = event;\n\t\tthis.type = event && event.type;\n\t},\n\n\tprevented: false,\n\tstopped: false,\n\n\tpreventDefault: function() {\n\t\tthis.prevented = true;\n\t\tthis.event.preventDefault();\n\t},\n\n\tstopPropagation: function() {\n\t\tthis.stopped = true;\n\t\tthis.event.stopPropagation();\n\t},\n\n\tstop: function() {\n\t\tthis.stopPropagation();\n\t\tthis.preventDefault();\n\t},\n\n\tgetTimeStamp: function() {\n\t\treturn this.event.timeStamp;\n\t},\n\n\tgetModifiers: function() {\n\t\treturn Key.modifiers;\n\t}\n});\n\nvar KeyEvent = Event.extend({\n\t_class: 'KeyEvent',\n\n\tinitialize: function KeyEvent(type, event, key, character) {\n\t\tthis.type = type;\n\t\tthis.event = event;\n\t\tthis.key = key;\n\t\tthis.character = character;\n\t},\n\n\ttoString: function() {\n\t\treturn \"{ type: '\" + this.type\n\t\t\t\t+ \"', key: '\" + this.key\n\t\t\t\t+ \"', character: '\" + this.character\n\t\t\t\t+ \"', modifiers: \" + this.getModifiers()\n\t\t\t\t+ \" }\";\n\t}\n});\n\nvar Key = new function() {\n\tvar keyLookup = {\n\t\t\t'\\t': 'tab',\n\t\t\t' ': 'space',\n\t\t\t'\\b': 'backspace',\n\t\t\t'\\x7f': 'delete',\n\t\t\t'Spacebar': 'space',\n\t\t\t'Del': 'delete',\n\t\t\t'Win': 'meta',\n\t\t\t'Esc': 'escape'\n\t\t},\n\n\t\tcharLookup = {\n\t\t\t'tab': '\\t',\n\t\t\t'space': ' ',\n\t\t\t'enter': '\\r'\n\t\t},\n\n\t\tkeyMap = {},\n\t\tcharMap = {},\n\t\tmetaFixMap,\n\t\tdownKey,\n\n\t\tmodifiers = new Base({\n\t\t\tshift: false,\n\t\t\tcontrol: false,\n\t\t\talt: false,\n\t\t\tmeta: false,\n\t\t\tcapsLock: false,\n\t\t\tspace: false\n\t\t}).inject({\n\t\t\toption: {\n\t\t\t\tget: function() {\n\t\t\t\t\treturn this.alt;\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tcommand: {\n\t\t\t\tget: function() {\n\t\t\t\t\tvar agent = paper && paper.agent;\n\t\t\t\t\treturn agent && agent.mac ? this.meta : this.control;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\tfunction getKey(event) {\n\t\tvar key = event.key || event.keyIdentifier;\n\t\tkey = /^U\\+/.test(key)\n\t\t\t\t? String.fromCharCode(parseInt(key.substr(2), 16))\n\t\t\t\t: /^Arrow[A-Z]/.test(key) ? key.substr(5)\n\t\t\t\t: key === 'Unidentified'  || key === undefined\n\t\t\t\t\t? String.fromCharCode(event.keyCode)\n\t\t\t\t\t: key;\n\t\treturn keyLookup[key] ||\n\t\t\t\t(key.length > 1 ? Base.hyphenate(key) : key.toLowerCase());\n\t}\n\n\tfunction handleKey(down, key, character, event) {\n\t\tvar type = down ? 'keydown' : 'keyup',\n\t\t\tview = View._focused,\n\t\t\tname;\n\t\tkeyMap[key] = down;\n\t\tif (down) {\n\t\t\tcharMap[key] = character;\n\t\t} else {\n\t\t\tdelete charMap[key];\n\t\t}\n\t\tif (key.length > 1 && (name = Base.camelize(key)) in modifiers) {\n\t\t\tmodifiers[name] = down;\n\t\t\tvar agent = paper && paper.agent;\n\t\t\tif (name === 'meta' && agent && agent.mac) {\n\t\t\t\tif (down) {\n\t\t\t\t\tmetaFixMap = {};\n\t\t\t\t} else {\n\t\t\t\t\tfor (var k in metaFixMap) {\n\t\t\t\t\t\tif (k in charMap)\n\t\t\t\t\t\t\thandleKey(false, k, metaFixMap[k], event);\n\t\t\t\t\t}\n\t\t\t\t\tmetaFixMap = null;\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (down && metaFixMap) {\n\t\t\tmetaFixMap[key] = character;\n\t\t}\n\t\tif (view) {\n\t\t\tview._handleKeyEvent(down ? 'keydown' : 'keyup', event, key,\n\t\t\t\t\tcharacter);\n\t\t}\n\t}\n\n\tDomEvent.add(document, {\n\t\tkeydown: function(event) {\n\t\t\tvar key = getKey(event),\n\t\t\t\tagent = paper && paper.agent;\n\t\t\tif (key.length > 1 || agent && (agent.chrome && (event.altKey\n\t\t\t\t\t\t|| agent.mac && event.metaKey\n\t\t\t\t\t\t|| !agent.mac && event.ctrlKey))) {\n\t\t\t\thandleKey(true, key,\n\t\t\t\t\t\tcharLookup[key] || (key.length > 1 ? '' : key), event);\n\t\t\t} else {\n\t\t\t\tdownKey = key;\n\t\t\t}\n\t\t},\n\n\t\tkeypress: function(event) {\n\t\t\tif (downKey) {\n\t\t\t\tvar key = getKey(event),\n\t\t\t\t\tcode = event.charCode,\n\t\t\t\t\tcharacter = code >= 32 ? String.fromCharCode(code)\n\t\t\t\t\t\t: key.length > 1 ? '' : key;\n\t\t\t\tif (key !== downKey) {\n\t\t\t\t\tkey = character.toLowerCase();\n\t\t\t\t}\n\t\t\t\thandleKey(true, key, character, event);\n\t\t\t\tdownKey = null;\n\t\t\t}\n\t\t},\n\n\t\tkeyup: function(event) {\n\t\t\tvar key = getKey(event);\n\t\t\tif (key in charMap)\n\t\t\t\thandleKey(false, key, charMap[key], event);\n\t\t}\n\t});\n\n\tDomEvent.add(window, {\n\t\tblur: function(event) {\n\t\t\tfor (var key in charMap)\n\t\t\t\thandleKey(false, key, charMap[key], event);\n\t\t}\n\t});\n\n\treturn {\n\t\tmodifiers: modifiers,\n\n\t\tisDown: function(key) {\n\t\t\treturn !!keyMap[key];\n\t\t}\n\t};\n};\n\nvar MouseEvent = Event.extend({\n\t_class: 'MouseEvent',\n\n\tinitialize: function MouseEvent(type, event, point, target, delta) {\n\t\tthis.type = type;\n\t\tthis.event = event;\n\t\tthis.point = point;\n\t\tthis.target = target;\n\t\tthis.delta = delta;\n\t},\n\n\ttoString: function() {\n\t\treturn \"{ type: '\" + this.type\n\t\t\t\t+ \"', point: \" + this.point\n\t\t\t\t+ ', target: ' + this.target\n\t\t\t\t+ (this.delta ? ', delta: ' + this.delta : '')\n\t\t\t\t+ ', modifiers: ' + this.getModifiers()\n\t\t\t\t+ ' }';\n\t}\n});\n\nvar ToolEvent = Event.extend({\n\t_class: 'ToolEvent',\n\t_item: null,\n\n\tinitialize: function ToolEvent(tool, type, event) {\n\t\tthis.tool = tool;\n\t\tthis.type = type;\n\t\tthis.event = event;\n\t},\n\n\t_choosePoint: function(point, toolPoint) {\n\t\treturn point ? point : toolPoint ? toolPoint.clone() : null;\n\t},\n\n\tgetPoint: function() {\n\t\treturn this._choosePoint(this._point, this.tool._point);\n\t},\n\n\tsetPoint: function(point) {\n\t\tthis._point = point;\n\t},\n\n\tgetLastPoint: function() {\n\t\treturn this._choosePoint(this._lastPoint, this.tool._lastPoint);\n\t},\n\n\tsetLastPoint: function(lastPoint) {\n\t\tthis._lastPoint = lastPoint;\n\t},\n\n\tgetDownPoint: function() {\n\t\treturn this._choosePoint(this._downPoint, this.tool._downPoint);\n\t},\n\n\tsetDownPoint: function(downPoint) {\n\t\tthis._downPoint = downPoint;\n\t},\n\n\tgetMiddlePoint: function() {\n\t\tif (!this._middlePoint && this.tool._lastPoint) {\n\t\t\treturn this.tool._point.add(this.tool._lastPoint).divide(2);\n\t\t}\n\t\treturn this._middlePoint;\n\t},\n\n\tsetMiddlePoint: function(middlePoint) {\n\t\tthis._middlePoint = middlePoint;\n\t},\n\n\tgetDelta: function() {\n\t\treturn !this._delta && this.tool._lastPoint\n\t\t\t\t? this.tool._point.subtract(this.tool._lastPoint)\n\t\t\t\t: this._delta;\n\t},\n\n\tsetDelta: function(delta) {\n\t\tthis._delta = delta;\n\t},\n\n\tgetCount: function() {\n\t\treturn this.tool[/^mouse(down|up)$/.test(this.type)\n\t\t\t\t? '_downCount' : '_moveCount'];\n\t},\n\n\tsetCount: function(count) {\n\t\tthis.tool[/^mouse(down|up)$/.test(this.type) ? 'downCount' : 'count']\n\t\t\t= count;\n\t},\n\n\tgetItem: function() {\n\t\tif (!this._item) {\n\t\t\tvar result = this.tool._scope.project.hitTest(this.getPoint());\n\t\t\tif (result) {\n\t\t\t\tvar item = result.item,\n\t\t\t\t\tparent = item._parent;\n\t\t\t\twhile (/^(Group|CompoundPath)$/.test(parent._class)) {\n\t\t\t\t\titem = parent;\n\t\t\t\t\tparent = parent._parent;\n\t\t\t\t}\n\t\t\t\tthis._item = item;\n\t\t\t}\n\t\t}\n\t\treturn this._item;\n\t},\n\n\tsetItem: function(item) {\n\t\tthis._item = item;\n\t},\n\n\ttoString: function() {\n\t\treturn '{ type: ' + this.type\n\t\t\t\t+ ', point: ' + this.getPoint()\n\t\t\t\t+ ', count: ' + this.getCount()\n\t\t\t\t+ ', modifiers: ' + this.getModifiers()\n\t\t\t\t+ ' }';\n\t}\n});\n\nvar Tool = PaperScopeItem.extend({\n\t_class: 'Tool',\n\t_list: 'tools',\n\t_reference: 'tool',\n\t_events: ['onMouseDown', 'onMouseUp', 'onMouseDrag', 'onMouseMove',\n\t\t\t'onActivate', 'onDeactivate', 'onEditOptions', 'onKeyDown',\n\t\t\t'onKeyUp'],\n\n\tinitialize: function Tool(props) {\n\t\tPaperScopeItem.call(this);\n\t\tthis._moveCount = -1;\n\t\tthis._downCount = -1;\n\t\tthis.set(props);\n\t},\n\n\tgetMinDistance: function() {\n\t\treturn this._minDistance;\n\t},\n\n\tsetMinDistance: function(minDistance) {\n\t\tthis._minDistance = minDistance;\n\t\tif (minDistance != null && this._maxDistance != null\n\t\t\t\t&& minDistance > this._maxDistance) {\n\t\t\tthis._maxDistance = minDistance;\n\t\t}\n\t},\n\n\tgetMaxDistance: function() {\n\t\treturn this._maxDistance;\n\t},\n\n\tsetMaxDistance: function(maxDistance) {\n\t\tthis._maxDistance = maxDistance;\n\t\tif (this._minDistance != null && maxDistance != null\n\t\t\t\t&& maxDistance < this._minDistance) {\n\t\t\tthis._minDistance = maxDistance;\n\t\t}\n\t},\n\n\tgetFixedDistance: function() {\n\t\treturn this._minDistance == this._maxDistance\n\t\t\t? this._minDistance : null;\n\t},\n\n\tsetFixedDistance: function(distance) {\n\t\tthis._minDistance = this._maxDistance = distance;\n\t},\n\n\t_handleMouseEvent: function(type, event, point, mouse) {\n\t\tpaper = this._scope;\n\t\tif (mouse.drag && !this.responds(type))\n\t\t\ttype = 'mousemove';\n\t\tvar move = mouse.move || mouse.drag,\n\t\t\tresponds = this.responds(type),\n\t\t\tminDistance = this.minDistance,\n\t\t\tmaxDistance = this.maxDistance,\n\t\t\tcalled = false,\n\t\t\ttool = this;\n\t\tfunction update(minDistance, maxDistance) {\n\t\t\tvar pt = point,\n\t\t\t\ttoolPoint = move ? tool._point : (tool._downPoint || pt);\n\t\t\tif (move) {\n\t\t\t\tif (tool._moveCount >= 0 && pt.equals(toolPoint)) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (toolPoint && (minDistance != null || maxDistance != null)) {\n\t\t\t\t\tvar vector = pt.subtract(toolPoint),\n\t\t\t\t\t\tdistance = vector.getLength();\n\t\t\t\t\tif (distance < (minDistance || 0))\n\t\t\t\t\t\treturn false;\n\t\t\t\t\tif (maxDistance) {\n\t\t\t\t\t\tpt = toolPoint.add(vector.normalize(\n\t\t\t\t\t\t\t\tMath.min(distance, maxDistance)));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ttool._moveCount++;\n\t\t\t}\n\t\t\ttool._point = pt;\n\t\t\ttool._lastPoint = toolPoint || pt;\n\t\t\tif (mouse.down) {\n\t\t\t\ttool._moveCount = -1;\n\t\t\t\ttool._downPoint = pt;\n\t\t\t\ttool._downCount++;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\n\t\tfunction emit() {\n\t\t\tif (responds) {\n\t\t\t\tcalled = tool.emit(type, new ToolEvent(tool, type, event))\n\t\t\t\t\t\t|| called;\n\t\t\t}\n\t\t}\n\n\t\tif (mouse.down) {\n\t\t\tupdate();\n\t\t\temit();\n\t\t} else if (mouse.up) {\n\t\t\tupdate(null, maxDistance);\n\t\t\temit();\n\t\t} else if (responds) {\n\t\t\twhile (update(minDistance, maxDistance))\n\t\t\t\temit();\n\t\t}\n\t\treturn called;\n\t}\n\n});\n\nvar Tween = Base.extend(Emitter, {\n\t_class: 'Tween',\n\n\tstatics: {\n\t\teasings: {\n\t\t\tlinear: function(t) {\n\t\t\t\treturn t;\n\t\t\t},\n\n\t\t\teaseInQuad: function(t) {\n\t\t\t\treturn t * t;\n\t\t\t},\n\n\t\t\teaseOutQuad: function(t) {\n\t\t\t\treturn t * (2 - t);\n\t\t\t},\n\n\t\t\teaseInOutQuad: function(t) {\n\t\t\t\treturn t < 0.5\n\t\t\t\t\t? 2 * t * t\n\t\t\t\t\t: -1 + 2 * (2 - t) * t;\n\t\t\t},\n\n\t\t\teaseInCubic: function(t) {\n\t\t\t\treturn t * t * t;\n\t\t\t},\n\n\t\t\teaseOutCubic: function(t) {\n\t\t\t\treturn --t * t * t + 1;\n\t\t\t},\n\n\t\t\teaseInOutCubic: function(t) {\n\t\t\t\treturn t < 0.5\n\t\t\t\t\t? 4 * t * t * t\n\t\t\t\t\t: (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n\t\t\t},\n\n\t\t\teaseInQuart: function(t) {\n\t\t\t\treturn t * t * t * t;\n\t\t\t},\n\n\t\t\teaseOutQuart: function(t) {\n\t\t\t\treturn 1 - (--t) * t * t * t;\n\t\t\t},\n\n\t\t\teaseInOutQuart: function(t) {\n\t\t\t\treturn t < 0.5\n\t\t\t\t\t? 8 * t * t * t * t\n\t\t\t\t\t: 1 - 8 * (--t) * t * t * t;\n\t\t\t},\n\n\t\t\teaseInQuint: function(t) {\n\t\t\t\treturn t * t * t * t * t;\n\t\t\t},\n\n\t\t\teaseOutQuint: function(t) {\n\t\t\t\treturn 1 + --t * t * t * t * t;\n\t\t\t},\n\n\t\t\teaseInOutQuint: function(t) {\n\t\t\t\treturn t < 0.5\n\t\t\t\t\t? 16 * t * t * t * t * t\n\t\t\t\t\t: 1 + 16 * (--t) * t * t * t * t;\n\t\t\t}\n\t\t}\n\t},\n\n\tinitialize: function Tween(object, from, to, duration, easing, start) {\n\t\tthis.object = object;\n\t\tvar type = typeof easing;\n\t\tvar isFunction = type === 'function';\n\t\tthis.type = isFunction\n\t\t\t? type\n\t\t\t: type === 'string'\n\t\t\t\t? easing\n\t\t\t\t: 'linear';\n\t\tthis.easing = isFunction ? easing : Tween.easings[this.type];\n\t\tthis.duration = duration;\n\t\tthis.running = false;\n\n\t\tthis._then = null;\n\t\tthis._startTime = null;\n\t\tvar state = from || to;\n\t\tthis._keys = state ? Object.keys(state) : [];\n\t\tthis._parsedKeys = this._parseKeys(this._keys);\n\t\tthis._from = state && this._getState(from);\n\t\tthis._to = state && this._getState(to);\n\t\tif (start !== false) {\n\t\t\tthis.start();\n\t\t}\n\t},\n\n\tthen: function(then) {\n\t\tthis._then = then;\n\t\treturn this;\n\t},\n\n\tstart: function() {\n\t\tthis._startTime = null;\n\t\tthis.running = true;\n\t\treturn this;\n\t},\n\n\tstop: function() {\n\t\tthis.running = false;\n\t\treturn this;\n\t},\n\n\tupdate: function(progress) {\n\t\tif (this.running) {\n\t\t\tif (progress > 1) {\n\t\t\t\tprogress = 1;\n\t\t\t\tthis.running = false;\n\t\t\t}\n\n\t\t\tvar factor = this.easing(progress),\n\t\t\t\tkeys = this._keys,\n\t\t\t\tgetValue = function(value) {\n\t\t\t\t\treturn typeof value === 'function'\n\t\t\t\t\t\t? value(factor, progress)\n\t\t\t\t\t\t: value;\n\t\t\t\t};\n\t\t\tfor (var i = 0, l = keys && keys.length; i < l; i++) {\n\t\t\t\tvar key = keys[i],\n\t\t\t\t\tfrom = getValue(this._from[key]),\n\t\t\t\t\tto = getValue(this._to[key]),\n\t\t\t\t\tvalue = (from && to && from.__add && to.__add)\n\t\t\t\t\t\t? to.__subtract(from).__multiply(factor).__add(from)\n\t\t\t\t\t\t: ((to - from) * factor) + from;\n\t\t\t\tthis._setProperty(this._parsedKeys[key], value);\n\t\t\t}\n\n\t\t\tif (!this.running && this._then) {\n\t\t\t\tthis._then(this.object);\n\t\t\t}\n\t\t\tif (this.responds('update')) {\n\t\t\t\tthis.emit('update', new Base({\n\t\t\t\t\tprogress: progress,\n\t\t\t\t\tfactor: factor\n\t\t\t\t}));\n\t\t\t}\n\t\t}\n\t\treturn this;\n\t},\n\n\t_events: {\n\t\tonUpdate: {}\n\t},\n\n\t_handleFrame: function(time) {\n\t\tvar startTime = this._startTime,\n\t\t\tprogress = startTime\n\t\t\t\t? (time - startTime) / this.duration\n\t\t\t\t: 0;\n\t\tif (!startTime) {\n\t\t\tthis._startTime = time;\n\t\t}\n\t\tthis.update(progress);\n\t},\n\n\t_getState: function(state) {\n\t\tvar keys = this._keys,\n\t\t\tresult = {};\n\t\tfor (var i = 0, l = keys.length; i < l; i++) {\n\t\t\tvar key = keys[i],\n\t\t\t\tpath = this._parsedKeys[key],\n\t\t\t\tcurrent = this._getProperty(path),\n\t\t\t\tvalue;\n\t\t\tif (state) {\n\t\t\t\tvar resolved = this._resolveValue(current, state[key]);\n\t\t\t\tthis._setProperty(path, resolved);\n\t\t\t\tvalue = this._getProperty(path);\n\t\t\t\tvalue = value && value.clone ? value.clone() : value;\n\t\t\t\tthis._setProperty(path, current);\n\t\t\t} else {\n\t\t\t\tvalue = current && current.clone ? current.clone() : current;\n\t\t\t}\n\t\t\tresult[key] = value;\n\t\t}\n\t\treturn result;\n\t},\n\n\t_resolveValue: function(current, value) {\n\t\tif (value) {\n\t\t\tif (Array.isArray(value) && value.length === 2) {\n\t\t\t\tvar operator = value[0];\n\t\t\t\treturn (\n\t\t\t\t\toperator &&\n\t\t\t\t\toperator.match &&\n\t\t\t\t\toperator.match(/^[+\\-\\*\\/]=/)\n\t\t\t\t)\n\t\t\t\t\t? this._calculate(current, operator[0], value[1])\n\t\t\t\t\t: value;\n\t\t\t} else if (typeof value === 'string') {\n\t\t\t\tvar match = value.match(/^[+\\-*/]=(.*)/);\n\t\t\t\tif (match) {\n\t\t\t\t\tvar parsed = JSON.parse(match[1].replace(\n\t\t\t\t\t\t/(['\"])?([a-zA-Z0-9_]+)(['\"])?:/g,\n\t\t\t\t\t\t'\"$2\": '\n\t\t\t\t\t));\n\t\t\t\t\treturn this._calculate(current, value[0], parsed);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn value;\n\t},\n\n\t_calculate: function(left, operator, right) {\n\t\treturn paper.PaperScript.calculateBinary(left, operator, right);\n\t},\n\n\t_parseKeys: function(keys) {\n\t\tvar parsed = {};\n\t\tfor (var i = 0, l = keys.length; i < l; i++) {\n\t\t\tvar key = keys[i],\n\t\t\t\tpath = key\n\t\t\t\t\t.replace(/\\.([^.]*)/g, '/$1')\n\t\t\t\t\t.replace(/\\[['\"]?([^'\"\\]]*)['\"]?\\]/g, '/$1');\n\t\t\tparsed[key] = path.split('/');\n\t\t}\n\t\treturn parsed;\n\t},\n\n\t_getProperty: function(path, offset) {\n\t\tvar obj = this.object;\n\t\tfor (var i = 0, l = path.length - (offset || 0); i < l && obj; i++) {\n\t\t\tobj = obj[path[i]];\n\t\t}\n\t\treturn obj;\n\t},\n\n\t_setProperty: function(path, value) {\n\t\tvar dest = this._getProperty(path, 1);\n\t\tif (dest) {\n\t\t\tdest[path[path.length - 1]] = value;\n\t\t}\n\t}\n});\n\nvar Http = {\n\trequest: function(options) {\n\t\tvar xhr = new self.XMLHttpRequest();\n\t\txhr.open((options.method || 'get').toUpperCase(), options.url,\n\t\t\t\tBase.pick(options.async, true));\n\t\tif (options.mimeType)\n\t\t\txhr.overrideMimeType(options.mimeType);\n\t\txhr.onload = function() {\n\t\t\tvar status = xhr.status;\n\t\t\tif (status === 0 || status === 200) {\n\t\t\t\tif (options.onLoad) {\n\t\t\t\t\toptions.onLoad.call(xhr, xhr.responseText);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\txhr.onerror();\n\t\t\t}\n\t\t};\n\t\txhr.onerror = function() {\n\t\t\tvar status = xhr.status,\n\t\t\t\tmessage = 'Could not load \"' + options.url + '\" (Status: '\n\t\t\t\t\t\t+ status + ')';\n\t\t\tif (options.onError) {\n\t\t\t\toptions.onError(message, status);\n\t\t\t} else {\n\t\t\t\tthrow new Error(message);\n\t\t\t}\n\t\t};\n\t\treturn xhr.send(null);\n\t}\n};\n\nvar CanvasProvider = {\n\tcanvases: [],\n\n\tgetCanvas: function(width, height) {\n\t\tif (!window)\n\t\t\treturn null;\n\t\tvar canvas,\n\t\t\tclear = true;\n\t\tif (typeof width === 'object') {\n\t\t\theight = width.height;\n\t\t\twidth = width.width;\n\t\t}\n\t\tif (this.canvases.length) {\n\t\t\tcanvas = this.canvases.pop();\n\t\t} else {\n\t\t\tcanvas = document.createElement('canvas');\n\t\t\tclear = false;\n\t\t}\n\t\tvar ctx = canvas.getContext('2d');\n\t\tif (!ctx) {\n\t\t\tthrow new Error('Canvas ' + canvas +\n\t\t\t\t\t' is unable to provide a 2D context.');\n\t\t}\n\t\tif (canvas.width === width && canvas.height === height) {\n\t\t\tif (clear)\n\t\t\t\tctx.clearRect(0, 0, width + 1, height + 1);\n\t\t} else {\n\t\t\tcanvas.width = width;\n\t\t\tcanvas.height = height;\n\t\t}\n\t\tctx.save();\n\t\treturn canvas;\n\t},\n\n\tgetContext: function(width, height) {\n\t\tvar canvas = this.getCanvas(width, height);\n\t\treturn canvas ? canvas.getContext('2d') : null;\n\t},\n\n\trelease: function(obj) {\n\t\tvar canvas = obj && obj.canvas ? obj.canvas : obj;\n\t\tif (canvas && canvas.getContext) {\n\t\t\tcanvas.getContext('2d').restore();\n\t\t\tthis.canvases.push(canvas);\n\t\t}\n\t}\n};\n\nvar BlendMode = new function() {\n\tvar min = Math.min,\n\t\tmax = Math.max,\n\t\tabs = Math.abs,\n\t\tsr, sg, sb, sa,\n\t\tbr, bg, bb, ba,\n\t\tdr, dg, db;\n\n\tfunction getLum(r, g, b) {\n\t\treturn 0.2989 * r + 0.587 * g + 0.114 * b;\n\t}\n\n\tfunction setLum(r, g, b, l) {\n\t\tvar d = l - getLum(r, g, b);\n\t\tdr = r + d;\n\t\tdg = g + d;\n\t\tdb = b + d;\n\t\tvar l = getLum(dr, dg, db),\n\t\t\tmn = min(dr, dg, db),\n\t\t\tmx = max(dr, dg, db);\n\t\tif (mn < 0) {\n\t\t\tvar lmn = l - mn;\n\t\t\tdr = l + (dr - l) * l / lmn;\n\t\t\tdg = l + (dg - l) * l / lmn;\n\t\t\tdb = l + (db - l) * l / lmn;\n\t\t}\n\t\tif (mx > 255) {\n\t\t\tvar ln = 255 - l,\n\t\t\t\tmxl = mx - l;\n\t\t\tdr = l + (dr - l) * ln / mxl;\n\t\t\tdg = l + (dg - l) * ln / mxl;\n\t\t\tdb = l + (db - l) * ln / mxl;\n\t\t}\n\t}\n\n\tfunction getSat(r, g, b) {\n\t\treturn max(r, g, b) - min(r, g, b);\n\t}\n\n\tfunction setSat(r, g, b, s) {\n\t\tvar col = [r, g, b],\n\t\t\tmx = max(r, g, b),\n\t\t\tmn = min(r, g, b),\n\t\t\tmd;\n\t\tmn = mn === r ? 0 : mn === g ? 1 : 2;\n\t\tmx = mx === r ? 0 : mx === g ? 1 : 2;\n\t\tmd = min(mn, mx) === 0 ? max(mn, mx) === 1 ? 2 : 1 : 0;\n\t\tif (col[mx] > col[mn]) {\n\t\t\tcol[md] = (col[md] - col[mn]) * s / (col[mx] - col[mn]);\n\t\t\tcol[mx] = s;\n\t\t} else {\n\t\t\tcol[md] = col[mx] = 0;\n\t\t}\n\t\tcol[mn] = 0;\n\t\tdr = col[0];\n\t\tdg = col[1];\n\t\tdb = col[2];\n\t}\n\n\tvar modes = {\n\t\tmultiply: function() {\n\t\t\tdr = br * sr / 255;\n\t\t\tdg = bg * sg / 255;\n\t\t\tdb = bb * sb / 255;\n\t\t},\n\n\t\tscreen: function() {\n\t\t\tdr = br + sr - (br * sr / 255);\n\t\t\tdg = bg + sg - (bg * sg / 255);\n\t\t\tdb = bb + sb - (bb * sb / 255);\n\t\t},\n\n\t\toverlay: function() {\n\t\t\tdr = br < 128 ? 2 * br * sr / 255 : 255 - 2 * (255 - br) * (255 - sr) / 255;\n\t\t\tdg = bg < 128 ? 2 * bg * sg / 255 : 255 - 2 * (255 - bg) * (255 - sg) / 255;\n\t\t\tdb = bb < 128 ? 2 * bb * sb / 255 : 255 - 2 * (255 - bb) * (255 - sb) / 255;\n\t\t},\n\n\t\t'soft-light': function() {\n\t\t\tvar t = sr * br / 255;\n\t\t\tdr = t + br * (255 - (255 - br) * (255 - sr) / 255 - t) / 255;\n\t\t\tt = sg * bg / 255;\n\t\t\tdg = t + bg * (255 - (255 - bg) * (255 - sg) / 255 - t) / 255;\n\t\t\tt = sb * bb / 255;\n\t\t\tdb = t + bb * (255 - (255 - bb) * (255 - sb) / 255 - t) / 255;\n\t\t},\n\n\t\t'hard-light': function() {\n\t\t\tdr = sr < 128 ? 2 * sr * br / 255 : 255 - 2 * (255 - sr) * (255 - br) / 255;\n\t\t\tdg = sg < 128 ? 2 * sg * bg / 255 : 255 - 2 * (255 - sg) * (255 - bg) / 255;\n\t\t\tdb = sb < 128 ? 2 * sb * bb / 255 : 255 - 2 * (255 - sb) * (255 - bb) / 255;\n\t\t},\n\n\t\t'color-dodge': function() {\n\t\t\tdr = br === 0 ? 0 : sr === 255 ? 255 : min(255, 255 * br / (255 - sr));\n\t\t\tdg = bg === 0 ? 0 : sg === 255 ? 255 : min(255, 255 * bg / (255 - sg));\n\t\t\tdb = bb === 0 ? 0 : sb === 255 ? 255 : min(255, 255 * bb / (255 - sb));\n\t\t},\n\n\t\t'color-burn': function() {\n\t\t\tdr = br === 255 ? 255 : sr === 0 ? 0 : max(0, 255 - (255 - br) * 255 / sr);\n\t\t\tdg = bg === 255 ? 255 : sg === 0 ? 0 : max(0, 255 - (255 - bg) * 255 / sg);\n\t\t\tdb = bb === 255 ? 255 : sb === 0 ? 0 : max(0, 255 - (255 - bb) * 255 / sb);\n\t\t},\n\n\t\tdarken: function() {\n\t\t\tdr = br < sr ? br : sr;\n\t\t\tdg = bg < sg ? bg : sg;\n\t\t\tdb = bb < sb ? bb : sb;\n\t\t},\n\n\t\tlighten: function() {\n\t\t\tdr = br > sr ? br : sr;\n\t\t\tdg = bg > sg ? bg : sg;\n\t\t\tdb = bb > sb ? bb : sb;\n\t\t},\n\n\t\tdifference: function() {\n\t\t\tdr = br - sr;\n\t\t\tif (dr < 0)\n\t\t\t\tdr = -dr;\n\t\t\tdg = bg - sg;\n\t\t\tif (dg < 0)\n\t\t\t\tdg = -dg;\n\t\t\tdb = bb - sb;\n\t\t\tif (db < 0)\n\t\t\t\tdb = -db;\n\t\t},\n\n\t\texclusion: function() {\n\t\t\tdr = br + sr * (255 - br - br) / 255;\n\t\t\tdg = bg + sg * (255 - bg - bg) / 255;\n\t\t\tdb = bb + sb * (255 - bb - bb) / 255;\n\t\t},\n\n\t\thue: function() {\n\t\t\tsetSat(sr, sg, sb, getSat(br, bg, bb));\n\t\t\tsetLum(dr, dg, db, getLum(br, bg, bb));\n\t\t},\n\n\t\tsaturation: function() {\n\t\t\tsetSat(br, bg, bb, getSat(sr, sg, sb));\n\t\t\tsetLum(dr, dg, db, getLum(br, bg, bb));\n\t\t},\n\n\t\tluminosity: function() {\n\t\t\tsetLum(br, bg, bb, getLum(sr, sg, sb));\n\t\t},\n\n\t\tcolor: function() {\n\t\t\tsetLum(sr, sg, sb, getLum(br, bg, bb));\n\t\t},\n\n\t\tadd: function() {\n\t\t\tdr = min(br + sr, 255);\n\t\t\tdg = min(bg + sg, 255);\n\t\t\tdb = min(bb + sb, 255);\n\t\t},\n\n\t\tsubtract: function() {\n\t\t\tdr = max(br - sr, 0);\n\t\t\tdg = max(bg - sg, 0);\n\t\t\tdb = max(bb - sb, 0);\n\t\t},\n\n\t\taverage: function() {\n\t\t\tdr = (br + sr) / 2;\n\t\t\tdg = (bg + sg) / 2;\n\t\t\tdb = (bb + sb) / 2;\n\t\t},\n\n\t\tnegation: function() {\n\t\t\tdr = 255 - abs(255 - sr - br);\n\t\t\tdg = 255 - abs(255 - sg - bg);\n\t\t\tdb = 255 - abs(255 - sb - bb);\n\t\t}\n\t};\n\n\tvar nativeModes = this.nativeModes = Base.each([\n\t\t'source-over', 'source-in', 'source-out', 'source-atop',\n\t\t'destination-over', 'destination-in', 'destination-out',\n\t\t'destination-atop', 'lighter', 'darker', 'copy', 'xor'\n\t], function(mode) {\n\t\tthis[mode] = true;\n\t}, {});\n\n\tvar ctx = CanvasProvider.getContext(1, 1);\n\tif (ctx) {\n\t\tBase.each(modes, function(func, mode) {\n\t\t\tvar darken = mode === 'darken',\n\t\t\t\tok = false;\n\t\t\tctx.save();\n\t\t\ttry {\n\t\t\t\tctx.fillStyle = darken ? '#300' : '#a00';\n\t\t\t\tctx.fillRect(0, 0, 1, 1);\n\t\t\t\tctx.globalCompositeOperation = mode;\n\t\t\t\tif (ctx.globalCompositeOperation === mode) {\n\t\t\t\t\tctx.fillStyle = darken ? '#a00' : '#300';\n\t\t\t\t\tctx.fillRect(0, 0, 1, 1);\n\t\t\t\t\tok = ctx.getImageData(0, 0, 1, 1).data[0] !== darken\n\t\t\t\t\t\t\t? 170 : 51;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\t\t\tctx.restore();\n\t\t\tnativeModes[mode] = ok;\n\t\t});\n\t\tCanvasProvider.release(ctx);\n\t}\n\n\tthis.process = function(mode, srcContext, dstContext, alpha, offset) {\n\t\tvar srcCanvas = srcContext.canvas,\n\t\t\tnormal = mode === 'normal';\n\t\tif (normal || nativeModes[mode]) {\n\t\t\tdstContext.save();\n\t\t\tdstContext.setTransform(1, 0, 0, 1, 0, 0);\n\t\t\tdstContext.globalAlpha = alpha;\n\t\t\tif (!normal)\n\t\t\t\tdstContext.globalCompositeOperation = mode;\n\t\t\tdstContext.drawImage(srcCanvas, offset.x, offset.y);\n\t\t\tdstContext.restore();\n\t\t} else {\n\t\t\tvar process = modes[mode];\n\t\t\tif (!process)\n\t\t\t\treturn;\n\t\t\tvar dstData = dstContext.getImageData(offset.x, offset.y,\n\t\t\t\t\tsrcCanvas.width, srcCanvas.height),\n\t\t\t\tdst = dstData.data,\n\t\t\t\tsrc = srcContext.getImageData(0, 0,\n\t\t\t\t\tsrcCanvas.width, srcCanvas.height).data;\n\t\t\tfor (var i = 0, l = dst.length; i < l; i += 4) {\n\t\t\t\tsr = src[i];\n\t\t\t\tbr = dst[i];\n\t\t\t\tsg = src[i + 1];\n\t\t\t\tbg = dst[i + 1];\n\t\t\t\tsb = src[i + 2];\n\t\t\t\tbb = dst[i + 2];\n\t\t\t\tsa = src[i + 3];\n\t\t\t\tba = dst[i + 3];\n\t\t\t\tprocess();\n\t\t\t\tvar a1 = sa * alpha / 255,\n\t\t\t\t\ta2 = 1 - a1;\n\t\t\t\tdst[i] = a1 * dr + a2 * br;\n\t\t\t\tdst[i + 1] = a1 * dg + a2 * bg;\n\t\t\t\tdst[i + 2] = a1 * db + a2 * bb;\n\t\t\t\tdst[i + 3] = sa * alpha + a2 * ba;\n\t\t\t}\n\t\t\tdstContext.putImageData(dstData, offset.x, offset.y);\n\t\t}\n\t};\n};\n\nvar SvgElement = new function() {\n\tvar svg = 'http://www.w3.org/2000/svg',\n\t\txmlns = 'http://www.w3.org/2000/xmlns',\n\t\txlink = 'http://www.w3.org/1999/xlink',\n\t\tattributeNamespace = {\n\t\t\thref: xlink,\n\t\t\txlink: xmlns,\n\t\t\txmlns: xmlns + '/',\n\t\t\t'xmlns:xlink': xmlns + '/'\n\t\t};\n\n\tfunction create(tag, attributes, formatter) {\n\t\treturn set(document.createElementNS(svg, tag), attributes, formatter);\n\t}\n\n\tfunction get(node, name) {\n\t\tvar namespace = attributeNamespace[name],\n\t\t\tvalue = namespace\n\t\t\t\t? node.getAttributeNS(namespace, name)\n\t\t\t\t: node.getAttribute(name);\n\t\treturn value === 'null' ? null : value;\n\t}\n\n\tfunction set(node, attributes, formatter) {\n\t\tfor (var name in attributes) {\n\t\t\tvar value = attributes[name],\n\t\t\t\tnamespace = attributeNamespace[name];\n\t\t\tif (typeof value === 'number' && formatter)\n\t\t\t\tvalue = formatter.number(value);\n\t\t\tif (namespace) {\n\t\t\t\tnode.setAttributeNS(namespace, name, value);\n\t\t\t} else {\n\t\t\t\tnode.setAttribute(name, value);\n\t\t\t}\n\t\t}\n\t\treturn node;\n\t}\n\n\treturn {\n\t\tsvg: svg,\n\t\txmlns: xmlns,\n\t\txlink: xlink,\n\n\t\tcreate: create,\n\t\tget: get,\n\t\tset: set\n\t};\n};\n\nvar SvgStyles = Base.each({\n\tfillColor: ['fill', 'color'],\n\tfillRule: ['fill-rule', 'string'],\n\tstrokeColor: ['stroke', 'color'],\n\tstrokeWidth: ['stroke-width', 'number'],\n\tstrokeCap: ['stroke-linecap', 'string'],\n\tstrokeJoin: ['stroke-linejoin', 'string'],\n\tstrokeScaling: ['vector-effect', 'lookup', {\n\t\ttrue: 'none',\n\t\tfalse: 'non-scaling-stroke'\n\t}, function(item, value) {\n\t\treturn !value\n\t\t\t\t&& (item instanceof PathItem\n\t\t\t\t\t|| item instanceof Shape\n\t\t\t\t\t|| item instanceof TextItem);\n\t}],\n\tmiterLimit: ['stroke-miterlimit', 'number'],\n\tdashArray: ['stroke-dasharray', 'array'],\n\tdashOffset: ['stroke-dashoffset', 'number'],\n\tfontFamily: ['font-family', 'string'],\n\tfontWeight: ['font-weight', 'string'],\n\tfontSize: ['font-size', 'number'],\n\tjustification: ['text-anchor', 'lookup', {\n\t\tleft: 'start',\n\t\tcenter: 'middle',\n\t\tright: 'end'\n\t}],\n\topacity: ['opacity', 'number'],\n\tblendMode: ['mix-blend-mode', 'style']\n}, function(entry, key) {\n\tvar part = Base.capitalize(key),\n\t\tlookup = entry[2];\n\tthis[key] = {\n\t\ttype: entry[1],\n\t\tproperty: key,\n\t\tattribute: entry[0],\n\t\ttoSVG: lookup,\n\t\tfromSVG: lookup && Base.each(lookup, function(value, name) {\n\t\t\tthis[value] = name;\n\t\t}, {}),\n\t\texportFilter: entry[3],\n\t\tget: 'get' + part,\n\t\tset: 'set' + part\n\t};\n}, {});\n\nnew function() {\n\tvar formatter;\n\n\tfunction getTransform(matrix, coordinates, center) {\n\t\tvar attrs = new Base(),\n\t\t\ttrans = matrix.getTranslation();\n\t\tif (coordinates) {\n\t\t\tvar point;\n\t\t\tif (matrix.isInvertible()) {\n\t\t\t\tmatrix = matrix._shiftless();\n\t\t\t\tpoint = matrix._inverseTransform(trans);\n\t\t\t\ttrans = null;\n\t\t\t} else {\n\t\t\t\tpoint = new Point();\n\t\t\t}\n\t\t\tattrs[center ? 'cx' : 'x'] = point.x;\n\t\t\tattrs[center ? 'cy' : 'y'] = point.y;\n\t\t}\n\t\tif (!matrix.isIdentity()) {\n\t\t\tvar decomposed = matrix.decompose();\n\t\t\tif (decomposed) {\n\t\t\t\tvar parts = [],\n\t\t\t\t\tangle = decomposed.rotation,\n\t\t\t\t\tscale = decomposed.scaling,\n\t\t\t\t\tskew = decomposed.skewing;\n\t\t\t\tif (trans && !trans.isZero())\n\t\t\t\t\tparts.push('translate(' + formatter.point(trans) + ')');\n\t\t\t\tif (angle)\n\t\t\t\t\tparts.push('rotate(' + formatter.number(angle) + ')');\n\t\t\t\tif (!Numerical.isZero(scale.x - 1)\n\t\t\t\t\t\t|| !Numerical.isZero(scale.y - 1))\n\t\t\t\t\tparts.push('scale(' + formatter.point(scale) +')');\n\t\t\t\tif (skew.x)\n\t\t\t\t\tparts.push('skewX(' + formatter.number(skew.x) + ')');\n\t\t\t\tif (skew.y)\n\t\t\t\t\tparts.push('skewY(' + formatter.number(skew.y) + ')');\n\t\t\t\tattrs.transform = parts.join(' ');\n\t\t\t} else {\n\t\t\t\tattrs.transform = 'matrix(' + matrix.getValues().join(',') + ')';\n\t\t\t}\n\t\t}\n\t\treturn attrs;\n\t}\n\n\tfunction exportGroup(item, options) {\n\t\tvar attrs = getTransform(item._matrix),\n\t\t\tchildren = item._children;\n\t\tvar node = SvgElement.create('g', attrs, formatter);\n\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\tvar child = children[i];\n\t\t\tvar childNode = exportSVG(child, options);\n\t\t\tif (childNode) {\n\t\t\t\tif (child.isClipMask()) {\n\t\t\t\t\tvar clip = SvgElement.create('clipPath');\n\t\t\t\t\tclip.appendChild(childNode);\n\t\t\t\t\tsetDefinition(child, clip, 'clip');\n\t\t\t\t\tSvgElement.set(node, {\n\t\t\t\t\t\t'clip-path': 'url(#' + clip.id + ')'\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tnode.appendChild(childNode);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn node;\n\t}\n\n\tfunction exportRaster(item, options) {\n\t\tvar attrs = getTransform(item._matrix, true),\n\t\t\tsize = item.getSize(),\n\t\t\timage = item.getImage();\n\t\tattrs.x -= size.width / 2;\n\t\tattrs.y -= size.height / 2;\n\t\tattrs.width = size.width;\n\t\tattrs.height = size.height;\n\t\tattrs.href = options.embedImages == false && image && image.src\n\t\t\t\t|| item.toDataURL();\n\t\treturn SvgElement.create('image', attrs, formatter);\n\t}\n\n\tfunction exportPath(item, options) {\n\t\tvar matchShapes = options.matchShapes;\n\t\tif (matchShapes) {\n\t\t\tvar shape = item.toShape(false);\n\t\t\tif (shape)\n\t\t\t\treturn exportShape(shape, options);\n\t\t}\n\t\tvar segments = item._segments,\n\t\t\tlength = segments.length,\n\t\t\ttype,\n\t\t\tattrs = getTransform(item._matrix);\n\t\tif (matchShapes && length >= 2 && !item.hasHandles()) {\n\t\t\tif (length > 2) {\n\t\t\t\ttype = item._closed ? 'polygon' : 'polyline';\n\t\t\t\tvar parts = [];\n\t\t\t\tfor (var i = 0; i < length; i++) {\n\t\t\t\t\tparts.push(formatter.point(segments[i]._point));\n\t\t\t\t}\n\t\t\t\tattrs.points = parts.join(' ');\n\t\t\t} else {\n\t\t\t\ttype = 'line';\n\t\t\t\tvar start = segments[0]._point,\n\t\t\t\t\tend = segments[1]._point;\n\t\t\t\tattrs.set({\n\t\t\t\t\tx1: start.x,\n\t\t\t\t\ty1: start.y,\n\t\t\t\t\tx2: end.x,\n\t\t\t\t\ty2: end.y\n\t\t\t\t});\n\t\t\t}\n\t\t} else {\n\t\t\ttype = 'path';\n\t\t\tattrs.d = item.getPathData(null, options.precision);\n\t\t}\n\t\treturn SvgElement.create(type, attrs, formatter);\n\t}\n\n\tfunction exportShape(item) {\n\t\tvar type = item._type,\n\t\t\tradius = item._radius,\n\t\t\tattrs = getTransform(item._matrix, true, type !== 'rectangle');\n\t\tif (type === 'rectangle') {\n\t\t\ttype = 'rect';\n\t\t\tvar size = item._size,\n\t\t\t\twidth = size.width,\n\t\t\t\theight = size.height;\n\t\t\tattrs.x -= width / 2;\n\t\t\tattrs.y -= height / 2;\n\t\t\tattrs.width = width;\n\t\t\tattrs.height = height;\n\t\t\tif (radius.isZero())\n\t\t\t\tradius = null;\n\t\t}\n\t\tif (radius) {\n\t\t\tif (type === 'circle') {\n\t\t\t\tattrs.r = radius;\n\t\t\t} else {\n\t\t\t\tattrs.rx = radius.width;\n\t\t\t\tattrs.ry = radius.height;\n\t\t\t}\n\t\t}\n\t\treturn SvgElement.create(type, attrs, formatter);\n\t}\n\n\tfunction exportCompoundPath(item, options) {\n\t\tvar attrs = getTransform(item._matrix);\n\t\tvar data = item.getPathData(null, options.precision);\n\t\tif (data)\n\t\t\tattrs.d = data;\n\t\treturn SvgElement.create('path', attrs, formatter);\n\t}\n\n\tfunction exportSymbolItem(item, options) {\n\t\tvar attrs = getTransform(item._matrix, true),\n\t\t\tdefinition = item._definition,\n\t\t\tnode = getDefinition(definition, 'symbol'),\n\t\t\tdefinitionItem = definition._item,\n\t\t\tbounds = definitionItem.getStrokeBounds();\n\t\tif (!node) {\n\t\t\tnode = SvgElement.create('symbol', {\n\t\t\t\tviewBox: formatter.rectangle(bounds)\n\t\t\t});\n\t\t\tnode.appendChild(exportSVG(definitionItem, options));\n\t\t\tsetDefinition(definition, node, 'symbol');\n\t\t}\n\t\tattrs.href = '#' + node.id;\n\t\tattrs.x += bounds.x;\n\t\tattrs.y += bounds.y;\n\t\tattrs.width = bounds.width;\n\t\tattrs.height = bounds.height;\n\t\tattrs.overflow = 'visible';\n\t\treturn SvgElement.create('use', attrs, formatter);\n\t}\n\n\tfunction exportGradient(color) {\n\t\tvar gradientNode = getDefinition(color, 'color');\n\t\tif (!gradientNode) {\n\t\t\tvar gradient = color.getGradient(),\n\t\t\t\tradial = gradient._radial,\n\t\t\t\torigin = color.getOrigin(),\n\t\t\t\tdestination = color.getDestination(),\n\t\t\t\tattrs;\n\t\t\tif (radial) {\n\t\t\t\tattrs = {\n\t\t\t\t\tcx: origin.x,\n\t\t\t\t\tcy: origin.y,\n\t\t\t\t\tr: origin.getDistance(destination)\n\t\t\t\t};\n\t\t\t\tvar highlight = color.getHighlight();\n\t\t\t\tif (highlight) {\n\t\t\t\t\tattrs.fx = highlight.x;\n\t\t\t\t\tattrs.fy = highlight.y;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tattrs = {\n\t\t\t\t\tx1: origin.x,\n\t\t\t\t\ty1: origin.y,\n\t\t\t\t\tx2: destination.x,\n\t\t\t\t\ty2: destination.y\n\t\t\t\t};\n\t\t\t}\n\t\t\tattrs.gradientUnits = 'userSpaceOnUse';\n\t\t\tgradientNode = SvgElement.create((radial ? 'radial' : 'linear')\n\t\t\t\t\t+ 'Gradient', attrs, formatter);\n\t\t\tvar stops = gradient._stops;\n\t\t\tfor (var i = 0, l = stops.length; i < l; i++) {\n\t\t\t\tvar stop = stops[i],\n\t\t\t\t\tstopColor = stop._color,\n\t\t\t\t\talpha = stopColor.getAlpha(),\n\t\t\t\t\toffset = stop._offset;\n\t\t\t\tattrs = {\n\t\t\t\t\toffset: offset == null ? i / (l - 1) : offset\n\t\t\t\t};\n\t\t\t\tif (stopColor)\n\t\t\t\t\tattrs['stop-color'] = stopColor.toCSS(true);\n\t\t\t\tif (alpha < 1)\n\t\t\t\t\tattrs['stop-opacity'] = alpha;\n\t\t\t\tgradientNode.appendChild(\n\t\t\t\t\t\tSvgElement.create('stop', attrs, formatter));\n\t\t\t}\n\t\t\tsetDefinition(color, gradientNode, 'color');\n\t\t}\n\t\treturn 'url(#' + gradientNode.id + ')';\n\t}\n\n\tfunction exportText(item) {\n\t\tvar node = SvgElement.create('text', getTransform(item._matrix, true),\n\t\t\t\tformatter);\n\t\tnode.textContent = item._content;\n\t\treturn node;\n\t}\n\n\tvar exporters = {\n\t\tGroup: exportGroup,\n\t\tLayer: exportGroup,\n\t\tRaster: exportRaster,\n\t\tPath: exportPath,\n\t\tShape: exportShape,\n\t\tCompoundPath: exportCompoundPath,\n\t\tSymbolItem: exportSymbolItem,\n\t\tPointText: exportText\n\t};\n\n\tfunction applyStyle(item, node, isRoot) {\n\t\tvar attrs = {},\n\t\t\tparent = !isRoot && item.getParent(),\n\t\t\tstyle = [];\n\n\t\tif (item._name != null)\n\t\t\tattrs.id = item._name;\n\n\t\tBase.each(SvgStyles, function(entry) {\n\t\t\tvar get = entry.get,\n\t\t\t\ttype = entry.type,\n\t\t\t\tvalue = item[get]();\n\t\t\tif (entry.exportFilter\n\t\t\t\t\t? entry.exportFilter(item, value)\n\t\t\t\t\t: !parent || !Base.equals(parent[get](), value)) {\n\t\t\t\tif (type === 'color' && value != null) {\n\t\t\t\t\tvar alpha = value.getAlpha();\n\t\t\t\t\tif (alpha < 1)\n\t\t\t\t\t\tattrs[entry.attribute + '-opacity'] = alpha;\n\t\t\t\t}\n\t\t\t\tif (type === 'style') {\n\t\t\t\t\tstyle.push(entry.attribute + ': ' + value);\n\t\t\t\t} else {\n\t\t\t\t\tattrs[entry.attribute] = value == null ? 'none'\n\t\t\t\t\t\t\t: type === 'color' ? value.gradient\n\t\t\t\t\t\t\t\t? exportGradient(value, item)\n\t\t\t\t\t\t\t\t: value.toCSS(true)\n\t\t\t\t\t\t\t: type === 'array' ? value.join(',')\n\t\t\t\t\t\t\t: type === 'lookup' ? entry.toSVG[value]\n\t\t\t\t\t\t\t: value;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif (style.length)\n\t\t\tattrs.style = style.join(';');\n\n\t\tif (attrs.opacity === 1)\n\t\t\tdelete attrs.opacity;\n\n\t\tif (!item._visible)\n\t\t\tattrs.visibility = 'hidden';\n\n\t\treturn SvgElement.set(node, attrs, formatter);\n\t}\n\n\tvar definitions;\n\tfunction getDefinition(item, type) {\n\t\tif (!definitions)\n\t\t\tdefinitions = { ids: {}, svgs: {} };\n\t\treturn item && definitions.svgs[type + '-'\n\t\t\t\t+ (item._id || item.__id || (item.__id = UID.get('svg')))];\n\t}\n\n\tfunction setDefinition(item, node, type) {\n\t\tif (!definitions)\n\t\t\tgetDefinition();\n\t\tvar typeId = definitions.ids[type] = (definitions.ids[type] || 0) + 1;\n\t\tnode.id = type + '-' + typeId;\n\t\tdefinitions.svgs[type + '-' + (item._id || item.__id)] = node;\n\t}\n\n\tfunction exportDefinitions(node, options) {\n\t\tvar svg = node,\n\t\t\tdefs = null;\n\t\tif (definitions) {\n\t\t\tsvg = node.nodeName.toLowerCase() === 'svg' && node;\n\t\t\tfor (var i in definitions.svgs) {\n\t\t\t\tif (!defs) {\n\t\t\t\t\tif (!svg) {\n\t\t\t\t\t\tsvg = SvgElement.create('svg');\n\t\t\t\t\t\tsvg.appendChild(node);\n\t\t\t\t\t}\n\t\t\t\t\tdefs = svg.insertBefore(SvgElement.create('defs'),\n\t\t\t\t\t\t\tsvg.firstChild);\n\t\t\t\t}\n\t\t\t\tdefs.appendChild(definitions.svgs[i]);\n\t\t\t}\n\t\t\tdefinitions = null;\n\t\t}\n\t\treturn options.asString\n\t\t\t\t? new self.XMLSerializer().serializeToString(svg)\n\t\t\t\t: svg;\n\t}\n\n\tfunction exportSVG(item, options, isRoot) {\n\t\tvar exporter = exporters[item._class],\n\t\t\tnode = exporter && exporter(item, options);\n\t\tif (node) {\n\t\t\tvar onExport = options.onExport;\n\t\t\tif (onExport)\n\t\t\t\tnode = onExport(item, node, options) || node;\n\t\t\tvar data = JSON.stringify(item._data);\n\t\t\tif (data && data !== '{}' && data !== 'null')\n\t\t\t\tnode.setAttribute('data-paper-data', data);\n\t\t}\n\t\treturn node && applyStyle(item, node, isRoot);\n\t}\n\n\tfunction setOptions(options) {\n\t\tif (!options)\n\t\t\toptions = {};\n\t\tformatter = new Formatter(options.precision);\n\t\treturn options;\n\t}\n\n\tItem.inject({\n\t\texportSVG: function(options) {\n\t\t\toptions = setOptions(options);\n\t\t\treturn exportDefinitions(exportSVG(this, options, true), options);\n\t\t}\n\t});\n\n\tProject.inject({\n\t\texportSVG: function(options) {\n\t\t\toptions = setOptions(options);\n\t\t\tvar children = this._children,\n\t\t\t\tview = this.getView(),\n\t\t\t\tbounds = Base.pick(options.bounds, 'view'),\n\t\t\t\tmx = options.matrix || bounds === 'view' && view._matrix,\n\t\t\t\tmatrix = mx && Matrix.read([mx]),\n\t\t\t\trect = bounds === 'view'\n\t\t\t\t\t? new Rectangle([0, 0], view.getViewSize())\n\t\t\t\t\t: bounds === 'content'\n\t\t\t\t\t\t? Item._getBounds(children, matrix, { stroke: true })\n\t\t\t\t\t\t\t.rect\n\t\t\t\t\t\t: Rectangle.read([bounds], 0, { readNull: true }),\n\t\t\t\tattrs = {\n\t\t\t\t\tversion: '1.1',\n\t\t\t\t\txmlns: SvgElement.svg,\n\t\t\t\t\t'xmlns:xlink': SvgElement.xlink,\n\t\t\t\t};\n\t\t\tif (rect) {\n\t\t\t\tattrs.width = rect.width;\n\t\t\t\tattrs.height = rect.height;\n\t\t\t\tif (rect.x || rect.x === 0 || rect.y || rect.y === 0)\n\t\t\t\t\tattrs.viewBox = formatter.rectangle(rect);\n\t\t\t}\n\t\t\tvar node = SvgElement.create('svg', attrs, formatter),\n\t\t\t\tparent = node;\n\t\t\tif (matrix && !matrix.isIdentity()) {\n\t\t\t\tparent = node.appendChild(SvgElement.create('g',\n\t\t\t\t\t\tgetTransform(matrix), formatter));\n\t\t\t}\n\t\t\tfor (var i = 0, l = children.length; i < l; i++) {\n\t\t\t\tparent.appendChild(exportSVG(children[i], options, true));\n\t\t\t}\n\t\t\treturn exportDefinitions(node, options);\n\t\t}\n\t});\n};\n\nnew function() {\n\n\tvar definitions = {},\n\t\trootSize;\n\n\tfunction getValue(node, name, isString, allowNull, allowPercent,\n\t\t\tdefaultValue) {\n\t\tvar value = SvgElement.get(node, name) || defaultValue,\n\t\t\tres = value == null\n\t\t\t\t? allowNull\n\t\t\t\t\t? null\n\t\t\t\t\t: isString ? '' : 0\n\t\t\t\t: isString\n\t\t\t\t\t? value\n\t\t\t\t\t: parseFloat(value);\n\t\treturn /%\\s*$/.test(value)\n\t\t\t? (res / 100) * (allowPercent ? 1\n\t\t\t\t: rootSize[/x|^width/.test(name) ? 'width' : 'height'])\n\t\t\t: res;\n\t}\n\n\tfunction getPoint(node, x, y, allowNull, allowPercent, defaultX, defaultY) {\n\t\tx = getValue(node, x || 'x', false, allowNull, allowPercent, defaultX);\n\t\ty = getValue(node, y || 'y', false, allowNull, allowPercent, defaultY);\n\t\treturn allowNull && (x == null || y == null) ? null\n\t\t\t\t: new Point(x, y);\n\t}\n\n\tfunction getSize(node, w, h, allowNull, allowPercent) {\n\t\tw = getValue(node, w || 'width', false, allowNull, allowPercent);\n\t\th = getValue(node, h || 'height', false, allowNull, allowPercent);\n\t\treturn allowNull && (w == null || h == null) ? null\n\t\t\t\t: new Size(w, h);\n\t}\n\n\tfunction convertValue(value, type, lookup) {\n\t\treturn value === 'none' ? null\n\t\t\t\t: type === 'number' ? parseFloat(value)\n\t\t\t\t: type === 'array' ?\n\t\t\t\t\tvalue ? value.split(/[\\s,]+/g).map(parseFloat) : []\n\t\t\t\t: type === 'color' ? getDefinition(value) || value\n\t\t\t\t: type === 'lookup' ? lookup[value]\n\t\t\t\t: value;\n\t}\n\n\tfunction importGroup(node, type, options, isRoot) {\n\t\tvar nodes = node.childNodes,\n\t\t\tisClip = type === 'clippath',\n\t\t\tisDefs = type === 'defs',\n\t\t\titem = new Group(),\n\t\t\tproject = item._project,\n\t\t\tcurrentStyle = project._currentStyle,\n\t\t\tchildren = [];\n\t\tif (!isClip && !isDefs) {\n\t\t\titem = applyAttributes(item, node, isRoot);\n\t\t\tproject._currentStyle = item._style.clone();\n\t\t}\n\t\tif (isRoot) {\n\t\t\tvar defs = node.querySelectorAll('defs');\n\t\t\tfor (var i = 0, l = defs.length; i < l; i++) {\n\t\t\t\timportNode(defs[i], options, false);\n\t\t\t}\n\t\t}\n\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\n\t\t\tvar childNode = nodes[i],\n\t\t\t\tchild;\n\t\t\tif (childNode.nodeType === 1\n\t\t\t\t\t&& !/^defs$/i.test(childNode.nodeName)\n\t\t\t\t\t&& (child = importNode(childNode, options, false))\n\t\t\t\t\t&& !(child instanceof SymbolDefinition))\n\t\t\t\tchildren.push(child);\n\t\t}\n\t\titem.addChildren(children);\n\t\tif (isClip)\n\t\t\titem = applyAttributes(item.reduce(), node, isRoot);\n\t\tproject._currentStyle = currentStyle;\n\t\tif (isClip || isDefs) {\n\t\t\titem.remove();\n\t\t\titem = null;\n\t\t}\n\t\treturn item;\n\t}\n\n\tfunction importPoly(node, type) {\n\t\tvar coords = node.getAttribute('points').match(\n\t\t\t\t\t/[+-]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][+-]?\\d+)?/g),\n\t\t\tpoints = [];\n\t\tfor (var i = 0, l = coords.length; i < l; i += 2)\n\t\t\tpoints.push(new Point(\n\t\t\t\t\tparseFloat(coords[i]),\n\t\t\t\t\tparseFloat(coords[i + 1])));\n\t\tvar path = new Path(points);\n\t\tif (type === 'polygon')\n\t\t\tpath.closePath();\n\t\treturn path;\n\t}\n\n\tfunction importPath(node) {\n\t\treturn PathItem.create(node.getAttribute('d'));\n\t}\n\n\tfunction importGradient(node, type) {\n\t\tvar id = (getValue(node, 'href', true) || '').substring(1),\n\t\t\tradial = type === 'radialgradient',\n\t\t\tgradient;\n\t\tif (id) {\n\t\t\tgradient = definitions[id].getGradient();\n\t\t\tif (gradient._radial ^ radial) {\n\t\t\t\tgradient = gradient.clone();\n\t\t\t\tgradient._radial = radial;\n\t\t\t}\n\t\t} else {\n\t\t\tvar nodes = node.childNodes,\n\t\t\t\tstops = [];\n\t\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\n\t\t\t\tvar child = nodes[i];\n\t\t\t\tif (child.nodeType === 1)\n\t\t\t\t\tstops.push(applyAttributes(new GradientStop(), child));\n\t\t\t}\n\t\t\tgradient = new Gradient(stops, radial);\n\t\t}\n\t\tvar origin, destination, highlight,\n\t\t\tscaleToBounds = getValue(node, 'gradientUnits', true) !==\n\t\t\t\t'userSpaceOnUse';\n\t\tif (radial) {\n\t\t\torigin = getPoint(node, 'cx', 'cy', false, scaleToBounds,\n\t\t\t\t'50%', '50%');\n\t\t\tdestination = origin.add(\n\t\t\t\tgetValue(node, 'r', false, false, scaleToBounds, '50%'), 0);\n\t\t\thighlight = getPoint(node, 'fx', 'fy', true, scaleToBounds);\n\t\t} else {\n\t\t\torigin = getPoint(node, 'x1', 'y1', false, scaleToBounds,\n\t\t\t\t'0%', '0%');\n\t\t\tdestination = getPoint(node, 'x2', 'y2', false, scaleToBounds,\n\t\t\t\t'100%', '0%');\n\t\t}\n\t\tvar color = applyAttributes(\n\t\t\t\tnew Color(gradient, origin, destination, highlight), node);\n\t\tcolor._scaleToBounds = scaleToBounds;\n\t\treturn null;\n\t}\n\n\tvar importers = {\n\t\t'#document': function (node, type, options, isRoot) {\n\t\t\tvar nodes = node.childNodes;\n\t\t\tfor (var i = 0, l = nodes.length; i < l; i++) {\n\t\t\t\tvar child = nodes[i];\n\t\t\t\tif (child.nodeType === 1)\n\t\t\t\t\treturn importNode(child, options, isRoot);\n\t\t\t}\n\t\t},\n\t\tg: importGroup,\n\t\tsvg: importGroup,\n\t\tclippath: importGroup,\n\t\tpolygon: importPoly,\n\t\tpolyline: importPoly,\n\t\tpath: importPath,\n\t\tlineargradient: importGradient,\n\t\tradialgradient: importGradient,\n\n\t\timage: function (node) {\n\t\t\tvar raster = new Raster(getValue(node, 'href', true));\n\t\t\traster.on('load', function() {\n\t\t\t\tvar size = getSize(node);\n\t\t\t\tthis.setSize(size);\n\t\t\t\tvar center = getPoint(node).add(size.divide(2));\n\t\t\t\tthis._matrix.append(new Matrix().translate(center));\n\t\t\t});\n\t\t\treturn raster;\n\t\t},\n\n\t\tsymbol: function(node, type, options, isRoot) {\n\t\t\treturn new SymbolDefinition(\n\t\t\t\t\timportGroup(node, type, options, isRoot), true);\n\t\t},\n\n\t\tdefs: importGroup,\n\n\t\tuse: function(node) {\n\t\t\tvar id = (getValue(node, 'href', true) || '').substring(1),\n\t\t\t\tdefinition = definitions[id],\n\t\t\t\tpoint = getPoint(node);\n\t\t\treturn definition\n\t\t\t\t\t? definition instanceof SymbolDefinition\n\t\t\t\t\t\t? definition.place(point)\n\t\t\t\t\t\t: definition.clone().translate(point)\n\t\t\t\t\t: null;\n\t\t},\n\n\t\tcircle: function(node) {\n\t\t\treturn new Shape.Circle(\n\t\t\t\t\tgetPoint(node, 'cx', 'cy'),\n\t\t\t\t\tgetValue(node, 'r'));\n\t\t},\n\n\t\tellipse: function(node) {\n\t\t\treturn new Shape.Ellipse({\n\t\t\t\tcenter: getPoint(node, 'cx', 'cy'),\n\t\t\t\tradius: getSize(node, 'rx', 'ry')\n\t\t\t});\n\t\t},\n\n\t\trect: function(node) {\n\t\t\treturn new Shape.Rectangle(new Rectangle(\n\t\t\t\t\t\tgetPoint(node),\n\t\t\t\t\t\tgetSize(node)\n\t\t\t\t\t), getSize(node, 'rx', 'ry'));\n\t\t\t},\n\n\t\tline: function(node) {\n\t\t\treturn new Path.Line(\n\t\t\t\t\tgetPoint(node, 'x1', 'y1'),\n\t\t\t\t\tgetPoint(node, 'x2', 'y2'));\n\t\t},\n\n\t\ttext: function(node) {\n\t\t\tvar text = new PointText(getPoint(node).add(\n\t\t\t\t\tgetPoint(node, 'dx', 'dy')));\n\t\t\ttext.setContent(node.textContent.trim() || '');\n\t\t\treturn text;\n\t\t},\n\n\t\tswitch: importGroup\n\t};\n\n\tfunction applyTransform(item, value, name, node) {\n\t\tif (item.transform) {\n\t\t\tvar transforms = (node.getAttribute(name) || '').split(/\\)\\s*/g),\n\t\t\t\tmatrix = new Matrix();\n\t\t\tfor (var i = 0, l = transforms.length; i < l; i++) {\n\t\t\t\tvar transform = transforms[i];\n\t\t\t\tif (!transform)\n\t\t\t\t\tbreak;\n\t\t\t\tvar parts = transform.split(/\\(\\s*/),\n\t\t\t\t\tcommand = parts[0],\n\t\t\t\t\tv = parts[1].split(/[\\s,]+/g);\n\t\t\t\tfor (var j = 0, m = v.length; j < m; j++)\n\t\t\t\t\tv[j] = parseFloat(v[j]);\n\t\t\t\tswitch (command) {\n\t\t\t\tcase 'matrix':\n\t\t\t\t\tmatrix.append(\n\t\t\t\t\t\t\tnew Matrix(v[0], v[1], v[2], v[3], v[4], v[5]));\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'rotate':\n\t\t\t\t\tmatrix.rotate(v[0], v[1] || 0, v[2] || 0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'translate':\n\t\t\t\t\tmatrix.translate(v[0], v[1] || 0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'scale':\n\t\t\t\t\tmatrix.scale(v);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'skewX':\n\t\t\t\t\tmatrix.skew(v[0], 0);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'skewY':\n\t\t\t\t\tmatrix.skew(0, v[0]);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\titem.transform(matrix);\n\t\t}\n\t}\n\n\tfunction applyOpacity(item, value, name) {\n\t\tvar key = name === 'fill-opacity' ? 'getFillColor' : 'getStrokeColor',\n\t\t\tcolor = item[key] && item[key]();\n\t\tif (color)\n\t\t\tcolor.setAlpha(parseFloat(value));\n\t}\n\n\tvar attributes = Base.set(Base.each(SvgStyles, function(entry) {\n\t\tthis[entry.attribute] = function(item, value) {\n\t\t\tif (item[entry.set]) {\n\t\t\t\titem[entry.set](convertValue(value, entry.type, entry.fromSVG));\n\t\t\t\tif (entry.type === 'color') {\n\t\t\t\t\tvar color = item[entry.get]();\n\t\t\t\t\tif (color) {\n\t\t\t\t\t\tif (color._scaleToBounds) {\n\t\t\t\t\t\t\tvar bounds = item.getBounds();\n\t\t\t\t\t\t\tcolor.transform(new Matrix()\n\t\t\t\t\t\t\t\t.translate(bounds.getPoint())\n\t\t\t\t\t\t\t\t.scale(bounds.getSize()));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}, {}), {\n\t\tid: function(item, value) {\n\t\t\tdefinitions[value] = item;\n\t\t\tif (item.setName)\n\t\t\t\titem.setName(value);\n\t\t},\n\n\t\t'clip-path': function(item, value) {\n\t\t\tvar clip = getDefinition(value);\n\t\t\tif (clip) {\n\t\t\t\tclip = clip.clone();\n\t\t\t\tclip.setClipMask(true);\n\t\t\t\tif (item instanceof Group) {\n\t\t\t\t\titem.insertChild(0, clip);\n\t\t\t\t} else {\n\t\t\t\t\treturn new Group(clip, item);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tgradientTransform: applyTransform,\n\t\ttransform: applyTransform,\n\n\t\t'fill-opacity': applyOpacity,\n\t\t'stroke-opacity': applyOpacity,\n\n\t\tvisibility: function(item, value) {\n\t\t\tif (item.setVisible)\n\t\t\t\titem.setVisible(value === 'visible');\n\t\t},\n\n\t\tdisplay: function(item, value) {\n\t\t\tif (item.setVisible)\n\t\t\t\titem.setVisible(value !== null);\n\t\t},\n\n\t\t'stop-color': function(item, value) {\n\t\t\tif (item.setColor)\n\t\t\t\titem.setColor(value);\n\t\t},\n\n\t\t'stop-opacity': function(item, value) {\n\t\t\tif (item._color)\n\t\t\t\titem._color.setAlpha(parseFloat(value));\n\t\t},\n\n\t\toffset: function(item, value) {\n\t\t\tif (item.setOffset) {\n\t\t\t\tvar percent = value.match(/(.*)%$/);\n\t\t\t\titem.setOffset(percent ? percent[1] / 100 : parseFloat(value));\n\t\t\t}\n\t\t},\n\n\t\tviewBox: function(item, value, name, node, styles) {\n\t\t\tvar rect = new Rectangle(convertValue(value, 'array')),\n\t\t\t\tsize = getSize(node, null, null, true),\n\t\t\t\tgroup,\n\t\t\t\tmatrix;\n\t\t\tif (item instanceof Group) {\n\t\t\t\tvar scale = size ? size.divide(rect.getSize()) : 1,\n\t\t\t\tmatrix = new Matrix().scale(scale)\n\t\t\t\t\t\t.translate(rect.getPoint().negate());\n\t\t\t\tgroup = item;\n\t\t\t} else if (item instanceof SymbolDefinition) {\n\t\t\t\tif (size)\n\t\t\t\t\trect.setSize(size);\n\t\t\t\tgroup = item._item;\n\t\t\t}\n\t\t\tif (group)  {\n\t\t\t\tif (getAttribute(node, 'overflow', styles) !== 'visible') {\n\t\t\t\t\tvar clip = new Shape.Rectangle(rect);\n\t\t\t\t\tclip.setClipMask(true);\n\t\t\t\t\tgroup.addChild(clip);\n\t\t\t\t}\n\t\t\t\tif (matrix)\n\t\t\t\t\tgroup.transform(matrix);\n\t\t\t}\n\t\t}\n\t});\n\n\tfunction getAttribute(node, name, styles) {\n\t\tvar attr = node.attributes[name],\n\t\t\tvalue = attr && attr.value;\n\t\tif (!value && node.style) {\n\t\t\tvar style = Base.camelize(name);\n\t\t\tvalue = node.style[style];\n\t\t\tif (!value && styles.node[style] !== styles.parent[style])\n\t\t\t\tvalue = styles.node[style];\n\t\t}\n\t\treturn !value ? undefined\n\t\t\t\t: value === 'none' ? null\n\t\t\t\t: value;\n\t}\n\n\tfunction applyAttributes(item, node, isRoot) {\n\t\tvar parent = node.parentNode,\n\t\t\tstyles = {\n\t\t\t\tnode: DomElement.getStyles(node) || {},\n\t\t\t\tparent: !isRoot && !/^defs$/i.test(parent.tagName)\n\t\t\t\t\t\t&& DomElement.getStyles(parent) || {}\n\t\t\t};\n\t\tBase.each(attributes, function(apply, name) {\n\t\t\tvar value = getAttribute(node, name, styles);\n\t\t\titem = value !== undefined\n\t\t\t\t\t&& apply(item, value, name, node, styles) || item;\n\t\t});\n\t\treturn item;\n\t}\n\n\tfunction getDefinition(value) {\n\t\tvar match = value && value.match(/\\((?:[\"'#]*)([^\"')]+)/),\n\t\t\tname = match && match[1],\n\t\t\tres = name && definitions[window\n\t\t\t\t\t? name.replace(window.location.href.split('#')[0] + '#', '')\n\t\t\t\t\t: name];\n\t\tif (res && res._scaleToBounds) {\n\t\t\tres = res.clone();\n\t\t\tres._scaleToBounds = true;\n\t\t}\n\t\treturn res;\n\t}\n\n\tfunction importNode(node, options, isRoot) {\n\t\tvar type = node.nodeName.toLowerCase(),\n\t\t\tisElement = type !== '#document',\n\t\t\tbody = document.body,\n\t\t\tcontainer,\n\t\t\tparent,\n\t\t\tnext;\n\t\tif (isRoot && isElement) {\n\t\t\trootSize = paper.getView().getSize();\n\t\t\trootSize = getSize(node, null, null, true) || rootSize;\n\t\t\tcontainer = SvgElement.create('svg', {\n\t\t\t\tstyle: 'stroke-width: 1px; stroke-miterlimit: 10'\n\t\t\t});\n\t\t\tparent = node.parentNode;\n\t\t\tnext = node.nextSibling;\n\t\t\tcontainer.appendChild(node);\n\t\t\tbody.appendChild(container);\n\t\t}\n\t\tvar settings = paper.settings,\n\t\t\tapplyMatrix = settings.applyMatrix,\n\t\t\tinsertItems = settings.insertItems;\n\t\tsettings.applyMatrix = false;\n\t\tsettings.insertItems = false;\n\t\tvar importer = importers[type],\n\t\t\titem = importer && importer(node, type, options, isRoot) || null;\n\t\tsettings.insertItems = insertItems;\n\t\tsettings.applyMatrix = applyMatrix;\n\t\tif (item) {\n\t\t\tif (isElement && !(item instanceof Group))\n\t\t\t\titem = applyAttributes(item, node, isRoot);\n\t\t\tvar onImport = options.onImport,\n\t\t\t\tdata = isElement && node.getAttribute('data-paper-data');\n\t\t\tif (onImport)\n\t\t\t\titem = onImport(node, item, options) || item;\n\t\t\tif (options.expandShapes && item instanceof Shape) {\n\t\t\t\titem.remove();\n\t\t\t\titem = item.toPath();\n\t\t\t}\n\t\t\tif (data)\n\t\t\t\titem._data = JSON.parse(data);\n\t\t}\n\t\tif (container) {\n\t\t\tbody.removeChild(container);\n\t\t\tif (parent) {\n\t\t\t\tif (next) {\n\t\t\t\t\tparent.insertBefore(node, next);\n\t\t\t\t} else {\n\t\t\t\t\tparent.appendChild(node);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (isRoot) {\n\t\t\tdefinitions = {};\n\t\t\tif (item && Base.pick(options.applyMatrix, applyMatrix))\n\t\t\t\titem.matrix.apply(true, true);\n\t\t}\n\t\treturn item;\n\t}\n\n\tfunction importSVG(source, options, owner) {\n\t\tif (!source)\n\t\t\treturn null;\n\t\toptions = typeof options === 'function' ? { onLoad: options }\n\t\t\t\t: options || {};\n\t\tvar scope = paper,\n\t\t\titem = null;\n\n\t\tfunction onLoad(svg) {\n\t\t\ttry {\n\t\t\t\tvar node = typeof svg === 'object' ? svg : new self.DOMParser()\n\t\t\t\t\t\t.parseFromString(svg, 'image/svg+xml');\n\t\t\t\tif (!node.nodeName) {\n\t\t\t\t\tnode = null;\n\t\t\t\t\tthrow new Error('Unsupported SVG source: ' + source);\n\t\t\t\t}\n\t\t\t\tpaper = scope;\n\t\t\t\titem = importNode(node, options, true);\n\t\t\t\tif (!options || options.insert !== false) {\n\t\t\t\t\towner._insertItem(undefined, item);\n\t\t\t\t}\n\t\t\t\tvar onLoad = options.onLoad;\n\t\t\t\tif (onLoad)\n\t\t\t\t\tonLoad(item, svg);\n\t\t\t} catch (e) {\n\t\t\t\tonError(e);\n\t\t\t}\n\t\t}\n\n\t\tfunction onError(message, status) {\n\t\t\tvar onError = options.onError;\n\t\t\tif (onError) {\n\t\t\t\tonError(message, status);\n\t\t\t} else {\n\t\t\t\tthrow new Error(message);\n\t\t\t}\n\t\t}\n\n\t\tif (typeof source === 'string' && !/^.*</.test(source)) {\n\t\t\tvar node = document.getElementById(source);\n\t\t\tif (node) {\n\t\t\t\tonLoad(node);\n\t\t\t} else {\n\t\t\t\tHttp.request({\n\t\t\t\t\turl: source,\n\t\t\t\t\tasync: true,\n\t\t\t\t\tonLoad: onLoad,\n\t\t\t\t\tonError: onError\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (typeof File !== 'undefined' && source instanceof File) {\n\t\t\tvar reader = new FileReader();\n\t\t\treader.onload = function() {\n\t\t\t\tonLoad(reader.result);\n\t\t\t};\n\t\t\treader.onerror = function() {\n\t\t\t\tonError(reader.error);\n\t\t\t};\n\t\t\treturn reader.readAsText(source);\n\t\t} else {\n\t\t\tonLoad(source);\n\t\t}\n\n\t\treturn item;\n\t}\n\n\tItem.inject({\n\t\timportSVG: function(node, options) {\n\t\t\treturn importSVG(node, options, this);\n\t\t}\n\t});\n\n\tProject.inject({\n\t\timportSVG: function(node, options) {\n\t\t\tthis.activate();\n\t\t\treturn importSVG(node, options, this);\n\t\t}\n\t});\n};\n\nvar paper = new (PaperScope.inject(Base.exports, {\n\tBase: Base,\n\tNumerical: Numerical,\n\tKey: Key,\n\tDomEvent: DomEvent,\n\tDomElement: DomElement,\n\tdocument: document,\n\twindow: window,\n\tSymbol: SymbolDefinition,\n\tPlacedSymbol: SymbolItem\n}))();\n\nif (paper.agent.node) {\n\trequire('./node/extend.js')(paper);\n}\n\nif (typeof define === 'function' && define.amd) {\n\tdefine('paper', paper);\n} else if (typeof module === 'object' && module) {\n\tmodule.exports = paper;\n}\n\nreturn paper;\n}.call(this, typeof self === 'object' ? self : null);\n","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nmodule.exports = Velocity;\n\nvar Vec2 = require('./Vec2');\n\n/**\n * @prop {Vec2} v linear\n * @prop {float} w angular\n */\nfunction Velocity() {\n  this.v = Vec2.zero();\n  this.w = 0;\n}","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nmodule.exports = Position;\n\nvar Vec2 = require('./Vec2');\nvar Rot = require('./Rot');\n\n/**\n * @prop {Vec2} c location\n * @prop {float} a angle\n */\nfunction Position() {\n  this.c = Vec2.zero();\n  this.a = 0;\n}\n\nPosition.prototype.getTransform = function(xf, p) {\n  xf.q.set(this.a);\n  xf.p.set(Vec2.sub(this.c, Rot.mulVec2(xf.q, p)));\n  return xf;\n}","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nmodule.exports = Mat33;\n\nvar common = require('../util/common');\nvar Math = require('./Math');\nvar Vec2 = require('./Vec2');\nvar Vec3 = require('./Vec3');\n\n/**\n * A 3-by-3 matrix. Stored in column-major order.\n */\nfunction Mat33(a, b, c) {\n  if (typeof a === 'object' && a !== null) {\n    this.ex = Vec3.clone(a);\n    this.ey = Vec3.clone(b);\n    this.ez = Vec3.clone(c);\n  } else {\n    this.ex = Vec3();\n    this.ey = Vec3();\n    this.ez = Vec3();\n  }\n};\n\nMat33.prototype.toString = function() {\n  return JSON.stringify(this);\n};\n\nMat33.isValid = function(o) {\n  return o && Vec3.isValid(o.ex) && Vec3.isValid(o.ey) && Vec3.isValid(o.ez);\n};\n\nMat33.assert = function(o) {\n  if (!_ASSERT) return;\n  if (!Mat33.isValid(o)) {\n    _DEBUG && common.debug(o);\n    throw new Error('Invalid Mat33!');\n  }\n};\n\n/**\n * Set this matrix to all zeros.\n */\nMat33.prototype.setZero = function() {\n  this.ex.setZero();\n  this.ey.setZero();\n  this.ez.setZero();\n  return this;\n}\n\n/**\n * Solve A * x = b, where b is a column vector. This is more efficient than\n * computing the inverse in one-shot cases.\n * \n * @param {Vec3} v\n * @returns {Vec3}\n */\nMat33.prototype.solve33 = function(v) {\n  var det = Vec3.dot(this.ex, Vec3.cross(this.ey, this.ez));\n  if (det != 0.0) {\n    det = 1.0 / det;\n  }\n  var r = new Vec3();\n  r.x = det * Vec3.dot(v, Vec3.cross(this.ey, this.ez));\n  r.y = det * Vec3.dot(this.ex, Vec3.cross(v, this.ez));\n  r.z = det * Vec3.dot(this.ex, Vec3.cross(this.ey, v));\n  return r;\n}\n\n/**\n * Solve A * x = b, where b is a column vector. This is more efficient than\n * computing the inverse in one-shot cases. Solve only the upper 2-by-2 matrix\n * equation.\n * \n * @param {Vec2} v\n * \n * @returns {Vec2}\n */\nMat33.prototype.solve22 = function(v) {\n  var a11 = this.ex.x;\n  var a12 = this.ey.x;\n  var a21 = this.ex.y;\n  var a22 = this.ey.y;\n  var det = a11 * a22 - a12 * a21;\n  if (det != 0.0) {\n    det = 1.0 / det;\n  }\n  var r = Vec2.zero();\n  r.x = det * (a22 * v.x - a12 * v.y);\n  r.y = det * (a11 * v.y - a21 * v.x);\n  return r;\n}\n\n/**\n * Get the inverse of this matrix as a 2-by-2. Returns the zero matrix if\n * singular.\n * \n * @param {Mat33} M\n */\nMat33.prototype.getInverse22 = function(M) {\n  var a = this.ex.x;\n  var b = this.ey.x;\n  var c = this.ex.y;\n  var d = this.ey.y;\n  var det = a * d - b * c;\n  if (det != 0.0) {\n    det = 1.0 / det;\n  }\n  M.ex.x = det * d;\n  M.ey.x = -det * b;\n  M.ex.z = 0.0;\n  M.ex.y = -det * c;\n  M.ey.y = det * a;\n  M.ey.z = 0.0;\n  M.ez.x = 0.0;\n  M.ez.y = 0.0;\n  M.ez.z = 0.0;\n}\n\n/**\n * Get the symmetric inverse of this matrix as a 3-by-3. Returns the zero matrix\n * if singular.\n * \n * @param {Mat33} M\n */\nMat33.prototype.getSymInverse33 = function(M) {\n  var det = Vec3.dot(this.ex, Vec3.cross(this.ey, this.ez));\n  if (det != 0.0) {\n    det = 1.0 / det;\n  }\n  var a11 = this.ex.x;\n  var a12 = this.ey.x;\n  var a13 = this.ez.x;\n  var a22 = this.ey.y;\n  var a23 = this.ez.y;\n  var a33 = this.ez.z;\n\n  M.ex.x = det * (a22 * a33 - a23 * a23);\n  M.ex.y = det * (a13 * a23 - a12 * a33);\n  M.ex.z = det * (a12 * a23 - a13 * a22);\n\n  M.ey.x = M.ex.y;\n  M.ey.y = det * (a11 * a33 - a13 * a13);\n  M.ey.z = det * (a13 * a12 - a11 * a23);\n\n  M.ez.x = M.ex.z;\n  M.ez.y = M.ey.z;\n  M.ez.z = det * (a11 * a22 - a12 * a12);\n}\n\n/**\n * Multiply a matrix times a vector.\n * \n * @param {Mat33} a\n * @param {Vec3|Vec2} b\n * \n * @returns {Vec3|Vec2}\n */\nMat33.mul = function(a, b) {\n  _ASSERT && Mat33.assert(a);\n  if (b && 'z' in b && 'y' in b && 'x' in b) {\n    _ASSERT && Vec3.assert(b);\n    var x = a.ex.x * b.x + a.ey.x * b.y + a.ez.x * b.z;\n    var y = a.ex.y * b.x + a.ey.y * b.y + a.ez.y * b.z;\n    var z = a.ex.z * b.x + a.ey.z * b.y + a.ez.z * b.z;\n    return new Vec3(x, y, z);\n\n  } else if (b && 'y' in b && 'x' in b) {\n    _ASSERT && Vec2.assert(b);\n    var x = a.ex.x * b.x + a.ey.x * b.y;\n    var y = a.ex.y * b.x + a.ey.y * b.y;\n    return Vec2.neo(x, y);\n  }\n\n  _ASSERT && common.assert(false);\n}\n\nMat33.mulVec3 = function(a, b) {\n  _ASSERT && Mat33.assert(a);\n  _ASSERT && Vec3.assert(b);\n  var x = a.ex.x * b.x + a.ey.x * b.y + a.ez.x * b.z;\n  var y = a.ex.y * b.x + a.ey.y * b.y + a.ez.y * b.z;\n  var z = a.ex.z * b.x + a.ey.z * b.y + a.ez.z * b.z;\n  return new Vec3(x, y, z);\n}\n\nMat33.mulVec2 = function(a, b) {\n  _ASSERT && Mat33.assert(a);\n  _ASSERT && Vec2.assert(b);\n  var x = a.ex.x * b.x + a.ey.x * b.y;\n  var y = a.ex.y * b.x + a.ey.y * b.y;\n  return Vec2.neo(x, y);\n}\n\nMat33.add = function(a, b) {\n  _ASSERT && Mat33.assert(a);\n  _ASSERT && Mat33.assert(b);\n  return new Mat33(\n    Vec3.add(a.ex + b.ex),\n    Vec3.add(a.ey + b.ey),\n    Vec3.add(a.ez + b.ez)\n  );\n}\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nmodule.exports = Shape;\n\nvar Math = require('./common/Math');\n\n/**\n * A shape is used for collision detection. You can create a shape however you\n * like. Shapes used for simulation in World are created automatically when a\n * Fixture is created. Shapes may encapsulate one or more child shapes.\n */\nfunction Shape() {\n  this.m_type;\n  this.m_radius;\n}\n\nShape.prototype._reset = function() {\n};\n\nShape.prototype._serialize = function() {\n  return {};\n};\n\nShape.TYPES = {};\n\nShape._deserialize = function(data, context, restore) {\n  var clazz = Shape.TYPES[data.type];\n  return clazz && restore(clazz, data);\n};\n\nShape.isValid = function(shape) {\n  return !!shape;\n};\n\nShape.prototype.getRadius = function() {\n  return this.m_radius;\n};\n\n/**\n * Get the type of this shape. You can use this to down cast to the concrete\n * shape.\n * \n * @return the shape type.\n */\nShape.prototype.getType = function() {\n  return this.m_type;\n};\n\n/**\n * @deprecated Shapes should be treated as immutable.\n *\n * clone the concrete shape.\n */\nShape.prototype._clone = function() {\n};\n\n/**\n * // Get the number of child primitives.\n */\nShape.prototype.getChildCount = function() {\n};\n\n/**\n * Test a point for containment in this shape. This only works for convex\n * shapes.\n * \n * @param {Transform} xf The shape world transform.\n * @param p A point in world coordinates.\n */\nShape.prototype.testPoint = function(xf, p) {\n};\n\n/**\n * Cast a ray against a child shape.\n * \n * @param {RayCastOutput} output The ray-cast results.\n * @param {RayCastInput} input The ray-cast input parameters.\n * @param {Transform} transform The transform to be applied to the shape.\n * @param childIndex The child shape index\n */\nShape.prototype.rayCast = function(output, input, transform, childIndex) {\n};\n\n/**\n * Given a transform, compute the associated axis aligned bounding box for a\n * child shape.\n * \n * @param {AABB} aabb Returns the axis aligned box.\n * @param {Transform} xf The world transform of the shape.\n * @param childIndex The child shape\n */\nShape.prototype.computeAABB = function(aabb, xf, childIndex) {\n};\n\n/**\n * Compute the mass properties of this shape using its dimensions and density.\n * The inertia tensor is computed about the local origin.\n * \n * @param {MassData} massData Returns the mass data for this shape.\n * @param density The density in kilograms per meter squared.\n */\nShape.prototype.computeMass = function(massData, density) {\n};\n\n/**\n * @param {DistanceProxy} proxy\n */\nShape.prototype.computeDistanceProxy = function(proxy) {\n};\n","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nvar Settings = require('../Settings');\nvar Math = require('../common/Math');\nvar Vec2 = require('../common/Vec2');\n\nmodule.exports = AABB;\n\nfunction AABB(lower, upper) {\n  if (!(this instanceof AABB)) {\n    return new AABB(lower, upper);\n  }\n\n  this.lowerBound = Vec2.zero();\n  this.upperBound = Vec2.zero();\n\n  if (typeof lower === 'object') {\n    this.lowerBound.set(lower);\n  }\n  if (typeof upper === 'object') {\n    this.upperBound.set(upper);\n  } else if (typeof lower === 'object') {\n    this.upperBound.set(lower);\n  }\n};\n\n/**\n * Verify that the bounds are sorted.\n */\nAABB.prototype.isValid = function() {\n  return AABB.isValid(this);\n}\n\nAABB.isValid = function(aabb) {\n  var d = Vec2.sub(aabb.upperBound, aabb.lowerBound);\n  var valid = d.x >= 0.0 && d.y >= 0.0 && Vec2.isValid(aabb.lowerBound) && Vec2.isValid(aabb.upperBound);\n  return valid;\n}\n\nAABB.assert = function(o) {\n  if (!_ASSERT) return;\n  if (!AABB.isValid(o)) {\n    _DEBUG && common.debug(o);\n    throw new Error('Invalid AABB!');\n  }\n}\n\n/**\n * Get the center of the AABB.\n */\nAABB.prototype.getCenter = function() {\n  return Vec2.neo((this.lowerBound.x + this.upperBound.x) * 0.5, (this.lowerBound.y + this.upperBound.y) * 0.5);\n}\n\n/**\n * Get the extents of the AABB (half-widths).\n */\nAABB.prototype.getExtents = function() {\n  return Vec2.neo((this.upperBound.x - this.lowerBound.x) * 0.5, (this.upperBound.y - this.lowerBound.y) * 0.5);\n}\n\n/**\n * Get the perimeter length.\n */\nAABB.prototype.getPerimeter = function() {\n  return 2.0 * (this.upperBound.x - this.lowerBound.x + this.upperBound.y - this.lowerBound.y);\n}\n\n/**\n * Combine one or two AABB into this one.\n */\nAABB.prototype.combine = function(a, b) {\n  b = b || this;\n\n  var lowerA = a.lowerBound;\n  var upperA = a.upperBound;\n  var lowerB = b.lowerBound;\n  var upperB = b.upperBound;\n\n  var lowerX = Math.min(lowerA.x, lowerB.x);\n  var lowerY = Math.min(lowerA.y, lowerB.y);\n  var upperX = Math.max(upperB.x, upperA.x);\n  var upperY = Math.max(upperB.y, upperA.y);\n\n  this.lowerBound.set(lowerX, lowerY);\n  this.upperBound.set(upperX, upperY);\n}\n\nAABB.prototype.combinePoints = function(a, b) {\n  this.lowerBound.set(Math.min(a.x, b.x), Math.min(a.y, b.y));\n  this.upperBound.set(Math.max(a.x, b.x), Math.max(a.y, b.y));\n}\n\nAABB.prototype.set = function(aabb) {\n  this.lowerBound.set(aabb.lowerBound.x, aabb.lowerBound.y);\n  this.upperBound.set(aabb.upperBound.x, aabb.upperBound.y);\n}\n\nAABB.prototype.contains = function(aabb) {\n  var result = true;\n  result = result && this.lowerBound.x <= aabb.lowerBound.x;\n  result = result && this.lowerBound.y <= aabb.lowerBound.y;\n  result = result && aabb.upperBound.x <= this.upperBound.x;\n  result = result && aabb.upperBound.y <= this.upperBound.y;\n  return result;\n}\n\nAABB.prototype.extend = function(value) {\n  AABB.extend(this, value);\n  return this;\n}\n\nAABB.extend = function(aabb, value) {\n  aabb.lowerBound.x -= value;\n  aabb.lowerBound.y -= value;\n  aabb.upperBound.x += value;\n  aabb.upperBound.y += value;\n}\n\nAABB.testOverlap = function(a, b) {\n  var d1x = b.lowerBound.x - a.upperBound.x;\n  var d2x = a.lowerBound.x - b.upperBound.x;\n\n  var d1y = b.lowerBound.y - a.upperBound.y;\n  var d2y = a.lowerBound.y - b.upperBound.y;\n\n  if (d1x > 0 || d1y > 0 || d2x > 0 || d2y > 0) {\n    return false;\n  }\n  return true;\n}\n\nAABB.areEqual = function(a, b) {\n  return Vec2.areEqual(a.lowerBound, b.lowerBound) && Vec2.areEqual(a.upperBound, b.upperBound);\n}\n\nAABB.diff = function(a, b) {\n  var wD = Math.max(0, Math.min(a.upperBound.x, b.upperBound.x) - Math.max(b.lowerBound.x, a.lowerBound.x))\n  var hD = Math.max(0, Math.min(a.upperBound.y, b.upperBound.y) - Math.max(b.lowerBound.y, a.lowerBound.y));\n\n  var wA = a.upperBound.x - a.lowerBound.x;\n  var hA = a.upperBound.y - a.lowerBound.y;\n\n  var wB = b.upperBound.x - b.lowerBound.x;\n  var hB = b.upperBound.y - b.lowerBound.y;\n\n  return wA * hA + wB * hB - wD * hD;\n};\n\n/**\n * @typedef RayCastInput\n *\n * Ray-cast input data. The ray extends from p1 to p1 + maxFraction * (p2 - p1).\n *\n * @prop {Vec2} p1\n * @prop {Vec2} p2\n * @prop {number} maxFraction\n */\n\n/**\n * @typedef RayCastInput\n *\n * Ray-cast output data. The ray hits at p1 + fraction * (p2 - p1), where p1 and\n * p2 come from RayCastInput.\n *\n * @prop {Vec2} normal\n * @prop {number} fraction\n */\n\n/**\n * @param {RayCastOutput} output\n * @param {RayCastInput} input\n * @returns {boolean}\n */\nAABB.prototype.rayCast = function(output, input) {\n  // From Real-time Collision Detection, p179.\n\n  var tmin = -Infinity;\n  var tmax = Infinity;\n\n  var p = input.p1;\n  var d = Vec2.sub(input.p2, input.p1);\n  var absD = Vec2.abs(d);\n\n  var normal = Vec2.zero();\n\n  for (var f = 'x'; f !== null; f = (f === 'x' ? 'y' : null)) {\n    if (absD.x < Math.EPSILON) {\n      // Parallel.\n      if (p[f] < this.lowerBound[f] || this.upperBound[f] < p[f]) {\n        return false;\n      }\n    } else {\n      var inv_d = 1.0 / d[f];\n      var t1 = (this.lowerBound[f] - p[f]) * inv_d;\n      var t2 = (this.upperBound[f] - p[f]) * inv_d;\n\n      // Sign of the normal vector.\n      var s = -1.0;\n\n      if (t1 > t2) {\n        var temp = t1;\n        t1 = t2, t2 = temp;\n        s = 1.0;\n      }\n\n      // Push the min up\n      if (t1 > tmin) {\n        normal.setZero();\n        normal[f] = s;\n        tmin = t1;\n      }\n\n      // Pull the max down\n      tmax = Math.min(tmax, t2);\n\n      if (tmin > tmax) {\n        return false;\n      }\n    }\n  }\n\n  // Does the ray start inside the box?\n  // Does the ray intersect beyond the max fraction?\n  if (tmin < 0.0 || input.maxFraction < tmin) {\n    return false;\n  }\n\n  // Intersection.\n  output.fraction = tmin;\n  output.normal = normal;\n  return true;\n}\n\nAABB.prototype.toString = function() {\n  return JSON.stringify(this);\n}","import assign from 'object-assign';\nexport var merge = function merge(a, b) {\n  var result = assign({}, a, b);\n\n  for (var key in a) {\n    var _assign;\n\n    if (!a[key] || typeof b[key] !== 'object') continue;\n    assign(result, (_assign = {}, _assign[key] = assign(a[key], b[key]), _assign));\n  }\n\n  return result;\n}; // sort object-value responsive styles\n\nvar sort = function sort(obj) {\n  var next = {};\n  Object.keys(obj).sort(function (a, b) {\n    return a.localeCompare(b, undefined, {\n      numeric: true,\n      sensitivity: 'base'\n    });\n  }).forEach(function (key) {\n    next[key] = obj[key];\n  });\n  return next;\n};\n\nvar defaults = {\n  breakpoints: [40, 52, 64].map(function (n) {\n    return n + 'em';\n  })\n};\n\nvar createMediaQuery = function createMediaQuery(n) {\n  return \"@media screen and (min-width: \" + n + \")\";\n};\n\nvar getValue = function getValue(n, scale) {\n  return get(scale, n, n);\n};\n\nexport var get = function get(obj, key, def, p, undef) {\n  key = key && key.split ? key.split('.') : [key];\n\n  for (p = 0; p < key.length; p++) {\n    obj = obj ? obj[key[p]] : undef;\n  }\n\n  return obj === undef ? def : obj;\n};\nexport var createParser = function createParser(config) {\n  var cache = {};\n\n  var parse = function parse(props) {\n    var styles = {};\n    var shouldSort = false;\n    var isCacheDisabled = props.theme && props.theme.disableStyledSystemCache;\n\n    for (var key in props) {\n      if (!config[key]) continue;\n      var sx = config[key];\n      var raw = props[key];\n      var scale = get(props.theme, sx.scale, sx.defaults);\n\n      if (typeof raw === 'object') {\n        cache.breakpoints = !isCacheDisabled && cache.breakpoints || get(props.theme, 'breakpoints', defaults.breakpoints);\n\n        if (Array.isArray(raw)) {\n          cache.media = !isCacheDisabled && cache.media || [null].concat(cache.breakpoints.map(createMediaQuery));\n          styles = merge(styles, parseResponsiveStyle(cache.media, sx, scale, raw, props));\n          continue;\n        }\n\n        if (raw !== null) {\n          styles = merge(styles, parseResponsiveObject(cache.breakpoints, sx, scale, raw, props));\n          shouldSort = true;\n        }\n\n        continue;\n      }\n\n      assign(styles, sx(raw, scale, props));\n    } // sort object-based responsive styles\n\n\n    if (shouldSort) {\n      styles = sort(styles);\n    }\n\n    return styles;\n  };\n\n  parse.config = config;\n  parse.propNames = Object.keys(config);\n  parse.cache = cache;\n  var keys = Object.keys(config).filter(function (k) {\n    return k !== 'config';\n  });\n\n  if (keys.length > 1) {\n    keys.forEach(function (key) {\n      var _createParser;\n\n      parse[key] = createParser((_createParser = {}, _createParser[key] = config[key], _createParser));\n    });\n  }\n\n  return parse;\n};\n\nvar parseResponsiveStyle = function parseResponsiveStyle(mediaQueries, sx, scale, raw, _props) {\n  var styles = {};\n  raw.slice(0, mediaQueries.length).forEach(function (value, i) {\n    var media = mediaQueries[i];\n    var style = sx(value, scale, _props);\n\n    if (!media) {\n      assign(styles, style);\n    } else {\n      var _assign2;\n\n      assign(styles, (_assign2 = {}, _assign2[media] = assign({}, styles[media], style), _assign2));\n    }\n  });\n  return styles;\n};\n\nvar parseResponsiveObject = function parseResponsiveObject(breakpoints, sx, scale, raw, _props) {\n  var styles = {};\n\n  for (var key in raw) {\n    var breakpoint = breakpoints[key];\n    var value = raw[key];\n    var style = sx(value, scale, _props);\n\n    if (!breakpoint) {\n      assign(styles, style);\n    } else {\n      var _assign3;\n\n      var media = createMediaQuery(breakpoint);\n      assign(styles, (_assign3 = {}, _assign3[media] = assign({}, styles[media], style), _assign3));\n    }\n  }\n\n  return styles;\n};\n\nexport var createStyleFunction = function createStyleFunction(_ref) {\n  var properties = _ref.properties,\n      property = _ref.property,\n      scale = _ref.scale,\n      _ref$transform = _ref.transform,\n      transform = _ref$transform === void 0 ? getValue : _ref$transform,\n      defaultScale = _ref.defaultScale;\n  properties = properties || [property];\n\n  var sx = function sx(value, scale, _props) {\n    var result = {};\n    var n = transform(value, scale, _props);\n    if (n === null) return;\n    properties.forEach(function (prop) {\n      result[prop] = n;\n    });\n    return result;\n  };\n\n  sx.scale = scale;\n  sx.defaults = defaultScale;\n  return sx;\n}; // new v5 API\n\nexport var system = function system(args) {\n  if (args === void 0) {\n    args = {};\n  }\n\n  var config = {};\n  Object.keys(args).forEach(function (key) {\n    var conf = args[key];\n\n    if (conf === true) {\n      // shortcut definition\n      config[key] = createStyleFunction({\n        property: key,\n        scale: key\n      });\n      return;\n    }\n\n    if (typeof conf === 'function') {\n      config[key] = conf;\n      return;\n    }\n\n    config[key] = createStyleFunction(conf);\n  });\n  var parser = createParser(config);\n  return parser;\n};\nexport var compose = function compose() {\n  var config = {};\n\n  for (var _len = arguments.length, parsers = new Array(_len), _key = 0; _key < _len; _key++) {\n    parsers[_key] = arguments[_key];\n  }\n\n  parsers.forEach(function (parser) {\n    if (!parser || !parser.config) return;\n    assign(config, parser.config);\n  });\n  var parser = createParser(config);\n  return parser;\n};\n","import { system, get } from '@styled-system/core';\n\nvar isNumber = function isNumber(n) {\n  return typeof n === 'number' && !isNaN(n);\n};\n\nvar getWidth = function getWidth(n, scale) {\n  return get(scale, n, !isNumber(n) || n > 1 ? n : n * 100 + '%');\n};\n\nvar config = {\n  width: {\n    property: 'width',\n    scale: 'sizes',\n    transform: getWidth\n  },\n  height: {\n    property: 'height',\n    scale: 'sizes'\n  },\n  minWidth: {\n    property: 'minWidth',\n    scale: 'sizes'\n  },\n  minHeight: {\n    property: 'minHeight',\n    scale: 'sizes'\n  },\n  maxWidth: {\n    property: 'maxWidth',\n    scale: 'sizes'\n  },\n  maxHeight: {\n    property: 'maxHeight',\n    scale: 'sizes'\n  },\n  size: {\n    properties: ['width', 'height'],\n    scale: 'sizes'\n  },\n  overflow: true,\n  overflowX: true,\n  overflowY: true,\n  display: true,\n  verticalAlign: true\n};\nexport var layout = system(config);\nexport default layout;\n","import { system } from '@styled-system/core';\nvar config = {\n  color: {\n    property: 'color',\n    scale: 'colors'\n  },\n  backgroundColor: {\n    property: 'backgroundColor',\n    scale: 'colors'\n  },\n  opacity: true\n};\nconfig.bg = config.backgroundColor;\nexport var color = system(config);\nexport default color;\n","var _config;\n\nimport { system } from '@styled-system/core';\nvar config = (_config = {\n  border: {\n    property: 'border',\n    scale: 'borders'\n  },\n  borderWidth: {\n    property: 'borderWidth',\n    scale: 'borderWidths'\n  },\n  borderStyle: {\n    property: 'borderStyle',\n    scale: 'borderStyles'\n  },\n  borderColor: {\n    property: 'borderColor',\n    scale: 'colors'\n  },\n  borderRadius: {\n    property: 'borderRadius',\n    scale: 'radii'\n  },\n  borderTop: {\n    property: 'borderTop',\n    scale: 'borders'\n  },\n  borderTopLeftRadius: {\n    property: 'borderTopLeftRadius',\n    scale: 'radii'\n  },\n  borderTopRightRadius: {\n    property: 'borderTopRightRadius',\n    scale: 'radii'\n  },\n  borderRight: {\n    property: 'borderRight',\n    scale: 'borders'\n  },\n  borderBottom: {\n    property: 'borderBottom',\n    scale: 'borders'\n  },\n  borderBottomLeftRadius: {\n    property: 'borderBottomLeftRadius',\n    scale: 'radii'\n  },\n  borderBottomRightRadius: {\n    property: 'borderBottomRightRadius',\n    scale: 'radii'\n  },\n  borderLeft: {\n    property: 'borderLeft',\n    scale: 'borders'\n  },\n  borderX: {\n    properties: ['borderLeft', 'borderRight'],\n    scale: 'borders'\n  },\n  borderY: {\n    properties: ['borderTop', 'borderBottom'],\n    scale: 'borders'\n  },\n  borderTopWidth: {\n    property: 'borderTopWidth',\n    scale: 'borderWidths'\n  },\n  borderTopColor: {\n    property: 'borderTopColor',\n    scale: 'colors'\n  },\n  borderTopStyle: {\n    property: 'borderTopStyle',\n    scale: 'borderStyles'\n  }\n}, _config[\"borderTopLeftRadius\"] = {\n  property: 'borderTopLeftRadius',\n  scale: 'radii'\n}, _config[\"borderTopRightRadius\"] = {\n  property: 'borderTopRightRadius',\n  scale: 'radii'\n}, _config.borderBottomWidth = {\n  property: 'borderBottomWidth',\n  scale: 'borderWidths'\n}, _config.borderBottomColor = {\n  property: 'borderBottomColor',\n  scale: 'colors'\n}, _config.borderBottomStyle = {\n  property: 'borderBottomStyle',\n  scale: 'borderStyles'\n}, _config[\"borderBottomLeftRadius\"] = {\n  property: 'borderBottomLeftRadius',\n  scale: 'radii'\n}, _config[\"borderBottomRightRadius\"] = {\n  property: 'borderBottomRightRadius',\n  scale: 'radii'\n}, _config.borderLeftWidth = {\n  property: 'borderLeftWidth',\n  scale: 'borderWidths'\n}, _config.borderLeftColor = {\n  property: 'borderLeftColor',\n  scale: 'colors'\n}, _config.borderLeftStyle = {\n  property: 'borderLeftStyle',\n  scale: 'borderStyles'\n}, _config.borderRightWidth = {\n  property: 'borderRightWidth',\n  scale: 'borderWidths'\n}, _config.borderRightColor = {\n  property: 'borderRightColor',\n  scale: 'colors'\n}, _config.borderRightStyle = {\n  property: 'borderRightStyle',\n  scale: 'borderStyles'\n}, _config);\nexport var border = system(config);\nexport default border;\n","import { system } from '@styled-system/core';\nvar defaults = {\n  fontSizes: [12, 14, 16, 20, 24, 32, 48, 64, 72]\n};\nvar config = {\n  fontFamily: {\n    property: 'fontFamily',\n    scale: 'fonts'\n  },\n  fontSize: {\n    property: 'fontSize',\n    scale: 'fontSizes',\n    defaultScale: defaults.fontSizes\n  },\n  fontWeight: {\n    property: 'fontWeight',\n    scale: 'fontWeights'\n  },\n  lineHeight: {\n    property: 'lineHeight',\n    scale: 'lineHeights'\n  },\n  letterSpacing: {\n    property: 'letterSpacing',\n    scale: 'letterSpacings'\n  },\n  textAlign: true,\n  fontStyle: true\n};\nexport var typography = system(config);\nexport default typography;\n","import { system } from '@styled-system/core';\nvar config = {\n  alignItems: true,\n  alignContent: true,\n  justifyItems: true,\n  justifyContent: true,\n  flexWrap: true,\n  flexDirection: true,\n  // item\n  flex: true,\n  flexGrow: true,\n  flexShrink: true,\n  flexBasis: true,\n  justifySelf: true,\n  alignSelf: true,\n  order: true\n};\nexport var flexbox = system(config);\nexport default flexbox;\n","import { system } from '@styled-system/core';\nvar defaults = {\n  space: [0, 4, 8, 16, 32, 64, 128, 256, 512]\n};\nvar config = {\n  gridGap: {\n    property: 'gridGap',\n    scale: 'space',\n    defaultScale: defaults.space\n  },\n  gridColumnGap: {\n    property: 'gridColumnGap',\n    scale: 'space',\n    defaultScale: defaults.space\n  },\n  gridRowGap: {\n    property: 'gridRowGap',\n    scale: 'space',\n    defaultScale: defaults.space\n  },\n  gridColumn: true,\n  gridRow: true,\n  gridAutoFlow: true,\n  gridAutoColumns: true,\n  gridAutoRows: true,\n  gridTemplateColumns: true,\n  gridTemplateRows: true,\n  gridTemplateAreas: true,\n  gridArea: true\n};\nexport var grid = system(config);\nexport default grid;\n","import { system } from '@styled-system/core';\nvar config = {\n  background: true,\n  backgroundImage: true,\n  backgroundSize: true,\n  backgroundPosition: true,\n  backgroundRepeat: true\n};\nconfig.bgImage = config.backgroundImage;\nconfig.bgSize = config.backgroundSize;\nconfig.bgPosition = config.backgroundPosition;\nconfig.bgRepeat = config.backgroundRepeat;\nexport var background = system(config);\nexport default background;\n","import { system } from '@styled-system/core';\nvar defaults = {\n  space: [0, 4, 8, 16, 32, 64, 128, 256, 512]\n};\nvar config = {\n  position: true,\n  zIndex: {\n    property: 'zIndex',\n    scale: 'zIndices'\n  },\n  top: {\n    property: 'top',\n    scale: 'space',\n    defaultScale: defaults.space\n  },\n  right: {\n    property: 'right',\n    scale: 'space',\n    defaultScale: defaults.space\n  },\n  bottom: {\n    property: 'bottom',\n    scale: 'space',\n    defaultScale: defaults.space\n  },\n  left: {\n    property: 'left',\n    scale: 'space',\n    defaultScale: defaults.space\n  }\n};\nexport var position = system(config);\nexport default position;\n","import { get, system, compose } from '@styled-system/core';\nvar defaults = {\n  space: [0, 4, 8, 16, 32, 64, 128, 256, 512]\n};\n\nvar isNumber = function isNumber(n) {\n  return typeof n === 'number' && !isNaN(n);\n};\n\nvar getMargin = function getMargin(n, scale) {\n  if (!isNumber(n)) {\n    return get(scale, n, n);\n  }\n\n  var isNegative = n < 0;\n  var absolute = Math.abs(n);\n  var value = get(scale, absolute, absolute);\n\n  if (!isNumber(value)) {\n    return isNegative ? '-' + value : value;\n  }\n\n  return value * (isNegative ? -1 : 1);\n};\n\nvar configs = {};\nconfigs.margin = {\n  margin: {\n    property: 'margin',\n    scale: 'space',\n    transform: getMargin,\n    defaultScale: defaults.space\n  },\n  marginTop: {\n    property: 'marginTop',\n    scale: 'space',\n    transform: getMargin,\n    defaultScale: defaults.space\n  },\n  marginRight: {\n    property: 'marginRight',\n    scale: 'space',\n    transform: getMargin,\n    defaultScale: defaults.space\n  },\n  marginBottom: {\n    property: 'marginBottom',\n    scale: 'space',\n    transform: getMargin,\n    defaultScale: defaults.space\n  },\n  marginLeft: {\n    property: 'marginLeft',\n    scale: 'space',\n    transform: getMargin,\n    defaultScale: defaults.space\n  },\n  marginX: {\n    properties: ['marginLeft', 'marginRight'],\n    scale: 'space',\n    transform: getMargin,\n    defaultScale: defaults.space\n  },\n  marginY: {\n    properties: ['marginTop', 'marginBottom'],\n    scale: 'space',\n    transform: getMargin,\n    defaultScale: defaults.space\n  }\n};\nconfigs.margin.m = configs.margin.margin;\nconfigs.margin.mt = configs.margin.marginTop;\nconfigs.margin.mr = configs.margin.marginRight;\nconfigs.margin.mb = configs.margin.marginBottom;\nconfigs.margin.ml = configs.margin.marginLeft;\nconfigs.margin.mx = configs.margin.marginX;\nconfigs.margin.my = configs.margin.marginY;\nconfigs.padding = {\n  padding: {\n    property: 'padding',\n    scale: 'space',\n    defaultScale: defaults.space\n  },\n  paddingTop: {\n    property: 'paddingTop',\n    scale: 'space',\n    defaultScale: defaults.space\n  },\n  paddingRight: {\n    property: 'paddingRight',\n    scale: 'space',\n    defaultScale: defaults.space\n  },\n  paddingBottom: {\n    property: 'paddingBottom',\n    scale: 'space',\n    defaultScale: defaults.space\n  },\n  paddingLeft: {\n    property: 'paddingLeft',\n    scale: 'space',\n    defaultScale: defaults.space\n  },\n  paddingX: {\n    properties: ['paddingLeft', 'paddingRight'],\n    scale: 'space',\n    defaultScale: defaults.space\n  },\n  paddingY: {\n    properties: ['paddingTop', 'paddingBottom'],\n    scale: 'space',\n    defaultScale: defaults.space\n  }\n};\nconfigs.padding.p = configs.padding.padding;\nconfigs.padding.pt = configs.padding.paddingTop;\nconfigs.padding.pr = configs.padding.paddingRight;\nconfigs.padding.pb = configs.padding.paddingBottom;\nconfigs.padding.pl = configs.padding.paddingLeft;\nconfigs.padding.px = configs.padding.paddingX;\nconfigs.padding.py = configs.padding.paddingY;\nexport var margin = system(configs.margin);\nexport var padding = system(configs.padding);\nexport var space = compose(margin, padding);\nexport default space;\n","var _scales;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n// based on https://github.com/developit/dlv\nexport var get = function get(obj, key, def, p, undef) {\n  key = key && key.split ? key.split('.') : [key];\n\n  for (p = 0; p < key.length; p++) {\n    obj = obj ? obj[key[p]] : undef;\n  }\n\n  return obj === undef ? def : obj;\n};\nvar defaultBreakpoints = [40, 52, 64].map(function (n) {\n  return n + 'em';\n});\nvar defaultTheme = {\n  space: [0, 4, 8, 16, 32, 64, 128, 256, 512],\n  fontSizes: [12, 14, 16, 20, 24, 32, 48, 64, 72]\n};\nvar aliases = {\n  bg: 'backgroundColor',\n  m: 'margin',\n  mt: 'marginTop',\n  mr: 'marginRight',\n  mb: 'marginBottom',\n  ml: 'marginLeft',\n  mx: 'marginX',\n  my: 'marginY',\n  p: 'padding',\n  pt: 'paddingTop',\n  pr: 'paddingRight',\n  pb: 'paddingBottom',\n  pl: 'paddingLeft',\n  px: 'paddingX',\n  py: 'paddingY'\n};\nvar multiples = {\n  marginX: ['marginLeft', 'marginRight'],\n  marginY: ['marginTop', 'marginBottom'],\n  paddingX: ['paddingLeft', 'paddingRight'],\n  paddingY: ['paddingTop', 'paddingBottom'],\n  size: ['width', 'height']\n};\nvar scales = (_scales = {\n  color: 'colors',\n  backgroundColor: 'colors',\n  borderColor: 'colors',\n  margin: 'space',\n  marginTop: 'space',\n  marginRight: 'space',\n  marginBottom: 'space',\n  marginLeft: 'space',\n  marginX: 'space',\n  marginY: 'space',\n  padding: 'space',\n  paddingTop: 'space',\n  paddingRight: 'space',\n  paddingBottom: 'space',\n  paddingLeft: 'space',\n  paddingX: 'space',\n  paddingY: 'space',\n  top: 'space',\n  right: 'space',\n  bottom: 'space',\n  left: 'space',\n  gridGap: 'space',\n  gridColumnGap: 'space',\n  gridRowGap: 'space',\n  gap: 'space',\n  columnGap: 'space',\n  rowGap: 'space',\n  fontFamily: 'fonts',\n  fontSize: 'fontSizes',\n  fontWeight: 'fontWeights',\n  lineHeight: 'lineHeights',\n  letterSpacing: 'letterSpacings',\n  border: 'borders',\n  borderTop: 'borders',\n  borderRight: 'borders',\n  borderBottom: 'borders',\n  borderLeft: 'borders',\n  borderWidth: 'borderWidths',\n  borderStyle: 'borderStyles',\n  borderRadius: 'radii',\n  borderTopRightRadius: 'radii',\n  borderTopLeftRadius: 'radii',\n  borderBottomRightRadius: 'radii',\n  borderBottomLeftRadius: 'radii',\n  borderTopWidth: 'borderWidths',\n  borderTopColor: 'colors',\n  borderTopStyle: 'borderStyles'\n}, _scales[\"borderTopLeftRadius\"] = 'radii', _scales[\"borderTopRightRadius\"] = 'radii', _scales.borderBottomWidth = 'borderWidths', _scales.borderBottomColor = 'colors', _scales.borderBottomStyle = 'borderStyles', _scales[\"borderBottomLeftRadius\"] = 'radii', _scales[\"borderBottomRightRadius\"] = 'radii', _scales.borderLeftWidth = 'borderWidths', _scales.borderLeftColor = 'colors', _scales.borderLeftStyle = 'borderStyles', _scales.borderRightWidth = 'borderWidths', _scales.borderRightColor = 'colors', _scales.borderRightStyle = 'borderStyles', _scales.outlineColor = 'colors', _scales.boxShadow = 'shadows', _scales.textShadow = 'shadows', _scales.zIndex = 'zIndices', _scales.width = 'sizes', _scales.minWidth = 'sizes', _scales.maxWidth = 'sizes', _scales.height = 'sizes', _scales.minHeight = 'sizes', _scales.maxHeight = 'sizes', _scales.flexBasis = 'sizes', _scales.size = 'sizes', _scales.fill = 'colors', _scales.stroke = 'colors', _scales);\n\nvar positiveOrNegative = function positiveOrNegative(scale, value) {\n  if (typeof value !== 'number' || value >= 0) {\n    return get(scale, value, value);\n  }\n\n  var absolute = Math.abs(value);\n  var n = get(scale, absolute, absolute);\n  if (typeof n === 'string') return '-' + n;\n  return n * -1;\n};\n\nvar transforms = ['margin', 'marginTop', 'marginRight', 'marginBottom', 'marginLeft', 'marginX', 'marginY', 'top', 'bottom', 'left', 'right'].reduce(function (acc, curr) {\n  var _extends2;\n\n  return _extends({}, acc, (_extends2 = {}, _extends2[curr] = positiveOrNegative, _extends2));\n}, {});\nexport var responsive = function responsive(styles) {\n  return function (theme) {\n    var next = {};\n    var breakpoints = get(theme, 'breakpoints', defaultBreakpoints);\n    var mediaQueries = [null].concat(breakpoints.map(function (n) {\n      return \"@media screen and (min-width: \" + n + \")\";\n    }));\n\n    for (var key in styles) {\n      var value = typeof styles[key] === 'function' ? styles[key](theme) : styles[key];\n      if (value == null) continue;\n\n      if (!Array.isArray(value)) {\n        next[key] = value;\n        continue;\n      }\n\n      for (var i = 0; i < value.slice(0, mediaQueries.length).length; i++) {\n        var media = mediaQueries[i];\n        if (value[i] == null) continue;\n\n        if (!media) {\n          next[key] = value[i];\n          continue;\n        }\n\n        next[media] = next[media] || {};\n        next[media][key] = value[i];\n      }\n    }\n\n    return next;\n  };\n};\nexport var css = function css(args) {\n  return function (props) {\n    if (props === void 0) {\n      props = {};\n    }\n\n    var theme = _extends({}, defaultTheme, {}, props.theme || props);\n\n    var result = {};\n    var obj = typeof args === 'function' ? args(theme) : args;\n    var styles = responsive(obj)(theme);\n\n    for (var key in styles) {\n      var x = styles[key];\n      var val = typeof x === 'function' ? x(theme) : x;\n\n      if (key === 'variant') {\n        var variant = css(get(theme, val))(theme);\n        result = _extends({}, result, {}, variant);\n        continue;\n      }\n\n      if (val && typeof val === 'object') {\n        result[key] = css(val)(theme);\n        continue;\n      }\n\n      var prop = get(aliases, key, key);\n      var scaleName = get(scales, prop);\n      var scale = get(theme, scaleName, get(theme, prop, {}));\n      var transform = get(transforms, prop, get);\n      var value = transform(scale, val, val);\n\n      if (multiples[prop]) {\n        var dirs = multiples[prop];\n\n        for (var i = 0; i < dirs.length; i++) {\n          result[dirs[i]] = value;\n        }\n      } else {\n        result[prop] = value;\n      }\n    }\n\n    return result;\n  };\n};\nexport default css;\n","import { system } from '@styled-system/core';\nexport var shadow = system({\n  boxShadow: {\n    property: 'boxShadow',\n    scale: 'shadows'\n  },\n  textShadow: {\n    property: 'textShadow',\n    scale: 'shadows'\n  }\n});\nexport default shadow;\n","import { get, createParser } from '@styled-system/core';\nimport css from '@styled-system/css';\nexport var variant = function variant(_ref) {\n  var _config;\n\n  var scale = _ref.scale,\n      _ref$prop = _ref.prop,\n      prop = _ref$prop === void 0 ? 'variant' : _ref$prop,\n      _ref$variants = _ref.variants,\n      variants = _ref$variants === void 0 ? {} : _ref$variants,\n      key = _ref.key;\n  var sx;\n\n  if (Object.keys(variants).length) {\n    sx = function sx(value, scale, props) {\n      return css(get(scale, value, null))(props.theme);\n    };\n  } else {\n    sx = function sx(value, scale) {\n      return get(scale, value, null);\n    };\n  }\n\n  sx.scale = scale || key;\n  sx.defaults = variants;\n  var config = (_config = {}, _config[prop] = sx, _config);\n  var parser = createParser(config);\n  return parser;\n};\nexport default variant;\nexport var buttonStyle = variant({\n  key: 'buttons'\n});\nexport var textStyle = variant({\n  key: 'textStyles',\n  prop: 'textStyle'\n});\nexport var colorStyle = variant({\n  key: 'colorStyles',\n  prop: 'colors'\n});\n","import { createStyleFunction, createParser } from '@styled-system/core'; // v4 api shims\n\nimport layout from '@styled-system/layout';\nimport color from '@styled-system/color';\nimport typography from '@styled-system/typography';\nimport flexbox from '@styled-system/flexbox';\nimport grid from '@styled-system/grid';\nimport border from '@styled-system/border';\nimport background from '@styled-system/background';\nimport position from '@styled-system/position';\nexport { get, createParser, createStyleFunction, compose, system } from '@styled-system/core';\nexport { margin, padding, space } from '@styled-system/space';\nexport { color } from '@styled-system/color';\nexport { layout } from '@styled-system/layout';\nexport { typography } from '@styled-system/typography';\nexport { flexbox } from '@styled-system/flexbox';\nexport { border } from '@styled-system/border';\nexport { background } from '@styled-system/background';\nexport { position } from '@styled-system/position';\nexport { grid } from '@styled-system/grid';\nexport { shadow } from '@styled-system/shadow';\nexport { default as boxShadow, default as textShadow } from '@styled-system/shadow';\nexport { variant, buttonStyle, textStyle, colorStyle } from '@styled-system/variant';\nvar width = layout.width,\n    height = layout.height,\n    minWidth = layout.minWidth,\n    minHeight = layout.minHeight,\n    maxWidth = layout.maxWidth,\n    maxHeight = layout.maxHeight,\n    size = layout.size,\n    verticalAlign = layout.verticalAlign,\n    display = layout.display,\n    overflow = layout.overflow,\n    overflowX = layout.overflowX,\n    overflowY = layout.overflowY;\nvar opacity = color.opacity;\nvar fontSize = typography.fontSize,\n    fontFamily = typography.fontFamily,\n    fontWeight = typography.fontWeight,\n    lineHeight = typography.lineHeight,\n    textAlign = typography.textAlign,\n    fontStyle = typography.fontStyle,\n    letterSpacing = typography.letterSpacing;\nvar alignItems = flexbox.alignItems,\n    alignContent = flexbox.alignContent,\n    justifyItems = flexbox.justifyItems,\n    justifyContent = flexbox.justifyContent,\n    flexWrap = flexbox.flexWrap,\n    flexDirection = flexbox.flexDirection,\n    flex = flexbox.flex,\n    flexGrow = flexbox.flexGrow,\n    flexShrink = flexbox.flexShrink,\n    flexBasis = flexbox.flexBasis,\n    justifySelf = flexbox.justifySelf,\n    alignSelf = flexbox.alignSelf,\n    order = flexbox.order;\nvar gridGap = grid.gridGap,\n    gridColumnGap = grid.gridColumnGap,\n    gridRowGap = grid.gridRowGap,\n    gridColumn = grid.gridColumn,\n    gridRow = grid.gridRow,\n    gridAutoFlow = grid.gridAutoFlow,\n    gridAutoColumns = grid.gridAutoColumns,\n    gridAutoRows = grid.gridAutoRows,\n    gridTemplateColumns = grid.gridTemplateColumns,\n    gridTemplateRows = grid.gridTemplateRows,\n    gridTemplateAreas = grid.gridTemplateAreas,\n    gridArea = grid.gridArea;\nvar borderWidth = border.borderWidth,\n    borderStyle = border.borderStyle,\n    borderColor = border.borderColor,\n    borderTop = border.borderTop,\n    borderRight = border.borderRight,\n    borderBottom = border.borderBottom,\n    borderLeft = border.borderLeft,\n    borderRadius = border.borderRadius;\nvar backgroundImage = background.backgroundImage,\n    backgroundSize = background.backgroundSize,\n    backgroundPosition = background.backgroundPosition,\n    backgroundRepeat = background.backgroundRepeat;\nvar zIndex = position.zIndex,\n    top = position.top,\n    right = position.right,\n    bottom = position.bottom,\n    left = position.left;\nexport { default as borders } from '@styled-system/border';\nexport { width, height, minWidth, minHeight, maxWidth, maxHeight, size, verticalAlign, display, overflow, overflowX, overflowY // color\n, opacity // typography\n, fontSize, fontFamily, fontWeight, lineHeight, textAlign, fontStyle, letterSpacing // flexbox\n, alignItems, alignContent, justifyItems, justifyContent, flexWrap, flexDirection, flex, flexGrow, flexShrink, flexBasis, justifySelf, alignSelf, order // grid\n, gridGap, gridColumnGap, gridRowGap, gridColumn, gridRow, gridAutoFlow, gridAutoColumns, gridAutoRows, gridTemplateColumns, gridTemplateRows, gridTemplateAreas, gridArea // border\n, borderWidth, borderStyle, borderColor, borderTop, borderRight, borderBottom, borderLeft, borderRadius // background\n, backgroundImage, backgroundSize, backgroundPosition, backgroundRepeat // position\n, zIndex, top, right, bottom, left }; // v4 style API shim\n\nexport var style = function style(_ref) {\n  var prop = _ref.prop,\n      cssProperty = _ref.cssProperty,\n      alias = _ref.alias,\n      key = _ref.key,\n      transformValue = _ref.transformValue,\n      scale = _ref.scale,\n      properties = _ref.properties;\n  var config = {};\n  config[prop] = createStyleFunction({\n    properties: properties,\n    property: cssProperty || prop,\n    scale: key,\n    defaultScale: scale,\n    transform: transformValue\n  });\n  if (alias) config[alias] = config[prop];\n  var parse = createParser(config);\n  return parse;\n};\n","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nvar DEBUG_SOLVER = false;\n\nvar common = require('./util/common');\n\nvar Math = require('./common/Math');\nvar Vec2 = require('./common/Vec2');\nvar Transform = require('./common/Transform');\nvar Mat22 = require('./common/Mat22');\nvar Rot = require('./common/Rot');\n\nvar Settings = require('./Settings');\nvar Manifold = require('./Manifold');\nvar Distance = require('./collision/Distance');\n\nmodule.exports = Contact;\n\n/**\n * A contact edge is used to connect bodies and contacts together in a contact\n * graph where each body is a node and each contact is an edge. A contact edge\n * belongs to a doubly linked list maintained in each attached body. Each\n * contact has two contact nodes, one for each attached body.\n * \n * @prop {Contact} contact The contact\n * @prop {ContactEdge} prev The previous contact edge in the body's contact list\n * @prop {ContactEdge} next The next contact edge in the body's contact list\n * @prop {Body} other Provides quick access to the other body attached.\n */\nfunction ContactEdge(contact) {\n  this.contact = contact;\n  this.prev;\n  this.next;\n  this.other;\n};\n\n/**\n * @function Contact~evaluate\n * \n * @param manifold\n * @param xfA\n * @param fixtureA\n * @param indexA\n * @param xfB\n * @param fixtureB\n * @param indexB\n */\n\n/**\n * The class manages contact between two shapes. A contact exists for each\n * overlapping AABB in the broad-phase (except if filtered). Therefore a contact\n * object may exist that has no contact points.\n * \n * @param {Fixture} fA\n * @param {int} indexA\n * @param {Fixture} fB\n * @param {int} indexB\n * @param {Contact~evaluate} evaluateFcn\n */\nfunction Contact(fA, indexA, fB, indexB, evaluateFcn) {\n  // Nodes for connecting bodies.\n  this.m_nodeA = new ContactEdge(this);\n  this.m_nodeB = new ContactEdge(this);\n\n  this.m_fixtureA = fA;\n  this.m_fixtureB = fB;\n\n  this.m_indexA = indexA;\n  this.m_indexB = indexB;\n\n  this.m_evaluateFcn = evaluateFcn;\n\n  this.m_manifold = new Manifold();\n\n  this.m_prev = null;\n  this.m_next = null;\n\n  this.m_toi = 1.0;\n  this.m_toiCount = 0;\n  // This contact has a valid TOI in m_toi\n  this.m_toiFlag = false;\n\n  this.m_friction = mixFriction(this.m_fixtureA.m_friction,\n      this.m_fixtureB.m_friction);\n  this.m_restitution = mixRestitution(this.m_fixtureA.m_restitution,\n      this.m_fixtureB.m_restitution);\n\n  this.m_tangentSpeed = 0.0;\n\n  // This contact can be disabled (by user)\n  this.m_enabledFlag = true;\n\n  // Used when crawling contact graph when forming islands.\n  this.m_islandFlag = false;\n\n  // Set when the shapes are touching.\n  this.m_touchingFlag = false;\n\n  // This contact needs filtering because a fixture filter was changed.\n  this.m_filterFlag = false;\n\n  // This bullet contact had a TOI event\n  this.m_bulletHitFlag = false;\n\n  this.v_points = []; // VelocityConstraintPoint[maxManifoldPoints]\n  this.v_normal = Vec2.zero();\n  this.v_normalMass = new Mat22();\n  this.v_K = new Mat22();\n  this.v_pointCount;\n\n  this.v_tangentSpeed;\n  this.v_friction;\n  this.v_restitution;\n\n  this.v_invMassA;\n  this.v_invMassB;\n  this.v_invIA;\n  this.v_invIB;\n\n  this.p_localPoints = [] // Vec2[maxManifoldPoints];\n  this.p_localNormal = Vec2.zero();\n  this.p_localPoint = Vec2.zero();\n  this.p_localCenterA = Vec2.zero();\n  this.p_localCenterB = Vec2.zero();\n  this.p_type; // Manifold.Type\n  this.p_radiusA;\n  this.p_radiusB;\n  this.p_pointCount;\n\n  this.p_invMassA;\n  this.p_invMassB;\n  this.p_invIA;\n  this.p_invIB;\n}\n\nContact.prototype.initConstraint = function(step) {\n  var fixtureA = this.m_fixtureA;\n  var fixtureB = this.m_fixtureB;\n\n  var shapeA = fixtureA.getShape();\n  var shapeB = fixtureB.getShape();\n\n  var bodyA = fixtureA.getBody();\n  var bodyB = fixtureB.getBody();\n\n  var manifold = this.getManifold();\n\n  var pointCount = manifold.pointCount;\n  _ASSERT && common.assert(pointCount > 0);\n\n  this.v_invMassA = bodyA.m_invMass;\n  this.v_invMassB = bodyB.m_invMass;\n  this.v_invIA = bodyA.m_invI;\n  this.v_invIB = bodyB.m_invI;\n\n  this.v_friction = this.m_friction;\n  this.v_restitution = this.m_restitution;\n  this.v_tangentSpeed = this.m_tangentSpeed;\n\n  this.v_pointCount = pointCount;\n\n  this.v_K.setZero();\n  this.v_normalMass.setZero();\n\n  this.p_invMassA = bodyA.m_invMass;\n  this.p_invMassB = bodyB.m_invMass;\n  this.p_invIA = bodyA.m_invI;\n  this.p_invIB = bodyB.m_invI;\n  this.p_localCenterA = Vec2.clone(bodyA.m_sweep.localCenter);\n  this.p_localCenterB = Vec2.clone(bodyB.m_sweep.localCenter);\n\n  this.p_radiusA = shapeA.m_radius;\n  this.p_radiusB = shapeB.m_radius;\n\n  this.p_type = manifold.type;\n  this.p_localNormal = Vec2.clone(manifold.localNormal);\n  this.p_localPoint = Vec2.clone(manifold.localPoint);\n  this.p_pointCount = pointCount;\n\n  for (var j = 0; j < pointCount; ++j) {\n    var cp = manifold.points[j]; // ManifoldPoint\n    var vcp = this.v_points[j] = new VelocityConstraintPoint();\n\n    if (step.warmStarting) {\n      vcp.normalImpulse = step.dtRatio * cp.normalImpulse;\n      vcp.tangentImpulse = step.dtRatio * cp.tangentImpulse;\n\n    } else {\n      vcp.normalImpulse = 0.0;\n      vcp.tangentImpulse = 0.0;\n    }\n\n    vcp.rA.setZero();\n    vcp.rB.setZero();\n    vcp.normalMass = 0.0;\n    vcp.tangentMass = 0.0;\n    vcp.velocityBias = 0.0;\n\n    this.p_localPoints[j] = Vec2.clone(cp.localPoint);\n\n  }\n};\n\n/**\n * Get the contact manifold. Do not modify the manifold unless you understand\n * the internals of the library.\n */\nContact.prototype.getManifold = function() {\n  return this.m_manifold;\n}\n\n/**\n * Get the world manifold.\n * \n * @param {WorldManifold} [worldManifold]\n */\nContact.prototype.getWorldManifold = function(worldManifold) {\n  var bodyA = this.m_fixtureA.getBody();\n  var bodyB = this.m_fixtureB.getBody();\n  var shapeA = this.m_fixtureA.getShape();\n  var shapeB = this.m_fixtureB.getShape();\n\n  return this.m_manifold.getWorldManifold(worldManifold, bodyA.getTransform(),\n      shapeA.m_radius, bodyB.getTransform(), shapeB.m_radius);\n}\n\n/**\n * Enable/disable this contact. This can be used inside the pre-solve contact\n * listener. The contact is only disabled for the current time step (or sub-step\n * in continuous collisions).\n */\nContact.prototype.setEnabled = function(flag) {\n  this.m_enabledFlag = !!flag;\n}\n\n/**\n * Has this contact been disabled?\n */\nContact.prototype.isEnabled = function() {\n  return this.m_enabledFlag;\n}\n\n/**\n * Is this contact touching?\n */\nContact.prototype.isTouching = function() {\n  return this.m_touchingFlag;\n}\n\n/**\n * Get the next contact in the world's contact list.\n */\nContact.prototype.getNext = function() {\n  return this.m_next;\n}\n\n/**\n * Get fixture A in this contact.\n */\nContact.prototype.getFixtureA = function() {\n  return this.m_fixtureA;\n}\n\n/**\n * Get fixture B in this contact.\n */\nContact.prototype.getFixtureB = function() {\n  return this.m_fixtureB;\n}\n\n/**\n * Get the child primitive index for fixture A.\n */\nContact.prototype.getChildIndexA = function() {\n  return this.m_indexA;\n}\n\n/**\n * Get the child primitive index for fixture B.\n */\nContact.prototype.getChildIndexB = function() {\n  return this.m_indexB;\n}\n\n/**\n * Flag this contact for filtering. Filtering will occur the next time step.\n */\nContact.prototype.flagForFiltering = function() {\n  this.m_filterFlag = true;\n}\n\n/**\n * Override the default friction mixture. You can call this in\n * ContactListener.preSolve. This value persists until set or reset.\n */\nContact.prototype.setFriction = function(friction) {\n  this.m_friction = friction;\n}\n\n/**\n * Get the friction.\n */\nContact.prototype.getFriction = function() {\n  return this.m_friction;\n}\n\n/**\n * Reset the friction mixture to the default value.\n */\nContact.prototype.resetFriction = function() {\n  this.m_friction = mixFriction(this.m_fixtureA.m_friction,\n      this.m_fixtureB.m_friction);\n}\n\n/**\n * Override the default restitution mixture. You can call this in\n * ContactListener.preSolve. The value persists until you set or reset.\n */\nContact.prototype.setRestitution = function(restitution) {\n  this.m_restitution = restitution;\n}\n\n/**\n * Get the restitution.\n */\nContact.prototype.getRestitution = function() {\n  return this.m_restitution;\n}\n\n/**\n * Reset the restitution to the default value.\n */\nContact.prototype.resetRestitution = function() {\n  this.m_restitution = mixRestitution(this.m_fixtureA.m_restitution,\n      this.m_fixtureB.m_restitution);\n}\n\n/**\n * Set the desired tangent speed for a conveyor belt behavior. In meters per\n * second.\n */\nContact.prototype.setTangentSpeed = function(speed) {\n  this.m_tangentSpeed = speed;\n}\n\n/**\n * Get the desired tangent speed. In meters per second.\n */\nContact.prototype.getTangentSpeed = function() {\n  return this.m_tangentSpeed;\n}\n\n/**\n * Called by Update method, and implemented by subclasses.\n */\nContact.prototype.evaluate = function(manifold, xfA, xfB) {\n  this.m_evaluateFcn(manifold, xfA, this.m_fixtureA, this.m_indexA, xfB,\n      this.m_fixtureB, this.m_indexB);\n};\n\n/**\n * Updates the contact manifold and touching status.\n * \n * Note: do not assume the fixture AABBs are overlapping or are valid.\n * \n * @param {function} listener.beginContact\n * @param {function} listener.endContact\n * @param {function} listener.preSolve\n */\nContact.prototype.update = function(listener) {\n\n  // Re-enable this contact.\n  this.m_enabledFlag = true;\n\n  var touching = false;\n  var wasTouching = this.m_touchingFlag;\n\n  var sensorA = this.m_fixtureA.isSensor();\n  var sensorB = this.m_fixtureB.isSensor();\n  var sensor = sensorA || sensorB;\n\n  var bodyA = this.m_fixtureA.getBody();\n  var bodyB = this.m_fixtureB.getBody();\n  var xfA = bodyA.getTransform();\n  var xfB = bodyB.getTransform();\n\n  // Is this contact a sensor?\n  if (sensor) {\n    var shapeA = this.m_fixtureA.getShape();\n    var shapeB = this.m_fixtureB.getShape();\n    touching = Distance.testOverlap(shapeA, this.m_indexA, shapeB,\n        this.m_indexB, xfA, xfB);\n\n    // Sensors don't generate manifolds.\n    this.m_manifold.pointCount = 0;\n  } else {\n\n    // TODO reuse manifold\n    var oldManifold = this.m_manifold;\n    this.m_manifold = new Manifold();\n\n    this.evaluate(this.m_manifold, xfA, xfB);\n    touching = this.m_manifold.pointCount > 0;\n\n    // Match old contact ids to new contact ids and copy the\n    // stored impulses to warm start the solver.\n    for (var i = 0; i < this.m_manifold.pointCount; ++i) {\n      var nmp = this.m_manifold.points[i];\n      nmp.normalImpulse = 0.0;\n      nmp.tangentImpulse = 0.0;\n\n      for (var j = 0; j < oldManifold.pointCount; ++j) {\n        var omp = oldManifold.points[j];\n        if (omp.id.key == nmp.id.key) { // ContactID.key\n          nmp.normalImpulse = omp.normalImpulse;\n          nmp.tangentImpulse = omp.tangentImpulse;\n          break;\n        }\n      }\n    }\n\n    if (touching != wasTouching) {\n      bodyA.setAwake(true);\n      bodyB.setAwake(true);\n    }\n  }\n\n  this.m_touchingFlag = touching;\n\n  if (wasTouching == false && touching == true && listener) {\n    listener.beginContact(this);\n  }\n\n  if (wasTouching == true && touching == false && listener) {\n    listener.endContact(this);\n  }\n\n  if (sensor == false && touching && listener) {\n    listener.preSolve(this, oldManifold);\n  }\n}\n\nContact.prototype.solvePositionConstraint = function(step) {\n  return this._solvePositionConstraint(step, false);\n}\n\nContact.prototype.solvePositionConstraintTOI = function(step, toiA, toiB) {\n  return this._solvePositionConstraint(step, true, toiA, toiB);\n}\n\nContact.prototype._solvePositionConstraint = function(step, toi, toiA, toiB) {\n\n  var fixtureA = this.m_fixtureA;\n  var fixtureB = this.m_fixtureB;\n\n  var bodyA = fixtureA.getBody();\n  var bodyB = fixtureB.getBody();\n\n  var velocityA = bodyA.c_velocity;\n  var velocityB = bodyB.c_velocity;\n  var positionA = bodyA.c_position;\n  var positionB = bodyB.c_position;\n\n  var localCenterA = Vec2.clone(this.p_localCenterA);\n  var localCenterB = Vec2.clone(this.p_localCenterB);\n\n  var mA = 0.0;\n  var iA = 0.0;\n  if (!toi || (bodyA == toiA || bodyA == toiB)) {\n    mA = this.p_invMassA;\n    iA = this.p_invIA;\n  }\n\n  var mB = 0.0;\n  var iB = 0.0;\n  if (!toi || (bodyB == toiA || bodyB == toiB)) {\n    mB = this.p_invMassB;\n    iB = this.p_invIB;\n  }\n\n  var cA = Vec2.clone(positionA.c);\n  var aA = positionA.a;\n\n  var cB = Vec2.clone(positionB.c);\n  var aB = positionB.a;\n\n  var minSeparation = 0.0;\n\n  // Solve normal constraints\n  for (var j = 0; j < this.p_pointCount; ++j) {\n    var xfA = Transform.identity();\n    var xfB = Transform.identity();\n    xfA.q.set(aA);\n    xfB.q.set(aB);\n    xfA.p = Vec2.sub(cA, Rot.mulVec2(xfA.q, localCenterA));\n    xfB.p = Vec2.sub(cB, Rot.mulVec2(xfB.q, localCenterB));\n\n    // PositionSolverManifold\n    var normal, point, separation;\n    switch (this.p_type) {\n    case Manifold.e_circles:\n      var pointA = Transform.mulVec2(xfA, this.p_localPoint);\n      var pointB = Transform.mulVec2(xfB, this.p_localPoints[0]);\n      normal = Vec2.sub(pointB, pointA);\n      normal.normalize();\n      point = Vec2.combine(0.5, pointA, 0.5, pointB);\n      separation = Vec2.dot(Vec2.sub(pointB, pointA), normal) - this.p_radiusA\n          - this.p_radiusB;\n      break;\n\n    case Manifold.e_faceA:\n      normal = Rot.mulVec2(xfA.q, this.p_localNormal);\n      var planePoint = Transform.mulVec2(xfA, this.p_localPoint);\n      var clipPoint = Transform.mulVec2(xfB, this.p_localPoints[j]);\n      separation = Vec2.dot(Vec2.sub(clipPoint, planePoint), normal)\n          - this.p_radiusA - this.p_radiusB;\n      point = clipPoint;\n      break;\n\n    case Manifold.e_faceB:\n      normal = Rot.mulVec2(xfB.q, this.p_localNormal);\n      var planePoint = Transform.mulVec2(xfB, this.p_localPoint);\n      var clipPoint = Transform.mulVec2(xfA, this.p_localPoints[j]);\n      separation = Vec2.dot(Vec2.sub(clipPoint, planePoint), normal)\n          - this.p_radiusA - this.p_radiusB;\n      point = clipPoint;\n\n      // Ensure normal points from A to B\n      normal.mul(-1);\n      break;\n    }\n\n    var rA = Vec2.sub(point, cA);\n    var rB = Vec2.sub(point, cB);\n\n    // Track max constraint error.\n    minSeparation = Math.min(minSeparation, separation);\n\n    var baumgarte = toi ? Settings.toiBaugarte : Settings.baumgarte;\n    var linearSlop = Settings.linearSlop;\n    var maxLinearCorrection = Settings.maxLinearCorrection;\n\n    // Prevent large corrections and allow slop.\n    var C = Math.clamp(baumgarte * (separation + linearSlop),\n        -maxLinearCorrection, 0.0);\n\n    // Compute the effective mass.\n    var rnA = Vec2.cross(rA, normal);\n    var rnB = Vec2.cross(rB, normal);\n    var K = mA + mB + iA * rnA * rnA + iB * rnB * rnB;\n\n    // Compute normal impulse\n    var impulse = K > 0.0 ? -C / K : 0.0;\n\n    var P = Vec2.mul(impulse, normal);\n\n    cA.subMul(mA, P);\n    aA -= iA * Vec2.cross(rA, P);\n\n    cB.addMul(mB, P);\n    aB += iB * Vec2.cross(rB, P);\n  }\n\n  positionA.c.set(cA);\n  positionA.a = aA;\n\n  positionB.c.set(cB);\n  positionB.a = aB;\n\n  return minSeparation;\n}\n\n// TODO merge with ManifoldPoint\nfunction VelocityConstraintPoint() {\n  this.rA = Vec2.zero();\n  this.rB = Vec2.zero();\n  this.normalImpulse = 0;\n  this.tangentImpulse = 0;\n  this.normalMass = 0;\n  this.tangentMass = 0;\n  this.velocityBias = 0;\n}\n\nContact.prototype.initVelocityConstraint = function(step) {\n  var fixtureA = this.m_fixtureA;\n  var fixtureB = this.m_fixtureB;\n\n  var bodyA = fixtureA.getBody();\n  var bodyB = fixtureB.getBody();\n\n  var velocityA = bodyA.c_velocity;\n  var velocityB = bodyB.c_velocity;\n\n  var positionA = bodyA.c_position;\n  var positionB = bodyB.c_position;\n\n  var radiusA = this.p_radiusA;\n  var radiusB = this.p_radiusB;\n  var manifold = this.getManifold();\n\n  var mA = this.v_invMassA;\n  var mB = this.v_invMassB;\n  var iA = this.v_invIA;\n  var iB = this.v_invIB;\n  var localCenterA = Vec2.clone(this.p_localCenterA);\n  var localCenterB = Vec2.clone(this.p_localCenterB);\n\n  var cA = Vec2.clone(positionA.c);\n  var aA = positionA.a;\n  var vA = Vec2.clone(velocityA.v);\n  var wA = velocityA.w;\n\n  var cB = Vec2.clone(positionB.c);\n  var aB = positionB.a;\n  var vB = Vec2.clone(velocityB.v);\n  var wB = velocityB.w;\n\n  _ASSERT && common.assert(manifold.pointCount > 0);\n\n  var xfA = Transform.identity();\n  var xfB = Transform.identity();\n  xfA.q.set(aA);\n  xfB.q.set(aB);\n  xfA.p.setCombine(1, cA, -1, Rot.mulVec2(xfA.q, localCenterA));\n  xfB.p.setCombine(1, cB, -1, Rot.mulVec2(xfB.q, localCenterB));\n\n  var worldManifold = manifold.getWorldManifold(null, xfA, radiusA, xfB, radiusB);\n\n  this.v_normal.set(worldManifold.normal);\n\n  for (var j = 0; j < this.v_pointCount; ++j) {\n    var vcp = this.v_points[j]; // VelocityConstraintPoint\n\n    vcp.rA.set(Vec2.sub(worldManifold.points[j], cA));\n    vcp.rB.set(Vec2.sub(worldManifold.points[j], cB));\n\n    var rnA = Vec2.cross(vcp.rA, this.v_normal);\n    var rnB = Vec2.cross(vcp.rB, this.v_normal);\n\n    var kNormal = mA + mB + iA * rnA * rnA + iB * rnB * rnB;\n\n    vcp.normalMass = kNormal > 0.0 ? 1.0 / kNormal : 0.0;\n\n    var tangent = Vec2.cross(this.v_normal, 1.0);\n\n    var rtA = Vec2.cross(vcp.rA, tangent);\n    var rtB = Vec2.cross(vcp.rB, tangent);\n\n    var kTangent = mA + mB + iA * rtA * rtA + iB * rtB * rtB;\n\n    vcp.tangentMass = kTangent > 0.0 ? 1.0 / kTangent : 0.0;\n\n    // Setup a velocity bias for restitution.\n    vcp.velocityBias = 0.0;\n    var vRel = Vec2.dot(this.v_normal, vB)\n        + Vec2.dot(this.v_normal, Vec2.cross(wB, vcp.rB))\n        - Vec2.dot(this.v_normal, vA)\n        - Vec2.dot(this.v_normal, Vec2.cross(wA, vcp.rA));\n    if (vRel < -Settings.velocityThreshold) {\n      vcp.velocityBias = -this.v_restitution * vRel;\n    }\n  }\n\n  // If we have two points, then prepare the block solver.\n  if (this.v_pointCount == 2 && step.blockSolve) {\n    var vcp1 = this.v_points[0]; // VelocityConstraintPoint\n    var vcp2 = this.v_points[1]; // VelocityConstraintPoint\n\n    var rn1A = Vec2.cross(vcp1.rA, this.v_normal);\n    var rn1B = Vec2.cross(vcp1.rB, this.v_normal);\n    var rn2A = Vec2.cross(vcp2.rA, this.v_normal);\n    var rn2B = Vec2.cross(vcp2.rB, this.v_normal);\n\n    var k11 = mA + mB + iA * rn1A * rn1A + iB * rn1B * rn1B;\n    var k22 = mA + mB + iA * rn2A * rn2A + iB * rn2B * rn2B;\n    var k12 = mA + mB + iA * rn1A * rn2A + iB * rn1B * rn2B;\n\n    // Ensure a reasonable condition number.\n    var k_maxConditionNumber = 1000.0;\n    if (k11 * k11 < k_maxConditionNumber * (k11 * k22 - k12 * k12)) {\n      // K is safe to invert.\n      this.v_K.ex.set(k11, k12);\n      this.v_K.ey.set(k12, k22);\n      this.v_normalMass.set(this.v_K.getInverse());\n    } else {\n      // The constraints are redundant, just use one.\n      // TODO_ERIN use deepest?\n      this.v_pointCount = 1;\n    }\n  }\n\n  positionA.c.set(cA);\n  positionA.a = aA;\n  velocityA.v.set(vA);\n  velocityA.w = wA;\n\n  positionB.c.set(cB);\n  positionB.a = aB;\n  velocityB.v.set(vB);\n  velocityB.w = wB;\n};\n\nContact.prototype.warmStartConstraint = function(step) {\n  var fixtureA = this.m_fixtureA;\n  var fixtureB = this.m_fixtureB;\n\n  var bodyA = fixtureA.getBody();\n  var bodyB = fixtureB.getBody();\n\n  var velocityA = bodyA.c_velocity;\n  var velocityB = bodyB.c_velocity;\n  var positionA = bodyA.c_position;\n  var positionB = bodyB.c_position;\n\n  var mA = this.v_invMassA;\n  var iA = this.v_invIA;\n  var mB = this.v_invMassB;\n  var iB = this.v_invIB;\n\n  var vA = Vec2.clone(velocityA.v);\n  var wA = velocityA.w;\n  var vB = Vec2.clone(velocityB.v);\n  var wB = velocityB.w;\n\n  var normal = this.v_normal;\n  var tangent = Vec2.cross(normal, 1.0);\n\n  for (var j = 0; j < this.v_pointCount; ++j) {\n    var vcp = this.v_points[j]; // VelocityConstraintPoint\n\n    var P = Vec2.combine(vcp.normalImpulse, normal, vcp.tangentImpulse, tangent);\n    wA -= iA * Vec2.cross(vcp.rA, P);\n    vA.subMul(mA, P);\n    wB += iB * Vec2.cross(vcp.rB, P);\n    vB.addMul(mB, P);\n  }\n\n  velocityA.v.set(vA);\n  velocityA.w = wA;\n  velocityB.v.set(vB);\n  velocityB.w = wB;\n};\n\nContact.prototype.storeConstraintImpulses = function(step) {\n  var manifold = this.m_manifold;\n  for (var j = 0; j < this.v_pointCount; ++j) {\n    manifold.points[j].normalImpulse = this.v_points[j].normalImpulse;\n    manifold.points[j].tangentImpulse = this.v_points[j].tangentImpulse;\n  }\n};\n\nContact.prototype.solveVelocityConstraint = function(step) {\n  var bodyA = this.m_fixtureA.m_body;\n  var bodyB = this.m_fixtureB.m_body;\n\n  var velocityA = bodyA.c_velocity;\n  var positionA = bodyA.c_position;\n\n  var velocityB = bodyB.c_velocity;\n  var positionB = bodyB.c_position;\n\n  var mA = this.v_invMassA;\n  var iA = this.v_invIA;\n  var mB = this.v_invMassB;\n  var iB = this.v_invIB;\n\n  var vA = Vec2.clone(velocityA.v);\n  var wA = velocityA.w;\n  var vB = Vec2.clone(velocityB.v);\n  var wB = velocityB.w;\n\n  var normal = this.v_normal;\n  var tangent = Vec2.cross(normal, 1.0);\n  var friction = this.v_friction;\n\n  _ASSERT && common.assert(this.v_pointCount == 1 || this.v_pointCount == 2);\n\n  // Solve tangent constraints first because non-penetration is more important\n  // than friction.\n  for (var j = 0; j < this.v_pointCount; ++j) {\n    var vcp = this.v_points[j]; // VelocityConstraintPoint\n\n    // Relative velocity at contact\n    var dv = Vec2.zero();\n    dv.addCombine(1, vB, 1, Vec2.cross(wB, vcp.rB));\n    dv.subCombine(1, vA, 1, Vec2.cross(wA, vcp.rA));\n\n    // Compute tangent force\n    var vt = Vec2.dot(dv, tangent) - this.v_tangentSpeed;\n    var lambda = vcp.tangentMass * (-vt);\n\n    // Clamp the accumulated force\n    var maxFriction = friction * vcp.normalImpulse;\n    var newImpulse = Math.clamp(vcp.tangentImpulse + lambda, -maxFriction,\n        maxFriction);\n    lambda = newImpulse - vcp.tangentImpulse;\n    vcp.tangentImpulse = newImpulse;\n\n    // Apply contact impulse\n    var P = Vec2.mul(lambda, tangent);\n\n    vA.subMul(mA, P);\n    wA -= iA * Vec2.cross(vcp.rA, P);\n\n    vB.addMul(mB, P);\n    wB += iB * Vec2.cross(vcp.rB, P);\n  }\n\n  // Solve normal constraints\n  if (this.v_pointCount == 1 || step.blockSolve == false) {\n    for (var i = 0; i < this.v_pointCount; ++i) {\n      var vcp = this.v_points[i]; // VelocityConstraintPoint\n\n      // Relative velocity at contact\n      var dv = Vec2.zero();\n      dv.addCombine(1, vB, 1, Vec2.cross(wB, vcp.rB));\n      dv.subCombine(1, vA, 1, Vec2.cross(wA, vcp.rA));\n\n      // Compute normal impulse\n      var vn = Vec2.dot(dv, normal);\n      var lambda = -vcp.normalMass * (vn - vcp.velocityBias);\n\n      // Clamp the accumulated impulse\n      var newImpulse = Math.max(vcp.normalImpulse + lambda, 0.0);\n      lambda = newImpulse - vcp.normalImpulse;\n      vcp.normalImpulse = newImpulse;\n\n      // Apply contact impulse\n      var P = Vec2.mul(lambda, normal);\n\n      vA.subMul(mA, P);\n      wA -= iA * Vec2.cross(vcp.rA, P);\n\n      vB.addMul(mB, P);\n      wB += iB * Vec2.cross(vcp.rB, P);\n    }\n  } else {\n    // Block solver developed in collaboration with Dirk Gregorius (back in\n    // 01/07 on Box2D_Lite).\n    // Build the mini LCP for this contact patch\n    //\n    // vn = A * x + b, vn >= 0, , vn >= 0, x >= 0 and vn_i * x_i = 0 with i =\n    // 1..2\n    //\n    // A = J * W * JT and J = ( -n, -r1 x n, n, r2 x n )\n    // b = vn0 - velocityBias\n    //\n    // The system is solved using the \"Total enumeration method\" (s. Murty).\n    // The complementary constraint vn_i * x_i\n    // implies that we must have in any solution either vn_i = 0 or x_i = 0.\n    // So for the 2D contact problem the cases\n    // vn1 = 0 and vn2 = 0, x1 = 0 and x2 = 0, x1 = 0 and vn2 = 0, x2 = 0 and\n    // vn1 = 0 need to be tested. The first valid\n    // solution that satisfies the problem is chosen.\n    // \n    // In order to account of the accumulated impulse 'a' (because of the\n    // iterative nature of the solver which only requires\n    // that the accumulated impulse is clamped and not the incremental\n    // impulse) we change the impulse variable (x_i).\n    //\n    // Substitute:\n    // \n    // x = a + d\n    // \n    // a := old total impulse\n    // x := new total impulse\n    // d := incremental impulse\n    //\n    // For the current iteration we extend the formula for the incremental\n    // impulse\n    // to compute the new total impulse:\n    //\n    // vn = A * d + b\n    // = A * (x - a) + b\n    // = A * x + b - A * a\n    // = A * x + b'\n    // b' = b - A * a;\n\n    var vcp1 = this.v_points[0]; // VelocityConstraintPoint\n    var vcp2 = this.v_points[1]; // VelocityConstraintPoint\n\n    var a = Vec2.neo(vcp1.normalImpulse, vcp2.normalImpulse);\n    _ASSERT && common.assert(a.x >= 0.0 && a.y >= 0.0);\n\n    // Relative velocity at contact\n    var dv1 = Vec2.zero().add(vB).add(Vec2.cross(wB, vcp1.rB)).sub(vA).sub(Vec2.cross(wA, vcp1.rA));\n    var dv2 = Vec2.zero().add(vB).add(Vec2.cross(wB, vcp2.rB)).sub(vA).sub(Vec2.cross(wA, vcp2.rA));\n\n    // Compute normal velocity\n    var vn1 = Vec2.dot(dv1, normal);\n    var vn2 = Vec2.dot(dv2, normal);\n\n    var b = Vec2.neo(vn1 - vcp1.velocityBias, vn2 - vcp2.velocityBias);\n\n    // Compute b'\n    b.sub(Mat22.mulVec2(this.v_K, a));\n\n    var k_errorTol = 1e-3;\n    // NOT_USED(k_errorTol);\n\n    for (;;) {\n      //\n      // Case 1: vn = 0\n      //\n      // 0 = A * x + b'\n      //\n      // Solve for x:\n      //\n      // x = - inv(A) * b'\n      //\n      var x = Mat22.mulVec2(this.v_normalMass, b).neg();\n\n      if (x.x >= 0.0 && x.y >= 0.0) {\n        // Get the incremental impulse\n        var d = Vec2.sub(x, a);\n\n        // Apply incremental impulse\n        var P1 = Vec2.mul(d.x, normal);\n        var P2 = Vec2.mul(d.y, normal);\n\n        vA.subCombine(mA, P1, mA, P2);\n        wA -= iA * (Vec2.cross(vcp1.rA, P1) + Vec2.cross(vcp2.rA, P2));\n\n        vB.addCombine(mB, P1, mB, P2);\n        wB += iB * (Vec2.cross(vcp1.rB, P1) + Vec2.cross(vcp2.rB, P2));\n\n        // Accumulate\n        vcp1.normalImpulse = x.x;\n        vcp2.normalImpulse = x.y;\n\n        if (DEBUG_SOLVER) {\n          // Postconditions\n          dv1 = vB + Vec2.cross(wB, vcp1.rB) - vA - Vec2.cross(wA, vcp1.rA);\n          dv2 = vB + Vec2.cross(wB, vcp2.rB) - vA - Vec2.cross(wA, vcp2.rA);\n\n          // Compute normal velocity\n          vn1 = Dot(dv1, normal);\n          vn2 = Dot(dv2, normal);\n\n          _ASSERT && common.assert(Abs(vn1 - vcp1.velocityBias) < k_errorTol);\n          _ASSERT && common.assert(Abs(vn2 - vcp2.velocityBias) < k_errorTol);\n        }\n        break;\n      }\n\n      //\n      // Case 2: vn1 = 0 and x2 = 0\n      //\n      // 0 = a11 * x1 + a12 * 0 + b1'\n      // vn2 = a21 * x1 + a22 * 0 + b2'\n      //\n      x.x = -vcp1.normalMass * b.x;\n      x.y = 0.0;\n      vn1 = 0.0;\n      vn2 = this.v_K.ex.y * x.x + b.y;\n\n      if (x.x >= 0.0 && vn2 >= 0.0) {\n        // Get the incremental impulse\n        var d = Vec2.sub(x, a);\n\n        // Apply incremental impulse\n        var P1 = Vec2.mul(d.x, normal);\n        var P2 = Vec2.mul(d.y, normal);\n        vA.subCombine(mA, P1, mA, P2);\n        wA -= iA * (Vec2.cross(vcp1.rA, P1) + Vec2.cross(vcp2.rA, P2));\n\n        vB.addCombine(mB, P1, mB, P2);\n        wB += iB * (Vec2.cross(vcp1.rB, P1) + Vec2.cross(vcp2.rB, P2));\n\n        // Accumulate\n        vcp1.normalImpulse = x.x;\n        vcp2.normalImpulse = x.y;\n\n        if (DEBUG_SOLVER) {\n          // Postconditions\n          var dv1B = Vec2.add(vB, Vec2.cross(wB, vcp1.rB));\n          var dv1A = Vec2.add(vA, Vec2.cross(wA, vcp1.rA));\n          var dv1 = Vec2.sub(dv1B, dv1A);\n\n          // Compute normal velocity\n          vn1 = Vec2.dot(dv1, normal);\n\n          _ASSERT && common.assert(Math.abs(vn1 - vcp1.velocityBias) < k_errorTol);\n        }\n        break;\n      }\n\n      //\n      // Case 3: vn2 = 0 and x1 = 0\n      //\n      // vn1 = a11 * 0 + a12 * x2 + b1'\n      // 0 = a21 * 0 + a22 * x2 + b2'\n      //\n      x.x = 0.0;\n      x.y = -vcp2.normalMass * b.y;\n      vn1 = this.v_K.ey.x * x.y + b.x;\n      vn2 = 0.0;\n\n      if (x.y >= 0.0 && vn1 >= 0.0) {\n        // Resubstitute for the incremental impulse\n        var d = Vec2.sub(x, a);\n\n        // Apply incremental impulse\n        var P1 = Vec2.mul(d.x, normal);\n        var P2 = Vec2.mul(d.y, normal);\n        vA.subCombine(mA, P1, mA, P2);\n        wA -= iA * (Vec2.cross(vcp1.rA, P1) + Vec2.cross(vcp2.rA, P2));\n\n        vB.addCombine(mB, P1, mB, P2);\n        wB += iB * (Vec2.cross(vcp1.rB, P1) + Vec2.cross(vcp2.rB, P2));\n\n        // Accumulate\n        vcp1.normalImpulse = x.x;\n        vcp2.normalImpulse = x.y;\n\n        if (DEBUG_SOLVER) {\n          // Postconditions\n          var dv2B = Vec2.add(vB, Vec2.cross(wB, vcp2.rB));\n          var dv2A = Vec2.add(vA, Vec2.cross(wA, vcp2.rA));\n          var dv1 = Vec2.sub(dv2B, dv2A);\n\n          // Compute normal velocity\n          vn2 = Vec2.dot(dv2, normal);\n\n          _ASSERT && common.assert(Math.abs(vn2 - vcp2.velocityBias) < k_errorTol);\n        }\n        break;\n      }\n\n      //\n      // Case 4: x1 = 0 and x2 = 0\n      // \n      // vn1 = b1\n      // vn2 = b2;\n      //\n      x.x = 0.0;\n      x.y = 0.0;\n      vn1 = b.x;\n      vn2 = b.y;\n\n      if (vn1 >= 0.0 && vn2 >= 0.0) {\n        // Resubstitute for the incremental impulse\n        var d = Vec2.sub(x, a);\n\n        // Apply incremental impulse\n        var P1 = Vec2.mul(d.x, normal);\n        var P2 = Vec2.mul(d.y, normal);\n        vA.subCombine(mA, P1, mA, P2);\n        wA -= iA * (Vec2.cross(vcp1.rA, P1) + Vec2.cross(vcp2.rA, P2));\n\n        vB.addCombine(mB, P1, mB, P2);\n        wB += iB * (Vec2.cross(vcp1.rB, P1) + Vec2.cross(vcp2.rB, P2));\n\n        // Accumulate\n        vcp1.normalImpulse = x.x;\n        vcp2.normalImpulse = x.y;\n\n        break;\n      }\n\n      // No solution, give up. This is hit sometimes, but it doesn't seem to\n      // matter.\n      break;\n    }\n  }\n\n  velocityA.v.set(vA);\n  velocityA.w = wA;\n\n  velocityB.v.set(vB);\n  velocityB.w = wB;\n};\n\n/**\n * Friction mixing law. The idea is to allow either fixture to drive the\n * restitution to zero. For example, anything slides on ice.\n */\nfunction mixFriction(friction1, friction2) {\n  return Math.sqrt(friction1 * friction2);\n}\n\n/**\n * Restitution mixing law. The idea is allow for anything to bounce off an\n * inelastic surface. For example, a superball bounces on anything.\n */\nfunction mixRestitution(restitution1, restitution2) {\n  return restitution1 > restitution2 ? restitution1 : restitution2;\n}\n\nvar s_registers = [];\n\n/**\n * @param fn function(fixtureA, indexA, fixtureB, indexB) Contact\n */\nContact.addType = function(type1, type2, callback) {\n\n  s_registers[type1] = s_registers[type1] || {};\n  s_registers[type1][type2] = callback;\n}\n\nContact.create = function(fixtureA, indexA, fixtureB, indexB) {\n  var typeA = fixtureA.getType(); // Shape.Type\n  var typeB = fixtureB.getType(); // Shape.Type\n\n  // TODO: pool contacts\n  var contact, evaluateFcn;\n  if (evaluateFcn = s_registers[typeA] && s_registers[typeA][typeB]) {\n    contact = new Contact(fixtureA, indexA, fixtureB, indexB, evaluateFcn);\n  } else if (evaluateFcn = s_registers[typeB] && s_registers[typeB][typeA]) {\n    contact = new Contact(fixtureB, indexB, fixtureA, indexA, evaluateFcn);\n  } else {\n    return null;\n  }\n\n  // Contact creation may swap fixtures.\n  fixtureA = contact.getFixtureA();\n  fixtureB = contact.getFixtureB();\n  indexA = contact.getChildIndexA();\n  indexB = contact.getChildIndexB();\n  var bodyA = fixtureA.getBody();\n  var bodyB = fixtureB.getBody();\n\n  // Connect to body A\n  contact.m_nodeA.contact = contact;\n  contact.m_nodeA.other = bodyB;\n\n  contact.m_nodeA.prev = null;\n  contact.m_nodeA.next = bodyA.m_contactList;\n  if (bodyA.m_contactList != null) {\n    bodyA.m_contactList.prev = contact.m_nodeA;\n  }\n  bodyA.m_contactList = contact.m_nodeA;\n\n  // Connect to body B\n  contact.m_nodeB.contact = contact;\n  contact.m_nodeB.other = bodyA;\n\n  contact.m_nodeB.prev = null;\n  contact.m_nodeB.next = bodyB.m_contactList;\n  if (bodyB.m_contactList != null) {\n    bodyB.m_contactList.prev = contact.m_nodeB;\n  }\n  bodyB.m_contactList = contact.m_nodeB;\n\n  // Wake up the bodies\n  if (fixtureA.isSensor() == false && fixtureB.isSensor() == false) {\n    bodyA.setAwake(true);\n    bodyB.setAwake(true);\n  }\n\n  return contact;\n}\n\nContact.destroy = function(contact, listener) {\n  var fixtureA = contact.m_fixtureA;\n  var fixtureB = contact.m_fixtureB;\n\n  var bodyA = fixtureA.getBody();\n  var bodyB = fixtureB.getBody();\n\n  if (contact.isTouching()) {\n    listener.endContact(contact);\n  }\n\n  // Remove from body 1\n  if (contact.m_nodeA.prev) {\n    contact.m_nodeA.prev.next = contact.m_nodeA.next;\n  }\n\n  if (contact.m_nodeA.next) {\n    contact.m_nodeA.next.prev = contact.m_nodeA.prev;\n  }\n\n  if (contact.m_nodeA == bodyA.m_contactList) {\n    bodyA.m_contactList = contact.m_nodeA.next;\n  }\n\n  // Remove from body 2\n  if (contact.m_nodeB.prev) {\n    contact.m_nodeB.prev.next = contact.m_nodeB.next;\n  }\n\n  if (contact.m_nodeB.next) {\n    contact.m_nodeB.next.prev = contact.m_nodeB.prev;\n  }\n\n  if (contact.m_nodeB == bodyB.m_contactList) {\n    bodyB.m_contactList = contact.m_nodeB.next;\n  }\n\n  if (contact.m_manifold.pointCount > 0 && fixtureA.isSensor() == false\n      && fixtureB.isSensor() == false) {\n    bodyA.setAwake(true);\n    bodyB.setAwake(true);\n  }\n\n  var typeA = fixtureA.getType(); // Shape.Type\n  var typeB = fixtureB.getType(); // Shape.Type\n\n  var destroyFcn = s_registers[typeA][typeB].destroyFcn;\n  if (typeof destroyFcn === 'function') {\n    destroyFcn(contact);\n  }\n};\n","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nvar common = require('./util/common');\n\nvar Vec2 = require('./common/Vec2');\nvar Transform = require('./common/Transform');\nvar Math = require('./common/Math');\nvar Rot = require('./common/Rot');\n\nmodule.exports = Manifold;\nmodule.exports.clipSegmentToLine = clipSegmentToLine;\nmodule.exports.clipVertex = ClipVertex;\nmodule.exports.getPointStates = getPointStates;\nmodule.exports.PointState = PointState;\n\n// Manifold Type\nManifold.e_circles = 0;\nManifold.e_faceA = 1;\nManifold.e_faceB = 2;\n\n// ContactFeature Type\nManifold.e_vertex = 0;\nManifold.e_face = 1;\n\n/**\n * A manifold for two touching convex shapes. Manifolds are created in `evaluate`\n * method of Contact subclasses.\n * \n * Supported manifold types are e_faceA or e_faceB for clip point versus plane\n * with radius and e_circles point versus point with radius.\n * \n * We store contacts in this way so that position correction can account for\n * movement, which is critical for continuous physics. All contact scenarios\n * must be expressed in one of these types. This structure is stored across time\n * steps, so we keep it small.\n * \n * @prop type e_circle, e_faceA, e_faceB\n * @prop localPoint Usage depends on manifold type:<br>\n *       e_circles: the local center of circleA <br>\n *       e_faceA: the center of faceA <br>\n *       e_faceB: the center of faceB\n * @prop localNormal Usage depends on manifold type:<br>\n *       e_circles: not used <br>\n *       e_faceA: the normal on polygonA <br>\n *       e_faceB: the normal on polygonB\n * @prop points The points of contact {ManifoldPoint[]}\n * @prop pointCount The number of manifold points\n */\nfunction Manifold() {\n  this.type;\n  this.localNormal = Vec2.zero();\n  this.localPoint = Vec2.zero();\n  this.points = [ new ManifoldPoint(), new ManifoldPoint() ];\n  this.pointCount = 0;\n};\n\n/**\n * A manifold point is a contact point belonging to a contact manifold. It holds\n * details related to the geometry and dynamics of the contact points.\n * \n * This structure is stored across time steps, so we keep it small.\n * \n * Note: impulses are used for internal caching and may not provide reliable\n * contact forces, especially for high speed collisions.\n * \n * @prop {Vec2} localPoint Usage depends on manifold type:<br>\n *       e_circles: the local center of circleB<br>\n *       e_faceA: the local center of cirlceB or the clip point of polygonB<br>\n *       e_faceB: the clip point of polygonA.\n * @prop normalImpulse The non-penetration impulse\n * @prop tangentImpulse The friction impulse\n * @prop {ContactID} id Uniquely identifies a contact point between two shapes\n *       to facilatate warm starting\n */\nfunction ManifoldPoint() {\n  this.localPoint = Vec2.zero();\n  this.normalImpulse = 0;\n  this.tangentImpulse = 0;\n  this.id = new ContactID();\n};\n\n/**\n * Contact ids to facilitate warm starting.\n * \n * @prop {ContactFeature} cf\n * @prop key Used to quickly compare contact ids.\n * \n */\nfunction ContactID() {\n  this.cf = new ContactFeature();\n};\n\nObject.defineProperty(ContactID.prototype, 'key', {\n  get: function() {\n    return this.cf.indexA + this.cf.indexB * 4 + this.cf.typeA * 16 + this.cf.typeB * 64;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nContactID.prototype.set = function(o) {\n  // this.key = o.key;\n  this.cf.set(o.cf);\n};\n\n/**\n * The features that intersect to form the contact point.\n * \n * @prop indexA Feature index on shapeA\n * @prop indexB Feature index on shapeB\n * @prop typeA The feature type on shapeA\n * @prop typeB The feature type on shapeB\n */\nfunction ContactFeature() {\n  this.indexA;\n  this.indexB;\n  this.typeA;\n  this.typeB;\n};\n\nContactFeature.prototype.set = function(o) {\n  this.indexA = o.indexA;\n  this.indexB = o.indexB;\n  this.typeA = o.typeA;\n  this.typeB = o.typeB;\n};\n\n/**\n * This is used to compute the current state of a contact manifold.\n * \n * @prop normal World vector pointing from A to B\n * @prop points World contact point (point of intersection)\n * @prop separations A negative value indicates overlap, in meters\n */\nfunction WorldManifold() {\n  this.normal;\n  this.points = []; // [maxManifoldPoints]\n  this.separations = []; // float[maxManifoldPoints]\n};\n\n/**\n * Evaluate the manifold with supplied transforms. This assumes modest motion\n * from the original state. This does not change the point count, impulses, etc.\n * The radii must come from the shapes that generated the manifold.\n * \n * @param {WorldManifold} [wm]\n */\nManifold.prototype.getWorldManifold = function(wm, xfA, radiusA, xfB, radiusB) {\n  if (this.pointCount == 0) {\n    return;\n  }\n\n  wm = wm || new WorldManifold();\n\n  var normal = wm.normal;\n  var points = wm.points;\n  var separations = wm.separations;\n\n  // TODO: improve\n  switch (this.type) {\n  case Manifold.e_circles:\n    normal = Vec2.neo(1.0, 0.0);\n    var pointA = Transform.mulVec2(xfA, this.localPoint);\n    var pointB = Transform.mulVec2(xfB, this.points[0].localPoint);\n    var dist = Vec2.sub(pointB, pointA);\n    if (Vec2.lengthSquared(dist) > Math.EPSILON * Math.EPSILON) {\n      normal.set(dist);\n      normal.normalize();\n    }\n    var cA = pointA.clone().addMul(radiusA, normal);\n    var cB = pointB.clone().addMul(-radiusB, normal);\n    points[0] = Vec2.mid(cA, cB);\n    separations[0] = Vec2.dot(Vec2.sub(cB, cA), normal);\n    points.length = 1;\n    separations.length = 1;\n    break;\n\n  case Manifold.e_faceA:\n    normal = Rot.mulVec2(xfA.q, this.localNormal);\n    var planePoint = Transform.mulVec2(xfA, this.localPoint);\n\n    for (var i = 0; i < this.pointCount; ++i) {\n      var clipPoint = Transform.mulVec2(xfB, this.points[i].localPoint);\n      var cA = Vec2.clone(clipPoint).addMul(radiusA - Vec2.dot(Vec2.sub(clipPoint, planePoint), normal), normal);\n      var cB = Vec2.clone(clipPoint).subMul(radiusB, normal);\n      points[i] = Vec2.mid(cA, cB);\n      separations[i] = Vec2.dot(Vec2.sub(cB, cA), normal);\n    }\n    points.length = this.pointCount;\n    separations.length = this.pointCount;\n    break;\n\n  case Manifold.e_faceB:\n    normal = Rot.mulVec2(xfB.q, this.localNormal);\n    var planePoint = Transform.mulVec2(xfB, this.localPoint);\n\n    for (var i = 0; i < this.pointCount; ++i) {\n      var clipPoint = Transform.mulVec2(xfA, this.points[i].localPoint);\n      var cB = Vec2.combine(1, clipPoint, radiusB - Vec2.dot(Vec2.sub(clipPoint, planePoint), normal), normal);\n      var cA = Vec2.combine(1, clipPoint, -radiusA, normal);\n      points[i] = Vec2.mid(cA, cB);\n      separations[i] = Vec2.dot(Vec2.sub(cA, cB), normal);\n    }\n    points.length = this.pointCount;\n    separations.length = this.pointCount;\n    // Ensure normal points from A to B.\n    normal.mul(-1);\n    break;\n  }\n\n  wm.normal = normal;\n  wm.points = points;\n  wm.separations = separations;\n  return wm;\n}\n\n/**\n * This is used for determining the state of contact points.\n * \n * @prop {0} nullState Point does not exist\n * @prop {1} addState Point was added in the update\n * @prop {2} persistState Point persisted across the update\n * @prop {3} removeState Point was removed in the update\n */\nvar PointState = {\n  // TODO: use constants\n  nullState : 0,\n  addState : 1,\n  persistState : 2,\n  removeState : 3\n};\n\n/**\n * Compute the point states given two manifolds. The states pertain to the\n * transition from manifold1 to manifold2. So state1 is either persist or remove\n * while state2 is either add or persist.\n * \n * @param {PointState[Settings.maxManifoldPoints]} state1\n * @param {PointState[Settings.maxManifoldPoints]} state2\n */\nfunction getPointStates(state1, state2, manifold1, manifold2) {\n  // for (var i = 0; i < Settings.maxManifoldPoints; ++i) {\n  // state1[i] = PointState.nullState;\n  // state2[i] = PointState.nullState;\n  // }\n\n  // Detect persists and removes.\n  for (var i = 0; i < manifold1.pointCount; ++i) {\n    var id = manifold1.points[i].id;// ContactID\n\n    state1[i] = PointState.removeState;\n\n    for (var j = 0; j < manifold2.pointCount; ++j) {\n      if (manifold2.points[j].id.key == id.key) {\n        state1[i] = PointState.persistState;\n        break;\n      }\n    }\n  }\n\n  // Detect persists and adds.\n  for (var i = 0; i < manifold2.pointCount; ++i) {\n    var id = manifold2.points[i].id;// ContactID\n\n    state2[i] = PointState.addState;\n\n    for (var j = 0; j < manifold1.pointCount; ++j) {\n      if (manifold1.points[j].id.key == id.key) {\n        state2[i] = PointState.persistState;\n        break;\n      }\n    }\n  }\n}\n\n/**\n * Used for computing contact manifolds.\n * \n * @prop {Vec2} v\n * @prop {ContactID} id\n */\nfunction ClipVertex() {\n  this.v = Vec2.zero();\n  this.id = new ContactID();\n};\n\nClipVertex.prototype.set = function(o) {\n  this.v.set(o.v);\n  this.id.set(o.id);\n};\n\n/**\n * Clipping for contact manifolds. Sutherland-Hodgman clipping.\n * \n * @param {ClipVertex[2]} vOut\n * @param {ClipVertex[2]} vIn\n */\nfunction clipSegmentToLine(vOut, vIn, normal, offset, vertexIndexA) {\n  // Start with no output points\n  var numOut = 0;\n\n  // Calculate the distance of end points to the line\n  var distance0 = Vec2.dot(normal, vIn[0].v) - offset;\n  var distance1 = Vec2.dot(normal, vIn[1].v) - offset;\n\n  // If the points are behind the plane\n  if (distance0 <= 0.0)\n    vOut[numOut++].set(vIn[0]);\n  if (distance1 <= 0.0)\n    vOut[numOut++].set(vIn[1]);\n\n  // If the points are on different sides of the plane\n  if (distance0 * distance1 < 0.0) {\n    // Find intersection point of edge and plane\n    var interp = distance0 / (distance0 - distance1);\n    vOut[numOut].v.setCombine(1 - interp, vIn[0].v, interp, vIn[1].v);\n\n    // VertexA is hitting edgeB.\n    vOut[numOut].id.cf.indexA = vertexIndexA;\n    vOut[numOut].id.cf.indexB = vIn[0].id.cf.indexB;\n    vOut[numOut].id.cf.typeA = Manifold.e_vertex;\n    vOut[numOut].id.cf.typeB = Manifold.e_face;\n    ++numOut;\n  }\n\n  return numOut;\n}\n","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nmodule.exports = Body;\n\nvar common = require('./util/common');\nvar options = require('./util/options');\n\nvar Vec2 = require('./common/Vec2');\nvar Rot = require('./common/Rot');\nvar Math = require('./common/Math');\nvar Sweep = require('./common/Sweep');\nvar Transform = require('./common/Transform');\nvar Velocity = require('./common/Velocity');\nvar Position = require('./common/Position');\n\nvar Fixture = require('./Fixture');\nvar Shape = require('./Shape');\n\nvar staticBody = Body.STATIC = 'static';\nvar kinematicBody = Body.KINEMATIC = 'kinematic';\nvar dynamicBody = Body.DYNAMIC = 'dynamic';\n\n/**\n * @typedef {Object} BodyDef\n *\n * @prop type Body types are static, kinematic, or dynamic. Note: if a dynamic\n *       body would have zero mass, the mass is set to one.\n *\n * @prop position The world position of the body. Avoid creating bodies at the\n *       origin since this can lead to many overlapping shapes.\n *\n * @prop angle The world angle of the body in radians.\n *\n * @prop linearVelocity The linear velocity of the body's origin in world\n *       co-ordinates.\n *\n * @prop angularVelocity\n *\n * @prop linearDamping Linear damping is use to reduce the linear velocity. The\n *       damping parameter can be larger than 1.0 but the damping effect becomes\n *       sensitive to the time step when the damping parameter is large.\n *\n * @prop angularDamping Angular damping is use to reduce the angular velocity.\n *       The damping parameter can be larger than 1.0 but the damping effect\n *       becomes sensitive to the time step when the damping parameter is large.\n *\n * @prop fixedRotation Should this body be prevented from rotating? Useful for\n *       characters.\n *\n * @prop bullet Is this a fast moving body that should be prevented from\n *       tunneling through other moving bodies? Note that all bodies are\n *       prevented from tunneling through kinematic and static bodies. This\n *       setting is only considered on dynamic bodies. Warning: You should use\n *       this flag sparingly since it increases processing time.\n *\n * @prop active Does this body start out active?\n *\n * @prop awake Is this body initially awake or sleeping?\n *\n * @prop allowSleep Set this flag to false if this body should never fall\n *       asleep. Note that this increases CPU usage.\n */\nvar BodyDef = {\n  type : staticBody,\n  position : Vec2.zero(),\n  angle : 0.0,\n\n  linearVelocity : Vec2.zero(),\n  angularVelocity : 0.0,\n\n  linearDamping : 0.0,\n  angularDamping : 0.0,\n\n  fixedRotation : false,\n  bullet : false,\n  gravityScale : 1.0,\n\n  allowSleep : true,\n  awake : true,\n  active : true,\n\n  userData : null\n};\n\n/**\n * @class\n * \n * A rigid body composed of one or more fixtures.\n * \n * @param {World} world\n * @param {BodyDef} def\n */\nfunction Body(world, def) {\n\n  def = options(def, BodyDef);\n\n  _ASSERT && common.assert(Vec2.isValid(def.position));\n  _ASSERT && common.assert(Vec2.isValid(def.linearVelocity));\n  _ASSERT && common.assert(Math.isFinite(def.angle));\n  _ASSERT && common.assert(Math.isFinite(def.angularVelocity));\n  _ASSERT && common.assert(Math.isFinite(def.angularDamping) && def.angularDamping >= 0.0);\n  _ASSERT && common.assert(Math.isFinite(def.linearDamping) && def.linearDamping >= 0.0);\n\n  this.m_world = world;\n\n  this.m_awakeFlag = def.awake;\n  this.m_autoSleepFlag = def.allowSleep;\n  this.m_bulletFlag = def.bullet;\n  this.m_fixedRotationFlag = def.fixedRotation;\n  this.m_activeFlag = def.active;\n\n  this.m_islandFlag = false;\n  this.m_toiFlag = false;\n\n  this.m_userData = def.userData;\n  this.m_type = def.type;\n\n  if (this.m_type == dynamicBody) {\n    this.m_mass = 1.0;\n    this.m_invMass = 1.0;\n  } else {\n    this.m_mass = 0.0;\n    this.m_invMass = 0.0;\n  }\n\n  // Rotational inertia about the center of mass.\n  this.m_I = 0.0;\n  this.m_invI = 0.0;\n\n  // the body origin transform\n  this.m_xf = Transform.identity();\n  this.m_xf.p = Vec2.clone(def.position);\n  this.m_xf.q.setAngle(def.angle);\n\n  // the swept motion for CCD\n  this.m_sweep = new Sweep();\n  this.m_sweep.setTransform(this.m_xf);\n\n  // position and velocity correction\n  this.c_velocity = new Velocity();\n  this.c_position = new Position();\n\n  this.m_force = Vec2.zero();\n  this.m_torque = 0.0;\n\n  this.m_linearVelocity = Vec2.clone(def.linearVelocity);\n  this.m_angularVelocity = def.angularVelocity;\n\n  this.m_linearDamping = def.linearDamping;\n  this.m_angularDamping = def.angularDamping;\n  this.m_gravityScale = def.gravityScale;\n\n  this.m_sleepTime = 0.0;\n\n  this.m_jointList = null;\n  this.m_contactList = null;\n  this.m_fixtureList = null;\n\n  this.m_prev = null;\n  this.m_next = null;\n\n  this.m_destroyed = false;\n}\n\nBody.prototype._serialize = function() {\n  var fixtures = [];\n  for (var f = this.m_fixtureList; f; f = f.m_next) {\n    fixtures.push(f);\n  }\n  return {\n    type: this.m_type,\n    position: this.m_xf.p,\n    angle: this.m_xf.q.getAngle(),\n    linearVelocity: this.m_linearVelocity,\n    angularVelocity: this.m_angularVelocity,\n    fixtures: fixtures,\n  };\n};\n\nBody._deserialize = function(data, world, restore) {\n  var body = new Body(world, data);\n\n  data.fixtures.forEach(function(data) {\n    var fixture = restore(Fixture, data, body);\n    body._addFixture(fixture);\n  });\n\n  return body;\n};\n\nBody.prototype.isWorldLocked = function() {\n  return this.m_world && this.m_world.isLocked() ? true : false;\n};\n\nBody.prototype.getWorld = function() {\n  return this.m_world;\n};\n\nBody.prototype.getNext = function() {\n  return this.m_next;\n};\n\nBody.prototype.setUserData = function(data) {\n  this.m_userData = data;\n};\n\nBody.prototype.getUserData = function() {\n  return this.m_userData;\n};\n\nBody.prototype.getFixtureList = function() {\n  return this.m_fixtureList;\n};\n\nBody.prototype.getJointList = function() {\n  return this.m_jointList;\n};\n\n/**\n * Warning: this list changes during the time step and you may miss some\n * collisions if you don't use ContactListener.\n */\nBody.prototype.getContactList = function() {\n  return this.m_contactList;\n};\n\nBody.prototype.isStatic = function() {\n  return this.m_type == staticBody;\n};\n\nBody.prototype.isDynamic = function() {\n  return this.m_type == dynamicBody;\n};\n\nBody.prototype.isKinematic = function() {\n  return this.m_type == kinematicBody;\n};\n\n/**\n * This will alter the mass and velocity.\n */\nBody.prototype.setStatic = function() {\n  this.setType(staticBody);\n  return this;\n};\n\nBody.prototype.setDynamic = function() {\n  this.setType(dynamicBody);\n  return this;\n};\n\nBody.prototype.setKinematic = function() {\n  this.setType(kinematicBody);\n  return this;\n};\n\n/**\n * @private\n */\nBody.prototype.getType = function() {\n  return this.m_type;\n};\n\n/**\n * \n * @private\n */\nBody.prototype.setType = function(type) {\n  _ASSERT && common.assert(type === staticBody || type === kinematicBody || type === dynamicBody);\n  _ASSERT && common.assert(this.isWorldLocked() == false);\n\n  if (this.isWorldLocked() == true) {\n    return;\n  }\n\n  if (this.m_type == type) {\n    return;\n  }\n\n  this.m_type = type;\n\n  this.resetMassData();\n\n  if (this.m_type == staticBody) {\n    this.m_linearVelocity.setZero();\n    this.m_angularVelocity = 0.0;\n    this.m_sweep.forward();\n    this.synchronizeFixtures();\n  }\n\n  this.setAwake(true);\n\n  this.m_force.setZero();\n  this.m_torque = 0.0;\n\n  // Delete the attached contacts.\n  var ce = this.m_contactList;\n  while (ce) {\n    var ce0 = ce;\n    ce = ce.next;\n    this.m_world.destroyContact(ce0.contact);\n  }\n  this.m_contactList = null;\n\n  // Touch the proxies so that new contacts will be created (when appropriate)\n  var broadPhase = this.m_world.m_broadPhase;\n  for (var f = this.m_fixtureList; f; f = f.m_next) {\n    var proxyCount = f.m_proxyCount;\n    for (var i = 0; i < proxyCount; ++i) {\n      broadPhase.touchProxy(f.m_proxies[i].proxyId);\n    }\n  }\n};\n\nBody.prototype.isBullet = function() {\n  return this.m_bulletFlag;\n};\n\n/**\n * Should this body be treated like a bullet for continuous collision detection?\n */\nBody.prototype.setBullet = function(flag) {\n  this.m_bulletFlag = !!flag;\n};\n\nBody.prototype.isSleepingAllowed = function() {\n  return this.m_autoSleepFlag;\n};\n\nBody.prototype.setSleepingAllowed = function(flag) {\n  this.m_autoSleepFlag = !!flag;\n  if (this.m_autoSleepFlag == false) {\n    this.setAwake(true);\n  }\n};\n\nBody.prototype.isAwake = function() {\n  return this.m_awakeFlag;\n};\n\n/**\n * Set the sleep state of the body. A sleeping body has very low CPU cost.\n * \n * @param flag Set to true to wake the body, false to put it to sleep.\n */\nBody.prototype.setAwake = function(flag) {\n  if (flag) {\n    if (this.m_awakeFlag == false) {\n      this.m_awakeFlag = true;\n      this.m_sleepTime = 0.0;\n    }\n  } else {\n    this.m_awakeFlag = false;\n    this.m_sleepTime = 0.0;\n    this.m_linearVelocity.setZero();\n    this.m_angularVelocity = 0.0;\n    this.m_force.setZero();\n    this.m_torque = 0.0;\n  }\n};\n\nBody.prototype.isActive = function() {\n  return this.m_activeFlag;\n};\n\n/**\n * Set the active state of the body. An inactive body is not simulated and\n * cannot be collided with or woken up. If you pass a flag of true, all fixtures\n * will be added to the broad-phase. If you pass a flag of false, all fixtures\n * will be removed from the broad-phase and all contacts will be destroyed.\n * Fixtures and joints are otherwise unaffected.\n * \n * You may continue to create/destroy fixtures and joints on inactive bodies.\n * Fixtures on an inactive body are implicitly inactive and will not participate\n * in collisions, ray-casts, or queries. Joints connected to an inactive body\n * are implicitly inactive. An inactive body is still owned by a World object\n * and remains\n */\nBody.prototype.setActive = function(flag) {\n  _ASSERT && common.assert(this.isWorldLocked() == false);\n\n  if (flag == this.m_activeFlag) {\n    return;\n  }\n\n  this.m_activeFlag = !!flag;\n\n  if (this.m_activeFlag) {\n    // Create all proxies.\n    var broadPhase = this.m_world.m_broadPhase;\n    for (var f = this.m_fixtureList; f; f = f.m_next) {\n      f.createProxies(broadPhase, this.m_xf);\n    }\n    // Contacts are created the next time step.\n\n  } else {\n    // Destroy all proxies.\n    var broadPhase = this.m_world.m_broadPhase;\n    for (var f = this.m_fixtureList; f; f = f.m_next) {\n      f.destroyProxies(broadPhase);\n    }\n\n    // Destroy the attached contacts.\n    var ce = this.m_contactList;\n    while (ce) {\n      var ce0 = ce;\n      ce = ce.next;\n      this.m_world.destroyContact(ce0.contact);\n    }\n    this.m_contactList = null;\n  }\n};\n\nBody.prototype.isFixedRotation = function() {\n  return this.m_fixedRotationFlag;\n};\n\n/**\n * Set this body to have fixed rotation. This causes the mass to be reset.\n */\nBody.prototype.setFixedRotation = function(flag) {\n  if (this.m_fixedRotationFlag == flag) {\n    return;\n  }\n\n  this.m_fixedRotationFlag = !!flag;\n\n  this.m_angularVelocity = 0.0;\n\n  this.resetMassData();\n};\n\n/**\n * Get the world transform for the body's origin.\n */\nBody.prototype.getTransform = function() {\n  return this.m_xf;\n};\n\n/**\n * Set the position of the body's origin and rotation. Manipulating a body's\n * transform may cause non-physical behavior. Note: contacts are updated on the\n * next call to World.step.\n * \n * @param position The world position of the body's local origin.\n * @param angle The world rotation in radians.\n */\nBody.prototype.setTransform = function(position, angle) {\n  _ASSERT && common.assert(this.isWorldLocked() == false);\n  if (this.isWorldLocked() == true) {\n    return;\n  }\n\n  this.m_xf.set(position, angle);\n  this.m_sweep.setTransform(this.m_xf);\n\n  var broadPhase = this.m_world.m_broadPhase;\n  for (var f = this.m_fixtureList; f; f = f.m_next) {\n    f.synchronize(broadPhase, this.m_xf, this.m_xf);\n  }\n};\n\nBody.prototype.synchronizeTransform = function() {\n  this.m_sweep.getTransform(this.m_xf, 1);\n};\n\n/**\n * Update fixtures in broad-phase.\n */\nBody.prototype.synchronizeFixtures = function() {\n  var xf = Transform.identity();\n\n  this.m_sweep.getTransform(xf, 0);\n\n  var broadPhase = this.m_world.m_broadPhase;\n  for (var f = this.m_fixtureList; f; f = f.m_next) {\n    f.synchronize(broadPhase, xf, this.m_xf);\n  }\n};\n\n/**\n * Used in TOI.\n */\nBody.prototype.advance = function(alpha) {\n  // Advance to the new safe time. This doesn't sync the broad-phase.\n  this.m_sweep.advance(alpha);\n  this.m_sweep.c.set(this.m_sweep.c0);\n  this.m_sweep.a = this.m_sweep.a0;\n  this.m_sweep.getTransform(this.m_xf, 1);\n};\n\n/**\n * Get the world position for the body's origin.\n */\nBody.prototype.getPosition = function() {\n  return this.m_xf.p;\n};\n\nBody.prototype.setPosition = function(p) {\n  this.setTransform(p, this.m_sweep.a);\n};\n\n/**\n * Get the current world rotation angle in radians.\n */\nBody.prototype.getAngle = function() {\n  return this.m_sweep.a;\n};\n\nBody.prototype.setAngle = function(angle) {\n  this.setTransform(this.m_xf.p, angle);\n};\n\n/**\n * Get the world position of the center of mass.\n */\nBody.prototype.getWorldCenter = function() {\n  return this.m_sweep.c;\n};\n\n/**\n * Get the local position of the center of mass.\n */\nBody.prototype.getLocalCenter = function() {\n  return this.m_sweep.localCenter;\n};\n\n/**\n * Get the linear velocity of the center of mass.\n * \n * @return the linear velocity of the center of mass.\n */\nBody.prototype.getLinearVelocity = function() {\n  return this.m_linearVelocity;\n};\n\n/**\n * Get the world linear velocity of a world point attached to this body.\n * \n * @param worldPoint A point in world coordinates.\n */\nBody.prototype.getLinearVelocityFromWorldPoint = function(worldPoint) {\n  var localCenter = Vec2.sub(worldPoint, this.m_sweep.c);\n  return Vec2.add(this.m_linearVelocity, Vec2.cross(this.m_angularVelocity,\n      localCenter));\n};\n\n/**\n * Get the world velocity of a local point.\n * \n * @param localPoint A point in local coordinates.\n */\nBody.prototype.getLinearVelocityFromLocalPoint = function(localPoint) {\n  return this.getLinearVelocityFromWorldPoint(this.getWorldPoint(localPoint));\n};\n\n/**\n * Set the linear velocity of the center of mass.\n * \n * @param v The new linear velocity of the center of mass.\n */\nBody.prototype.setLinearVelocity = function(v) {\n  if (this.m_type == staticBody) {\n    return;\n  }\n  if (Vec2.dot(v, v) > 0.0) {\n    this.setAwake(true);\n  }\n  this.m_linearVelocity.set(v);\n};\n\n/**\n * Get the angular velocity.\n * \n * @returns the angular velocity in radians/second.\n */\nBody.prototype.getAngularVelocity = function() {\n  return this.m_angularVelocity;\n};\n\n/**\n * Set the angular velocity.\n * \n * @param omega The new angular velocity in radians/second.\n */\nBody.prototype.setAngularVelocity = function(w) {\n  if (this.m_type == staticBody) {\n    return;\n  }\n  if (w * w > 0.0) {\n    this.setAwake(true);\n  }\n  this.m_angularVelocity = w;\n};\n\nBody.prototype.getLinearDamping = function() {\n  return this.m_linearDamping;\n};\n\nBody.prototype.setLinearDamping = function(linearDamping) {\n  this.m_linearDamping = linearDamping;\n};\n\nBody.prototype.getAngularDamping = function() {\n  return this.m_angularDamping;\n};\n\nBody.prototype.setAngularDamping = function(angularDamping) {\n  this.m_angularDamping = angularDamping;\n};\n\nBody.prototype.getGravityScale = function() {\n  return this.m_gravityScale;\n};\n\n/**\n * Scale the gravity applied to this body.\n */\nBody.prototype.setGravityScale = function(scale) {\n  this.m_gravityScale = scale;\n};\n\n/**\n * Get the total mass of the body.\n * \n * @returns The mass, usually in kilograms (kg).\n */\nBody.prototype.getMass = function() {\n  return this.m_mass;\n};\n\n/**\n * Get the rotational inertia of the body about the local origin.\n * \n * @return the rotational inertia, usually in kg-m^2.\n */\nBody.prototype.getInertia = function() {\n  return this.m_I + this.m_mass\n      * Vec2.dot(this.m_sweep.localCenter, this.m_sweep.localCenter);\n};\n\n/**\n * @typedef {Object} MassData This holds the mass data computed for a shape.\n * \n * @prop mass The mass of the shape, usually in kilograms.\n * @prop center The position of the shape's centroid relative to the shape's\n *       origin.\n * @prop I The rotational inertia of the shape about the local origin.\n */\nfunction MassData() {\n  this.mass = 0;\n  this.center = Vec2.zero();\n  this.I = 0;\n};\n\n/**\n * Copy the mass data of the body to data.\n */\nBody.prototype.getMassData = function(data) {\n  data.mass = this.m_mass;\n  data.I = this.getInertia();\n  data.center.set(this.m_sweep.localCenter);\n};\n\n/**\n * This resets the mass properties to the sum of the mass properties of the\n * fixtures. This normally does not need to be called unless you called\n * SetMassData to override the mass and you later want to reset the mass.\n */\nBody.prototype.resetMassData = function() {\n  // Compute mass data from shapes. Each shape has its own density.\n  this.m_mass = 0.0;\n  this.m_invMass = 0.0;\n  this.m_I = 0.0;\n  this.m_invI = 0.0;\n  this.m_sweep.localCenter.setZero();\n\n  // Static and kinematic bodies have zero mass.\n  if (this.isStatic() || this.isKinematic()) {\n    this.m_sweep.c0.set(this.m_xf.p);\n    this.m_sweep.c.set(this.m_xf.p);\n    this.m_sweep.a0 = this.m_sweep.a;\n    return;\n  }\n\n  _ASSERT && common.assert(this.isDynamic());\n\n  // Accumulate mass over all fixtures.\n  var localCenter = Vec2.zero();\n  for (var f = this.m_fixtureList; f; f = f.m_next) {\n    if (f.m_density == 0.0) {\n      continue;\n    }\n\n    var massData = new MassData();\n    f.getMassData(massData);\n    this.m_mass += massData.mass;\n    localCenter.addMul(massData.mass, massData.center);\n    this.m_I += massData.I;\n  }\n\n  // Compute center of mass.\n  if (this.m_mass > 0.0) {\n    this.m_invMass = 1.0 / this.m_mass;\n    localCenter.mul(this.m_invMass);\n\n  } else {\n    // Force all dynamic bodies to have a positive mass.\n    this.m_mass = 1.0;\n    this.m_invMass = 1.0;\n  }\n\n  if (this.m_I > 0.0 && this.m_fixedRotationFlag == false) {\n    // Center the inertia about the center of mass.\n    this.m_I -= this.m_mass * Vec2.dot(localCenter, localCenter);\n    _ASSERT && common.assert(this.m_I > 0.0);\n    this.m_invI = 1.0 / this.m_I;\n\n  } else {\n    this.m_I = 0.0;\n    this.m_invI = 0.0;\n  }\n\n  // Move center of mass.\n  var oldCenter = Vec2.clone(this.m_sweep.c);\n  this.m_sweep.setLocalCenter(localCenter, this.m_xf);\n\n  // Update center of mass velocity.\n  this.m_linearVelocity.add(Vec2.cross(this.m_angularVelocity, Vec2.sub(\n      this.m_sweep.c, oldCenter)));\n};\n\n/**\n * Set the mass properties to override the mass properties of the fixtures. Note\n * that this changes the center of mass position. Note that creating or\n * destroying fixtures can also alter the mass. This function has no effect if\n * the body isn't dynamic.\n * \n * @param massData The mass properties.\n */\nBody.prototype.setMassData = function(massData) {\n  _ASSERT && common.assert(this.isWorldLocked() == false);\n  if (this.isWorldLocked() == true) {\n    return;\n  }\n\n  if (this.m_type != dynamicBody) {\n    return;\n  }\n\n  this.m_invMass = 0.0;\n  this.m_I = 0.0;\n  this.m_invI = 0.0;\n\n  this.m_mass = massData.mass;\n  if (this.m_mass <= 0.0) {\n    this.m_mass = 1.0;\n  }\n\n  this.m_invMass = 1.0 / this.m_mass;\n\n  if (massData.I > 0.0 && this.m_fixedRotationFlag == false) {\n    this.m_I = massData.I - this.m_mass\n        * Vec2.dot(massData.center, massData.center);\n    _ASSERT && common.assert(this.m_I > 0.0);\n    this.m_invI = 1.0 / this.m_I;\n  }\n\n  // Move center of mass.\n  var oldCenter = Vec2.clone(this.m_sweep.c);\n  this.m_sweep.setLocalCenter(massData.center, this.m_xf);\n\n  // Update center of mass velocity.\n  this.m_linearVelocity.add(Vec2.cross(this.m_angularVelocity, Vec2.sub(\n      this.m_sweep.c, oldCenter)));\n};\n\n/**\n * Apply a force at a world point. If the force is not applied at the center of\n * mass, it will generate a torque and affect the angular velocity. This wakes\n * up the body.\n * \n * @param force The world force vector, usually in Newtons (N).\n * @param point The world position of the point of application.\n * @param wake Also wake up the body\n */\nBody.prototype.applyForce = function(force, point, wake) {\n  if (this.m_type != dynamicBody) {\n    return;\n  }\n  if (wake && this.m_awakeFlag == false) {\n    this.setAwake(true);\n  }\n  // Don't accumulate a force if the body is sleeping.\n  if (this.m_awakeFlag) {\n    this.m_force.add(force);\n    this.m_torque += Vec2.cross(Vec2.sub(point, this.m_sweep.c), force);\n  }\n};\n\n/**\n * Apply a force to the center of mass. This wakes up the body.\n * \n * @param force The world force vector, usually in Newtons (N).\n * @param wake Also wake up the body\n */\nBody.prototype.applyForceToCenter = function(force, wake) {\n  if (this.m_type != dynamicBody) {\n    return;\n  }\n  if (wake && this.m_awakeFlag == false) {\n    this.setAwake(true);\n  }\n  // Don't accumulate a force if the body is sleeping\n  if (this.m_awakeFlag) {\n    this.m_force.add(force);\n  }\n};\n\n/**\n * Apply a torque. This affects the angular velocity without affecting the\n * linear velocity of the center of mass. This wakes up the body.\n * \n * @param torque About the z-axis (out of the screen), usually in N-m.\n * @param wake Also wake up the body\n */\nBody.prototype.applyTorque = function(torque, wake) {\n  if (this.m_type != dynamicBody) {\n    return;\n  }\n  if (wake && this.m_awakeFlag == false) {\n    this.setAwake(true);\n  }\n  // Don't accumulate a force if the body is sleeping\n  if (this.m_awakeFlag) {\n    this.m_torque += torque;\n  }\n};\n\n/**\n * Apply an impulse at a point. This immediately modifies the velocity. It also\n * modifies the angular velocity if the point of application is not at the\n * center of mass. This wakes up the body.\n * \n * @param impulse The world impulse vector, usually in N-seconds or kg-m/s.\n * @param point The world position of the point of application.\n * @param wake Also wake up the body\n */\nBody.prototype.applyLinearImpulse = function(impulse, point, wake) {\n  if (this.m_type != dynamicBody) {\n    return;\n  }\n  if (wake && this.m_awakeFlag == false) {\n    this.setAwake(true);\n  }\n\n  // Don't accumulate velocity if the body is sleeping\n  if (this.m_awakeFlag) {\n    this.m_linearVelocity.addMul(this.m_invMass, impulse);\n    this.m_angularVelocity += this.m_invI * Vec2.cross(Vec2.sub(point, this.m_sweep.c), impulse);\n  }\n};\n\n/**\n * Apply an angular impulse.\n * \n * @param impulse The angular impulse in units of kg*m*m/s\n * @param wake Also wake up the body\n */\nBody.prototype.applyAngularImpulse = function(impulse, wake) {\n  if (this.m_type != dynamicBody) {\n    return;\n  }\n\n  if (wake && this.m_awakeFlag == false) {\n    this.setAwake(true);\n  }\n  // Don't accumulate velocity if the body is sleeping\n  if (this.m_awakeFlag) {\n    this.m_angularVelocity += this.m_invI * impulse;\n  }\n};\n\n/**\n * This is used to prevent connected bodies (by joints) from colliding,\n * depending on the joint's collideConnected flag.\n */\nBody.prototype.shouldCollide = function(that) {\n  // At least one body should be dynamic.\n  if (this.m_type != dynamicBody && that.m_type != dynamicBody) {\n    return false;\n  }\n  // Does a joint prevent collision?\n  for (var jn = this.m_jointList; jn; jn = jn.next) {\n    if (jn.other == that) {\n      if (jn.joint.m_collideConnected == false) {\n        return false;\n      }\n    }\n  }\n  return true;\n};\n\nBody.prototype._addFixture = function(fixture) {\n  _ASSERT && common.assert(this.isWorldLocked() == false);\n\n  if (this.isWorldLocked() == true) {\n    return null;\n  }\n\n  if (this.m_activeFlag) {\n    var broadPhase = this.m_world.m_broadPhase;\n    fixture.createProxies(broadPhase, this.m_xf);\n  }\n\n  fixture.m_next = this.m_fixtureList;\n  this.m_fixtureList = fixture;\n\n  // Adjust mass properties if needed.\n  if (fixture.m_density > 0.0) {\n    this.resetMassData();\n  }\n\n  // Let the world know we have a new fixture. This will cause new contacts\n  // to be created at the beginning of the next time step.\n  this.m_world.m_newFixture = true;\n\n  return fixture\n};\n\n/**\n * Creates a fixture and attach it to this body.\n * \n * If the density is non-zero, this function automatically updates the mass of\n * the body.\n * \n * Contacts are not created until the next time step.\n * \n * Warning: This function is locked during callbacks.\n\n * @param {Shape|FixtureDef} shape Shape or fixture definition.\n * @param {FixtureDef|number} fixdef Fixture definition or just density.\n */\nBody.prototype.createFixture = function(shape, fixdef) {\n  _ASSERT && common.assert(this.isWorldLocked() == false);\n\n  if (this.isWorldLocked() == true) {\n    return null;\n  }\n\n  var fixture = new Fixture(this, shape, fixdef);\n  this._addFixture(fixture);\n  return fixture\n};\n\n/**\n * Destroy a fixture. This removes the fixture from the broad-phase and destroys\n * all contacts associated with this fixture. This will automatically adjust the\n * mass of the body if the body is dynamic and the fixture has positive density.\n * All fixtures attached to a body are implicitly destroyed when the body is\n * destroyed.\n * \n * Warning: This function is locked during callbacks.\n * \n * @param fixture The fixture to be removed.\n */\nBody.prototype.destroyFixture = function(fixture) {\n  _ASSERT && common.assert(this.isWorldLocked() == false);\n\n  if (this.isWorldLocked() == true) {\n    return;\n  }\n\n  _ASSERT && common.assert(fixture.m_body == this);\n\n  // Remove the fixture from this body's singly linked list.\n  var found = false;\n  if (this.m_fixtureList === fixture) {\n    this.m_fixtureList = fixture.m_next;\n    found = true;\n\n  } else {\n    var node = this.m_fixtureList;\n    while (node != null) {\n      if (node.m_next === fixture) {\n        node.m_next = fixture.m_next;\n        found = true;\n        break;\n      }\n      node = node.m_next;\n    }\n  }\n\n  // You tried to remove a shape that is not attached to this body.\n  _ASSERT && common.assert(found);\n\n  // Destroy any contacts associated with the fixture.\n  var edge = this.m_contactList;\n  while (edge) {\n    var c = edge.contact;\n    edge = edge.next;\n\n    var fixtureA = c.getFixtureA();\n    var fixtureB = c.getFixtureB();\n\n    if (fixture == fixtureA || fixture == fixtureB) {\n      // This destroys the contact and removes it from\n      // this body's contact list.\n      this.m_world.destroyContact(c);\n    }\n  }\n\n  if (this.m_activeFlag) {\n    var broadPhase = this.m_world.m_broadPhase;\n    fixture.destroyProxies(broadPhase);\n  }\n\n  fixture.m_body = null;\n  fixture.m_next = null;\n\n  this.m_world.publish('remove-fixture', fixture);\n\n  // Reset the mass data.\n  this.resetMassData();\n};\n\n/**\n * Get the corresponding world point of a local point.\n */\nBody.prototype.getWorldPoint = function(localPoint) {\n  return Transform.mulVec2(this.m_xf, localPoint);\n};\n\n/**\n * Get the corresponding world vector of a local vector.\n */\nBody.prototype.getWorldVector = function(localVector) {\n  return Rot.mulVec2(this.m_xf.q, localVector);\n};\n\n/**\n * Gets the corresponding local point of a world point.\n */\nBody.prototype.getLocalPoint = function(worldPoint) {\n  return Transform.mulTVec2(this.m_xf, worldPoint);\n};\n\n/**\n * \n * Gets the corresponding local vector of a world vector.\n */\nBody.prototype.getLocalVector = function(worldVector) {\n  return Rot.mulTVec2(this.m_xf.q, worldVector);\n};\n","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nmodule.exports = PolygonShape;\n\nvar common = require('../util/common');\nvar create = require('../util/create');\nvar options = require('../util/options');\nvar Math = require('../common/Math');\nvar Transform = require('../common/Transform');\nvar Rot = require('../common/Rot');\nvar Vec2 = require('../common/Vec2');\nvar AABB = require('../collision/AABB');\nvar Settings = require('../Settings');\nvar Shape = require('../Shape');\n\nPolygonShape._super = Shape;\nPolygonShape.prototype = create(PolygonShape._super.prototype);\n\nPolygonShape.TYPE = 'polygon';\nShape.TYPES[PolygonShape.TYPE] = PolygonShape;\n\n/**\n * A convex polygon. It is assumed that the interior of the polygon is to the\n * left of each edge. Polygons have a maximum number of vertices equal to\n * Settings.maxPolygonVertices. In most cases you should not need many vertices\n * for a convex polygon. extends Shape\n */\nfunction PolygonShape(vertices) {\n  if (!(this instanceof PolygonShape)) {\n    return new PolygonShape(vertices);\n  }\n\n  PolygonShape._super.call(this);\n\n  this.m_type = PolygonShape.TYPE;\n  this.m_radius = Settings.polygonRadius;\n  this.m_centroid = Vec2.zero();\n  this.m_vertices = []; // Vec2[Settings.maxPolygonVertices]\n  this.m_normals = []; // Vec2[Settings.maxPolygonVertices]\n  this.m_count = 0;\n\n  if (vertices && vertices.length) {\n    this._set(vertices);\n  }\n}\n\nPolygonShape.prototype._serialize = function() {\n  return {\n    type: this.m_type,\n\n    vertices: this.m_vertices,\n  };\n};\n\nPolygonShape._deserialize = function(data) {\n  var shape = new PolygonShape(data.vertices);\n  return shape;\n};\n\nPolygonShape.prototype.getVertex = function(index) {\n  _ASSERT && common.assert(0 <= index && index < this.m_count);\n  return this.m_vertices[index];\n}\n\n/**\n * @deprecated\n */\nPolygonShape.prototype._clone = function() {\n  var clone = new PolygonShape();\n  clone.m_type = this.m_type;\n  clone.m_radius = this.m_radius;\n  clone.m_count = this.m_count;\n  clone.m_centroid.set(this.m_centroid);\n  for (var i = 0; i < this.m_count; i++) {\n    clone.m_vertices.push(this.m_vertices[i].clone());\n  }\n  for (var i = 0; i < this.m_normals.length; i++) {\n    clone.m_normals.push(this.m_normals[i].clone());\n  }\n  return clone;\n}\n\nPolygonShape.prototype.getChildCount = function() {\n  return 1;\n}\n\nfunction ComputeCentroid(vs, count) {\n  _ASSERT && common.assert(count >= 3);\n\n  var c = Vec2.zero();\n  var area = 0.0;\n\n  // pRef is the reference point for forming triangles.\n  // It's location doesn't change the result (except for rounding error).\n  var pRef = Vec2.zero();\n  if (false) {\n    // This code would put the reference point inside the polygon.\n    for (var i = 0; i < count; ++i) {\n      pRef.add(vs[i]);\n    }\n    pRef.mul(1.0 / count);\n  }\n\n  var inv3 = 1.0 / 3.0;\n\n  for (var i = 0; i < count; ++i) {\n    // Triangle vertices.\n    var p1 = pRef;\n    var p2 = vs[i];\n    var p3 = i + 1 < count ? vs[i + 1] : vs[0];\n\n    var e1 = Vec2.sub(p2, p1);\n    var e2 = Vec2.sub(p3, p1);\n\n    var D = Vec2.cross(e1, e2);\n\n    var triangleArea = 0.5 * D;\n    area += triangleArea;\n\n    // Area weighted centroid\n    c.addMul(triangleArea * inv3, p1);\n    c.addMul(triangleArea * inv3, p2);\n    c.addMul(triangleArea * inv3, p3);\n  }\n\n  // Centroid\n  _ASSERT && common.assert(area > Math.EPSILON);\n  c.mul(1.0 / area);\n  return c;\n}\n\nPolygonShape.prototype._reset = function() {\n  this._set(this.m_vertices)\n}\n\n/**\n * @private\n *\n * Create a convex hull from the given array of local points. The count must be\n * in the range [3, Settings.maxPolygonVertices].\n *\n * Warning: the points may be re-ordered, even if they form a convex polygon\n * Warning: collinear points are handled but not removed. Collinear points may\n * lead to poor stacking behavior.\n */\nPolygonShape.prototype._set = function(vertices) {\n  _ASSERT && common.assert(3 <= vertices.length && vertices.length <= Settings.maxPolygonVertices);\n  if (vertices.length < 3) {\n    this._setAsBox(1.0, 1.0);\n    return;\n  }\n\n  var n = Math.min(vertices.length, Settings.maxPolygonVertices);\n\n  // Perform welding and copy vertices into local buffer.\n  var ps = [];// [Settings.maxPolygonVertices];\n  var tempCount = 0;\n  for (var i = 0; i < n; ++i) {\n    var v = vertices[i];\n\n    var unique = true;\n    for (var j = 0; j < tempCount; ++j) {\n      if (Vec2.distanceSquared(v, ps[j]) < 0.25 * Settings.linearSlopSquared) {\n        unique = false;\n        break;\n      }\n    }\n\n    if (unique) {\n      ps[tempCount++] = v;\n    }\n  }\n\n  n = tempCount;\n  if (n < 3) {\n    // Polygon is degenerate.\n    _ASSERT && common.assert(false);\n    this._setAsBox(1.0, 1.0);\n    return;\n  }\n\n  // Create the convex hull using the Gift wrapping algorithm\n  // http://en.wikipedia.org/wiki/Gift_wrapping_algorithm\n\n  // Find the right most point on the hull\n  var i0 = 0;\n  var x0 = ps[0].x;\n  for (var i = 1; i < n; ++i) {\n    var x = ps[i].x;\n    if (x > x0 || (x == x0 && ps[i].y < ps[i0].y)) {\n      i0 = i;\n      x0 = x;\n    }\n  }\n\n  var hull = [];// [Settings.maxPolygonVertices];\n  var m = 0;\n  var ih = i0;\n\n  for (;;) {\n    hull[m] = ih;\n\n    var ie = 0;\n    for (var j = 1; j < n; ++j) {\n      if (ie == ih) {\n        ie = j;\n        continue;\n      }\n\n      var r = Vec2.sub(ps[ie], ps[hull[m]]);\n      var v = Vec2.sub(ps[j], ps[hull[m]]);\n      var c = Vec2.cross(r, v);\n      if (c < 0.0) {\n        ie = j;\n      }\n\n      // Collinearity check\n      if (c == 0.0 && v.lengthSquared() > r.lengthSquared()) {\n        ie = j;\n      }\n    }\n\n    ++m;\n    ih = ie;\n\n    if (ie == i0) {\n      break;\n    }\n  }\n\n  if (m < 3) {\n    // Polygon is degenerate.\n    _ASSERT && common.assert(false);\n    this._setAsBox(1.0, 1.0);\n    return;\n  }\n\n  this.m_count = m;\n\n  // Copy vertices.\n  for (var i = 0; i < m; ++i) {\n    this.m_vertices[i] = ps[hull[i]];\n  }\n\n  // Compute normals. Ensure the edges have non-zero length.\n  for (var i = 0; i < m; ++i) {\n    var i1 = i;\n    var i2 = i + 1 < m ? i + 1 : 0;\n    var edge = Vec2.sub(this.m_vertices[i2], this.m_vertices[i1]);\n    _ASSERT && common.assert(edge.lengthSquared() > Math.EPSILON * Math.EPSILON);\n    this.m_normals[i] = Vec2.cross(edge, 1.0);\n    this.m_normals[i].normalize();\n  }\n\n  // Compute the polygon centroid.\n  this.m_centroid = ComputeCentroid(this.m_vertices, m);\n}\n\n/**\n * @private\n */\nPolygonShape.prototype._setAsBox = function(hx, hy, center, angle) {\n  this.m_vertices[0] = Vec2.neo(-hx, -hy);\n  this.m_vertices[1] = Vec2.neo(hx, -hy);\n  this.m_vertices[2] = Vec2.neo(hx, hy);\n  this.m_vertices[3] = Vec2.neo(-hx, hy);\n\n  this.m_normals[0] = Vec2.neo(0.0, -1.0);\n  this.m_normals[1] = Vec2.neo(1.0, 0.0);\n  this.m_normals[2] = Vec2.neo(0.0, 1.0);\n  this.m_normals[3] = Vec2.neo(-1.0, 0.0);\n\n  this.m_count = 4;\n\n  if (Vec2.isValid(center)) {\n    angle = angle || 0;\n\n    this.m_centroid.set(center);\n\n    var xf = Transform.identity();\n    xf.p.set(center);\n    xf.q.set(angle);\n\n    // Transform vertices and normals.\n    for (var i = 0; i < this.m_count; ++i) {\n      this.m_vertices[i] = Transform.mulVec2(xf, this.m_vertices[i]);\n      this.m_normals[i] = Rot.mulVec2(xf.q, this.m_normals[i]);\n    }\n  }\n}\n\nPolygonShape.prototype.testPoint = function(xf, p) {\n  var pLocal = Rot.mulTVec2(xf.q, Vec2.sub(p, xf.p));\n\n  for (var i = 0; i < this.m_count; ++i) {\n    var dot = Vec2.dot(this.m_normals[i], Vec2.sub(pLocal, this.m_vertices[i]));\n    if (dot > 0.0) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nPolygonShape.prototype.rayCast = function(output, input, xf, childIndex) {\n\n  // Put the ray into the polygon's frame of reference.\n  var p1 = Rot.mulTVec2(xf.q, Vec2.sub(input.p1, xf.p));\n  var p2 = Rot.mulTVec2(xf.q, Vec2.sub(input.p2, xf.p));\n  var d = Vec2.sub(p2, p1);\n\n  var lower = 0.0;\n  var upper = input.maxFraction;\n\n  var index = -1;\n\n  for (var i = 0; i < this.m_count; ++i) {\n    // p = p1 + a * d\n    // dot(normal, p - v) = 0\n    // dot(normal, p1 - v) + a * dot(normal, d) = 0\n    var numerator = Vec2.dot(this.m_normals[i], Vec2.sub(this.m_vertices[i], p1));\n    var denominator = Vec2.dot(this.m_normals[i], d);\n\n    if (denominator == 0.0) {\n      if (numerator < 0.0) {\n        return false;\n      }\n    } else {\n      // Note: we want this predicate without division:\n      // lower < numerator / denominator, where denominator < 0\n      // Since denominator < 0, we have to flip the inequality:\n      // lower < numerator / denominator <==> denominator * lower > numerator.\n      if (denominator < 0.0 && numerator < lower * denominator) {\n        // Increase lower.\n        // The segment enters this half-space.\n        lower = numerator / denominator;\n        index = i;\n      } else if (denominator > 0.0 && numerator < upper * denominator) {\n        // Decrease upper.\n        // The segment exits this half-space.\n        upper = numerator / denominator;\n      }\n    }\n\n    // The use of epsilon here causes the assert on lower to trip\n    // in some cases. Apparently the use of epsilon was to make edge\n    // shapes work, but now those are handled separately.\n    // if (upper < lower - Math.EPSILON)\n    if (upper < lower) {\n      return false;\n    }\n  }\n\n  _ASSERT && common.assert(0.0 <= lower && lower <= input.maxFraction);\n\n  if (index >= 0) {\n    output.fraction = lower;\n    output.normal = Rot.mulVec2(xf.q, this.m_normals[index]);\n    return true;\n  }\n\n  return false;\n};\n\nPolygonShape.prototype.computeAABB = function(aabb, xf, childIndex) {\n  var minX = Infinity, minY = Infinity;\n  var maxX = -Infinity, maxY = -Infinity;\n  for (var i = 0; i < this.m_count; ++i) {\n    var v = Transform.mulVec2(xf, this.m_vertices[i]);\n    minX = Math.min(minX, v.x);\n    maxX = Math.max(maxX, v.x);\n    minY = Math.min(minY, v.y);\n    maxY = Math.max(maxY, v.y);\n  }\n\n  aabb.lowerBound.set(minX, minY);\n  aabb.upperBound.set(maxX, maxY);\n  aabb.extend(this.m_radius);\n}\n\nPolygonShape.prototype.computeMass = function(massData, density) {\n  // Polygon mass, centroid, and inertia.\n  // Let rho be the polygon density in mass per unit area.\n  // Then:\n  // mass = rho * int(dA)\n  // centroid.x = (1/mass) * rho * int(x * dA)\n  // centroid.y = (1/mass) * rho * int(y * dA)\n  // I = rho * int((x*x + y*y) * dA)\n  //\n  // We can compute these integrals by summing all the integrals\n  // for each triangle of the polygon. To evaluate the integral\n  // for a single triangle, we make a change of variables to\n  // the (u,v) coordinates of the triangle:\n  // x = x0 + e1x * u + e2x * v\n  // y = y0 + e1y * u + e2y * v\n  // where 0 <= u && 0 <= v && u + v <= 1.\n  //\n  // We integrate u from [0,1-v] and then v from [0,1].\n  // We also need to use the Jacobian of the transformation:\n  // D = cross(e1, e2)\n  //\n  // Simplification: triangle centroid = (1/3) * (p1 + p2 + p3)\n  //\n  // The rest of the derivation is handled by computer algebra.\n\n  _ASSERT && common.assert(this.m_count >= 3);\n\n  var center = Vec2.zero();\n  var area = 0.0;\n  var I = 0.0;\n\n  // s is the reference point for forming triangles.\n  // It's location doesn't change the result (except for rounding error).\n  var s = Vec2.zero();\n\n  // This code would put the reference point inside the polygon.\n  for (var i = 0; i < this.m_count; ++i) {\n    s.add(this.m_vertices[i]);\n  }\n  s.mul(1.0 / this.m_count);\n\n  var k_inv3 = 1.0 / 3.0;\n\n  for (var i = 0; i < this.m_count; ++i) {\n    // Triangle vertices.\n    var e1 = Vec2.sub(this.m_vertices[i], s);\n    var e2 = i + 1 < this.m_count ? Vec2.sub(this.m_vertices[i + 1], s) : Vec2\n        .sub(this.m_vertices[0], s);\n\n    var D = Vec2.cross(e1, e2);\n\n    var triangleArea = 0.5 * D;\n    area += triangleArea;\n\n    // Area weighted centroid\n    center.addCombine(triangleArea * k_inv3, e1, triangleArea * k_inv3, e2);\n\n    var ex1 = e1.x;\n    var ey1 = e1.y;\n    var ex2 = e2.x;\n    var ey2 = e2.y;\n\n    var intx2 = ex1 * ex1 + ex2 * ex1 + ex2 * ex2;\n    var inty2 = ey1 * ey1 + ey2 * ey1 + ey2 * ey2;\n\n    I += (0.25 * k_inv3 * D) * (intx2 + inty2);\n  }\n\n  // Total mass\n  massData.mass = density * area;\n\n  // Center of mass\n  _ASSERT && common.assert(area > Math.EPSILON);\n  center.mul(1.0 / area);\n  massData.center.setCombine(1, center, 1, s);\n\n  // Inertia tensor relative to the local origin (point s).\n  massData.I = density * I;\n\n  // Shift to center of mass then to original body origin.\n  massData.I += massData.mass\n      * (Vec2.dot(massData.center, massData.center) - Vec2.dot(center, center));\n}\n\n// Validate convexity. This is a very time consuming operation.\n// @returns true if valid\nPolygonShape.prototype.validate = function() {\n  for (var i = 0; i < this.m_count; ++i) {\n    var i1 = i;\n    var i2 = i < this.m_count - 1 ? i1 + 1 : 0;\n    var p = this.m_vertices[i1];\n    var e = Vec2.sub(this.m_vertices[i2], p);\n\n    for (var j = 0; j < this.m_count; ++j) {\n      if (j == i1 || j == i2) {\n        continue;\n      }\n\n      var v = Vec2.sub(this.m_vertices[j], p);\n      var c = Vec2.cross(e, v);\n      if (c < 0.0) {\n        return false;\n      }\n    }\n  }\n\n  return true;\n}\n\nPolygonShape.prototype.computeDistanceProxy = function(proxy) {\n  proxy.m_vertices = this.m_vertices;\n  proxy.m_count = this.m_count;\n  proxy.m_radius = this.m_radius;\n};","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nmodule.exports = Distance;\n\nmodule.exports.Input = DistanceInput;\nmodule.exports.Output = DistanceOutput;\nmodule.exports.Proxy = DistanceProxy;\nmodule.exports.Cache = SimplexCache;\n\nvar Settings = require('../Settings');\nvar common = require('../util/common');\n\nvar stats = require('../common/stats');\n\nvar Math = require('../common/Math');\nvar Vec2 = require('../common/Vec2');\nvar Vec3 = require('../common/Vec3');\nvar Mat22 = require('../common/Mat22');\nvar Mat33 = require('../common/Mat33');\nvar Rot = require('../common/Rot');\nvar Sweep = require('../common/Sweep');\nvar Transform = require('../common/Transform');\nvar Velocity = require('../common/Velocity');\nvar Position = require('../common/Position');\n\n/**\n * GJK using Voronoi regions (Christer Ericson) and Barycentric coordinates.\n */\n\nstats.gjkCalls = 0;\nstats.gjkIters = 0;\nstats.gjkMaxIters = 0;\n\n/**\n * Input for Distance. You have to option to use the shape radii in the\n * computation. Even\n */\nfunction DistanceInput() {\n  this.proxyA = new DistanceProxy();\n  this.proxyB = new DistanceProxy();\n  this.transformA = null;\n  this.transformB = null;\n  this.useRadii = false;\n};\n\n/**\n * Output for Distance.\n *\n * @prop {Vec2} pointA closest point on shapeA\n * @prop {Vec2} pointB closest point on shapeB\n * @prop distance\n * @prop iterations number of GJK iterations used\n */\nfunction DistanceOutput() {\n  this.pointA = Vec2.zero();\n  this.pointB = Vec2.zero();\n  this.distance;\n  this.iterations;\n}\n\n/**\n * Used to warm start Distance. Set count to zero on first call.\n *\n * @prop {number} metric length or area\n * @prop {array} indexA vertices on shape A\n * @prop {array} indexB vertices on shape B\n * @prop {number} count\n */\nfunction SimplexCache() {\n  this.metric = 0;\n  this.indexA = [];\n  this.indexB = [];\n  this.count = 0;\n};\n\n/**\n * Compute the closest points between two shapes. Supports any combination of:\n * CircleShape, PolygonShape, EdgeShape. The simplex cache is input/output. On\n * the first call set SimplexCache.count to zero.\n *\n * @param {DistanceOutput} output\n * @param {SimplexCache} cache\n * @param {DistanceInput} input\n */\nfunction Distance(output, cache, input) {\n  ++stats.gjkCalls;\n\n  var proxyA = input.proxyA;\n  var proxyB = input.proxyB;\n  var xfA = input.transformA;\n  var xfB = input.transformB;\n\n  // Initialize the simplex.\n  var simplex = new Simplex();\n  simplex.readCache(cache, proxyA, xfA, proxyB, xfB);\n\n  // Get simplex vertices as an array.\n  var vertices = simplex.m_v;// SimplexVertex\n  var k_maxIters = Settings.maxDistnceIterations;\n\n  // These store the vertices of the last simplex so that we\n  // can check for duplicates and prevent cycling.\n  var saveA = [];\n  var saveB = []; // int[3]\n  var saveCount = 0;\n\n  var distanceSqr1 = Infinity;\n  var distanceSqr2 = Infinity;\n\n  // Main iteration loop.\n  var iter = 0;\n  while (iter < k_maxIters) {\n    // Copy simplex so we can identify duplicates.\n    saveCount = simplex.m_count;\n    for (var i = 0; i < saveCount; ++i) {\n      saveA[i] = vertices[i].indexA;\n      saveB[i] = vertices[i].indexB;\n    }\n\n    simplex.solve();\n\n    // If we have 3 points, then the origin is in the corresponding triangle.\n    if (simplex.m_count == 3) {\n      break;\n    }\n\n    // Compute closest point.\n    var p = simplex.getClosestPoint();\n    distanceSqr2 = p.lengthSquared();\n\n    // Ensure progress\n    if (distanceSqr2 >= distanceSqr1) {\n      // break;\n    }\n    distanceSqr1 = distanceSqr2;\n\n    // Get search direction.\n    var d = simplex.getSearchDirection();\n\n    // Ensure the search direction is numerically fit.\n    if (d.lengthSquared() < Math.EPSILON * Math.EPSILON) {\n      // The origin is probably contained by a line segment\n      // or triangle. Thus the shapes are overlapped.\n\n      // We can't return zero here even though there may be overlap.\n      // In case the simplex is a point, segment, or triangle it is difficult\n      // to determine if the origin is contained in the CSO or very close to it.\n      break;\n    }\n\n    // Compute a tentative new simplex vertex using support points.\n    var vertex = vertices[simplex.m_count]; // SimplexVertex\n\n    vertex.indexA = proxyA.getSupport(Rot.mulTVec2(xfA.q, Vec2.neg(d)));\n    vertex.wA = Transform.mulVec2(xfA, proxyA.getVertex(vertex.indexA));\n\n    vertex.indexB = proxyB.getSupport(Rot.mulTVec2(xfB.q, d));\n    vertex.wB = Transform.mulVec2(xfB, proxyB.getVertex(vertex.indexB));\n\n    vertex.w = Vec2.sub(vertex.wB, vertex.wA);\n\n    // Iteration count is equated to the number of support point calls.\n    ++iter;\n    ++stats.gjkIters;\n\n    // Check for duplicate support points. This is the main termination\n    // criteria.\n    var duplicate = false;\n    for (var i = 0; i < saveCount; ++i) {\n      if (vertex.indexA == saveA[i] && vertex.indexB == saveB[i]) {\n        duplicate = true;\n        break;\n      }\n    }\n\n    // If we found a duplicate support point we must exit to avoid cycling.\n    if (duplicate) {\n      break;\n    }\n\n    // New vertex is ok and needed.\n    ++simplex.m_count;\n  }\n\n  stats.gjkMaxIters = Math.max(stats.gjkMaxIters, iter);\n\n  // Prepare output.\n  simplex.getWitnessPoints(output.pointA, output.pointB);\n  output.distance = Vec2.distance(output.pointA, output.pointB);\n  output.iterations = iter;\n\n  // Cache the simplex.\n  simplex.writeCache(cache);\n\n  // Apply radii if requested.\n  if (input.useRadii) {\n    var rA = proxyA.m_radius;\n    var rB = proxyB.m_radius;\n\n    if (output.distance > rA + rB && output.distance > Math.EPSILON) {\n      // Shapes are still no overlapped.\n      // Move the witness points to the outer surface.\n      output.distance -= rA + rB;\n      var normal = Vec2.sub(output.pointB, output.pointA);\n      normal.normalize();\n      output.pointA.addMul(rA, normal);\n      output.pointB.subMul(rB, normal);\n    } else {\n      // Shapes are overlapped when radii are considered.\n      // Move the witness points to the middle.\n      var p = Vec2.mid(output.pointA, output.pointB);\n      output.pointA.set(p);\n      output.pointB.set(p);\n      output.distance = 0.0;\n    }\n  }\n}\n\n/**\n * A distance proxy is used by the GJK algorithm. It encapsulates any shape.\n */\nfunction DistanceProxy() {\n  this.m_buffer = []; // Vec2[2]\n  this.m_vertices = []; // Vec2[]\n  this.m_count = 0;\n  this.m_radius = 0;\n};\n\n/**\n * Get the vertex count.\n */\nDistanceProxy.prototype.getVertexCount = function() {\n  return this.m_count;\n}\n\n/**\n * Get a vertex by index. Used by Distance.\n */\nDistanceProxy.prototype.getVertex = function(index) {\n  _ASSERT && common.assert(0 <= index && index < this.m_count);\n  return this.m_vertices[index];\n}\n\n/**\n * Get the supporting vertex index in the given direction.\n */\nDistanceProxy.prototype.getSupport = function(d) {\n  var bestIndex = 0;\n  var bestValue = Vec2.dot(this.m_vertices[0], d);\n  for (var i = 0; i < this.m_count; ++i) {\n    var value = Vec2.dot(this.m_vertices[i], d);\n    if (value > bestValue) {\n      bestIndex = i;\n      bestValue = value;\n    }\n  }\n  return bestIndex;\n}\n\n/**\n * Get the supporting vertex in the given direction.\n */\nDistanceProxy.prototype.getSupportVertex = function(d) {\n  return this.m_vertices[this.getSupport(d)];\n}\n\n/**\n * Initialize the proxy using the given shape. The shape must remain in scope\n * while the proxy is in use.\n */\nDistanceProxy.prototype.set = function(shape, index) {\n  // TODO remove, use shape instead\n  _ASSERT && common.assert(typeof shape.computeDistanceProxy === 'function');\n  shape.computeDistanceProxy(this, index);\n}\n\nfunction SimplexVertex() {\n  this.indexA; // wA index\n  this.indexB; // wB index\n  this.wA = Vec2.zero(); // support point in proxyA\n  this.wB = Vec2.zero(); // support point in proxyB\n  this.w = Vec2.zero(); // wB - wA\n  this.a; // barycentric coordinate for closest point\n};\n\nSimplexVertex.prototype.set = function(v) {\n  this.indexA = v.indexA;\n  this.indexB = v.indexB;\n  this.wA = Vec2.clone(v.wA);\n  this.wB = Vec2.clone(v.wB);\n  this.w = Vec2.clone(v.w);\n  this.a = v.a;\n};\n\nfunction Simplex() {\n  this.m_v1 = new SimplexVertex();\n  this.m_v2 = new SimplexVertex();\n  this.m_v3 = new SimplexVertex();\n  this.m_v = [ this.m_v1, this.m_v2, this.m_v3 ];\n  this.m_count;\n};\n\nSimplex.prototype.print = function() {\n  if (this.m_count == 3) {\n    return [\"+\" + this.m_count,\n      this.m_v1.a, this.m_v1.wA.x, this.m_v1.wA.y, this.m_v1.wB.x, this.m_v1.wB.y,\n      this.m_v2.a, this.m_v2.wA.x, this.m_v2.wA.y, this.m_v2.wB.x, this.m_v2.wB.y,\n      this.m_v3.a, this.m_v3.wA.x, this.m_v3.wA.y, this.m_v3.wB.x, this.m_v3.wB.y\n    ].toString();\n\n  } else if (this.m_count == 2) {\n    return [\"+\" + this.m_count,\n      this.m_v1.a, this.m_v1.wA.x, this.m_v1.wA.y, this.m_v1.wB.x, this.m_v1.wB.y,\n      this.m_v2.a, this.m_v2.wA.x, this.m_v2.wA.y, this.m_v2.wB.x, this.m_v2.wB.y\n    ].toString();\n\n  } else if (this.m_count == 1) {\n    return [\"+\" + this.m_count,\n      this.m_v1.a, this.m_v1.wA.x, this.m_v1.wA.y, this.m_v1.wB.x, this.m_v1.wB.y\n    ].toString();\n\n  } else {\n    return \"+\" + this.m_count;\n  }\n};\n\n// (SimplexCache, DistanceProxy, ...)\nSimplex.prototype.readCache = function(cache, proxyA, transformA, proxyB, transformB) {\n  _ASSERT && common.assert(cache.count <= 3);\n\n  // Copy data from cache.\n  this.m_count = cache.count;\n  for (var i = 0; i < this.m_count; ++i) {\n    var v = this.m_v[i];\n    v.indexA = cache.indexA[i];\n    v.indexB = cache.indexB[i];\n    var wALocal = proxyA.getVertex(v.indexA);\n    var wBLocal = proxyB.getVertex(v.indexB);\n    v.wA = Transform.mulVec2(transformA, wALocal);\n    v.wB = Transform.mulVec2(transformB, wBLocal);\n    v.w = Vec2.sub(v.wB, v.wA);\n    v.a = 0.0;\n  }\n\n  // Compute the new simplex metric, if it is substantially different than\n  // old metric then flush the simplex.\n  if (this.m_count > 1) {\n    var metric1 = cache.metric;\n    var metric2 = this.getMetric();\n    if (metric2 < 0.5 * metric1 || 2.0 * metric1 < metric2\n        || metric2 < Math.EPSILON) {\n      // Reset the simplex.\n      this.m_count = 0;\n    }\n  }\n\n  // If the cache is empty or invalid...\n  if (this.m_count == 0) {\n    var v = this.m_v[0];// SimplexVertex\n    v.indexA = 0;\n    v.indexB = 0;\n    var wALocal = proxyA.getVertex(0);\n    var wBLocal = proxyB.getVertex(0);\n    v.wA = Transform.mulVec2(transformA, wALocal);\n    v.wB = Transform.mulVec2(transformB, wBLocal);\n    v.w = Vec2.sub(v.wB, v.wA);\n    v.a = 1.0;\n    this.m_count = 1;\n  }\n}\n\n// (SimplexCache)\nSimplex.prototype.writeCache = function(cache) {\n  cache.metric = this.getMetric();\n  cache.count = this.m_count;\n  for (var i = 0; i < this.m_count; ++i) {\n    cache.indexA[i] = this.m_v[i].indexA;\n    cache.indexB[i] = this.m_v[i].indexB;\n  }\n}\n\nSimplex.prototype.getSearchDirection = function() {\n  switch (this.m_count) {\n  case 1:\n    return Vec2.neg(this.m_v1.w);\n\n  case 2: {\n    var e12 = Vec2.sub(this.m_v2.w, this.m_v1.w);\n    var sgn = Vec2.cross(e12, Vec2.neg(this.m_v1.w));\n    if (sgn > 0.0) {\n      // Origin is left of e12.\n      return Vec2.cross(1.0, e12);\n    } else {\n      // Origin is right of e12.\n      return Vec2.cross(e12, 1.0);\n    }\n  }\n\n  default:\n    _ASSERT && common.assert(false);\n    return Vec2.zero();\n  }\n}\n\nSimplex.prototype.getClosestPoint = function() {\n  switch (this.m_count) {\n  case 0:\n    _ASSERT && common.assert(false);\n    return Vec2.zero();\n\n  case 1:\n    return Vec2.clone(this.m_v1.w);\n\n  case 2:\n    return Vec2.combine(this.m_v1.a, this.m_v1.w, this.m_v2.a, this.m_v2.w);\n\n  case 3:\n    return Vec2.zero();\n\n  default:\n    _ASSERT && common.assert(false);\n    return Vec2.zero();\n  }\n}\n\nSimplex.prototype.getWitnessPoints = function(pA, pB) {\n  switch (this.m_count) {\n  case 0:\n    _ASSERT && common.assert(false);\n    break;\n\n  case 1:\n    pA.set(this.m_v1.wA);\n    pB.set(this.m_v1.wB);\n    break;\n\n  case 2:\n    pA.setCombine(this.m_v1.a, this.m_v1.wA, this.m_v2.a, this.m_v2.wA);\n    pB.setCombine(this.m_v1.a, this.m_v1.wB, this.m_v2.a, this.m_v2.wB);\n    break;\n\n  case 3:\n    pA.setCombine(this.m_v1.a, this.m_v1.wA, this.m_v2.a, this.m_v2.wA);\n    pA.addMul(this.m_v3.a, this.m_v3.wA);\n    pB.set(pA);\n    break;\n\n  default:\n    _ASSERT && common.assert(false);\n    break;\n  }\n}\n\nSimplex.prototype.getMetric = function() {\n  switch (this.m_count) {\n  case 0:\n    _ASSERT && common.assert(false);\n    return 0.0;\n\n  case 1:\n    return 0.0;\n\n  case 2:\n    return Vec2.distance(this.m_v1.w, this.m_v2.w);\n\n  case 3:\n    return Vec2.cross(Vec2.sub(this.m_v2.w, this.m_v1.w), Vec2.sub(this.m_v3.w,\n        this.m_v1.w));\n\n  default:\n    _ASSERT && common.assert(false);\n    return 0.0;\n  }\n}\n\nSimplex.prototype.solve = function() {\n  switch (this.m_count) {\n  case 1:\n    break;\n\n  case 2:\n    this.solve2();\n    break;\n\n  case 3:\n    this.solve3();\n    break;\n\n  default:\n    _ASSERT && common.assert(false);\n  }\n}\n\n// Solve a line segment using barycentric coordinates.\n//\n// p = a1 * w1 + a2 * w2\n// a1 + a2 = 1\n//\n// The vector from the origin to the closest point on the line is\n// perpendicular to the line.\n// e12 = w2 - w1\n// dot(p, e) = 0\n// a1 * dot(w1, e) + a2 * dot(w2, e) = 0\n//\n// 2-by-2 linear system\n// [1 1 ][a1] = [1]\n// [w1.e12 w2.e12][a2] = [0]\n//\n// Define\n// d12_1 = dot(w2, e12)\n// d12_2 = -dot(w1, e12)\n// d12 = d12_1 + d12_2\n//\n// Solution\n// a1 = d12_1 / d12\n// a2 = d12_2 / d12\nSimplex.prototype.solve2 = function() {\n  var w1 = this.m_v1.w;\n  var w2 = this.m_v2.w;\n  var e12 = Vec2.sub(w2, w1);\n\n  // w1 region\n  var d12_2 = -Vec2.dot(w1, e12);\n  if (d12_2 <= 0.0) {\n    // a2 <= 0, so we clamp it to 0\n    this.m_v1.a = 1.0;\n    this.m_count = 1;\n    return;\n  }\n\n  // w2 region\n  var d12_1 = Vec2.dot(w2, e12);\n  if (d12_1 <= 0.0) {\n    // a1 <= 0, so we clamp it to 0\n    this.m_v2.a = 1.0;\n    this.m_count = 1;\n    this.m_v1.set(this.m_v2);\n    return;\n  }\n\n  // Must be in e12 region.\n  var inv_d12 = 1.0 / (d12_1 + d12_2);\n  this.m_v1.a = d12_1 * inv_d12;\n  this.m_v2.a = d12_2 * inv_d12;\n  this.m_count = 2;\n}\n\n// Possible regions:\n// - points[2]\n// - edge points[0]-points[2]\n// - edge points[1]-points[2]\n// - inside the triangle\nSimplex.prototype.solve3 = function() {\n  var w1 = this.m_v1.w;\n  var w2 = this.m_v2.w;\n  var w3 = this.m_v3.w;\n\n  // Edge12\n  // [1 1 ][a1] = [1]\n  // [w1.e12 w2.e12][a2] = [0]\n  // a3 = 0\n  var e12 = Vec2.sub(w2, w1);\n  var w1e12 = Vec2.dot(w1, e12);\n  var w2e12 = Vec2.dot(w2, e12);\n  var d12_1 = w2e12;\n  var d12_2 = -w1e12;\n\n  // Edge13\n  // [1 1 ][a1] = [1]\n  // [w1.e13 w3.e13][a3] = [0]\n  // a2 = 0\n  var e13 = Vec2.sub(w3, w1);\n  var w1e13 = Vec2.dot(w1, e13);\n  var w3e13 = Vec2.dot(w3, e13);\n  var d13_1 = w3e13;\n  var d13_2 = -w1e13;\n\n  // Edge23\n  // [1 1 ][a2] = [1]\n  // [w2.e23 w3.e23][a3] = [0]\n  // a1 = 0\n  var e23 = Vec2.sub(w3, w2);// Vec2\n  var w2e23 = Vec2.dot(w2, e23);\n  var w3e23 = Vec2.dot(w3, e23);\n  var d23_1 = w3e23;\n  var d23_2 = -w2e23;\n\n  // Triangle123\n  var n123 = Vec2.cross(e12, e13);\n\n  var d123_1 = n123 * Vec2.cross(w2, w3);\n  var d123_2 = n123 * Vec2.cross(w3, w1);\n  var d123_3 = n123 * Vec2.cross(w1, w2);\n\n  // w1 region\n  if (d12_2 <= 0.0 && d13_2 <= 0.0) {\n    this.m_v1.a = 1.0;\n    this.m_count = 1;\n    return;\n  }\n\n  // e12\n  if (d12_1 > 0.0 && d12_2 > 0.0 && d123_3 <= 0.0) {\n    var inv_d12 = 1.0 / (d12_1 + d12_2);\n    this.m_v1.a = d12_1 * inv_d12;\n    this.m_v2.a = d12_2 * inv_d12;\n    this.m_count = 2;\n    return;\n  }\n\n  // e13\n  if (d13_1 > 0.0 && d13_2 > 0.0 && d123_2 <= 0.0) {\n    var inv_d13 = 1.0 / (d13_1 + d13_2);\n    this.m_v1.a = d13_1 * inv_d13;\n    this.m_v3.a = d13_2 * inv_d13;\n    this.m_count = 2;\n    this.m_v2.set(this.m_v3);\n    return;\n  }\n\n  // w2 region\n  if (d12_1 <= 0.0 && d23_2 <= 0.0) {\n    this.m_v2.a = 1.0;\n    this.m_count = 1;\n    this.m_v1.set(this.m_v2);\n    return;\n  }\n\n  // w3 region\n  if (d13_1 <= 0.0 && d23_1 <= 0.0) {\n    this.m_v3.a = 1.0;\n    this.m_count = 1;\n    this.m_v1.set(this.m_v3);\n    return;\n  }\n\n  // e23\n  if (d23_1 > 0.0 && d23_2 > 0.0 && d123_1 <= 0.0) {\n    var inv_d23 = 1.0 / (d23_1 + d23_2);\n    this.m_v2.a = d23_1 * inv_d23;\n    this.m_v3.a = d23_2 * inv_d23;\n    this.m_count = 2;\n    this.m_v1.set(this.m_v3);\n    return;\n  }\n\n  // Must be in triangle123\n  var inv_d123 = 1.0 / (d123_1 + d123_2 + d123_3);\n  this.m_v1.a = d123_1 * inv_d123;\n  this.m_v2.a = d123_2 * inv_d123;\n  this.m_v3.a = d123_3 * inv_d123;\n  this.m_count = 3;\n}\n\n/**\n * Determine if two generic shapes overlap.\n */\nDistance.testOverlap = function(shapeA, indexA, shapeB, indexB, xfA, xfB) {\n  var input = new DistanceInput();\n  input.proxyA.set(shapeA, indexA);\n  input.proxyB.set(shapeB, indexB);\n  input.transformA = xfA;\n  input.transformB = xfB;\n  input.useRadii = true;\n\n  var cache = new SimplexCache();\n\n  var output = new DistanceOutput();\n  Distance(output, cache, input);\n\n  return output.distance < 10.0 * Math.EPSILON;\n}","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nmodule.exports = CircleShape;\n\nvar common = require('../util/common');\nvar create = require('../util/create');\nvar options = require('../util/options');\nvar Math = require('../common/Math');\nvar Transform = require('../common/Transform');\nvar Rot = require('../common/Rot');\nvar Vec2 = require('../common/Vec2');\nvar AABB = require('../collision/AABB');\nvar Settings = require('../Settings');\nvar Shape = require('../Shape');\n\nCircleShape._super = Shape;\nCircleShape.prototype = create(CircleShape._super.prototype);\n\nCircleShape.TYPE = 'circle';\nShape.TYPES[CircleShape.TYPE] = CircleShape;\n\nfunction CircleShape(a, b) {\n  if (!(this instanceof CircleShape)) {\n    return new CircleShape(a, b);\n  }\n\n  CircleShape._super.call(this);\n\n  this.m_type = CircleShape.TYPE;\n  this.m_p = Vec2.zero();\n  this.m_radius = 1;\n\n  if (typeof a === 'object' && Vec2.isValid(a)) {\n    this.m_p.set(a);\n\n    if (typeof b === 'number') {\n      this.m_radius = b;\n    }\n\n  } else if (typeof a === 'number') {\n    this.m_radius = a;\n  }\n}\n\nCircleShape.prototype._serialize = function() {\n  return {\n    type: this.m_type,\n\n    p: this.m_p,\n    radius: this.m_radius,\n  };\n};\n\nCircleShape._deserialize = function(data) {\n  return new CircleShape(data.p, data.radius);\n};\n\nCircleShape.prototype.getRadius = function() {\n  return this.m_radius;\n}\n\nCircleShape.prototype.getCenter = function() {\n  return this.m_p;\n}\n\nCircleShape.prototype.getVertex = function(index) {\n  _ASSERT && common.assert(index == 0);\n  return this.m_p;\n}\n\nCircleShape.prototype.getVertexCount = function(index) {\n  return 1;\n}\n\n/**\n * @deprecated\n */\nCircleShape.prototype._clone = function() {\n  var clone = new CircleShape();\n  clone.m_type = this.m_type;\n  clone.m_radius = this.m_radius;\n  clone.m_p = this.m_p.clone();\n  return clone;\n}\n\nCircleShape.prototype.getChildCount = function() {\n  return 1;\n}\n\nCircleShape.prototype.testPoint = function(xf, p) {\n  var center = Vec2.add(xf.p, Rot.mulVec2(xf.q, this.m_p));\n  var d = Vec2.sub(p, center);\n  return Vec2.dot(d, d) <= this.m_radius * this.m_radius;\n}\n\n// Collision Detection in Interactive 3D Environments by Gino van den Bergen\n// From Section 3.1.2\n// x = s + a * r\n// norm(x) = radius\nCircleShape.prototype.rayCast = function(output, input, xf, childIndex) {\n\n  var position = Vec2.add(xf.p, Rot.mulVec2(xf.q, this.m_p));\n  var s = Vec2.sub(input.p1, position);\n  var b = Vec2.dot(s, s) - this.m_radius * this.m_radius;\n\n  // Solve quadratic equation.\n  var r = Vec2.sub(input.p2, input.p1);\n  var c = Vec2.dot(s, r);\n  var rr = Vec2.dot(r, r);\n  var sigma = c * c - rr * b;\n\n  // Check for negative discriminant and short segment.\n  if (sigma < 0.0 || rr < Math.EPSILON) {\n    return false;\n  }\n\n  // Find the point of intersection of the line with the circle.\n  var a = -(c + Math.sqrt(sigma));\n\n  // Is the intersection point on the segment?\n  if (0.0 <= a && a <= input.maxFraction * rr) {\n    a /= rr;\n    output.fraction = a;\n    output.normal = Vec2.add(s, Vec2.mul(a, r));\n    output.normal.normalize();\n    return true;\n  }\n\n  return false;\n}\n\nCircleShape.prototype.computeAABB = function(aabb, xf, childIndex) {\n  var p = Vec2.add(xf.p, Rot.mulVec2(xf.q, this.m_p));\n  aabb.lowerBound.set(p.x - this.m_radius, p.y - this.m_radius);\n  aabb.upperBound.set(p.x + this.m_radius, p.y + this.m_radius);\n}\n\nCircleShape.prototype.computeMass = function(massData, density) {\n  massData.mass = density * Math.PI * this.m_radius * this.m_radius;\n  massData.center = this.m_p;\n  // inertia about the local origin\n  massData.I = massData.mass\n      * (0.5 * this.m_radius * this.m_radius + Vec2.dot(this.m_p, this.m_p));\n}\n\nCircleShape.prototype.computeDistanceProxy = function(proxy) {\n  proxy.m_vertices.push(this.m_p);\n  proxy.m_count = 1;\n  proxy.m_radius = this.m_radius;\n};\n","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nmodule.exports = EdgeShape;\n\nvar create = require('../util/create');\nvar options = require('../util/options');\nvar Settings = require('../Settings');\nvar Shape = require('../Shape');\nvar Math = require('../common/Math');\nvar Transform = require('../common/Transform');\nvar Rot = require('../common/Rot');\nvar Vec2 = require('../common/Vec2');\nvar AABB = require('../collision/AABB');\n\nEdgeShape._super = Shape;\nEdgeShape.prototype = create(EdgeShape._super.prototype);\n\nEdgeShape.TYPE = 'edge';\nShape.TYPES[EdgeShape.TYPE] = EdgeShape;\n\n/**\n * A line segment (edge) shape. These can be connected in chains or loops to\n * other edge shapes. The connectivity information is used to ensure correct\n * contact normals.\n */\nfunction EdgeShape(v1, v2) {\n  if (!(this instanceof EdgeShape)) {\n    return new EdgeShape(v1, v2);\n  }\n\n  EdgeShape._super.call(this);\n\n  this.m_type = EdgeShape.TYPE;\n  this.m_radius = Settings.polygonRadius;\n\n  // These are the edge vertices\n  this.m_vertex1 = v1 ? Vec2.clone(v1) : Vec2.zero();\n  this.m_vertex2 = v2 ? Vec2.clone(v2) : Vec2.zero();\n\n  // Optional adjacent vertices. These are used for smooth collision.\n  // Used by chain shape.\n  this.m_vertex0 = Vec2.zero();\n  this.m_vertex3 = Vec2.zero();\n  this.m_hasVertex0 = false;\n  this.m_hasVertex3 = false;\n}\n\nEdgeShape.prototype._serialize = function() {\n  return {\n    type: this.m_type,\n\n    vertex1: this.m_vertex1,\n    vertex2: this.m_vertex2,\n\n    vertex0: this.m_vertex0,\n    vertex3: this.m_vertex3,\n    hasVertex0: this.m_hasVertex0,\n    hasVertex3: this.m_hasVertex3,\n  };\n};\n\nEdgeShape._deserialize = function(data) {\n  var shape = new EdgeShape(data.vertex1, data.vertex2);\n  if (shape.hasVertex0) {\n    shape.setPrev(data.vertex0);\n  }\n  if (shape.hasVertex3) {\n    shape.setNext(data.vertex3);\n  }\n  return shape;\n};\n\nEdgeShape.prototype.setNext = function(v3) {\n  if (v3) {\n    this.m_vertex3.set(v3);\n    this.m_hasVertex3 = true;\n  } else {\n    this.m_vertex3.setZero();\n    this.m_hasVertex3 = false;\n  }\n  return this;\n};\n\nEdgeShape.prototype.setPrev = function(v0) {\n  if (v0) {\n    this.m_vertex0.set(v0);\n    this.m_hasVertex0 = true;\n  } else {\n    this.m_vertex0.setZero();\n    this.m_hasVertex0 = false;\n  }\n  return this;\n};\n\n/**\n * Set this as an isolated edge.\n */\nEdgeShape.prototype._set = function(v1, v2) {\n  this.m_vertex1.set(v1);\n  this.m_vertex2.set(v2);\n  this.m_hasVertex0 = false;\n  this.m_hasVertex3 = false;\n  return this;\n}\n\n/**\n * @deprecated\n */\nEdgeShape.prototype._clone = function() {\n  var clone = new EdgeShape();\n  clone.m_type = this.m_type;\n  clone.m_radius = this.m_radius;\n  clone.m_vertex1.set(this.m_vertex1);\n  clone.m_vertex2.set(this.m_vertex2);\n  clone.m_vertex0.set(this.m_vertex0);\n  clone.m_vertex3.set(this.m_vertex3);\n  clone.m_hasVertex0 = this.m_hasVertex0;\n  clone.m_hasVertex3 = this.m_hasVertex3;\n  return clone;\n}\n\nEdgeShape.prototype.getChildCount = function() {\n  return 1;\n}\n\nEdgeShape.prototype.testPoint = function(xf, p) {\n  return false;\n}\n\n// p = p1 + t * d\n// v = v1 + s * e\n// p1 + t * d = v1 + s * e\n// s * e - t * d = p1 - v1\nEdgeShape.prototype.rayCast = function(output, input, xf, childIndex) {\n  // NOT_USED(childIndex);\n\n  // Put the ray into the edge's frame of reference.\n  var p1 = Rot.mulTVec2(xf.q, Vec2.sub(input.p1, xf.p));\n  var p2 = Rot.mulTVec2(xf.q, Vec2.sub(input.p2, xf.p));\n  var d = Vec2.sub(p2, p1);\n\n  var v1 = this.m_vertex1;\n  var v2 = this.m_vertex2;\n  var e = Vec2.sub(v2, v1);\n  var normal = Vec2.neo(e.y, -e.x);\n  normal.normalize();\n\n  // q = p1 + t * d\n  // dot(normal, q - v1) = 0\n  // dot(normal, p1 - v1) + t * dot(normal, d) = 0\n  var numerator = Vec2.dot(normal, Vec2.sub(v1, p1));\n  var denominator = Vec2.dot(normal, d);\n\n  if (denominator == 0.0) {\n    return false;\n  }\n\n  var t = numerator / denominator;\n  if (t < 0.0 || input.maxFraction < t) {\n    return false;\n  }\n\n  var q = Vec2.add(p1, Vec2.mul(t, d));\n\n  // q = v1 + s * r\n  // s = dot(q - v1, r) / dot(r, r)\n  var r = Vec2.sub(v2, v1);\n  var rr = Vec2.dot(r, r);\n  if (rr == 0.0) {\n    return false;\n  }\n\n  var s = Vec2.dot(Vec2.sub(q, v1), r) / rr;\n  if (s < 0.0 || 1.0 < s) {\n    return false;\n  }\n\n  output.fraction = t;\n  if (numerator > 0.0) {\n    output.normal = Rot.mulVec2(xf.q, normal).neg();\n  } else {\n    output.normal = Rot.mulVec2(xf.q, normal);\n  }\n  return true;\n}\n\nEdgeShape.prototype.computeAABB = function(aabb, xf, childIndex) {\n  var v1 = Transform.mulVec2(xf, this.m_vertex1);\n  var v2 = Transform.mulVec2(xf, this.m_vertex2);\n\n  aabb.combinePoints(v1, v2);\n  aabb.extend(this.m_radius)\n}\n\nEdgeShape.prototype.computeMass = function(massData, density) {\n  massData.mass = 0.0;\n  massData.center.setCombine(0.5, this.m_vertex1, 0.5, this.m_vertex2);\n  massData.I = 0.0;\n}\n\nEdgeShape.prototype.computeDistanceProxy = function(proxy) {\n  proxy.m_vertices.push(this.m_vertex1);\n  proxy.m_vertices.push(this.m_vertex2);\n  proxy.m_count = 2;\n  proxy.m_radius = this.m_radius;\n};\n","// @flow\n/* eslint-disable flowtype/object-type-delimiter */\n/* eslint-disable react/prop-types */\n\nimport React, { type Element } from 'react';\nimport { IS_BROWSER, DISABLE_SPEEDY, SC_ATTR, SC_VERSION_ATTR } from '../constants';\nimport StyledError from '../utils/error';\nimport { type ExtractedComp } from '../utils/extractCompsFromCSS';\nimport { splitByRules } from '../utils/stringifyRules';\nimport getNonce from '../utils/nonce';\n\nimport {\n  type Names,\n  addNameForId,\n  resetIdNames,\n  hasNameForId,\n  stringifyNames,\n  cloneNames,\n} from '../utils/styleNames';\n\nimport { sheetForTag, safeInsertRule, deleteRules } from '../utils/insertRuleHelpers';\n\ndeclare var __VERSION__: string;\n\nexport interface Tag<T> {\n  // $FlowFixMe: Doesn't seem to accept any combination w/ HTMLStyleElement for some reason\n  styleTag: HTMLStyleElement | null;\n  /* lists all ids of the tag */\n  getIds(): string[];\n  /* checks whether `name` is already injected for `id` */\n  hasNameForId(id: string, name: string): boolean;\n  /* inserts a marker to ensure the id's correct position in the sheet */\n  insertMarker(id: string): T;\n  /* inserts rules according to the ids markers */\n  insertRules(id: string, cssRules: string[], name: ?string): void;\n  /* removes all rules belonging to the id, keeping the marker around */\n  removeRules(id: string): void;\n  css(): string;\n  toHTML(additionalAttrs: ?string): string;\n  toElement(): Element<*>;\n  clone(): Tag<T>;\n  /* used in server side rendering to indicate that the rules in the tag have been flushed to HTML */\n  sealed: boolean;\n}\n\n/* this marker separates component styles and is important for rehydration */\nconst makeTextMarker = id => `\\n/* sc-component-id: ${id} */\\n`;\n\n/* add up all numbers in array up until and including the index */\nconst addUpUntilIndex = (sizes: number[], index: number): number => {\n  let totalUpToIndex = 0;\n  for (let i = 0; i <= index; i += 1) {\n    totalUpToIndex += sizes[i];\n  }\n\n  return totalUpToIndex;\n};\n\n/* create a new style tag after lastEl */\nconst makeStyleTag = (target: ?HTMLElement, tagEl: ?Node, insertBefore: ?boolean) => {\n  let targetDocument = document;\n  if(target) targetDocument = target.ownerDocument;\n  else if(tagEl) targetDocument = tagEl.ownerDocument;\n\n  const el = targetDocument.createElement('style');\n  el.setAttribute(SC_ATTR, '');\n  el.setAttribute(SC_VERSION_ATTR, __VERSION__);\n\n  const nonce = getNonce();\n  if (nonce) {\n    el.setAttribute('nonce', nonce);\n  }\n\n  /* Work around insertRule quirk in EdgeHTML */\n  el.appendChild(targetDocument.createTextNode(''));\n\n  if (target && !tagEl) {\n    /* Append to target when no previous element was passed */\n    target.appendChild(el);\n  } else {\n    if (!tagEl || !target || !tagEl.parentNode) {\n      throw new StyledError(6);\n    }\n\n    /* Insert new style tag after the previous one */\n    tagEl.parentNode.insertBefore(el, insertBefore ? tagEl : tagEl.nextSibling);\n  }\n\n  return el;\n};\n\n/* takes a css factory function and outputs an html styled tag factory */\nconst wrapAsHtmlTag = (css: () => string, names: Names) => (additionalAttrs: ?string): string => {\n  const nonce = getNonce();\n  const attrs = [\n    nonce && `nonce=\"${nonce}\"`,\n    `${SC_ATTR}=\"${stringifyNames(names)}\"`,\n    `${SC_VERSION_ATTR}=\"${__VERSION__}\"`,\n    additionalAttrs,\n  ];\n\n  const htmlAttr = attrs.filter(Boolean).join(' ');\n  return `<style ${htmlAttr}>${css()}</style>`;\n};\n\n/* takes a css factory function and outputs an element factory */\nconst wrapAsElement = (css: () => string, names: Names) => () => {\n  const props = {\n    [SC_ATTR]: stringifyNames(names),\n    [SC_VERSION_ATTR]: __VERSION__,\n  };\n\n  const nonce = getNonce();\n  if (nonce) {\n    // $FlowFixMe\n    props.nonce = nonce;\n  }\n\n  // eslint-disable-next-line react/no-danger\n  return <style {...props} dangerouslySetInnerHTML={{ __html: css() }} />;\n};\n\nconst getIdsFromMarkersFactory = (markers: Object) => (): string[] => Object.keys(markers);\n\n/* speedy tags utilise insertRule */\nconst makeSpeedyTag = (el: HTMLStyleElement, getImportRuleTag: ?() => Tag<any>): Tag<number> => {\n  const names: Names = (Object.create(null): Object);\n  const markers = Object.create(null);\n  const sizes: number[] = [];\n\n  const extractImport = getImportRuleTag !== undefined;\n  /* indicates whether getImportRuleTag was called */\n  let usedImportRuleTag = false;\n\n  const insertMarker = id => {\n    const prev = markers[id];\n    if (prev !== undefined) {\n      return prev;\n    }\n\n    markers[id] = sizes.length;\n    sizes.push(0);\n    resetIdNames(names, id);\n\n    return markers[id];\n  };\n\n  const insertRules = (id, cssRules, name) => {\n    const marker = insertMarker(id);\n    const sheet = sheetForTag(el);\n    const insertIndex = addUpUntilIndex(sizes, marker);\n\n    let injectedRules = 0;\n    const importRules = [];\n    const cssRulesSize = cssRules.length;\n\n    for (let i = 0; i < cssRulesSize; i += 1) {\n      const cssRule = cssRules[i];\n      let mayHaveImport = extractImport; /* @import rules are reordered to appear first */\n      if (mayHaveImport && cssRule.indexOf('@import') !== -1) {\n        importRules.push(cssRule);\n      } else if (safeInsertRule(sheet, cssRule, insertIndex + injectedRules)) {\n        mayHaveImport = false;\n        injectedRules += 1;\n      }\n    }\n\n    if (extractImport && importRules.length > 0) {\n      usedImportRuleTag = true;\n      // $FlowFixMe\n      getImportRuleTag().insertRules(`${id}-import`, importRules);\n    }\n\n    sizes[marker] += injectedRules; /* add up no of injected rules */\n    addNameForId(names, id, name);\n  };\n\n  const removeRules = id => {\n    const marker = markers[id];\n    if (marker === undefined) return;\n    // $FlowFixMe\n    if (el.isConnected === false) return;\n\n    const size = sizes[marker];\n    const sheet = sheetForTag(el);\n    const removalIndex = addUpUntilIndex(sizes, marker) - 1;\n    deleteRules(sheet, removalIndex, size);\n    sizes[marker] = 0;\n    resetIdNames(names, id);\n\n    if (extractImport && usedImportRuleTag) {\n      // $FlowFixMe\n      getImportRuleTag().removeRules(`${id}-import`);\n    }\n  };\n\n  const css = () => {\n    const { cssRules } = sheetForTag(el);\n    let str = '';\n\n    // eslint-disable-next-line guard-for-in\n    for (const id in markers) {\n      str += makeTextMarker(id);\n      const marker = markers[id];\n      const end = addUpUntilIndex(sizes, marker);\n      const size = sizes[marker];\n      for (let i = end - size; i < end; i += 1) {\n        const rule = cssRules[i];\n        if (rule !== undefined) {\n          str += rule.cssText;\n        }\n      }\n    }\n\n    return str;\n  };\n\n  return {\n    clone() {\n      throw new StyledError(5);\n    },\n    css,\n    getIds: getIdsFromMarkersFactory(markers),\n    hasNameForId: hasNameForId(names),\n    insertMarker,\n    insertRules,\n    removeRules,\n    sealed: false,\n    styleTag: el,\n    toElement: wrapAsElement(css, names),\n    toHTML: wrapAsHtmlTag(css, names),\n  };\n};\n\nconst makeTextNode = (targetDocument, id) => targetDocument.createTextNode(makeTextMarker(id));\n\nconst makeBrowserTag = (el: HTMLStyleElement, getImportRuleTag: ?() => Tag<any>): Tag<Text> => {\n  const names = (Object.create(null): Object);\n  const markers = Object.create(null);\n\n  const extractImport = getImportRuleTag !== undefined;\n\n  /* indicates whether getImportRuleTag was called */\n  let usedImportRuleTag = false;\n\n  const insertMarker = id => {\n    const prev = markers[id];\n    if (prev !== undefined) {\n      return prev;\n    }\n\n    markers[id] = makeTextNode(el.ownerDocument, id);\n    el.appendChild(markers[id]);\n    names[id] = Object.create(null);\n\n    return markers[id];\n  };\n\n  const insertRules = (id, cssRules, name) => {\n    const marker = insertMarker(id);\n    const importRules = [];\n    const cssRulesSize = cssRules.length;\n\n    for (let i = 0; i < cssRulesSize; i += 1) {\n      const rule = cssRules[i];\n      let mayHaveImport = extractImport;\n      if (mayHaveImport && rule.indexOf('@import') !== -1) {\n        importRules.push(rule);\n      } else {\n        mayHaveImport = false;\n        const separator = i === cssRulesSize - 1 ? '' : ' ';\n        marker.appendData(`${rule}${separator}`);\n      }\n    }\n\n    addNameForId(names, id, name);\n\n    if (extractImport && importRules.length > 0) {\n      usedImportRuleTag = true;\n      // $FlowFixMe\n      getImportRuleTag().insertRules(`${id}-import`, importRules);\n    }\n  };\n\n  const removeRules = id => {\n    const marker = markers[id];\n    if (marker === undefined) return;\n\n    /* create new empty text node and replace the current one */\n    const newMarker = makeTextNode(el.ownerDocument, id);\n    el.replaceChild(newMarker, marker);\n    markers[id] = newMarker;\n    resetIdNames(names, id);\n\n    if (extractImport && usedImportRuleTag) {\n      // $FlowFixMe\n      getImportRuleTag().removeRules(`${id}-import`);\n    }\n  };\n\n  const css = () => {\n    let str = '';\n\n    // eslint-disable-next-line guard-for-in\n    for (const id in markers) {\n      str += markers[id].data;\n    }\n\n    return str;\n  };\n\n  return {\n    clone() {\n      throw new StyledError(5);\n    },\n    css,\n    getIds: getIdsFromMarkersFactory(markers),\n    hasNameForId: hasNameForId(names),\n    insertMarker,\n    insertRules,\n    removeRules,\n    sealed: false,\n    styleTag: el,\n    toElement: wrapAsElement(css, names),\n    toHTML: wrapAsHtmlTag(css, names),\n  };\n};\n\nconst makeServerTag = (namesArg, markersArg): Tag<[string]> => {\n  const names = namesArg === undefined ? (Object.create(null): Object) : namesArg;\n  const markers = markersArg === undefined ? Object.create(null) : markersArg;\n\n  const insertMarker = id => {\n    const prev = markers[id];\n    if (prev !== undefined) {\n      return prev;\n    }\n\n    return (markers[id] = ['']);\n  };\n\n  const insertRules = (id, cssRules, name) => {\n    const marker = insertMarker(id);\n    marker[0] += cssRules.join(' ');\n    addNameForId(names, id, name);\n  };\n\n  const removeRules = id => {\n    const marker = markers[id];\n    if (marker === undefined) return;\n    marker[0] = '';\n    resetIdNames(names, id);\n  };\n\n  const css = () => {\n    let str = '';\n    // eslint-disable-next-line guard-for-in\n    for (const id in markers) {\n      const cssForId = markers[id][0];\n      if (cssForId) {\n        str += makeTextMarker(id) + cssForId;\n      }\n    }\n    return str;\n  };\n\n  const clone = () => {\n    const namesClone = cloneNames(names);\n    const markersClone = Object.create(null);\n\n    // eslint-disable-next-line guard-for-in\n    for (const id in markers) {\n      markersClone[id] = [markers[id][0]];\n    }\n\n    return makeServerTag(namesClone, markersClone);\n  };\n\n  const tag = {\n    clone,\n    css,\n    getIds: getIdsFromMarkersFactory(markers),\n    hasNameForId: hasNameForId(names),\n    insertMarker,\n    insertRules,\n    removeRules,\n    sealed: false,\n    styleTag: null,\n    toElement: wrapAsElement(css, names),\n    toHTML: wrapAsHtmlTag(css, names),\n  };\n\n  return tag;\n};\n\nexport const makeTag = (\n  target: ?HTMLElement,\n  tagEl: ?HTMLStyleElement,\n  forceServer?: boolean,\n  insertBefore?: boolean,\n  getImportRuleTag?: () => Tag<any>\n): Tag<any> => {\n  if (IS_BROWSER && !forceServer) {\n    const el = makeStyleTag(target, tagEl, insertBefore);\n\n    if (DISABLE_SPEEDY) {\n      return makeBrowserTag(el, getImportRuleTag);\n    } else {\n      return makeSpeedyTag(el, getImportRuleTag);\n    }\n  }\n\n  return makeServerTag();\n};\n\nexport const rehydrate = (\n  tag: Tag<any>,\n  els: HTMLStyleElement[],\n  extracted: ExtractedComp[]\n): void => {\n  /* add all extracted components to the new tag */\n  for (let i = 0, len = extracted.length; i < len; i += 1) {\n    const { componentId, cssFromDOM } = extracted[i];\n    const cssRules = splitByRules(cssFromDOM);\n    tag.insertRules(componentId, cssRules);\n  }\n\n  /* remove old HTMLStyleElements, since they have been rehydrated */\n  for (let i = 0, len = els.length; i < len; i += 1) {\n    const el = els[i];\n    if (el.parentNode) {\n      el.parentNode.removeChild(el);\n    }\n  }\n};\n","// @flow\nimport React, { createContext, Component, type Element } from 'react';\nimport memoize from 'memoize-one';\nimport StyledError from '../utils/error';\nimport isFunction from '../utils/isFunction';\n\nexport type Theme = { [key: string]: mixed };\n\ntype Props = {\n  children?: Element<any>,\n  theme: Theme | ((outerTheme: Theme) => void),\n};\n\nexport const ThemeContext = createContext();\n\nexport const ThemeConsumer = ThemeContext.Consumer;\n\n/**\n * Provide a theme to an entire react component tree via context\n */\nexport default class ThemeProvider extends Component<Props> {\n  getContext: (theme: Theme | ((outerTheme: Theme) => void), outerTheme?: Theme) => Theme;\n\n  renderInner: Function;\n\n  constructor(props: Props) {\n    super(props);\n    this.getContext = memoize(this.getContext.bind(this));\n    this.renderInner = this.renderInner.bind(this);\n  }\n\n  render() {\n    if (!this.props.children) return null;\n\n    return <ThemeContext.Consumer>{this.renderInner}</ThemeContext.Consumer>;\n  }\n\n  renderInner(outerTheme?: Theme) {\n    const context = this.getContext(this.props.theme, outerTheme);\n\n    return (\n      <ThemeContext.Provider value={context}>\n        {this.props.children}\n      </ThemeContext.Provider>\n    );\n  }\n\n  /**\n   * Get the theme from the props, supporting both (outerTheme) => {}\n   * as well as object notation\n   */\n  getTheme(theme: (outerTheme: ?Theme) => void, outerTheme: ?Theme) {\n    if (isFunction(theme)) {\n      const mergedTheme = theme(outerTheme);\n\n      if (\n        process.env.NODE_ENV !== 'production' &&\n        (mergedTheme === null || Array.isArray(mergedTheme) || typeof mergedTheme !== 'object')\n      ) {\n        throw new StyledError(7);\n      }\n\n      return mergedTheme;\n    }\n\n    if (theme === null || Array.isArray(theme) || typeof theme !== 'object') {\n      throw new StyledError(8);\n    }\n\n    return { ...outerTheme, ...theme };\n  }\n\n  getContext(theme: (outerTheme: ?Theme) => void, outerTheme?: Theme) {\n    return this.getTheme(theme, outerTheme);\n  }\n}\n","// @flow\nimport React, { createContext, Component, type Element } from 'react';\nimport PropTypes from 'prop-types';\nimport memoize from 'memoize-one';\nimport StyleSheet from './StyleSheet';\nimport ServerStyleSheet from './ServerStyleSheet';\nimport StyledError from '../utils/error';\n\ntype Props = {\n  children?: Element<any>,\n  sheet?: StyleSheet,\n  target?: HTMLElement,\n};\n\nexport const StyleSheetContext = createContext();\nexport const StyleSheetConsumer = StyleSheetContext.Consumer;\n\nexport default class StyleSheetManager extends Component<Props> {\n  static propTypes = {\n    sheet: PropTypes.oneOfType([\n      PropTypes.instanceOf(StyleSheet),\n      PropTypes.instanceOf(ServerStyleSheet),\n    ]),\n\n    target: PropTypes.shape({\n      appendChild: PropTypes.func.isRequired,\n    }),\n  };\n\n  getContext: (sheet: ?StyleSheet, target: ?HTMLElement) => StyleSheet;\n\n  constructor(props: Props) {\n    super(props);\n    this.getContext = memoize(this.getContext);\n  }\n\n  getContext(sheet: ?StyleSheet, target: ?HTMLElement) {\n    if (sheet) {\n      return sheet;\n    } else if (target) {\n      return new StyleSheet(target);\n    } else {\n      throw new StyledError(4);\n    }\n  }\n\n  render() {\n    const { children, sheet, target } = this.props;\n\n    return (\n      <StyleSheetContext.Provider value={this.getContext(sheet, target)}>\n        {process.env.NODE_ENV !== 'production' ? React.Children.only(children) : children}\n      </StyleSheetContext.Provider>\n    );\n  }\n}\n","// @flow\nimport { EMPTY_ARRAY } from '../utils/empties';\nimport flatten from '../utils/flatten';\nimport isStaticRules from '../utils/isStaticRules';\nimport stringifyRules from '../utils/stringifyRules';\nimport StyleSheet from './StyleSheet';\n\nimport type { RuleSet } from '../types';\n\nexport default class GlobalStyle {\n  componentId: string;\n\n  isStatic: boolean;\n\n  rules: RuleSet;\n\n  constructor(rules: RuleSet, componentId: string) {\n    this.rules = rules;\n    this.componentId = componentId;\n    this.isStatic = isStaticRules(rules, EMPTY_ARRAY);\n\n    if (!StyleSheet.master.hasId(componentId)) {\n      StyleSheet.master.deferredInject(componentId, []);\n    }\n  }\n\n  createStyles(executionContext: Object, styleSheet: StyleSheet) {\n    const flatCSS = flatten(this.rules, executionContext, styleSheet);\n    const css = stringifyRules(flatCSS, '');\n\n    styleSheet.inject(this.componentId, css);\n  }\n\n  removeStyles(styleSheet: StyleSheet) {\n    const { componentId } = this;\n    if (styleSheet.hasId(componentId)) {\n      styleSheet.remove(componentId);\n    }\n  }\n\n  // TODO: overwrite in-place instead of remove+create?\n  renderStyles(executionContext: Object, styleSheet: StyleSheet) {\n    this.removeStyles(styleSheet);\n    this.createStyles(executionContext, styleSheet);\n  }\n}\n","var _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nexports.toString = function(newline) {\n  newline = typeof newline === 'string' ? newline : '\\n';\n  var string = \"\";\n  for (var name in this) {\n    if (typeof this[name] !== 'function' && typeof this[name] !== 'object') {\n      string += name + ': ' + this[name] + newline;\n    }\n  }\n  return string;\n};","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nmodule.exports = ChainShape;\n\nvar common = require('../util/common');\nvar create = require('../util/create');\nvar options = require('../util/options');\nvar Math = require('../common/Math');\nvar Transform = require('../common/Transform');\nvar Rot = require('../common/Rot');\nvar Vec2 = require('../common/Vec2');\nvar AABB = require('../collision/AABB');\nvar Settings = require('../Settings');\nvar Shape = require('../Shape');\nvar EdgeShape = require('./EdgeShape');\n\nChainShape._super = Shape;\nChainShape.prototype = create(ChainShape._super.prototype);\n\nChainShape.TYPE = 'chain';\nShape.TYPES[ChainShape.TYPE] = ChainShape;\n\n/**\n * A chain shape is a free form sequence of line segments. The chain has\n * two-sided collision, so you can use inside and outside collision. Therefore,\n * you may use any winding order. Connectivity information is used to create\n * smooth collisions.\n * \n * WARNING: The chain will not collide properly if there are self-intersections.\n */\nfunction ChainShape(vertices, loop) {\n  if (!(this instanceof ChainShape)) {\n    return new ChainShape(vertices, loop);\n  }\n\n  ChainShape._super.call(this);\n\n  this.m_type = ChainShape.TYPE;\n  this.m_radius = Settings.polygonRadius;\n  this.m_vertices = [];\n  this.m_count = 0;\n  this.m_prevVertex = null;\n  this.m_nextVertex = null;\n  this.m_hasPrevVertex = false;\n  this.m_hasNextVertex = false;\n\n  this.m_isLoop = loop;\n\n  if (vertices && vertices.length) {\n    if (loop) {\n      this._createLoop(vertices);\n    } else {\n      this._createChain(vertices);\n    }\n  }\n}\n\nChainShape.prototype._serialize = function() {\n  return {\n    type: this.m_type,\n\n    vertices: this.m_vertices,\n    isLoop: this.m_isLoop,\n    prevVertex: this.m_prevVertex,\n    nextVertex: this.m_nextVertex,\n    hasPrevVertex: this.m_hasPrevVertex,\n    hasNextVertex: this.m_hasNextVertex,\n  };\n};\n\nChainShape._deserialize = function(data) {\n  var shape = new ChainShape(data.vertices.map(Vec2._deserialize), data.isLoop);\n  return shape;\n};\n\n// ChainShape.clear = function() {\n// this.m_vertices.length = 0;\n// this.m_count = 0;\n// }\n\n/**\n * Create a loop. This automatically adjusts connectivity.\n * \n * @param vertices an array of vertices, these are copied\n * @param count the vertex count\n */\nChainShape.prototype._createLoop = function(vertices) {\n  _ASSERT && common.assert(this.m_vertices.length == 0 && this.m_count == 0);\n  _ASSERT && common.assert(vertices.length >= 3);\n  for (var i = 1; i < vertices.length; ++i) {\n    var v1 = vertices[i - 1];\n    var v2 = vertices[i];\n    // If the code crashes here, it means your vertices are too close together.\n    _ASSERT && common.assert(Vec2.distanceSquared(v1, v2) > Settings.linearSlopSquared);\n  }\n\n  this.m_vertices.length = 0;\n  this.m_count = vertices.length + 1;\n  for (var i = 0; i < vertices.length; ++i) {\n    this.m_vertices[i] = vertices[i].clone();\n  }\n  this.m_vertices[vertices.length] = vertices[0].clone();\n\n  this.m_prevVertex = this.m_vertices[this.m_count - 2];\n  this.m_nextVertex = this.m_vertices[1];\n  this.m_hasPrevVertex = true;\n  this.m_hasNextVertex = true;\n  return this;\n}\n\n/**\n * Create a chain with isolated end vertices.\n * \n * @param vertices an array of vertices, these are copied\n * @param count the vertex count\n */\nChainShape.prototype._createChain = function(vertices) {\n  _ASSERT && common.assert(this.m_vertices.length == 0 && this.m_count == 0);\n  _ASSERT && common.assert(vertices.length >= 2);\n  for (var i = 1; i < vertices.length; ++i) {\n    // If the code crashes here, it means your vertices are too close together.\n    var v1 = vertices[i - 1];\n    var v2 = vertices[i];\n    _ASSERT && common.assert(Vec2.distanceSquared(v1, v2) > Settings.linearSlopSquared);\n  }\n\n  this.m_count = vertices.length;\n  for (var i = 0; i < vertices.length; ++i) {\n    this.m_vertices[i] = vertices[i].clone();\n  }\n\n  this.m_hasPrevVertex = false;\n  this.m_hasNextVertex = false;\n  this.m_prevVertex = null;\n  this.m_nextVertex = null;\n  return this;\n}\n\n/**\n * Establish connectivity to a vertex that precedes the first vertex. Don't call\n * this for loops.\n */\nChainShape.prototype._setPrevVertex = function(prevVertex) {\n  this.m_prevVertex = prevVertex;\n  this.m_hasPrevVertex = true;\n}\n\n/**\n * Establish connectivity to a vertex that follows the last vertex. Don't call\n * this for loops.\n */\nChainShape.prototype._setNextVertex = function(nextVertex) {\n  this.m_nextVertex = nextVertex;\n  this.m_hasNextVertex = true;\n}\n\n/**\n * @deprecated\n */\nChainShape.prototype._clone = function() {\n  var clone = new ChainShape();\n  clone.createChain(this.m_vertices);\n  clone.m_type = this.m_type;\n  clone.m_radius = this.m_radius;\n  clone.m_prevVertex = this.m_prevVertex;\n  clone.m_nextVertex = this.m_nextVertex;\n  clone.m_hasPrevVertex = this.m_hasPrevVertex;\n  clone.m_hasNextVertex = this.m_hasNextVertex;\n  return clone;\n}\n\nChainShape.prototype.getChildCount = function() {\n  // edge count = vertex count - 1\n  return this.m_count - 1;\n}\n\n// Get a child edge.\nChainShape.prototype.getChildEdge = function(edge, childIndex) {\n  _ASSERT && common.assert(0 <= childIndex && childIndex < this.m_count - 1);\n  edge.m_type = EdgeShape.TYPE;\n  edge.m_radius = this.m_radius;\n\n  edge.m_vertex1 = this.m_vertices[childIndex];\n  edge.m_vertex2 = this.m_vertices[childIndex + 1];\n\n  if (childIndex > 0) {\n    edge.m_vertex0 = this.m_vertices[childIndex - 1];\n    edge.m_hasVertex0 = true;\n  } else {\n    edge.m_vertex0 = this.m_prevVertex;\n    edge.m_hasVertex0 = this.m_hasPrevVertex;\n  }\n\n  if (childIndex < this.m_count - 2) {\n    edge.m_vertex3 = this.m_vertices[childIndex + 2];\n    edge.m_hasVertex3 = true;\n  } else {\n    edge.m_vertex3 = this.m_nextVertex;\n    edge.m_hasVertex3 = this.m_hasNextVertex;\n  }\n}\n\nChainShape.prototype.getVertex = function(index) {\n  _ASSERT && common.assert(0 <= index && index <= this.m_count);\n  if (index < this.m_count) {\n    return this.m_vertices[index];\n  } else {\n    return this.m_vertices[0];\n  }\n}\n\n/**\n * This always return false.\n */\nChainShape.prototype.testPoint = function(xf, p) {\n  return false;\n}\n\nChainShape.prototype.rayCast = function(output, input, xf, childIndex) {\n  _ASSERT && common.assert(0 <= childIndex && childIndex < this.m_count);\n\n  var edgeShape = new EdgeShape(this.getVertex(childIndex), this.getVertex(childIndex + 1));\n  return edgeShape.rayCast(output, input, xf, 0);\n}\n\nChainShape.prototype.computeAABB = function(aabb, xf, childIndex) {\n  _ASSERT && common.assert(0 <= childIndex && childIndex < this.m_count);\n\n  var v1 = Transform.mulVec2(xf, this.getVertex(childIndex));\n  var v2 = Transform.mulVec2(xf, this.getVertex(childIndex + 1));\n\n  aabb.combinePoints(v1, v2);\n}\n\n/**\n * Chains have zero mass.\n */\nChainShape.prototype.computeMass = function(massData, density) {\n  massData.mass = 0.0;\n  massData.center = Vec2.neo();\n  massData.I = 0.0;\n}\n\nChainShape.prototype.computeDistanceProxy = function(proxy, childIndex) {\n  _ASSERT && common.assert(0 <= childIndex && childIndex < this.m_count);\n  proxy.m_buffer[0] = this.getVertex(childIndex);\n  proxy.m_buffer[1] = this.getVertex(childIndex + 1);\n  proxy.m_vertices = proxy.m_buffer;\n  proxy.m_count = 2;\n  proxy.m_radius = this.m_radius;\n};","!function(e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e(null):\"function\"==typeof define&&define.amd?define(e(null)):window.stylis=e(null)}(function e(a){\"use strict\";var r=/^\\0+/g,c=/[\\0\\r\\f]/g,s=/: */g,t=/zoo|gra/,i=/([,: ])(transform)/g,f=/,+\\s*(?![^(]*[)])/g,n=/ +\\s*(?![^(]*[)])/g,l=/ *[\\0] */g,o=/,\\r+?/g,h=/([\\t\\r\\n ])*\\f?&/g,u=/:global\\(((?:[^\\(\\)\\[\\]]*|\\[.*\\]|\\([^\\(\\)]*\\))*)\\)/g,d=/\\W+/g,b=/@(k\\w+)\\s*(\\S*)\\s*/,p=/::(place)/g,k=/:(read-only)/g,g=/\\s+(?=[{\\];=:>])/g,A=/([[}=:>])\\s+/g,C=/(\\{[^{]+?);(?=\\})/g,w=/\\s{2,}/g,v=/([^\\(])(:+) */g,m=/[svh]\\w+-[tblr]{2}/,x=/\\(\\s*(.*)\\s*\\)/g,$=/([\\s\\S]*?);/g,y=/-self|flex-/g,O=/[^]*?(:[rp][el]a[\\w-]+)[^]*/,j=/stretch|:\\s*\\w+\\-(?:conte|avail)/,z=/([^-])(image-set\\()/,N=\"-webkit-\",S=\"-moz-\",F=\"-ms-\",W=59,q=125,B=123,D=40,E=41,G=91,H=93,I=10,J=13,K=9,L=64,M=32,P=38,Q=45,R=95,T=42,U=44,V=58,X=39,Y=34,Z=47,_=62,ee=43,ae=126,re=0,ce=12,se=11,te=107,ie=109,fe=115,ne=112,le=111,oe=105,he=99,ue=100,de=112,be=1,pe=1,ke=0,ge=1,Ae=1,Ce=1,we=0,ve=0,me=0,xe=[],$e=[],ye=0,Oe=null,je=-2,ze=-1,Ne=0,Se=1,Fe=2,We=3,qe=0,Be=1,De=\"\",Ee=\"\",Ge=\"\";function He(e,a,s,t,i){for(var f,n,o=0,h=0,u=0,d=0,g=0,A=0,C=0,w=0,m=0,$=0,y=0,O=0,j=0,z=0,R=0,we=0,$e=0,Oe=0,je=0,ze=s.length,Je=ze-1,Re=\"\",Te=\"\",Ue=\"\",Ve=\"\",Xe=\"\",Ye=\"\";R<ze;){if(C=s.charCodeAt(R),R===Je)if(h+d+u+o!==0){if(0!==h)C=h===Z?I:Z;d=u=o=0,ze++,Je++}if(h+d+u+o===0){if(R===Je){if(we>0)Te=Te.replace(c,\"\");if(Te.trim().length>0){switch(C){case M:case K:case W:case J:case I:break;default:Te+=s.charAt(R)}C=W}}if(1===$e)switch(C){case B:case q:case W:case Y:case X:case D:case E:case U:$e=0;case K:case J:case I:case M:break;default:for($e=0,je=R,g=C,R--,C=W;je<ze;)switch(s.charCodeAt(je++)){case I:case J:case W:++R,C=g,je=ze;break;case V:if(we>0)++R,C=g;case B:je=ze}}switch(C){case B:for(g=(Te=Te.trim()).charCodeAt(0),y=1,je=++R;R<ze;){switch(C=s.charCodeAt(R)){case B:y++;break;case q:y--;break;case Z:switch(A=s.charCodeAt(R+1)){case T:case Z:R=Qe(A,R,Je,s)}break;case G:C++;case D:C++;case Y:case X:for(;R++<Je&&s.charCodeAt(R)!==C;);}if(0===y)break;R++}if(Ue=s.substring(je,R),g===re)g=(Te=Te.replace(r,\"\").trim()).charCodeAt(0);switch(g){case L:if(we>0)Te=Te.replace(c,\"\");switch(A=Te.charCodeAt(1)){case ue:case ie:case fe:case Q:f=a;break;default:f=xe}if(je=(Ue=He(a,f,Ue,A,i+1)).length,me>0&&0===je)je=Te.length;if(ye>0)if(f=Ie(xe,Te,Oe),n=Pe(We,Ue,f,a,pe,be,je,A,i,t),Te=f.join(\"\"),void 0!==n)if(0===(je=(Ue=n.trim()).length))A=0,Ue=\"\";if(je>0)switch(A){case fe:Te=Te.replace(x,Me);case ue:case ie:case Q:Ue=Te+\"{\"+Ue+\"}\";break;case te:if(Ue=(Te=Te.replace(b,\"$1 $2\"+(Be>0?De:\"\")))+\"{\"+Ue+\"}\",1===Ae||2===Ae&&Le(\"@\"+Ue,3))Ue=\"@\"+N+Ue+\"@\"+Ue;else Ue=\"@\"+Ue;break;default:if(Ue=Te+Ue,t===de)Ve+=Ue,Ue=\"\"}else Ue=\"\";break;default:Ue=He(a,Ie(a,Te,Oe),Ue,t,i+1)}Xe+=Ue,O=0,$e=0,z=0,we=0,Oe=0,j=0,Te=\"\",Ue=\"\",C=s.charCodeAt(++R);break;case q:case W:if((je=(Te=(we>0?Te.replace(c,\"\"):Te).trim()).length)>1){if(0===z)if((g=Te.charCodeAt(0))===Q||g>96&&g<123)je=(Te=Te.replace(\" \",\":\")).length;if(ye>0)if(void 0!==(n=Pe(Se,Te,a,e,pe,be,Ve.length,t,i,t)))if(0===(je=(Te=n.trim()).length))Te=\"\\0\\0\";switch(g=Te.charCodeAt(0),A=Te.charCodeAt(1),g){case re:break;case L:if(A===oe||A===he){Ye+=Te+s.charAt(R);break}default:if(Te.charCodeAt(je-1)===V)break;Ve+=Ke(Te,g,A,Te.charCodeAt(2))}}O=0,$e=0,z=0,we=0,Oe=0,Te=\"\",C=s.charCodeAt(++R)}}switch(C){case J:case I:if(h+d+u+o+ve===0)switch($){case E:case X:case Y:case L:case ae:case _:case T:case ee:case Z:case Q:case V:case U:case W:case B:case q:break;default:if(z>0)$e=1}if(h===Z)h=0;else if(ge+O===0&&t!==te&&Te.length>0)we=1,Te+=\"\\0\";if(ye*qe>0)Pe(Ne,Te,a,e,pe,be,Ve.length,t,i,t);be=1,pe++;break;case W:case q:if(h+d+u+o===0){be++;break}default:switch(be++,Re=s.charAt(R),C){case K:case M:if(d+o+h===0)switch(w){case U:case V:case K:case M:Re=\"\";break;default:if(C!==M)Re=\" \"}break;case re:Re=\"\\\\0\";break;case ce:Re=\"\\\\f\";break;case se:Re=\"\\\\v\";break;case P:if(d+h+o===0&&ge>0)Oe=1,we=1,Re=\"\\f\"+Re;break;case 108:if(d+h+o+ke===0&&z>0)switch(R-z){case 2:if(w===ne&&s.charCodeAt(R-3)===V)ke=w;case 8:if(m===le)ke=m}break;case V:if(d+h+o===0)z=R;break;case U:if(h+u+d+o===0)we=1,Re+=\"\\r\";break;case Y:case X:if(0===h)d=d===C?0:0===d?C:d;break;case G:if(d+h+u===0)o++;break;case H:if(d+h+u===0)o--;break;case E:if(d+h+o===0)u--;break;case D:if(d+h+o===0){if(0===O)switch(2*w+3*m){case 533:break;default:y=0,O=1}u++}break;case L:if(h+u+d+o+z+j===0)j=1;break;case T:case Z:if(d+o+u>0)break;switch(h){case 0:switch(2*C+3*s.charCodeAt(R+1)){case 235:h=Z;break;case 220:je=R,h=T}break;case T:if(C===Z&&w===T&&je+2!==R){if(33===s.charCodeAt(je+2))Ve+=s.substring(je,R+1);Re=\"\",h=0}}}if(0===h){if(ge+d+o+j===0&&t!==te&&C!==W)switch(C){case U:case ae:case _:case ee:case E:case D:if(0===O){switch(w){case K:case M:case I:case J:Re+=\"\\0\";break;default:Re=\"\\0\"+Re+(C===U?\"\":\"\\0\")}we=1}else switch(C){case D:if(z+7===R&&108===w)z=0;O=++y;break;case E:if(0==(O=--y))we=1,Re+=\"\\0\"}break;case K:case M:switch(w){case re:case B:case q:case W:case U:case ce:case K:case M:case I:case J:break;default:if(0===O)we=1,Re+=\"\\0\"}}if(Te+=Re,C!==M&&C!==K)$=C}}m=w,w=C,R++}if(je=Ve.length,me>0)if(0===je&&0===Xe.length&&0===a[0].length==false)if(t!==ie||1===a.length&&(ge>0?Ee:Ge)===a[0])je=a.join(\",\").length+2;if(je>0){if(f=0===ge&&t!==te?function(e){for(var a,r,s=0,t=e.length,i=Array(t);s<t;++s){for(var f=e[s].split(l),n=\"\",o=0,h=0,u=0,d=0,b=f.length;o<b;++o){if(0===(h=(r=f[o]).length)&&b>1)continue;if(u=n.charCodeAt(n.length-1),d=r.charCodeAt(0),a=\"\",0!==o)switch(u){case T:case ae:case _:case ee:case M:case D:break;default:a=\" \"}switch(d){case P:r=a+Ee;case ae:case _:case ee:case M:case E:case D:break;case G:r=a+r+Ee;break;case V:switch(2*r.charCodeAt(1)+3*r.charCodeAt(2)){case 530:if(Ce>0){r=a+r.substring(8,h-1);break}default:if(o<1||f[o-1].length<1)r=a+Ee+r}break;case U:a=\"\";default:if(h>1&&r.indexOf(\":\")>0)r=a+r.replace(v,\"$1\"+Ee+\"$2\");else r=a+r+Ee}n+=r}i[s]=n.replace(c,\"\").trim()}return i}(a):a,ye>0)if(void 0!==(n=Pe(Fe,Ve,f,e,pe,be,je,t,i,t))&&0===(Ve=n).length)return Ye+Ve+Xe;if(Ve=f.join(\",\")+\"{\"+Ve+\"}\",Ae*ke!=0){if(2===Ae&&!Le(Ve,2))ke=0;switch(ke){case le:Ve=Ve.replace(k,\":\"+S+\"$1\")+Ve;break;case ne:Ve=Ve.replace(p,\"::\"+N+\"input-$1\")+Ve.replace(p,\"::\"+S+\"$1\")+Ve.replace(p,\":\"+F+\"input-$1\")+Ve}ke=0}}return Ye+Ve+Xe}function Ie(e,a,r){var c=a.trim().split(o),s=c,t=c.length,i=e.length;switch(i){case 0:case 1:for(var f=0,n=0===i?\"\":e[0]+\" \";f<t;++f)s[f]=Je(n,s[f],r,i).trim();break;default:f=0;var l=0;for(s=[];f<t;++f)for(var h=0;h<i;++h)s[l++]=Je(e[h]+\" \",c[f],r,i).trim()}return s}function Je(e,a,r,c){var s=a,t=s.charCodeAt(0);if(t<33)t=(s=s.trim()).charCodeAt(0);switch(t){case P:switch(ge+c){case 0:case 1:if(0===e.trim().length)break;default:return s.replace(h,\"$1\"+e.trim())}break;case V:switch(s.charCodeAt(1)){case 103:if(Ce>0&&ge>0)return s.replace(u,\"$1\").replace(h,\"$1\"+Ge);break;default:return e.trim()+s.replace(h,\"$1\"+e.trim())}default:if(r*ge>0&&s.indexOf(\"\\f\")>0)return s.replace(h,(e.charCodeAt(0)===V?\"\":\"$1\")+e.trim())}return e+s}function Ke(e,a,r,c){var l,o=0,h=e+\";\",u=2*a+3*r+4*c;if(944===u)return function(e){var a=e.length,r=e.indexOf(\":\",9)+1,c=e.substring(0,r).trim(),s=e.substring(r,a-1).trim();switch(e.charCodeAt(9)*Be){case 0:break;case Q:if(110!==e.charCodeAt(10))break;default:for(var t=s.split((s=\"\",f)),i=0,r=0,a=t.length;i<a;r=0,++i){for(var l=t[i],o=l.split(n);l=o[r];){var h=l.charCodeAt(0);if(1===Be&&(h>L&&h<90||h>96&&h<123||h===R||h===Q&&l.charCodeAt(1)!==Q))switch(isNaN(parseFloat(l))+(-1!==l.indexOf(\"(\"))){case 1:switch(l){case\"infinite\":case\"alternate\":case\"backwards\":case\"running\":case\"normal\":case\"forwards\":case\"both\":case\"none\":case\"linear\":case\"ease\":case\"ease-in\":case\"ease-out\":case\"ease-in-out\":case\"paused\":case\"reverse\":case\"alternate-reverse\":case\"inherit\":case\"initial\":case\"unset\":case\"step-start\":case\"step-end\":break;default:l+=De}}o[r++]=l}s+=(0===i?\"\":\",\")+o.join(\" \")}}if(s=c+s+\";\",1===Ae||2===Ae&&Le(s,1))return N+s+s;return s}(h);else if(0===Ae||2===Ae&&!Le(h,1))return h;switch(u){case 1015:return 97===h.charCodeAt(10)?N+h+h:h;case 951:return 116===h.charCodeAt(3)?N+h+h:h;case 963:return 110===h.charCodeAt(5)?N+h+h:h;case 1009:if(100!==h.charCodeAt(4))break;case 969:case 942:return N+h+h;case 978:return N+h+S+h+h;case 1019:case 983:return N+h+S+h+F+h+h;case 883:if(h.charCodeAt(8)===Q)return N+h+h;if(h.indexOf(\"image-set(\",11)>0)return h.replace(z,\"$1\"+N+\"$2\")+h;return h;case 932:if(h.charCodeAt(4)===Q)switch(h.charCodeAt(5)){case 103:return N+\"box-\"+h.replace(\"-grow\",\"\")+N+h+F+h.replace(\"grow\",\"positive\")+h;case 115:return N+h+F+h.replace(\"shrink\",\"negative\")+h;case 98:return N+h+F+h.replace(\"basis\",\"preferred-size\")+h}return N+h+F+h+h;case 964:return N+h+F+\"flex-\"+h+h;case 1023:if(99!==h.charCodeAt(8))break;return l=h.substring(h.indexOf(\":\",15)).replace(\"flex-\",\"\").replace(\"space-between\",\"justify\"),N+\"box-pack\"+l+N+h+F+\"flex-pack\"+l+h;case 1005:return t.test(h)?h.replace(s,\":\"+N)+h.replace(s,\":\"+S)+h:h;case 1e3:switch(o=(l=h.substring(13).trim()).indexOf(\"-\")+1,l.charCodeAt(0)+l.charCodeAt(o)){case 226:l=h.replace(m,\"tb\");break;case 232:l=h.replace(m,\"tb-rl\");break;case 220:l=h.replace(m,\"lr\");break;default:return h}return N+h+F+l+h;case 1017:if(-1===h.indexOf(\"sticky\",9))return h;case 975:switch(o=(h=e).length-10,u=(l=(33===h.charCodeAt(o)?h.substring(0,o):h).substring(e.indexOf(\":\",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(l.charCodeAt(8)<111)break;case 115:h=h.replace(l,N+l)+\";\"+h;break;case 207:case 102:h=h.replace(l,N+(u>102?\"inline-\":\"\")+\"box\")+\";\"+h.replace(l,N+l)+\";\"+h.replace(l,F+l+\"box\")+\";\"+h}return h+\";\";case 938:if(h.charCodeAt(5)===Q)switch(h.charCodeAt(6)){case 105:return l=h.replace(\"-items\",\"\"),N+h+N+\"box-\"+l+F+\"flex-\"+l+h;case 115:return N+h+F+\"flex-item-\"+h.replace(y,\"\")+h;default:return N+h+F+\"flex-line-pack\"+h.replace(\"align-content\",\"\").replace(y,\"\")+h}break;case 973:case 989:if(h.charCodeAt(3)!==Q||122===h.charCodeAt(4))break;case 931:case 953:if(true===j.test(e))if(115===(l=e.substring(e.indexOf(\":\")+1)).charCodeAt(0))return Ke(e.replace(\"stretch\",\"fill-available\"),a,r,c).replace(\":fill-available\",\":stretch\");else return h.replace(l,N+l)+h.replace(l,S+l.replace(\"fill-\",\"\"))+h;break;case 962:if(h=N+h+(102===h.charCodeAt(5)?F+h:\"\")+h,r+c===211&&105===h.charCodeAt(13)&&h.indexOf(\"transform\",10)>0)return h.substring(0,h.indexOf(\";\",27)+1).replace(i,\"$1\"+N+\"$2\")+h}return h}function Le(e,a){var r=e.indexOf(1===a?\":\":\"{\"),c=e.substring(0,3!==a?r:10),s=e.substring(r+1,e.length-1);return Oe(2!==a?c:c.replace(O,\"$1\"),s,a)}function Me(e,a){var r=Ke(a,a.charCodeAt(0),a.charCodeAt(1),a.charCodeAt(2));return r!==a+\";\"?r.replace($,\" or ($1)\").substring(4):\"(\"+a+\")\"}function Pe(e,a,r,c,s,t,i,f,n,l){for(var o,h=0,u=a;h<ye;++h)switch(o=$e[h].call(Te,e,u,r,c,s,t,i,f,n,l)){case void 0:case false:case true:case null:break;default:u=o}if(u!==a)return u}function Qe(e,a,r,c){for(var s=a+1;s<r;++s)switch(c.charCodeAt(s)){case Z:if(e===T)if(c.charCodeAt(s-1)===T&&a+2!==s)return s+1;break;case I:if(e===Z)return s+1}return s}function Re(e){for(var a in e){var r=e[a];switch(a){case\"keyframe\":Be=0|r;break;case\"global\":Ce=0|r;break;case\"cascade\":ge=0|r;break;case\"compress\":we=0|r;break;case\"semicolon\":ve=0|r;break;case\"preserve\":me=0|r;break;case\"prefix\":if(Oe=null,!r)Ae=0;else if(\"function\"!=typeof r)Ae=1;else Ae=2,Oe=r}}return Re}function Te(a,r){if(void 0!==this&&this.constructor===Te)return e(a);var s=a,t=s.charCodeAt(0);if(t<33)t=(s=s.trim()).charCodeAt(0);if(Be>0)De=s.replace(d,t===G?\"\":\"-\");if(t=1,1===ge)Ge=s;else Ee=s;var i,f=[Ge];if(ye>0)if(void 0!==(i=Pe(ze,r,f,f,pe,be,0,0,0,0))&&\"string\"==typeof i)r=i;var n=He(xe,f,r,0,0);if(ye>0)if(void 0!==(i=Pe(je,n,f,f,pe,be,n.length,0,0,0))&&\"string\"!=typeof(n=i))t=0;return De=\"\",Ge=\"\",Ee=\"\",ke=0,pe=1,be=1,we*t==0?n:n.replace(c,\"\").replace(g,\"\").replace(A,\"$1\").replace(C,\"$1\").replace(w,\" \")}if(Te.use=function e(a){switch(a){case void 0:case null:ye=$e.length=0;break;default:if(\"function\"==typeof a)$e[ye++]=a;else if(\"object\"==typeof a)for(var r=0,c=a.length;r<c;++r)e(a[r]);else qe=0|!!a}return e},Te.set=Re,void 0!==a)Re(a);return Te});\n//# sourceMappingURL=stylis.min.js.map","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","function areInputsEqual(newInputs, lastInputs) {\n    if (newInputs.length !== lastInputs.length) {\n        return false;\n    }\n    for (var i = 0; i < newInputs.length; i++) {\n        if (newInputs[i] !== lastInputs[i]) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction memoizeOne(resultFn, isEqual) {\n    if (isEqual === void 0) { isEqual = areInputsEqual; }\n    var lastThis;\n    var lastArgs = [];\n    var lastResult;\n    var calledOnce = false;\n    function memoized() {\n        var newArgs = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            newArgs[_i] = arguments[_i];\n        }\n        if (calledOnce && lastThis === this && isEqual(newArgs, lastArgs)) {\n            return lastResult;\n        }\n        lastResult = resultFn.apply(this, newArgs);\n        calledOnce = true;\n        lastThis = this;\n        lastArgs = newArgs;\n        return lastResult;\n    }\n    return memoized;\n}\n\nexport default memoizeOne;\n","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nmodule.exports = World;\n\nvar options = require('./util/options');\nvar common = require('./util/common');\nvar Vec2 = require('./common/Vec2');\nvar BroadPhase = require('./collision/BroadPhase');\nvar Solver = require('./Solver');\nvar Body = require('./Body');\nvar Joint = require('./Joint');\nvar Contact = require('./Contact');\n\n/**\n * @typedef {Object} WorldDef\n *\n * @prop {Vec2} [gravity = { x : 0, y : 0}]\n * @prop {boolean} [allowSleep = true]\n * @prop {boolean} [warmStarting = false]\n * @prop {boolean} [continuousPhysics = false]\n * @prop {boolean} [subStepping = false]\n * @prop {boolean} [blockSolve = true]\n * @prop {int} [velocityIterations = 8] For the velocity constraint solver.\n * @prop {int} [positionIterations = 3] For the position constraint solver.\n */\nvar WorldDef = {\n  gravity : Vec2.zero(),\n  allowSleep : true,\n  warmStarting : true,\n  continuousPhysics : true,\n  subStepping : false,\n  blockSolve : true,\n  velocityIterations : 8,\n  positionIterations : 3\n};\n\n/**\n * @param {WordDef|Vec2} def World definition or gravity vector.\n */\nfunction World(def) {\n  if (!(this instanceof World)) {\n    return new World(def);\n  }\n\n  if (def && Vec2.isValid(def)) {\n    def = {gravity : def};\n  }\n\n  def = options(def, WorldDef);\n\n  this.m_solver = new Solver(this);\n\n  this.m_broadPhase = new BroadPhase();\n\n  this.m_contactList = null;\n  this.m_contactCount = 0;\n\n  this.m_bodyList = null;\n  this.m_bodyCount = 0;\n\n  this.m_jointList = null;\n  this.m_jointCount = 0;\n\n  this.m_stepComplete = true;\n\n  this.m_allowSleep = def.allowSleep;\n  this.m_gravity = Vec2.clone(def.gravity);\n\n  this.m_clearForces = true;\n  this.m_newFixture = false;\n  this.m_locked = false;\n\n  // These are for debugging the solver.\n  this.m_warmStarting = def.warmStarting;\n  this.m_continuousPhysics = def.continuousPhysics;\n  this.m_subStepping = def.subStepping;\n\n  this.m_blockSolve = def.blockSolve;\n  this.m_velocityIterations = def.velocityIterations;\n  this.m_positionIterations = def.positionIterations;\n\n  this.m_t = 0;\n\n  this.m_stepCount = 0;\n\n  // Broad-phase callback.\n  this.addPair = this.createContact.bind(this);\n}\n\nWorld.prototype._serialize = function() {\n  var bodies = [];\n  var joints = [];\n\n  for (var b = this.getBodyList(); b; b = b.getNext()) {\n    bodies.push(b);\n  }\n\n  for (var j = this.getJointList(); j; j = j.getNext()) {\n    if (typeof j._serialize === 'function') {\n      joints.push(j);\n    }\n  }\n\n  return {\n    gravity: this.m_gravity,\n    bodies: bodies,\n    joints: joints,\n  };\n};\n\nWorld._deserialize = function(data, context, restore) {\n  if (!data) {\n    return new World();\n  }\n\n  var world = new World(data.gravity);\n\n  data.bodies && data.bodies.reverse().forEach(function(data) {\n    world._addBody(restore(Body, data, world));\n  });\n\n  data.joints && data.joints.reverse().forEach(function(data) {\n    world.createJoint(restore(Joint, data, world));\n  });\n\n  return world;\n};\n\n/**\n * Get the world body list. With the returned body, use Body.getNext to get the\n * next body in the world list. A null body indicates the end of the list.\n *\n * @return the head of the world body list.\n */\nWorld.prototype.getBodyList = function() {\n  return this.m_bodyList;\n}\n\n/**\n * Get the world joint list. With the returned joint, use Joint.getNext to get\n * the next joint in the world list. A null joint indicates the end of the list.\n *\n * @return the head of the world joint list.\n */\nWorld.prototype.getJointList = function() {\n  return this.m_jointList;\n}\n\n/**\n * Get the world contact list. With the returned contact, use Contact.getNext to\n * get the next contact in the world list. A null contact indicates the end of\n * the list.\n *\n * @return the head of the world contact list. Warning: contacts are created and\n *         destroyed in the middle of a time step. Use ContactListener to avoid\n *         missing contacts.\n */\nWorld.prototype.getContactList = function() {\n  return this.m_contactList;\n}\n\nWorld.prototype.getBodyCount = function() {\n  return this.m_bodyCount;\n}\n\nWorld.prototype.getJointCount = function() {\n  return this.m_jointCount;\n}\n\n/**\n * Get the number of contacts (each may have 0 or more contact points).\n */\nWorld.prototype.getContactCount = function() {\n  return this.m_contactCount;\n}\n\n/**\n * Change the global gravity vector.\n */\nWorld.prototype.setGravity = function(gravity) {\n  this.m_gravity = gravity;\n}\n\n/**\n * Get the global gravity vector.\n */\nWorld.prototype.getGravity = function() {\n  return this.m_gravity;\n}\n\n/**\n * Is the world locked (in the middle of a time step).\n */\nWorld.prototype.isLocked = function() {\n  return this.m_locked;\n}\n\n/**\n * Enable/disable sleep.\n */\nWorld.prototype.setAllowSleeping = function(flag) {\n  if (flag == this.m_allowSleep) {\n    return;\n  }\n\n  this.m_allowSleep = flag;\n  if (this.m_allowSleep == false) {\n    for (var b = this.m_bodyList; b; b = b.m_next) {\n      b.setAwake(true);\n    }\n  }\n}\n\nWorld.prototype.getAllowSleeping = function() {\n  return this.m_allowSleep;\n}\n\n/**\n * Enable/disable warm starting. For testing.\n */\nWorld.prototype.setWarmStarting = function(flag) {\n  this.m_warmStarting = flag;\n}\n\nWorld.prototype.getWarmStarting = function() {\n  return this.m_warmStarting;\n}\n\n/**\n * Enable/disable continuous physics. For testing.\n */\nWorld.prototype.setContinuousPhysics = function(flag) {\n  this.m_continuousPhysics = flag;\n}\n\nWorld.prototype.getContinuousPhysics = function() {\n  return this.m_continuousPhysics;\n}\n\n/**\n * Enable/disable single stepped continuous physics. For testing.\n */\nWorld.prototype.setSubStepping = function(flag) {\n  this.m_subStepping = flag;\n}\n\nWorld.prototype.getSubStepping = function() {\n  return this.m_subStepping;\n}\n\n/**\n * Set flag to control automatic clearing of forces after each time step.\n */\nWorld.prototype.setAutoClearForces = function(flag) {\n  this.m_clearForces = flag;\n}\n\n/**\n * Get the flag that controls automatic clearing of forces after each time step.\n */\nWorld.prototype.getAutoClearForces = function() {\n  return this.m_clearForces;\n}\n\n/**\n * Manually clear the force buffer on all bodies. By default, forces are cleared\n * automatically after each call to step. The default behavior is modified by\n * calling setAutoClearForces. The purpose of this function is to support\n * sub-stepping. Sub-stepping is often used to maintain a fixed sized time step\n * under a variable frame-rate. When you perform sub-stepping you will disable\n * auto clearing of forces and instead call clearForces after all sub-steps are\n * complete in one pass of your game loop.\n *\n * @see setAutoClearForces\n */\nWorld.prototype.clearForces = function() {\n  for (var body = this.m_bodyList; body; body = body.getNext()) {\n    body.m_force.setZero();\n    body.m_torque = 0.0;\n  }\n}\n\n/**\n * @function World~rayCastCallback\n *\n * @param fixture\n */\n\n/**\n * Query the world for all fixtures that potentially overlap the provided AABB.\n *\n * @param {World~queryCallback} queryCallback Called for each fixture\n *          found in the query AABB. It may return `false` to terminate the\n *          query.\n *\n * @param aabb The query box.\n */\nWorld.prototype.queryAABB = function(aabb, queryCallback) {\n  _ASSERT && common.assert(typeof queryCallback === 'function');\n  var broadPhase = this.m_broadPhase;\n  this.m_broadPhase.query(aabb, function(proxyId) { //TODO GC\n    var proxy = broadPhase.getUserData(proxyId); // FixtureProxy\n    return queryCallback(proxy.fixture);\n  });\n}\n\n/**\n * @function World~rayCastCallback\n *\n * Callback class for ray casts. See World.rayCast\n *\n * Called for each fixture found in the query. You control how the ray cast\n * proceeds by returning a float: return -1: ignore this fixture and continue\n * return 0: terminate the ray cast return fraction: clip the ray to this point\n * return 1: don't clip the ray and continue\n *\n * @param fixture The fixture hit by the ray\n * @param point The point of initial intersection\n * @param normal The normal vector at the point of intersection\n * @param fraction\n *\n * @return {float} -1 to filter, 0 to terminate, fraction to clip the ray for\n *         closest hit, 1 to continue\n */\n\n/**\n *\n * Ray-cast the world for all fixtures in the path of the ray. Your callback\n * controls whether you get the closest point, any point, or n-points. The\n * ray-cast ignores shapes that contain the starting point.\n *\n * @param {World~RayCastCallback} reportFixtureCallback A user implemented\n *          callback function.\n * @param point1 The ray starting point\n * @param point2 The ray ending point\n */\nWorld.prototype.rayCast = function(point1, point2, reportFixtureCallback) {\n  _ASSERT && common.assert(typeof reportFixtureCallback === 'function');\n  var broadPhase = this.m_broadPhase;\n\n  this.m_broadPhase.rayCast({\n    maxFraction : 1.0,\n    p1 : point1,\n    p2 : point2\n  }, function(input, proxyId) { // TODO GC\n    var proxy = broadPhase.getUserData(proxyId); // FixtureProxy\n    var fixture = proxy.fixture;\n    var index = proxy.childIndex;\n    var output = {}; // TODO GC\n    var hit = fixture.rayCast(output, input, index);\n    if (hit) {\n      var fraction = output.fraction;\n      var point = Vec2.add(Vec2.mul((1.0 - fraction), input.p1), Vec2.mul(fraction, input.p2));\n      return reportFixtureCallback(fixture, point, output.normal, fraction);\n    }\n    return input.maxFraction;\n  });\n}\n\n/**\n * Get the number of broad-phase proxies.\n */\nWorld.prototype.getProxyCount = function() {\n  return this.m_broadPhase.getProxyCount();\n}\n\n/**\n * Get the height of broad-phase dynamic tree.\n */\nWorld.prototype.getTreeHeight = function() {\n  return this.m_broadPhase.getTreeHeight();\n}\n\n/**\n * Get the balance of broad-phase dynamic tree.\n *\n * @returns {int}\n */\nWorld.prototype.getTreeBalance = function() {\n  return this.m_broadPhase.getTreeBalance();\n}\n\n/**\n * Get the quality metric of broad-phase dynamic tree. The smaller the better.\n * The minimum is 1.\n *\n * @returns {float}\n */\nWorld.prototype.getTreeQuality = function() {\n  return this.m_broadPhase.getTreeQuality();\n}\n\n/**\n * Shift the world origin. Useful for large worlds. The body shift formula is:\n * position -= newOrigin\n *\n * @param {Vec2} newOrigin The new origin with respect to the old origin\n */\nWorld.prototype.shiftOrigin = function(newOrigin) {\n  _ASSERT && common.assert(this.m_locked == false);\n  if (this.m_locked) {\n    return;\n  }\n\n  for (var b = this.m_bodyList; b; b = b.m_next) {\n    b.m_xf.p.sub(newOrigin);\n    b.m_sweep.c0.sub(newOrigin);\n    b.m_sweep.c.sub(newOrigin);\n  }\n\n  for (var j = this.m_jointList; j; j = j.m_next) {\n    j.shiftOrigin(newOrigin);\n  }\n\n  this.m_broadPhase.shiftOrigin(newOrigin);\n}\n\n/**\n * Warning: This function is locked during callbacks.\n *\n * @param {Body} body\n */\nWorld.prototype._addBody = function(body) {\n  _ASSERT && common.assert(this.isLocked() === false);\n  if (this.isLocked()) {\n    return;\n  }\n\n  // Add to world doubly linked list.\n  body.m_prev = null;\n  body.m_next = this.m_bodyList;\n  if (this.m_bodyList) {\n    this.m_bodyList.m_prev = body;\n  }\n  this.m_bodyList = body;\n  ++this.m_bodyCount;\n}\n\n/**\n * Create a rigid body given a definition. No reference to the definition is\n * retained.\n *\n * Warning: This function is locked during callbacks.\n *\n * @param {BodyDef|Vec2} def Body definition or position.\n * @param {float} angle Body angle if def is position.\n */\nWorld.prototype.createBody = function(def, angle) {\n  _ASSERT && common.assert(this.isLocked() == false);\n  if (this.isLocked()) {\n    return null;\n  }\n\n  if (def && Vec2.isValid(def)) {\n    def = {\n      position : def,\n      angle : angle\n    };\n  }\n\n  var body = new Body(this, def);\n\n  this._addBody(body);\n\n  return body;\n}\n\nWorld.prototype.createDynamicBody = function(def, angle) {\n  if (!def) {\n    def = {};\n  } else if (Vec2.isValid(def)) {\n    def = { position : def, angle : angle };\n  }\n  def.type = 'dynamic';\n  return this.createBody(def);\n}\n\nWorld.prototype.createKinematicBody = function(def, angle) {\n  if (!def) {\n    def = {};\n  } else if (Vec2.isValid(def)) {\n    def = { position : def, angle : angle };\n  }\n  def.type = 'kinematic';\n  return this.createBody(def);\n}\n\n/**\n * Destroy a rigid body given a definition. No reference to the definition is\n * retained.\n *\n * Warning: This automatically deletes all associated shapes and joints.\n *\n * Warning: This function is locked during callbacks.\n *\n * @param {Body} b\n */\nWorld.prototype.destroyBody = function(b) {\n  _ASSERT && common.assert(this.m_bodyCount > 0);\n  _ASSERT && common.assert(this.isLocked() == false);\n  if (this.isLocked()) {\n    return;\n  }\n\n  if (b.m_destroyed) {\n    return false;\n  }\n\n  // Delete the attached joints.\n  var je = b.m_jointList;\n  while (je) {\n    var je0 = je;\n    je = je.next;\n\n    this.publish('remove-joint', je0.joint);\n    this.destroyJoint(je0.joint);\n\n    b.m_jointList = je;\n  }\n  b.m_jointList = null;\n\n  // Delete the attached contacts.\n  var ce = b.m_contactList;\n  while (ce) {\n    var ce0 = ce;\n    ce = ce.next;\n\n    this.destroyContact(ce0.contact);\n\n    b.m_contactList = ce;\n  }\n  b.m_contactList = null;\n\n  // Delete the attached fixtures. This destroys broad-phase proxies.\n  var f = b.m_fixtureList;\n  while (f) {\n    var f0 = f;\n    f = f.m_next;\n\n    this.publish('remove-fixture', f0);\n    f0.destroyProxies(this.m_broadPhase);\n\n    b.m_fixtureList = f;\n  }\n  b.m_fixtureList = null;\n\n  // Remove world body list.\n  if (b.m_prev) {\n    b.m_prev.m_next = b.m_next;\n  }\n\n  if (b.m_next) {\n    b.m_next.m_prev = b.m_prev;\n  }\n\n  if (b == this.m_bodyList) {\n    this.m_bodyList = b.m_next;\n  }\n\n  b.m_destroyed = true;\n\n  --this.m_bodyCount;\n\n  this.publish('remove-body', b);\n\n  return true;\n}\n\n/**\n * Create a joint to constrain bodies together. No reference to the definition\n * is retained. This may cause the connected bodies to cease colliding.\n *\n * Warning: This function is locked during callbacks.\n *\n * @param {Joint} join\n * @param {Body} bodyB\n * @param {Body} bodyA\n */\nWorld.prototype.createJoint = function(joint) {\n  _ASSERT && common.assert(!!joint.m_bodyA);\n  _ASSERT && common.assert(!!joint.m_bodyB);\n  _ASSERT && common.assert(this.isLocked() == false);\n  if (this.isLocked()) {\n    return null;\n  }\n\n  // Connect to the world list.\n  joint.m_prev = null;\n  joint.m_next = this.m_jointList;\n  if (this.m_jointList) {\n    this.m_jointList.m_prev = joint;\n  }\n  this.m_jointList = joint;\n  ++this.m_jointCount;\n\n  // Connect to the bodies' doubly linked lists.\n  joint.m_edgeA.joint = joint;\n  joint.m_edgeA.other = joint.m_bodyB;\n  joint.m_edgeA.prev = null;\n  joint.m_edgeA.next = joint.m_bodyA.m_jointList;\n  if (joint.m_bodyA.m_jointList)\n    joint.m_bodyA.m_jointList.prev = joint.m_edgeA;\n  joint.m_bodyA.m_jointList = joint.m_edgeA;\n\n  joint.m_edgeB.joint = joint;\n  joint.m_edgeB.other = joint.m_bodyA;\n  joint.m_edgeB.prev = null;\n  joint.m_edgeB.next = joint.m_bodyB.m_jointList;\n  if (joint.m_bodyB.m_jointList)\n    joint.m_bodyB.m_jointList.prev = joint.m_edgeB;\n  joint.m_bodyB.m_jointList = joint.m_edgeB;\n\n  // If the joint prevents collisions, then flag any contacts for filtering.\n  if (joint.m_collideConnected == false) {\n    for (var edge = joint.m_bodyB.getContactList(); edge; edge = edge.next) {\n      if (edge.other == joint.m_bodyA) {\n        // Flag the contact for filtering at the next time step (where either\n        // body is awake).\n        edge.contact.flagForFiltering();\n      }\n    }\n  }\n\n  // Note: creating a joint doesn't wake the bodies.\n\n  return joint;\n}\n\n/**\n * Destroy a joint. This may cause the connected bodies to begin colliding.\n * Warning: This function is locked during callbacks.\n *\n * @param {Joint} join\n */\nWorld.prototype.destroyJoint = function(joint) {\n  _ASSERT && common.assert(this.isLocked() == false);\n  if (this.isLocked()) {\n    return;\n  }\n\n  // Remove from the doubly linked list.\n  if (joint.m_prev) {\n    joint.m_prev.m_next = joint.m_next;\n  }\n\n  if (joint.m_next) {\n    joint.m_next.m_prev = joint.m_prev;\n  }\n\n  if (joint == this.m_jointList) {\n    this.m_jointList = joint.m_next;\n  }\n\n  // Disconnect from bodies.\n  var bodyA = joint.m_bodyA;\n  var bodyB = joint.m_bodyB;\n\n  // Wake up connected bodies.\n  bodyA.setAwake(true);\n  bodyB.setAwake(true);\n\n  // Remove from body 1.\n  if (joint.m_edgeA.prev) {\n    joint.m_edgeA.prev.next = joint.m_edgeA.next;\n  }\n\n  if (joint.m_edgeA.next) {\n    joint.m_edgeA.next.prev = joint.m_edgeA.prev;\n  }\n\n  if (joint.m_edgeA == bodyA.m_jointList) {\n    bodyA.m_jointList = joint.m_edgeA.next;\n  }\n\n  joint.m_edgeA.prev = null;\n  joint.m_edgeA.next = null;\n\n  // Remove from body 2\n  if (joint.m_edgeB.prev) {\n    joint.m_edgeB.prev.next = joint.m_edgeB.next;\n  }\n\n  if (joint.m_edgeB.next) {\n    joint.m_edgeB.next.prev = joint.m_edgeB.prev;\n  }\n\n  if (joint.m_edgeB == bodyB.m_jointList) {\n    bodyB.m_jointList = joint.m_edgeB.next;\n  }\n\n  joint.m_edgeB.prev = null;\n  joint.m_edgeB.next = null;\n\n  _ASSERT && common.assert(this.m_jointCount > 0);\n  --this.m_jointCount;\n\n  // If the joint prevents collisions, then flag any contacts for filtering.\n  if (joint.m_collideConnected == false) {\n    var edge = bodyB.getContactList();\n    while (edge) {\n      if (edge.other == bodyA) {\n        // Flag the contact for filtering at the next time step (where either\n        // body is awake).\n        edge.contact.flagForFiltering();\n      }\n\n      edge = edge.next;\n    }\n  }\n\n  this.publish('remove-joint', joint);\n}\n\nvar s_step = new Solver.TimeStep(); // reuse\n\n/**\n * Take a time step. This performs collision detection, integration, and\n * constraint solution.\n *\n * Broad-phase, narrow-phase, solve and solve time of impacts.\n *\n * @param {float} timeStep Time step, this should not vary.\n * @param {int} velocityIterations\n * @param {int} positionIterations\n */\nWorld.prototype.step = function(timeStep, velocityIterations, positionIterations) {\n\n  if ((velocityIterations | 0) !== velocityIterations) {\n    // TODO: remove this in future\n    velocityIterations = 0;\n  }\n\n  velocityIterations = velocityIterations || this.m_velocityIterations;\n  positionIterations = positionIterations || this.m_positionIterations;\n\n  // TODO: move this to testbed\n  this.m_stepCount++;\n\n  // If new fixtures were added, we need to find the new contacts.\n  if (this.m_newFixture) {\n    this.findNewContacts();\n    this.m_newFixture = false;\n  }\n\n  this.m_locked = true;\n\n  s_step.reset(timeStep);\n  s_step.velocityIterations = velocityIterations;\n  s_step.positionIterations = positionIterations;\n  s_step.warmStarting = this.m_warmStarting;\n  s_step.blockSolve = this.m_blockSolve;\n\n  // Update contacts. This is where some contacts are destroyed.\n  this.updateContacts();\n\n  // Integrate velocities, solve velocity constraints, and integrate positions.\n  if (this.m_stepComplete && timeStep > 0.0) {\n    this.m_solver.solveWorld(s_step);\n\n    // Synchronize fixtures, check for out of range bodies.\n    for (var b = this.m_bodyList; b; b = b.getNext()) {\n      // If a body was not in an island then it did not move.\n      if (b.m_islandFlag == false) {\n        continue;\n      }\n\n      if (b.isStatic()) {\n        continue;\n      }\n\n      // Update fixtures (for broad-phase).\n      b.synchronizeFixtures();\n    }\n    // Look for new contacts.\n    this.findNewContacts();\n  }\n\n  // Handle TOI events.\n  if (this.m_continuousPhysics && timeStep > 0.0) {\n    this.m_solver.solveWorldTOI(s_step);\n  }\n\n  if (this.m_clearForces) {\n    this.clearForces();\n  }\n\n  this.m_locked = false;\n}\n\n/**\n * Call this method to find new contacts.\n */\nWorld.prototype.findNewContacts = function() {\n  this.m_broadPhase.updatePairs(this.addPair);\n}\n\n/**\n * @private\n *\n * @param {FixtureProxy} proxyA\n * @param {FixtureProxy} proxyB\n */\nWorld.prototype.createContact = function(proxyA, proxyB) {\n  var fixtureA = proxyA.fixture;\n  var fixtureB = proxyB.fixture;\n\n  var indexA = proxyA.childIndex;\n  var indexB = proxyB.childIndex;\n\n  var bodyA = fixtureA.getBody();\n  var bodyB = fixtureB.getBody();\n\n  // Are the fixtures on the same body?\n  if (bodyA == bodyB) {\n    return;\n  }\n\n  // TODO_ERIN use a hash table to remove a potential bottleneck when both\n  // bodies have a lot of contacts.\n  // Does a contact already exist?\n  var edge = bodyB.getContactList(); // ContactEdge\n  while (edge) {\n    if (edge.other == bodyA) {\n      var fA = edge.contact.getFixtureA();\n      var fB = edge.contact.getFixtureB();\n      var iA = edge.contact.getChildIndexA();\n      var iB = edge.contact.getChildIndexB();\n\n      if (fA == fixtureA && fB == fixtureB && iA == indexA && iB == indexB) {\n        // A contact already exists.\n        return;\n      }\n\n      if (fA == fixtureB && fB == fixtureA && iA == indexB && iB == indexA) {\n        // A contact already exists.\n        return;\n      }\n    }\n\n    edge = edge.next;\n  }\n\n  if (bodyB.shouldCollide(bodyA) == false) {\n    return;\n  }\n  if (fixtureB.shouldCollide(fixtureA) == false) {\n    return;\n  }\n\n  // Call the factory.\n  var contact = Contact.create(fixtureA, indexA, fixtureB, indexB);\n  if (contact == null) {\n    return;\n  }\n\n  // Insert into the world.\n  contact.m_prev = null;\n  if (this.m_contactList != null) {\n    contact.m_next = this.m_contactList;\n    this.m_contactList.m_prev = contact;\n  }\n  this.m_contactList = contact;\n\n  ++this.m_contactCount;\n}\n\n/**\n * Removes old non-overlapping contacts, applies filters and updates contacts.\n */\nWorld.prototype.updateContacts = function() {\n  // Update awake contacts.\n  var c, next_c = this.m_contactList;\n  while (c = next_c) {\n    next_c = c.getNext()\n    var fixtureA = c.getFixtureA();\n    var fixtureB = c.getFixtureB();\n    var indexA = c.getChildIndexA();\n    var indexB = c.getChildIndexB();\n    var bodyA = fixtureA.getBody();\n    var bodyB = fixtureB.getBody();\n\n    // Is this contact flagged for filtering?\n    if (c.m_filterFlag) {\n      if (bodyB.shouldCollide(bodyA) == false) {\n        this.destroyContact(c);\n        continue;\n      }\n\n      if (fixtureB.shouldCollide(fixtureA) == false) {\n        this.destroyContact(c);\n        continue;\n      }\n\n      // Clear the filtering flag.\n      c.m_filterFlag = false;\n    }\n\n    var activeA = bodyA.isAwake() && !bodyA.isStatic();\n    var activeB = bodyB.isAwake() && !bodyB.isStatic();\n\n    // At least one body must be awake and it must be dynamic or kinematic.\n    if (activeA == false && activeB == false) {\n      continue;\n    }\n\n    var proxyIdA = fixtureA.m_proxies[indexA].proxyId;\n    var proxyIdB = fixtureB.m_proxies[indexB].proxyId;\n    var overlap = this.m_broadPhase.testOverlap(proxyIdA, proxyIdB);\n\n    // Here we destroy contacts that cease to overlap in the broad-phase.\n    if (overlap == false) {\n      this.destroyContact(c);\n      continue;\n    }\n\n    // The contact persists.\n    c.update(this);\n  }\n}\n\n/**\n * @param {Contact} contact\n */\nWorld.prototype.destroyContact = function(contact) {\n  Contact.destroy(contact, this);\n\n  // Remove from the world.\n  if (contact.m_prev) {\n    contact.m_prev.m_next = contact.m_next;\n  }\n  if (contact.m_next) {\n    contact.m_next.m_prev = contact.m_prev;\n  }\n  if (contact == this.m_contactList) {\n    this.m_contactList = contact.m_next;\n  }\n\n  --this.m_contactCount;\n}\n\nWorld.prototype._listeners = null;\n\n/**\n * Register an event listener.\n *\n * @param {string} name\n * @param {function} listener\n */\nWorld.prototype.on = function(name, listener) {\n  if (typeof name !== 'string' || typeof listener !== 'function') {\n    return this;\n  }\n  if (!this._listeners) {\n    this._listeners = {};\n  }\n  if (!this._listeners[name]) {\n    this._listeners[name] = [];\n  }\n  this._listeners[name].push(listener);\n  return this;\n};\n\n/**\n * Remove an event listener.\n *\n * @param {string} name\n * @param {function} listener\n */\nWorld.prototype.off = function(name, listener) {\n  if (typeof name !== 'string' || typeof listener !== 'function') {\n    return this;\n  }\n  var listeners = this._listeners && this._listeners[name];\n  if (!listeners || !listeners.length) {\n    return this;\n  }\n  var index = listeners.indexOf(listener);\n  if (index >= 0) {\n    listeners.splice(index, 1);\n  }\n  return this;\n};\n\nWorld.prototype.publish = function(name, arg1, arg2, arg3) {\n  var listeners = this._listeners && this._listeners[name];\n  if (!listeners || !listeners.length) {\n    return 0;\n  }\n  for (var l = 0; l < listeners.length; l++) {\n    listeners[l].call(this, arg1, arg2, arg3);\n  }\n  return listeners.length;\n};\n\n/**\n * @event World#remove-body\n * @event World#remove-joint\n * @event World#remove-fixture\n *\n * Joints and fixtures are destroyed when their associated body is destroyed.\n * Register a destruction listener so that you may nullify references to these\n * joints and shapes.\n *\n * `function(object)` is called when any joint or fixture is about to\n * be destroyed due to the destruction of one of its attached or parent bodies.\n */\n\n/**\n * @private\n * @param {Contact} contact\n */\nWorld.prototype.beginContact = function(contact) {\n  this.publish('begin-contact', contact);\n};\n\n/**\n * @event World#begin-contact\n *\n * Called when two fixtures begin to touch.\n *\n * Implement contact callbacks to get contact information. You can use these\n * results for things like sounds and game logic. You can also get contact\n * results by traversing the contact lists after the time step. However, you\n * might miss some contacts because continuous physics leads to sub-stepping.\n * Additionally you may receive multiple callbacks for the same contact in a\n * single time step. You should strive to make your callbacks efficient because\n * there may be many callbacks per time step.\n *\n * Warning: You cannot create/destroy world entities inside these callbacks.\n */\n\n/**\n * @private\n * @param {Contact} contact\n */\nWorld.prototype.endContact = function(contact) {\n  this.publish('end-contact', contact);\n};\n\n/**\n * @event World#end-contact\n *\n * Called when two fixtures cease to touch.\n *\n * Implement contact callbacks to get contact information. You can use these\n * results for things like sounds and game logic. You can also get contact\n * results by traversing the contact lists after the time step. However, you\n * might miss some contacts because continuous physics leads to sub-stepping.\n * Additionally you may receive multiple callbacks for the same contact in a\n * single time step. You should strive to make your callbacks efficient because\n * there may be many callbacks per time step.\n *\n * Warning: You cannot create/destroy world entities inside these callbacks.\n */\n\n/**\n * @private\n * @param {Contact} contact\n * @param {Manifold} oldManifold\n */\nWorld.prototype.preSolve = function(contact, oldManifold) {\n  this.publish('pre-solve', contact, oldManifold);\n};\n\n/**\n * @event World#pre-solve\n *\n * This is called after a contact is updated. This allows you to inspect a\n * contact before it goes to the solver. If you are careful, you can modify the\n * contact manifold (e.g. disable contact). A copy of the old manifold is\n * provided so that you can detect changes. Note: this is called only for awake\n * bodies. Note: this is called even when the number of contact points is zero.\n * Note: this is not called for sensors. Note: if you set the number of contact\n * points to zero, you will not get an endContact callback. However, you may get\n * a beginContact callback the next step.\n *\n * Warning: You cannot create/destroy world entities inside these callbacks.\n */\n\n/**\n * @private\n * @param {Contact} contact\n * @param {ContactImpulse} impulse\n */\nWorld.prototype.postSolve = function(contact, impulse) {\n  this.publish('post-solve', contact, impulse);\n};\n\n/**\n * @event World#post-solve\n *\n * This lets you inspect a contact after the solver is finished. This is useful\n * for inspecting impulses. Note: the contact manifold does not include time of\n * impact impulses, which can be arbitrarily large if the sub-step is small.\n * Hence the impulse is provided explicitly in a separate data structure. Note:\n * this is only called for contacts that are touching, solid, and awake.\n *\n * Warning: You cannot create/destroy world entities inside these callbacks.\n */\n\n/**\n * Register a contact filter to provide specific control over collision.\n * Otherwise the default filter is used (defaultFilter). The listener is owned\n * by you and must remain in scope.\n *\n * Moved to Fixture.\n */\n","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nvar Settings = require('../Settings');\nvar common = require('../util/common');\nvar Pool = require('../util/Pool');\nvar Vec2 = require('../common/Vec2');\nvar Math = require('../common/Math');\nvar AABB = require('./AABB');\n\nmodule.exports = DynamicTree;\n\n/**\n * A node in the dynamic tree. The client does not interact with this directly.\n * \n * @prop {AABB} aabb Enlarged AABB\n * @prop {integer} height 0: leaf, -1: free node\n */\nfunction TreeNode(id) {\n  this.id = id;\n  this.aabb = new AABB();\n  this.userData = null;\n  this.parent = null;\n  this.child1 = null;\n  this.child2 = null;\n  this.height = -1;\n\n  this.toString = function() {\n    return this.id + \": \" + this.userData;\n  }\n};\n\nTreeNode.prototype.isLeaf = function() {\n  return this.child1 == null;\n}\n/**\n * A dynamic AABB tree broad-phase, inspired by Nathanael Presson's btDbvt. A\n * dynamic tree arranges data in a binary tree to accelerate queries such as\n * volume queries and ray casts. Leafs are proxies with an AABB. In the tree we\n * expand the proxy AABB by `aabbExtension` so that the proxy AABB is bigger\n * than the client object. This allows the client object to move by small\n * amounts without triggering a tree update.\n * \n * Nodes are pooled and relocatable, so we use node indices rather than\n * pointers.\n */\nfunction DynamicTree() {\n  this.m_root = null;\n  this.m_nodes = {}\n  this.m_lastProxyId = 0;\n\n  this.m_pool = new Pool({\n    create : function() {\n      return new TreeNode();\n    }\n  });\n};\n\n/**\n * Get proxy user data.\n * \n * @return the proxy user data or 0 if the id is invalid.\n */\nDynamicTree.prototype.getUserData = function(id) {\n  var node = this.m_nodes[id];\n  _ASSERT && common.assert(!!node);\n  return node.userData;\n}\n\n/**\n * Get the fat AABB for a node id.\n * \n * @return the proxy user data or 0 if the id is invalid.\n */\nDynamicTree.prototype.getFatAABB = function(id) {\n  var node = this.m_nodes[id];\n  _ASSERT && common.assert(!!node);\n  return node.aabb;\n}\n\nDynamicTree.prototype.allocateNode = function() {\n  var node = this.m_pool.allocate();\n  node.id = ++this.m_lastProxyId;\n  node.userData = null;\n  node.parent = null;\n  node.child1 = null;\n  node.child2 = null;\n  node.height = -1;\n  this.m_nodes[node.id] = node;\n  return node;\n}\n\nDynamicTree.prototype.freeNode = function(node) {\n  this.m_pool.release(node);\n  node.height = -1;\n  delete this.m_nodes[node.id];\n}\n\n/**\n * Create a proxy in the tree as a leaf node. We return the index of the node\n * instead of a pointer so that we can grow the node pool.\n * \n * Create a proxy. Provide a tight fitting AABB and a userData pointer.\n */\nDynamicTree.prototype.createProxy = function(aabb, userData) {\n  _ASSERT && common.assert(AABB.isValid(aabb))\n\n  var node = this.allocateNode()\n\n  node.aabb.set(aabb);\n\n  // Fatten the aabb.\n  AABB.extend(node.aabb, Settings.aabbExtension);\n\n  node.userData = userData;\n  node.height = 0;\n\n  this.insertLeaf(node);\n\n  return node.id;\n}\n\n/**\n * Destroy a proxy. This asserts if the id is invalid.\n */\nDynamicTree.prototype.destroyProxy = function(id) {\n  var node = this.m_nodes[id];\n\n  _ASSERT && common.assert(!!node);\n  _ASSERT && common.assert(node.isLeaf());\n\n  this.removeLeaf(node);\n  this.freeNode(node);\n}\n\n/**\n * Move a proxy with a swepted AABB. If the proxy has moved outside of its\n * fattened AABB, then the proxy is removed from the tree and re-inserted.\n * Otherwise the function returns immediately.\n * \n * @param id\n * @param aabb\n * @param {Vec2} d Displacement\n * \n * @return true if the proxy was re-inserted.\n */\nDynamicTree.prototype.moveProxy = function(id, aabb, d) {\n  _ASSERT && common.assert(AABB.isValid(aabb));\n  _ASSERT && common.assert(!d || Vec2.isValid(d));\n\n  var node = this.m_nodes[id];\n\n  _ASSERT && common.assert(!!node);\n  _ASSERT && common.assert(node.isLeaf());\n\n  if (node.aabb.contains(aabb)) {\n    return false;\n  }\n\n  this.removeLeaf(node);\n\n  node.aabb.set(aabb)\n\n  // Extend AABB.\n  aabb = node.aabb;\n  AABB.extend(aabb, Settings.aabbExtension);\n\n  // Predict AABB displacement.\n  // var d = Vec2.mul(Settings.aabbMultiplier, displacement);\n\n  if (d.x < 0.0) {\n    aabb.lowerBound.x += d.x * Settings.aabbMultiplier;\n  } else {\n    aabb.upperBound.x += d.x * Settings.aabbMultiplier;\n  }\n\n  if (d.y < 0.0) {\n    aabb.lowerBound.y += d.y * Settings.aabbMultiplier;\n  } else {\n    aabb.upperBound.y += d.y * Settings.aabbMultiplier;\n  }\n\n  this.insertLeaf(node);\n\n  return true;\n}\n\nDynamicTree.prototype.insertLeaf = function(leaf) {\n  _ASSERT && common.assert(AABB.isValid(leaf.aabb));\n\n  if (this.m_root == null) {\n    this.m_root = leaf;\n    this.m_root.parent = null;\n    return;\n  }\n\n  // Find the best sibling for this node\n  var leafAABB = leaf.aabb;\n  var index = this.m_root;\n  while (index.isLeaf() == false) {\n    var child1 = index.child1;\n    var child2 = index.child2;\n\n    var area = index.aabb.getPerimeter();\n\n    var combinedAABB = new AABB();\n    combinedAABB.combine(index.aabb, leafAABB);\n    var combinedArea = combinedAABB.getPerimeter();\n\n    // Cost of creating a new parent for this node and the new leaf\n    var cost = 2.0 * combinedArea;\n\n    // Minimum cost of pushing the leaf further down the tree\n    var inheritanceCost = 2.0 * (combinedArea - area);\n\n    // Cost of descending into child1\n    var cost1;\n    if (child1.isLeaf()) {\n      var aabb = new AABB();\n      aabb.combine(leafAABB, child1.aabb);\n      cost1 = aabb.getPerimeter() + inheritanceCost;\n    } else {\n      var aabb = new AABB();\n      aabb.combine(leafAABB, child1.aabb);\n      var oldArea = child1.aabb.getPerimeter();\n      var newArea = aabb.getPerimeter();\n      cost1 = (newArea - oldArea) + inheritanceCost;\n    }\n\n    // Cost of descending into child2\n    var cost2;\n    if (child2.isLeaf()) {\n      var aabb = new AABB();\n      aabb.combine(leafAABB, child2.aabb);\n      cost2 = aabb.getPerimeter() + inheritanceCost;\n    } else {\n      var aabb = new AABB();\n      aabb.combine(leafAABB, child2.aabb);\n      var oldArea = child2.aabb.getPerimeter();\n      var newArea = aabb.getPerimeter();\n      cost2 = newArea - oldArea + inheritanceCost;\n    }\n\n    // Descend according to the minimum cost.\n    if (cost < cost1 && cost < cost2) {\n      break;\n    }\n\n    // Descend\n    if (cost1 < cost2) {\n      index = child1;\n    } else {\n      index = child2;\n    }\n  }\n\n  var sibling = index;\n\n  // Create a new parent.\n  var oldParent = sibling.parent;\n  var newParent = this.allocateNode();\n  newParent.parent = oldParent;\n  newParent.userData = null;\n  newParent.aabb.combine(leafAABB, sibling.aabb);\n  newParent.height = sibling.height + 1;\n\n  if (oldParent != null) {\n    // The sibling was not the root.\n    if (oldParent.child1 == sibling) {\n      oldParent.child1 = newParent;\n    } else {\n      oldParent.child2 = newParent;\n    }\n\n    newParent.child1 = sibling;\n    newParent.child2 = leaf;\n    sibling.parent = newParent;\n    leaf.parent = newParent;\n  } else {\n    // The sibling was the root.\n    newParent.child1 = sibling;\n    newParent.child2 = leaf;\n    sibling.parent = newParent;\n    leaf.parent = newParent;\n    this.m_root = newParent;\n  }\n\n  // Walk back up the tree fixing heights and AABBs\n  index = leaf.parent;\n  while (index != null) {\n    index = this.balance(index);\n\n    var child1 = index.child1;\n    var child2 = index.child2;\n\n    _ASSERT && common.assert(child1 != null);\n    _ASSERT && common.assert(child2 != null);\n\n    index.height = 1 + Math.max(child1.height, child2.height);\n    index.aabb.combine(child1.aabb, child2.aabb);\n\n    index = index.parent;\n  }\n\n  // validate();\n}\n\nDynamicTree.prototype.removeLeaf = function(leaf) {\n  if (leaf == this.m_root) {\n    this.m_root = null;\n    return;\n  }\n\n  var parent = leaf.parent;\n  var grandParent = parent.parent;\n  var sibling;\n  if (parent.child1 == leaf) {\n    sibling = parent.child2;\n  } else {\n    sibling = parent.child1;\n  }\n\n  if (grandParent != null) {\n    // Destroy parent and connect sibling to grandParent.\n    if (grandParent.child1 == parent) {\n      grandParent.child1 = sibling;\n    } else {\n      grandParent.child2 = sibling;\n    }\n    sibling.parent = grandParent;\n    this.freeNode(parent);\n\n    // Adjust ancestor bounds.\n    var index = grandParent;\n    while (index != null) {\n      index = this.balance(index);\n\n      var child1 = index.child1;\n      var child2 = index.child2;\n\n      index.aabb.combine(child1.aabb, child2.aabb);\n      index.height = 1 + Math.max(child1.height, child2.height);\n\n      index = index.parent;\n    }\n  } else {\n    this.m_root = sibling;\n    sibling.parent = null;\n    this.freeNode(parent);\n  }\n\n  // validate();\n}\n\n/**\n * Perform a left or right rotation if node A is imbalanced. Returns the new\n * root index.\n */\nDynamicTree.prototype.balance = function(iA) {\n  _ASSERT && common.assert(iA != null);\n\n  var A = iA;\n  if (A.isLeaf() || A.height < 2) {\n    return iA;\n  }\n\n  var B = A.child1;\n  var C = A.child2;\n\n  var balance = C.height - B.height;\n\n  // Rotate C up\n  if (balance > 1) {\n    var F = C.child1;\n    var G = C.child2;\n\n    // Swap A and C\n    C.child1 = A;\n    C.parent = A.parent;\n    A.parent = C;\n\n    // A's old parent should point to C\n    if (C.parent != null) {\n      if (C.parent.child1 == iA) {\n        C.parent.child1 = C;\n      } else {\n        C.parent.child2 = C;\n      }\n    } else {\n      this.m_root = C;\n    }\n\n    // Rotate\n    if (F.height > G.height) {\n      C.child2 = F;\n      A.child2 = G;\n      G.parent = A;\n      A.aabb.combine(B.aabb, G.aabb);\n      C.aabb.combine(A.aabb, F.aabb);\n\n      A.height = 1 + Math.max(B.height, G.height);\n      C.height = 1 + Math.max(A.height, F.height);\n    } else {\n      C.child2 = G;\n      A.child2 = F;\n      F.parent = A;\n      A.aabb.combine(B.aabb, F.aabb);\n      C.aabb.combine(A.aabb, G.aabb);\n\n      A.height = 1 + Math.max(B.height, F.height);\n      C.height = 1 + Math.max(A.height, G.height);\n    }\n\n    return C;\n  }\n\n  // Rotate B up\n  if (balance < -1) {\n    var D = B.child1;\n    var E = B.child2;\n\n    // Swap A and B\n    B.child1 = A;\n    B.parent = A.parent;\n    A.parent = B;\n\n    // A's old parent should point to B\n    if (B.parent != null) {\n      if (B.parent.child1 == A) {\n        B.parent.child1 = B;\n      } else {\n        B.parent.child2 = B;\n      }\n    } else {\n      this.m_root = B;\n    }\n\n    // Rotate\n    if (D.height > E.height) {\n      B.child2 = D;\n      A.child1 = E;\n      E.parent = A;\n      A.aabb.combine(C.aabb, E.aabb);\n      B.aabb.combine(A.aabb, D.aabb);\n\n      A.height = 1 + Math.max(C.height, E.height);\n      B.height = 1 + Math.max(A.height, D.height);\n    } else {\n      B.child2 = E;\n      A.child1 = D;\n      D.parent = A;\n      A.aabb.combine(C.aabb, D.aabb);\n      B.aabb.combine(A.aabb, E.aabb);\n\n      A.height = 1 + Math.max(C.height, D.height);\n      B.height = 1 + Math.max(A.height, E.height);\n    }\n\n    return B;\n  }\n\n  return A;\n}\n\n/**\n * Compute the height of the binary tree in O(N) time. Should not be called\n * often.\n */\nDynamicTree.prototype.getHeight = function() {\n  if (this.m_root == null) {\n    return 0;\n  }\n\n  return this.m_root.height;\n}\n\n/**\n * Get the ratio of the sum of the node areas to the root area.\n */\nDynamicTree.prototype.getAreaRatio = function() {\n  if (this.m_root == null) {\n    return 0.0;\n  }\n\n  var root = this.m_root;\n  var rootArea = root.aabb.getPerimeter();\n\n  var totalArea = 0.0;\n  var node, it = iteratorPool.allocate().preorder();\n  while (node = it.next()) {\n    if (node.height < 0) {\n      // Free node in pool\n      continue;\n    }\n\n    totalArea += node.aabb.getPerimeter();\n  }\n\n  iteratorPool.release(it);\n\n  return totalArea / rootArea;\n}\n\n/**\n * Compute the height of a sub-tree.\n */\nDynamicTree.prototype.computeHeight = function(id) {\n  var node;\n  if (typeof id !== 'undefined') {\n    node = this.m_nodes[id];\n  } else {\n    node = this.m_root;\n  }\n\n  // _ASSERT && common.assert(0 <= id && id < this.m_nodeCapacity);\n\n  if (node.isLeaf()) {\n    return 0;\n  }\n\n  var height1 = ComputeHeight(node.child1);\n  var height2 = ComputeHeight(node.child2);\n  return 1 + Math.max(height1, height2);\n}\n\nDynamicTree.prototype.validateStructure = function(node) {\n  if (node == null) {\n    return;\n  }\n\n  if (node == this.m_root) {\n    _ASSERT && common.assert(node.parent == null);\n  }\n\n  var child1 = node.child1;\n  var child2 = node.child2;\n\n  if (node.isLeaf()) {\n    _ASSERT && common.assert(child1 == null);\n    _ASSERT && common.assert(child2 == null);\n    _ASSERT && common.assert(node.height == 0);\n    return;\n  }\n\n  // _ASSERT && common.assert(0 <= child1 && child1 < this.m_nodeCapacity);\n  // _ASSERT && common.assert(0 <= child2 && child2 < this.m_nodeCapacity);\n\n  _ASSERT && common.assert(child1.parent == node);\n  _ASSERT && common.assert(child2.parent == node);\n\n  this.validateStructure(child1);\n  this.validateStructure(child2);\n}\n\nDynamicTree.prototype.validateMetrics = function(node) {\n  if (node == null) {\n    return;\n  }\n\n  var child1 = node.child1;\n  var child2 = node.child2;\n\n  if (node.isLeaf()) {\n    _ASSERT && common.assert(child1 == null);\n    _ASSERT && common.assert(child2 == null);\n    _ASSERT && common.assert(node.height == 0);\n    return;\n  }\n\n  // _ASSERT && common.assert(0 <= child1 && child1 < this.m_nodeCapacity);\n  // _ASSERT && common.assert(0 <= child2 && child2 < this.m_nodeCapacity);\n\n  var height1 = this.m_nodes[child1].height;\n  var height2 = this.m_nodes[child2].height;\n  var height = 1 + Math.max(height1, height2);\n  _ASSERT && common.assert(node.height == height);\n\n  var aabb = new AABB();\n  aabb.combine(child1.aabb, child2.aabb);\n\n  _ASSERT && common.assert(AABB.areEqual(aabb, node.aabb));\n\n  this.validateMetrics(child1);\n  this.validateMetrics(child2);\n}\n\n// Validate this tree. For testing.\nDynamicTree.prototype.validate = function() {\n  ValidateStructure(this.m_root);\n  ValidateMetrics(this.m_root);\n\n  _ASSERT && common.assert(this.getHeight() == this.computeHeight());\n}\n\n/**\n * Get the maximum balance of an node in the tree. The balance is the difference\n * in height of the two children of a node.\n */\nDynamicTree.prototype.getMaxBalance = function() {\n  var maxBalance = 0;\n  var node, it = iteratorPool.allocate().preorder();\n  while (node = it.next()) {\n    if (node.height <= 1) {\n      continue;\n    }\n\n    _ASSERT && common.assert(node.isLeaf() == false);\n\n    var balance = Math.abs(node.child2.height - node.child1.height);\n    maxBalance = Math.max(maxBalance, balance);\n  }\n  iteratorPool.release(it);\n\n  return maxBalance;\n}\n\n/**\n * Build an optimal tree. Very expensive. For testing.\n */\nDynamicTree.prototype.rebuildBottomUp = function() {\n  var nodes = [];\n  var count = 0;\n\n  // Build array of leaves. Free the rest.\n  var node, it = iteratorPool.allocate().preorder();\n  while (node = it.next()) {\n    if (node.height < 0) {\n      // free node in pool\n      continue;\n    }\n\n    if (node.isLeaf()) {\n      node.parent = null;\n      nodes[count] = node;\n      ++count;\n    } else {\n      this.freeNode(node);\n    }\n  }\n  iteratorPool.release(it);\n\n  while (count > 1) {\n    var minCost = Infinity;\n    var iMin = -1, jMin = -1;\n    for (var i = 0; i < count; ++i) {\n      var aabbi = nodes[i].aabb;\n      for (var j = i + 1; j < count; ++j) {\n        var aabbj = nodes[j].aabb;\n        var b = new AABB();\n        b.combine(aabbi, aabbj);\n        var cost = b.getPerimeter();\n        if (cost < minCost) {\n          iMin = i;\n          jMin = j;\n          minCost = cost;\n        }\n      }\n    }\n\n    var child1 = nodes[iMin];\n    var child2 = nodes[jMin];\n\n    var parent = this.allocateNode();\n    parent.child1 = child1;\n    parent.child2 = child2;\n    parent.height = 1 + Math.max(child1.height, child2.height);\n    parent.aabb.combine(child1.aabb, child2.aabb);\n    parent.parent = null;\n\n    child1.parent = parent;\n    child2.parent = parent;\n\n    nodes[jMin] = nodes[count - 1];\n    nodes[iMin] = parent;\n    --count;\n  }\n\n  this.m_root = nodes[0];\n\n  this.validate();\n}\n\n/**\n * Shift the world origin. Useful for large worlds. The shift formula is:\n * position -= newOrigin\n * \n * @param newOrigin The new origin with respect to the old origin\n */\nDynamicTree.prototype.shiftOrigin = function(newOrigin) {\n  // Build array of leaves. Free the rest.\n  var node, it = iteratorPool.allocate().preorder();\n  while (node = it.next()) {\n    var aabb = node.aabb;\n    aabb.lowerBound.x -= newOrigin.x;\n    aabb.lowerBound.y -= newOrigin.y;\n    aabb.upperBound.x -= newOrigin.x;\n    aabb.upperBound.y -= newOrigin.y;\n  }\n  iteratorPool.release(it);\n}\n\n/**\n * @function {DynamicTree~queryCallback}\n * \n * @param id Node id.\n */\n\n/**\n * Query an AABB for overlapping proxies. The callback class is called for each\n * proxy that overlaps the supplied AABB.\n * \n * @param {DynamicTree~queryCallback} queryCallback\n */\nDynamicTree.prototype.query = function(aabb, queryCallback) {\n  _ASSERT && common.assert(typeof queryCallback === 'function')\n  var stack = stackPool.allocate();\n\n  stack.push(this.m_root);\n  while (stack.length > 0) {\n    var node = stack.pop();\n    if (node == null) {\n      continue;\n    }\n\n    if (AABB.testOverlap(node.aabb, aabb)) {\n      if (node.isLeaf()) {\n        var proceed = queryCallback(node.id);\n        if (proceed == false) {\n          return;\n        }\n      } else {\n        stack.push(node.child1);\n        stack.push(node.child2);\n      }\n    }\n  }\n\n  stackPool.release(stack);\n}\n\n/**\n * Ray-cast against the proxies in the tree. This relies on the callback to\n * perform a exact ray-cast in the case were the proxy contains a shape. The\n * callback also performs the any collision filtering. This has performance\n * roughly equal to k * log(n), where k is the number of collisions and n is the\n * number of proxies in the tree.\n * \n * @param input The ray-cast input data. The ray extends from p1 to p1 +\n *          maxFraction * (p2 - p1).\n * @param rayCastCallback A function that is called for each proxy that is hit by\n *          the ray.\n */\nDynamicTree.prototype.rayCast = function(input, rayCastCallback) { // TODO GC\n  _ASSERT && common.assert(typeof rayCastCallback === 'function')\n  var p1 = input.p1;\n  var p2 = input.p2;\n  var r = Vec2.sub(p2, p1);\n  _ASSERT && common.assert(r.lengthSquared() > 0.0);\n  r.normalize();\n\n  // v is perpendicular to the segment.\n  var v = Vec2.cross(1.0, r);\n  var abs_v = Vec2.abs(v);\n\n  // Separating axis for segment (Gino, p80).\n  // |dot(v, p1 - c)| > dot(|v|, h)\n\n  var maxFraction = input.maxFraction;\n\n  // Build a bounding box for the segment.\n  var segmentAABB = new AABB();\n  var t = Vec2.combine((1 - maxFraction), p1, maxFraction, p2);\n  segmentAABB.combinePoints(p1, t);\n\n  var stack = stackPool.allocate();\n  var subInput = inputPool.allocate();\n\n  stack.push(this.m_root);\n  while (stack.length > 0) {\n    var node = stack.pop();\n    if (node == null) {\n      continue;\n    }\n\n    if (AABB.testOverlap(node.aabb, segmentAABB) == false) {\n      continue;\n    }\n\n    // Separating axis for segment (Gino, p80).\n    // |dot(v, p1 - c)| > dot(|v|, h)\n    var c = node.aabb.getCenter();\n    var h = node.aabb.getExtents();\n    var separation = Math.abs(Vec2.dot(v, Vec2.sub(p1, c)))\n        - Vec2.dot(abs_v, h);\n    if (separation > 0.0) {\n      continue;\n    }\n\n    if (node.isLeaf()) {\n      subInput.p1 = Vec2.clone(input.p1);\n      subInput.p2 = Vec2.clone(input.p2);\n      subInput.maxFraction = maxFraction;\n\n      var value = rayCastCallback(subInput, node.id);\n\n      if (value == 0.0) {\n        // The client has terminated the ray cast.\n        return;\n      }\n\n      if (value > 0.0) {\n        // update segment bounding box.\n        maxFraction = value;\n        t = Vec2.combine((1 - maxFraction), p1, maxFraction, p2);\n        segmentAABB.combinePoints(p1, t);\n      }\n    } else {\n      stack.push(node.child1);\n      stack.push(node.child2);\n    }\n  }\n\n  stackPool.release(stack);\n  inputPool.release(subInput);\n}\n\nvar inputPool = new Pool({\n  create : function() {\n    return {};\n  },\n  release : function(stack) {\n  }\n});\n\nvar stackPool = new Pool({\n  create : function() {\n    return [];\n  },\n  release : function(stack) {\n    stack.length = 0;\n  }\n});\n\nvar iteratorPool = new Pool({\n  create : function() {\n    return new Iterator();\n  },\n  release : function(iterator) {\n    iterator.close();\n  }\n});\n\nfunction Iterator() {\n  var parents = [];\n  var states = [];\n  return {\n    preorder : function(root) {\n      parents.length = 0;\n      parents.push(root);\n      states.length = 0;\n      states.push(0);\n      return this;\n    },\n    next : function() {\n      while (parents.length > 0) {\n        var i = parents.length - 1;\n        var node = parents[i];\n        if (states[i] === 0) {\n          states[i] = 1;\n          return node;\n        }\n        if (states[i] === 1) {\n          states[i] = 2;\n          if (node.child1) {\n            parents.push(node.child1);\n            states.push(1);\n            return node.child1;\n          }\n        }\n        if (states[i] === 2) {\n          states[i] = 3;\n          if (node.child2) {\n            parents.push(node.child2);\n            states.push(1);\n            return node.child2;\n          }\n        }\n        parents.pop();\n        states.pop();\n      }\n    },\n    close : function() {\n      parents.length = 0;\n    }\n  };\n}\n","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nmodule.exports = Fixture;\n\nvar common = require('./util/common');\nvar options = require('./util/options');\n\nvar Math = require('./common/Math');\nvar Vec2 = require('./common/Vec2');\n\nvar AABB = require('./collision/AABB');\n\nvar Shape = require('./Shape');\n\n/**\n * @typedef {Object} FixtureDef\n *\n * A fixture definition is used to create a fixture. This class defines an\n * abstract fixture definition. You can reuse fixture definitions safely.\n * \n * @prop friction The friction coefficient, usually in the range [0,1]\n * @prop restitution The restitution (elasticity) usually in the range [0,1]\n * @prop density The density, usually in kg/m^2\n * @prop isSensor A sensor shape collects contact information but never\n *       generates a collision response\n * @prop userData\n * @prop filterGroupIndex Zero, positive or negative collision group. Fixtures with same positive groupIndex always collide and fixtures with same\n * negative groupIndex never collide.\n * @prop filterCategoryBits Collision category bit or bits that this fixture belongs\n *       to. If groupIndex is zero or not matching, then at least one bit in this fixture\n * categoryBits should match other fixture maskBits and vice versa.\n * @prop filterMaskBits Collision category bit or bits that this fixture accept for\n *       collision.\n */\nvar FixtureDef = {\n  userData : null,\n  friction : 0.2,\n  restitution : 0.0,\n  density : 0.0,\n  isSensor : false,\n\n  filterGroupIndex : 0,\n  filterCategoryBits : 0x0001,\n  filterMaskBits : 0xFFFF\n};\n\n/**\n * This proxy is used internally to connect shape children to the broad-phase.\n */\nfunction FixtureProxy(fixture, childIndex) {\n  this.aabb = new AABB();\n  this.fixture = fixture;\n  this.childIndex = childIndex;\n  this.proxyId;\n};\n\n/**\n * A fixture is used to attach a shape to a body for collision detection. A\n * fixture inherits its transform from its parent. Fixtures hold additional\n * non-geometric data such as friction, collision filters, etc. Fixtures are\n * created via Body.createFixture.\n * \n * @param {Body} body\n * @param {Shape|FixtureDef} shape Shape of fixture definition.\n * @param {FixtureDef|number} def Fixture definition or number.\n */\nfunction Fixture(body, shape, def) {\n  if (shape.shape) {\n    def = shape;\n    shape = shape.shape;\n\n  } else if (typeof def === 'number') {\n    def = {density : def};\n  }\n\n  def = options(def, FixtureDef);\n\n  this.m_body = body;\n\n  this.m_friction = def.friction;\n  this.m_restitution = def.restitution;\n  this.m_density = def.density;\n  this.m_isSensor = def.isSensor;\n\n  this.m_filterGroupIndex = def.filterGroupIndex;\n  this.m_filterCategoryBits = def.filterCategoryBits;\n  this.m_filterMaskBits = def.filterMaskBits;\n\n  // TODO validate shape\n  this.m_shape = shape; //.clone();\n\n  this.m_next = null;\n\n  this.m_proxies = [];\n  this.m_proxyCount = 0;\n\n  var childCount = this.m_shape.getChildCount();\n  for (var i = 0; i < childCount; ++i) {\n    this.m_proxies[i] = new FixtureProxy(this, i);\n  }\n\n  this.m_userData = def.userData;\n};\n\n/**\n * Re-setup fixture.\n * @private\n */\nFixture.prototype._reset = function() {\n  var body = this.getBody();\n  var broadPhase = body.m_world.m_broadPhase;\n  this.destroyProxies(broadPhase);\n  if (this.m_shape._reset) {\n    this.m_shape._reset();\n  }\n  var childCount = this.m_shape.getChildCount();\n  for (var i = 0; i < childCount; ++i) {\n    this.m_proxies[i] = new FixtureProxy(this, i);\n  }\n  this.createProxies(broadPhase, body.m_xf);\n  body.resetMassData();\n};\n\nFixture.prototype._serialize = function() {\n  return {\n    friction: this.m_friction,\n    restitution: this.m_restitution,\n    density: this.m_density,\n    isSensor: this.m_isSensor,\n\n    filterGroupIndex: this.m_filterGroupIndex,\n    filterCategoryBits: this.m_filterCategoryBits,\n    filterMaskBits: this.m_filterMaskBits,\n\n    shape: this.m_shape,\n  };\n};\n\nFixture._deserialize = function(data, body, restore) {\n  var shape = restore(Shape, data.shape);\n  var fixture = shape && new Fixture(body, shape, data);\n  return fixture;\n};\n\n/**\n * Get the type of the child shape. You can use this to down cast to the\n * concrete shape.\n */\nFixture.prototype.getType = function() {\n  return this.m_shape.getType();\n}\n\n/**\n * Get the child shape. You can modify the child shape, however you should not\n * change the number of vertices because this will crash some collision caching\n * mechanisms. Manipulating the shape may lead to non-physical behavior.\n */\nFixture.prototype.getShape = function() {\n  return this.m_shape;\n}\n/**\n * A sensor shape collects contact information but never generates a collision\n * response.\n */\nFixture.prototype.isSensor = function() {\n  return this.m_isSensor;\n}\n\n/**\n * Set if this fixture is a sensor.\n */\nFixture.prototype.setSensor = function(sensor) {\n  if (sensor != this.m_isSensor) {\n    this.m_body.setAwake(true);\n    this.m_isSensor = sensor;\n  }\n}\n\n/**\n * Get the contact filtering data.\n */\n// Fixture.prototype.getFilterData = function() {\n//   return this.m_filter;\n// }\n\n/**\n * Get the user data that was assigned in the fixture definition. Use this to\n * store your application specific data.\n */\nFixture.prototype.getUserData = function() {\n  return this.m_userData;\n}\n\n/**\n * Set the user data. Use this to store your application specific data.\n */\nFixture.prototype.setUserData = function(data) {\n  this.m_userData = data;\n}\n\n/**\n * Get the parent body of this fixture. This is null if the fixture is not\n * attached.\n */\nFixture.prototype.getBody = function() {\n  return this.m_body;\n}\n\n/**\n * Get the next fixture in the parent body's fixture list.\n */\nFixture.prototype.getNext = function() {\n  return this.m_next;\n}\n\n/**\n * Get the density of this fixture.\n */\nFixture.prototype.getDensity = function() {\n  return this.m_density;\n}\n\n/**\n * Set the density of this fixture. This will _not_ automatically adjust the\n * mass of the body. You must call Body.resetMassData to update the body's mass.\n */\nFixture.prototype.setDensity = function(density) {\n  _ASSERT && common.assert(Math.isFinite(density) && density >= 0.0);\n  this.m_density = density;\n}\n\n/**\n * Get the coefficient of friction, usually in the range [0,1].\n */\nFixture.prototype.getFriction = function() {\n  return this.m_friction;\n}\n\n/**\n * Set the coefficient of friction. This will not change the friction of\n * existing contacts.\n */\nFixture.prototype.setFriction = function(friction) {\n  this.m_friction = friction;\n}\n\n/**\n * Get the coefficient of restitution.\n */\nFixture.prototype.getRestitution = function() {\n  return this.m_restitution;\n}\n\n/**\n * Set the coefficient of restitution. This will not change the restitution of\n * existing contacts.\n */\nFixture.prototype.setRestitution = function(restitution) {\n  this.m_restitution = restitution;\n}\n\n/**\n * Test a point in world coordinates for containment in this fixture.\n */\nFixture.prototype.testPoint = function(p) {\n  return this.m_shape.testPoint(this.m_body.getTransform(), p);\n}\n\n/**\n * Cast a ray against this shape.\n */\nFixture.prototype.rayCast = function(output, input, childIndex) {\n  return this.m_shape.rayCast(output, input, this.m_body.getTransform(), childIndex);\n}\n\n/**\n * Get the mass data for this fixture. The mass data is based on the density and\n * the shape. The rotational inertia is about the shape's origin. This operation\n * may be expensive.\n */\nFixture.prototype.getMassData = function(massData) {\n  this.m_shape.computeMass(massData, this.m_density);\n}\n\n/**\n * Get the fixture's AABB. This AABB may be enlarge and/or stale. If you need a\n * more accurate AABB, compute it using the shape and the body transform.\n */\nFixture.prototype.getAABB = function(childIndex) {\n  _ASSERT && common.assert(0 <= childIndex && childIndex < this.m_proxyCount);\n  return this.m_proxies[childIndex].aabb;\n}\n\n/**\n * These support body activation/deactivation.\n */\nFixture.prototype.createProxies = function(broadPhase, xf) {\n  _ASSERT && common.assert(this.m_proxyCount == 0);\n\n  // Create proxies in the broad-phase.\n  this.m_proxyCount = this.m_shape.getChildCount();\n\n  for (var i = 0; i < this.m_proxyCount; ++i) {\n    var proxy = this.m_proxies[i];\n    this.m_shape.computeAABB(proxy.aabb, xf, i);\n    proxy.proxyId = broadPhase.createProxy(proxy.aabb, proxy);\n  }\n}\n\nFixture.prototype.destroyProxies = function(broadPhase) {\n  // Destroy proxies in the broad-phase.\n  for (var i = 0; i < this.m_proxyCount; ++i) {\n    var proxy = this.m_proxies[i];\n    broadPhase.destroyProxy(proxy.proxyId);\n    proxy.proxyId = null;\n  }\n\n  this.m_proxyCount = 0;\n}\n\n/**\n * Updates this fixture proxy in broad-phase (with combined AABB of current and\n * next transformation).\n */\nFixture.prototype.synchronize = function(broadPhase, xf1, xf2) {\n  for (var i = 0; i < this.m_proxyCount; ++i) {\n    var proxy = this.m_proxies[i];\n    // Compute an AABB that covers the swept shape (may miss some rotation\n    // effect).\n    var aabb1 = new AABB();\n    var aabb2 = new AABB();\n    this.m_shape.computeAABB(aabb1, xf1, proxy.childIndex);\n    this.m_shape.computeAABB(aabb2, xf2, proxy.childIndex);\n\n    proxy.aabb.combine(aabb1, aabb2);\n\n    var displacement = Vec2.sub(xf2.p, xf1.p);\n\n    broadPhase.moveProxy(proxy.proxyId, proxy.aabb, displacement);\n  }\n}\n\n/**\n * Set the contact filtering data. This will not update contacts until the next\n * time step when either parent body is active and awake. This automatically\n * calls refilter.\n */\nFixture.prototype.setFilterData = function(filter) {\n  this.m_filterGroupIndex = filter.groupIndex;\n  this.m_filterCategoryBits = filter.categoryBits;\n  this.m_filterMaskBits = filter.maskBits;\n  this.refilter();\n}\n\nFixture.prototype.getFilterGroupIndex = function() {\n  return this.m_filterGroupIndex;\n}\n\nFixture.prototype.getFilterCategoryBits = function() {\n  return this.m_filterCategoryBits;\n}\n\nFixture.prototype.getFilterMaskBits = function() {\n  return this.m_filterMaskBits;\n}\n\n/**\n * Call this if you want to establish collision that was previously disabled by\n * ContactFilter.\n */\nFixture.prototype.refilter = function() {\n  if (this.m_body == null) {\n    return;\n  }\n\n  // Flag associated contacts for filtering.\n  var edge = this.m_body.getContactList();\n  while (edge) {\n    var contact = edge.contact;\n    var fixtureA = contact.getFixtureA();\n    var fixtureB = contact.getFixtureB();\n    if (fixtureA == this || fixtureB == this) {\n      contact.flagForFiltering();\n    }\n\n    edge = edge.next;\n  }\n\n  var world = this.m_body.getWorld();\n\n  if (world == null) {\n    return;\n  }\n\n  // Touch each proxy so that new pairs may be created\n  var broadPhase = world.m_broadPhase;\n  for (var i = 0; i < this.m_proxyCount; ++i) {\n    broadPhase.touchProxy(this.m_proxies[i].proxyId);\n  }\n}\n\n/**\n * Implement this method to provide collision filtering, if you want finer\n * control over contact creation.\n * \n * Return true if contact calculations should be performed between these two\n * fixtures.\n * \n * Warning: for performance reasons this is only called when the AABBs begin to\n * overlap.\n * \n * @param {Fixture} fixtureA\n * @param {Fixture} fixtureB\n */\nFixture.prototype.shouldCollide = function(that) {\n\n  if (that.m_filterGroupIndex == this.m_filterGroupIndex && that.m_filterGroupIndex != 0) {\n    return that.m_filterGroupIndex > 0;\n  }\n\n  var collide = (that.m_filterMaskBits & this.m_filterCategoryBits) != 0\n      && (that.m_filterCategoryBits & this.m_filterMaskBits) != 0;\n  return collide;\n}\n","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nmodule.exports = TimeOfImpact;\nmodule.exports.Input = TOIInput;\nmodule.exports.Output = TOIOutput;\n\nvar Settings = require('../Settings');\n\nvar common = require('../util/common');\nvar Timer = require('../util/Timer');\n\nvar stats = require('../common/stats');\n\nvar Math = require('../common/Math');\nvar Vec2 = require('../common/Vec2');\nvar Vec3 = require('../common/Vec3');\nvar Mat22 = require('../common/Mat22');\nvar Mat33 = require('../common/Mat33');\nvar Rot = require('../common/Rot');\nvar Sweep = require('../common/Sweep');\nvar Transform = require('../common/Transform');\nvar Velocity = require('../common/Velocity');\nvar Position = require('../common/Position');\n\nvar Distance = require('./Distance');\nvar DistanceInput = Distance.Input;\nvar DistanceOutput = Distance.Output;\nvar DistanceProxy = Distance.Proxy;\nvar SimplexCache = Distance.Cache;\n\n/**\n * Input parameters for TimeOfImpact.\n * \n * @prop {DistanceProxy} proxyA\n * @prop {DistanceProxy} proxyB\n * @prop {Sweep} sweepA\n * @prop {Sweep} sweepB\n * @prop tMax defines sweep interval [0, tMax]\n */\nfunction TOIInput() {\n  this.proxyA = new DistanceProxy();\n  this.proxyB = new DistanceProxy();\n  this.sweepA = new Sweep();\n  this.sweepB = new Sweep();\n  this.tMax;\n};\n\n// TOIOutput State\nTOIOutput.e_unknown = 0;\nTOIOutput.e_failed = 1;\nTOIOutput.e_overlapped = 2;\nTOIOutput.e_touching = 3;\nTOIOutput.e_separated = 4;\n\n/**\n * Output parameters for TimeOfImpact.\n * \n * @prop state\n * @prop t\n */\nfunction TOIOutput() {\n  this.state;\n  this.t;\n};\n\nstats.toiTime = 0;\nstats.toiMaxTime = 0;\nstats.toiCalls = 0;\nstats.toiIters = 0;\nstats.toiMaxIters = 0;\nstats.toiRootIters = 0;\nstats.toiMaxRootIters = 0;\n\n/**\n * Compute the upper bound on time before two shapes penetrate. Time is\n * represented as a fraction between [0,tMax]. This uses a swept separating axis\n * and may miss some intermediate, non-tunneling collision. If you change the\n * time interval, you should call this function again.\n * \n * Note: use Distance to compute the contact point and normal at the time of\n * impact.\n * \n * CCD via the local separating axis method. This seeks progression by computing\n * the largest time at which separation is maintained.\n */\nfunction TimeOfImpact(output, input) {\n  var timer = Timer.now();\n\n  ++stats.toiCalls;\n\n  output.state = TOIOutput.e_unknown;\n  output.t = input.tMax;\n\n  var proxyA = input.proxyA; // DistanceProxy\n  var proxyB = input.proxyB; // DistanceProxy\n\n  var sweepA = input.sweepA; // Sweep\n  var sweepB = input.sweepB; // Sweep\n\n  // Large rotations can make the root finder fail, so we normalize the\n  // sweep angles.\n  sweepA.normalize();\n  sweepB.normalize();\n\n  var tMax = input.tMax;\n\n  var totalRadius = proxyA.m_radius + proxyB.m_radius;\n  var target = Math.max(Settings.linearSlop, totalRadius - 3.0 * Settings.linearSlop);\n  var tolerance = 0.25 * Settings.linearSlop;\n  _ASSERT && common.assert(target > tolerance);\n\n  var t1 = 0.0;\n  var k_maxIterations = Settings.maxTOIIterations;\n  var iter = 0;\n\n  // Prepare input for distance query.\n  var cache = new SimplexCache();\n\n  var distanceInput = new DistanceInput();\n  distanceInput.proxyA = input.proxyA;\n  distanceInput.proxyB = input.proxyB;\n  distanceInput.useRadii = false;\n\n  // The outer loop progressively attempts to compute new separating axes.\n  // This loop terminates when an axis is repeated (no progress is made).\n  for (;;) {\n    var xfA = Transform.identity();\n    var xfB = Transform.identity();\n    sweepA.getTransform(xfA, t1);\n    sweepB.getTransform(xfB, t1);\n\n    // Get the distance between shapes. We can also use the results\n    // to get a separating axis.\n    distanceInput.transformA = xfA;\n    distanceInput.transformB = xfB;\n    var distanceOutput = new DistanceOutput();\n    Distance(distanceOutput, cache, distanceInput);\n\n    // If the shapes are overlapped, we give up on continuous collision.\n    if (distanceOutput.distance <= 0.0) {\n      // Failure!\n      output.state = TOIOutput.e_overlapped;\n      output.t = 0.0;\n      break;\n    }\n\n    if (distanceOutput.distance < target + tolerance) {\n      // Victory!\n      output.state = TOIOutput.e_touching;\n      output.t = t1;\n      break;\n    }\n\n    // Initialize the separating axis.\n    var fcn = new SeparationFunction();\n    fcn.initialize(cache, proxyA, sweepA, proxyB, sweepB, t1);\n\n    if (false) {\n      // Dump the curve seen by the root finder\n      var N = 100;\n      var dx = 1.0 / N;\n      var xs = []; // [ N + 1 ];\n      var fs = []; // [ N + 1 ];\n      var x = 0.0;\n      for (var i = 0; i <= N; ++i) {\n        sweepA.getTransform(xfA, x);\n        sweepB.getTransform(xfB, x);\n        var f = fcn.evaluate(xfA, xfB) - target;\n        printf(\"%g %g\\n\", x, f);\n        xs[i] = x;\n        fs[i] = f;\n        x += dx;\n      }\n    }\n\n    // Compute the TOI on the separating axis. We do this by successively\n    // resolving the deepest point. This loop is bounded by the number of\n    // vertices.\n    var done = false;\n    var t2 = tMax;\n    var pushBackIter = 0;\n    for (;;) {\n      // Find the deepest point at t2. Store the witness point indices.\n      var s2 = fcn.findMinSeparation(t2);\n      var indexA = fcn.indexA;\n      var indexB = fcn.indexB;\n\n      // Is the final configuration separated?\n      if (s2 > target + tolerance) {\n        // Victory!\n        output.state = TOIOutput.e_separated;\n        output.t = tMax;\n        done = true;\n        break;\n      }\n\n      // Has the separation reached tolerance?\n      if (s2 > target - tolerance) {\n        // Advance the sweeps\n        t1 = t2;\n        break;\n      }\n\n      // Compute the initial separation of the witness points.\n      var s1 = fcn.evaluate(t1);\n      var indexA = fcn.indexA;\n      var indexB = fcn.indexB;\n\n      // Check for initial overlap. This might happen if the root finder\n      // runs out of iterations.\n      if (s1 < target - tolerance) {\n        output.state = TOIOutput.e_failed;\n        output.t = t1;\n        done = true;\n        break;\n      }\n\n      // Check for touching\n      if (s1 <= target + tolerance) {\n        // Victory! t1 should hold the TOI (could be 0.0).\n        output.state = TOIOutput.e_touching;\n        output.t = t1;\n        done = true;\n        break;\n      }\n\n      // Compute 1D root of: f(x) - target = 0\n      var rootIterCount = 0;\n      var a1 = t1, a2 = t2;\n      for (;;) {\n        // Use a mix of the secant rule and bisection.\n        var t;\n        if (rootIterCount & 1) {\n          // Secant rule to improve convergence.\n          t = a1 + (target - s1) * (a2 - a1) / (s2 - s1);\n        } else {\n          // Bisection to guarantee progress.\n          t = 0.5 * (a1 + a2);\n        }\n\n        ++rootIterCount;\n        ++stats.toiRootIters;\n\n        var s = fcn.evaluate(t);\n        var indexA = fcn.indexA;\n        var indexB = fcn.indexB;\n\n        if (Math.abs(s - target) < tolerance) {\n          // t2 holds a tentative value for t1\n          t2 = t;\n          break;\n        }\n\n        // Ensure we continue to bracket the root.\n        if (s > target) {\n          a1 = t;\n          s1 = s;\n        } else {\n          a2 = t;\n          s2 = s;\n        }\n\n        if (rootIterCount == 50) {\n          break;\n        }\n      }\n\n      stats.toiMaxRootIters = Math.max(stats.toiMaxRootIters, rootIterCount);\n\n      ++pushBackIter;\n\n      if (pushBackIter == Settings.maxPolygonVertices) {\n        break;\n      }\n    }\n\n    ++iter;\n    ++stats.toiIters;\n\n    if (done) {\n      break;\n    }\n\n    if (iter == k_maxIterations) {\n      // Root finder got stuck. Semi-victory.\n      output.state = TOIOutput.e_failed;\n      output.t = t1;\n      break;\n    }\n  }\n\n  stats.toiMaxIters = Math.max(stats.toiMaxIters, iter);\n\n  var time = Timer.diff(timer);\n  stats.toiMaxTime = Math.max(stats.toiMaxTime, time);\n  stats.toiTime += time;\n}\n\n// SeparationFunction Type\nvar e_points = 1;\nvar e_faceA = 2;\nvar e_faceB = 3;\n\nfunction SeparationFunction() {\n  this.m_proxyA = new DistanceProxy();\n  this.m_proxyB = new DistanceProxy();\n  this.m_sweepA;// Sweep\n  this.m_sweepB;// Sweep\n  this.m_type;\n  this.m_localPoint = Vec2.zero();\n  this.m_axis = Vec2.zero();\n};\n\n// TODO_ERIN might not need to return the separation\n\n/**\n * @param {SimplexCache} cache\n * @param {DistanceProxy} proxyA\n * @param {Sweep} sweepA\n * @param {DistanceProxy} proxyB\n * @param {Sweep} sweepB\n * @param {float} t1\n */\nSeparationFunction.prototype.initialize = function(cache, proxyA, sweepA, proxyB, sweepB, t1) {\n  this.m_proxyA = proxyA;\n  this.m_proxyB = proxyB;\n  var count = cache.count;\n  _ASSERT && common.assert(0 < count && count < 3);\n\n  this.m_sweepA = sweepA;\n  this.m_sweepB = sweepB;\n\n  var xfA = Transform.identity();\n  var xfB = Transform.identity();\n  this.m_sweepA.getTransform(xfA, t1);\n  this.m_sweepB.getTransform(xfB, t1);\n\n  if (count == 1) {\n    this.m_type = e_points;\n    var localPointA = this.m_proxyA.getVertex(cache.indexA[0]);\n    var localPointB = this.m_proxyB.getVertex(cache.indexB[0]);\n    var pointA = Transform.mulVec2(xfA, localPointA);\n    var pointB = Transform.mulVec2(xfB, localPointB);\n    this.m_axis.setCombine(1, pointB, -1, pointA);\n    var s = this.m_axis.normalize();\n    return s;\n\n  } else if (cache.indexA[0] == cache.indexA[1]) {\n    // Two points on B and one on A.\n    this.m_type = e_faceB;\n    var localPointB1 = proxyB.getVertex(cache.indexB[0]);\n    var localPointB2 = proxyB.getVertex(cache.indexB[1]);\n\n    this.m_axis = Vec2.cross(Vec2.sub(localPointB2, localPointB1), 1.0);\n    this.m_axis.normalize();\n    var normal = Rot.mulVec2(xfB.q, this.m_axis);\n\n    this.m_localPoint = Vec2.mid(localPointB1, localPointB2);\n    var pointB = Transform.mulVec2(xfB, this.m_localPoint);\n\n    var localPointA = proxyA.getVertex(cache.indexA[0]);\n    var pointA = Transform.mulVec2(xfA, localPointA);\n\n    var s = Vec2.dot(pointA, normal) - Vec2.dot(pointB, normal);\n    if (s < 0.0) {\n      this.m_axis = Vec2.neg(this.m_axis);\n      s = -s;\n    }\n    return s;\n\n  } else {\n    // Two points on A and one or two points on B.\n    this.m_type = e_faceA;\n    var localPointA1 = this.m_proxyA.getVertex(cache.indexA[0]);\n    var localPointA2 = this.m_proxyA.getVertex(cache.indexA[1]);\n\n    this.m_axis = Vec2.cross(Vec2.sub(localPointA2, localPointA1), 1.0);\n    this.m_axis.normalize();\n    var normal = Rot.mulVec2(xfA.q, this.m_axis);\n\n    this.m_localPoint = Vec2.mid(localPointA1, localPointA2);\n    var pointA = Transform.mulVec2(xfA, this.m_localPoint);\n\n    var localPointB = this.m_proxyB.getVertex(cache.indexB[0]);\n    var pointB = Transform.mulVec2(xfB, localPointB);\n\n    var s = Vec2.dot(pointB, normal) - Vec2.dot(pointA, normal);\n    if (s < 0.0) {\n      this.m_axis = Vec2.neg(this.m_axis);\n      s = -s;\n    }\n    return s;\n  }\n};\n\nSeparationFunction.prototype.compute = function(find, t) {\n  // It was findMinSeparation and evaluate\n  var xfA = Transform.identity();\n  var xfB = Transform.identity();\n  this.m_sweepA.getTransform(xfA, t);\n  this.m_sweepB.getTransform(xfB, t);\n\n  switch (this.m_type) {\n  case e_points: {\n    if (find) {\n      var axisA = Rot.mulTVec2(xfA.q, this.m_axis);\n      var axisB = Rot.mulTVec2(xfB.q, Vec2.neg(this.m_axis));\n\n      this.indexA = this.m_proxyA.getSupport(axisA);\n      this.indexB = this.m_proxyB.getSupport(axisB);\n    }\n\n    var localPointA = this.m_proxyA.getVertex(this.indexA);\n    var localPointB = this.m_proxyB.getVertex(this.indexB);\n\n    var pointA = Transform.mulVec2(xfA, localPointA);\n    var pointB = Transform.mulVec2(xfB, localPointB);\n\n    var sep = Vec2.dot(pointB, this.m_axis) - Vec2.dot(pointA, this.m_axis);\n    return sep;\n  }\n\n  case e_faceA: {\n    var normal = Rot.mulVec2(xfA.q, this.m_axis);\n    var pointA = Transform.mulVec2(xfA, this.m_localPoint);\n\n    if (find) {\n      var axisB = Rot.mulTVec2(xfB.q, Vec2.neg(normal));\n\n      this.indexA = -1;\n      this.indexB = this.m_proxyB.getSupport(axisB);\n    }\n\n    var localPointB = this.m_proxyB.getVertex(this.indexB);\n    var pointB = Transform.mulVec2(xfB, localPointB);\n\n    var sep = Vec2.dot(pointB, normal) - Vec2.dot(pointA, normal);\n    return sep;\n  }\n\n  case e_faceB: {\n    var normal = Rot.mulVec2(xfB.q, this.m_axis);\n    var pointB = Transform.mulVec2(xfB, this.m_localPoint);\n\n    if (find) {\n      var axisA = Rot.mulTVec2(xfA.q, Vec2.neg(normal));\n\n      this.indexB = -1;\n      this.indexA = this.m_proxyA.getSupport(axisA);\n    }\n\n    var localPointA = this.m_proxyA.getVertex(this.indexA);\n    var pointA = Transform.mulVec2(xfA, localPointA);\n\n    var sep = Vec2.dot(pointA, normal) - Vec2.dot(pointB, normal);\n    return sep;\n  }\n\n  default:\n    _ASSERT && common.assert(false);\n    if (find) {\n      this.indexA = -1;\n      this.indexB = -1;\n    }\n    return 0.0;\n  }\n};\n\nSeparationFunction.prototype.findMinSeparation = function(t) {\n  return this.compute(true, t);\n};\n\nSeparationFunction.prototype.evaluate = function(t) {\n  return this.compute(false, t);\n};\n","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nmodule.exports = RevoluteJoint;\n\nvar common = require('../util/common');\nvar options = require('../util/options');\nvar create = require('../util/create');\nvar Settings = require('../Settings');\n\nvar Math = require('../common/Math');\nvar Vec2 = require('../common/Vec2');\nvar Vec3 = require('../common/Vec3');\nvar Mat22 = require('../common/Mat22');\nvar Mat33 = require('../common/Mat33');\nvar Rot = require('../common/Rot');\nvar Sweep = require('../common/Sweep');\nvar Transform = require('../common/Transform');\nvar Velocity = require('../common/Velocity');\nvar Position = require('../common/Position');\n\nvar Joint = require('../Joint');\n\nvar inactiveLimit = 0;\nvar atLowerLimit = 1;\nvar atUpperLimit = 2;\nvar equalLimits = 3;\n\nRevoluteJoint.TYPE = 'revolute-joint';\n\nRevoluteJoint._super = Joint;\nRevoluteJoint.prototype = create(RevoluteJoint._super.prototype);\n\n/**\n * @typedef {Object} RevoluteJointDef\n *\n * Revolute joint definition. This requires defining an anchor point where the\n * bodies are joined. The definition uses local anchor points so that the\n * initial configuration can violate the constraint slightly. You also need to\n * specify the initial relative angle for joint limits. This helps when saving\n * and loading a game.\n * \n * The local anchor points are measured from the body's origin rather than the\n * center of mass because: 1. you might not know where the center of mass will\n * be. 2. if you add/remove shapes from a body and recompute the mass, the\n * joints will be broken.\n * \n * @prop {bool} enableLimit A flag to enable joint limits.\n * @prop {bool} enableMotor A flag to enable the joint motor.\n * @prop {float} lowerAngle The lower angle for the joint limit (radians).\n * @prop {float} upperAngle The upper angle for the joint limit (radians).\n * @prop {float} motorSpeed The desired motor speed. Usually in radians per\n *       second.\n * @prop {float} maxMotorTorque The maximum motor torque used to achieve the\n *       desired motor speed. Usually in N-m.\n *\n * @prop {Vec2} localAnchorA The local anchor point relative to bodyA's origin.\n * @prop {Vec2} localAnchorB The local anchor point relative to bodyB's origin.\n * @prop {float} referenceAngle The bodyB angle minus bodyA angle in the\n *       reference state (radians).\n */\n\nvar DEFAULTS = {\n  lowerAngle : 0.0,\n  upperAngle : 0.0,\n  maxMotorTorque : 0.0,\n  motorSpeed : 0.0,\n  enableLimit : false,\n  enableMotor : false\n};\n\n/**\n * A revolute joint constrains two bodies to share a common point while they are\n * free to rotate about the point. The relative rotation about the shared point\n * is the joint angle. You can limit the relative rotation with a joint limit\n * that specifies a lower and upper angle. You can use a motor to drive the\n * relative rotation about the shared point. A maximum motor torque is provided\n * so that infinite forces are not generated.\n *\n * @param {RevoluteJointDef} def\n * @param {Body} bodyA\n * @param {Body} bodyB\n */\nfunction RevoluteJoint(def, bodyA, bodyB, anchor) {\n  if (!(this instanceof RevoluteJoint)) {\n    return new RevoluteJoint(def, bodyA, bodyB, anchor);\n  }\n\n  def = options(def, DEFAULTS);\n  Joint.call(this, def, bodyA, bodyB);\n  bodyA = this.m_bodyA;\n  bodyB = this.m_bodyB;\n\n  this.m_type = RevoluteJoint.TYPE;\n\n  this.m_localAnchorA =  anchor ? bodyA.getLocalPoint(anchor) : def.localAnchorA || Vec2.zero();\n  this.m_localAnchorB =  anchor ? bodyB.getLocalPoint(anchor) : def.localAnchorB || Vec2.zero();\n  this.m_referenceAngle = Math.isFinite(def.referenceAngle) ? def.referenceAngle : bodyB.getAngle() - bodyA.getAngle();\n\n  this.m_impulse = Vec3();\n  this.m_motorImpulse = 0.0;\n\n  this.m_lowerAngle = def.lowerAngle;\n  this.m_upperAngle = def.upperAngle;\n  this.m_maxMotorTorque = def.maxMotorTorque;\n  this.m_motorSpeed = def.motorSpeed;\n  this.m_enableLimit = def.enableLimit;\n  this.m_enableMotor = def.enableMotor;\n\n  // Solver temp\n  this.m_rA; // Vec2\n  this.m_rB; // Vec2\n  this.m_localCenterA; // Vec2\n  this.m_localCenterB; // Vec2\n  this.m_invMassA; // float\n  this.m_invMassB; // float\n  this.m_invIA; // float\n  this.m_invIB; // float\n  // effective mass for point-to-point constraint.\n  this.m_mass = new Mat33();\n  // effective mass for motor/limit angular constraint.\n  this.m_motorMass; // float\n  this.m_limitState = inactiveLimit;\n\n  // Point-to-point constraint\n  // C = p2 - p1\n  // Cdot = v2 - v1\n  // = v2 + cross(w2, r2) - v1 - cross(w1, r1)\n  // J = [-I -r1_skew I r2_skew ]\n  // Identity used:\n  // w k % (rx i + ry j) = w * (-ry i + rx j)\n\n  // Motor constraint\n  // Cdot = w2 - w1\n  // J = [0 0 -1 0 0 1]\n  // K = invI1 + invI2\n}\n\n/**\n * The local anchor point relative to bodyA's origin.\n */\nRevoluteJoint.prototype.getLocalAnchorA = function() {\n  return this.m_localAnchorA;\n}\n\n/**\n * The local anchor point relative to bodyB's origin.\n */\nRevoluteJoint.prototype.getLocalAnchorB = function() {\n  return this.m_localAnchorB;\n}\n\n/**\n * Get the reference angle.\n */\nRevoluteJoint.prototype.getReferenceAngle = function() {\n  return this.m_referenceAngle;\n}\n\n/**\n * Get the current joint angle in radians.\n */\nRevoluteJoint.prototype.getJointAngle = function() {\n  var bA = this.m_bodyA;\n  var bB = this.m_bodyB;\n  return bB.m_sweep.a - bA.m_sweep.a - this.m_referenceAngle;\n}\n\n/**\n * Get the current joint angle speed in radians per second.\n */\nRevoluteJoint.prototype.getJointSpeed = function() {\n  var bA = this.m_bodyA;\n  var bB = this.m_bodyB;\n  return bB.m_angularVelocity - bA.m_angularVelocity;\n}\n\n/**\n * Is the joint motor enabled?\n */\nRevoluteJoint.prototype.isMotorEnabled = function() {\n  return this.m_enableMotor;\n}\n\n/**\n * Enable/disable the joint motor.\n */\nRevoluteJoint.prototype.enableMotor = function(flag) {\n  this.m_bodyA.setAwake(true);\n  this.m_bodyB.setAwake(true);\n  this.m_enableMotor = flag;\n}\n\n/**\n * Get the current motor torque given the inverse time step. Unit is N*m.\n */\nRevoluteJoint.prototype.getMotorTorque = function(inv_dt) {\n  return inv_dt * this.m_motorImpulse;\n}\n\n/**\n * Set the motor speed in radians per second.\n */\nRevoluteJoint.prototype.setMotorSpeed = function(speed) {\n  this.m_bodyA.setAwake(true);\n  this.m_bodyB.setAwake(true);\n  this.m_motorSpeed = speed;\n}\n\n/**\n * Get the motor speed in radians per second.\n */\nRevoluteJoint.prototype.getMotorSpeed = function() {\n  return this.m_motorSpeed;\n}\n\n/**\n * Set the maximum motor torque, usually in N-m.\n */\nRevoluteJoint.prototype.setMaxMotorTorque = function(torque) {\n  this.m_bodyA.setAwake(true);\n  this.m_bodyB.setAwake(true);\n  this.m_maxMotorTorque = torque;\n}\n\n/**\n * Is the joint limit enabled?\n */\nRevoluteJoint.prototype.isLimitEnabled = function() {\n  return this.m_enableLimit;\n}\n\n/**\n * Enable/disable the joint limit.\n */\nRevoluteJoint.prototype.enableLimit = function(flag) {\n  if (flag != this.m_enableLimit) {\n    this.m_bodyA.setAwake(true);\n    this.m_bodyB.setAwake(true);\n    this.m_enableLimit = flag;\n    this.m_impulse.z = 0.0;\n  }\n}\n\n/**\n * Get the lower joint limit in radians.\n */\nRevoluteJoint.prototype.getLowerLimit = function() {\n  return this.m_lowerAngle;\n}\n\n/**\n * Get the upper joint limit in radians.\n */\nRevoluteJoint.prototype.getUpperLimit = function() {\n  return this.m_upperAngle;\n}\n\n/**\n * Set the joint limits in radians.\n */\nRevoluteJoint.prototype.setLimits = function(lower, upper) {\n  _ASSERT && common.assert(lower <= upper);\n\n  if (lower != this.m_lowerAngle || upper != this.m_upperAngle) {\n    this.m_bodyA.setAwake(true);\n    this.m_bodyB.setAwake(true);\n    this.m_impulse.z = 0.0;\n    this.m_lowerAngle = lower;\n    this.m_upperAngle = upper;\n  }\n}\n\nRevoluteJoint.prototype.getAnchorA = function() {\n  return this.m_bodyA.getWorldPoint(this.m_localAnchorA);\n}\n\nRevoluteJoint.prototype.getAnchorB = function() {\n  return this.m_bodyB.getWorldPoint(this.m_localAnchorB);\n}\n\n/**\n * Get the reaction force given the inverse time step. Unit is N.\n */\nRevoluteJoint.prototype.getReactionForce = function(inv_dt) {\n  return Vec2.neo(this.m_impulse.x, this.m_impulse.y).mul(inv_dt);\n}\n\n/**\n * Get the reaction torque due to the joint limit given the inverse time step.\n * Unit is N*m.\n */\nRevoluteJoint.prototype.getReactionTorque = function(inv_dt) {\n  return inv_dt * this.m_impulse.z;\n}\n\nRevoluteJoint.prototype.initVelocityConstraints = function(step) {\n  this.m_localCenterA = this.m_bodyA.m_sweep.localCenter;\n  this.m_localCenterB = this.m_bodyB.m_sweep.localCenter;\n  this.m_invMassA = this.m_bodyA.m_invMass;\n  this.m_invMassB = this.m_bodyB.m_invMass;\n  this.m_invIA = this.m_bodyA.m_invI;\n  this.m_invIB = this.m_bodyB.m_invI;\n\n  var aA = this.m_bodyA.c_position.a;\n  var vA = this.m_bodyA.c_velocity.v;\n  var wA = this.m_bodyA.c_velocity.w;\n\n  var aB = this.m_bodyB.c_position.a;\n  var vB = this.m_bodyB.c_velocity.v;\n  var wB = this.m_bodyB.c_velocity.w;\n\n  var qA = Rot.neo(aA);\n  var qB = Rot.neo(aB);\n\n  this.m_rA = Rot.mulVec2(qA, Vec2.sub(this.m_localAnchorA, this.m_localCenterA));\n  this.m_rB = Rot.mulVec2(qB, Vec2.sub(this.m_localAnchorB, this.m_localCenterB));\n\n  // J = [-I -r1_skew I r2_skew]\n  // [ 0 -1 0 1]\n  // r_skew = [-ry; rx]\n\n  // Matlab\n  // K = [ mA+r1y^2*iA+mB+r2y^2*iB, -r1y*iA*r1x-r2y*iB*r2x, -r1y*iA-r2y*iB]\n  // [ -r1y*iA*r1x-r2y*iB*r2x, mA+r1x^2*iA+mB+r2x^2*iB, r1x*iA+r2x*iB]\n  // [ -r1y*iA-r2y*iB, r1x*iA+r2x*iB, iA+iB]\n\n  var mA = this.m_invMassA;\n  var mB = this.m_invMassB; // float\n  var iA = this.m_invIA;\n  var iB = this.m_invIB; // float\n\n  var fixedRotation = (iA + iB === 0.0); // bool\n\n  this.m_mass.ex.x = mA + mB + this.m_rA.y * this.m_rA.y * iA + this.m_rB.y\n      * this.m_rB.y * iB;\n  this.m_mass.ey.x = -this.m_rA.y * this.m_rA.x * iA - this.m_rB.y\n      * this.m_rB.x * iB;\n  this.m_mass.ez.x = -this.m_rA.y * iA - this.m_rB.y * iB;\n  this.m_mass.ex.y = this.m_mass.ey.x;\n  this.m_mass.ey.y = mA + mB + this.m_rA.x * this.m_rA.x * iA + this.m_rB.x\n      * this.m_rB.x * iB;\n  this.m_mass.ez.y = this.m_rA.x * iA + this.m_rB.x * iB;\n  this.m_mass.ex.z = this.m_mass.ez.x;\n  this.m_mass.ey.z = this.m_mass.ez.y;\n  this.m_mass.ez.z = iA + iB;\n\n  this.m_motorMass = iA + iB;\n  if (this.m_motorMass > 0.0) {\n    this.m_motorMass = 1.0 / this.m_motorMass;\n  }\n\n  if (this.m_enableMotor == false || fixedRotation) {\n    this.m_motorImpulse = 0.0;\n  }\n\n  if (this.m_enableLimit && fixedRotation == false) {\n    var jointAngle = aB - aA - this.m_referenceAngle; // float\n\n    if (Math.abs(this.m_upperAngle - this.m_lowerAngle) < 2.0 * Settings.angularSlop) {\n      this.m_limitState = equalLimits;\n\n    } else if (jointAngle <= this.m_lowerAngle) {\n      if (this.m_limitState != atLowerLimit) {\n        this.m_impulse.z = 0.0;\n      }\n      this.m_limitState = atLowerLimit;\n\n    } else if (jointAngle >= this.m_upperAngle) {\n      if (this.m_limitState != atUpperLimit) {\n        this.m_impulse.z = 0.0;\n      }\n      this.m_limitState = atUpperLimit;\n\n    } else {\n      this.m_limitState = inactiveLimit;\n      this.m_impulse.z = 0.0;\n    }\n\n  } else {\n    this.m_limitState = inactiveLimit;\n  }\n\n  if (step.warmStarting) {\n    // Scale impulses to support a variable time step.\n    this.m_impulse.mul(step.dtRatio);\n    this.m_motorImpulse *= step.dtRatio;\n\n    var P = Vec2.neo(this.m_impulse.x, this.m_impulse.y);\n\n    vA.subMul(mA, P);\n    wA -= iA * (Vec2.cross(this.m_rA, P) + this.m_motorImpulse + this.m_impulse.z);\n\n    vB.addMul(mB, P);\n    wB += iB * (Vec2.cross(this.m_rB, P) + this.m_motorImpulse + this.m_impulse.z);\n\n  } else {\n    this.m_impulse.setZero();\n    this.m_motorImpulse = 0.0;\n  }\n\n  this.m_bodyA.c_velocity.v = vA;\n  this.m_bodyA.c_velocity.w = wA;\n  this.m_bodyB.c_velocity.v = vB;\n  this.m_bodyB.c_velocity.w = wB;\n}\n\nRevoluteJoint.prototype.solveVelocityConstraints = function(step) {\n  var vA = this.m_bodyA.c_velocity.v;\n  var wA = this.m_bodyA.c_velocity.w;\n  var vB = this.m_bodyB.c_velocity.v;\n  var wB = this.m_bodyB.c_velocity.w;\n\n  var mA = this.m_invMassA;\n  var mB = this.m_invMassB; // float\n  var iA = this.m_invIA;\n  var iB = this.m_invIB; // float\n\n  var fixedRotation = (iA + iB === 0.0); // bool\n\n  // Solve motor constraint.\n  if (this.m_enableMotor && this.m_limitState != equalLimits\n      && fixedRotation == false) {\n    var Cdot = wB - wA - this.m_motorSpeed; // float\n    var impulse = -this.m_motorMass * Cdot; // float\n    var oldImpulse = this.m_motorImpulse; // float\n    var maxImpulse = step.dt * this.m_maxMotorTorque; // float\n    this.m_motorImpulse = Math.clamp(this.m_motorImpulse + impulse,\n        -maxImpulse, maxImpulse);\n    impulse = this.m_motorImpulse - oldImpulse;\n\n    wA -= iA * impulse;\n    wB += iB * impulse;\n  }\n\n  // Solve limit constraint.\n  if (this.m_enableLimit && this.m_limitState != inactiveLimit\n      && fixedRotation == false) {\n    var Cdot1 = Vec2.zero();\n    Cdot1.addCombine(1, vB, 1, Vec2.cross(wB, this.m_rB));\n    Cdot1.subCombine(1, vA, 1, Vec2.cross(wA, this.m_rA));\n    var Cdot2 = wB - wA; // float\n    var Cdot = Vec3(Cdot1.x, Cdot1.y, Cdot2);\n\n    var impulse = Vec3.neg(this.m_mass.solve33(Cdot)); // Vec3\n\n    if (this.m_limitState == equalLimits) {\n      this.m_impulse.add(impulse);\n\n    } else if (this.m_limitState == atLowerLimit) {\n      var newImpulse = this.m_impulse.z + impulse.z; // float\n\n      if (newImpulse < 0.0) {\n        var rhs = Vec2.combine(-1, Cdot1, this.m_impulse.z, Vec2.neo(this.m_mass.ez.x, this.m_mass.ez.y)); // Vec2\n        var reduced = this.m_mass.solve22(rhs); // Vec2\n        impulse.x = reduced.x;\n        impulse.y = reduced.y;\n        impulse.z = -this.m_impulse.z;\n        this.m_impulse.x += reduced.x;\n        this.m_impulse.y += reduced.y;\n        this.m_impulse.z = 0.0;\n\n      } else {\n        this.m_impulse.add(impulse);\n      }\n\n    } else if (this.m_limitState == atUpperLimit) {\n      var newImpulse = this.m_impulse.z + impulse.z; // float\n\n      if (newImpulse > 0.0) {\n        var rhs = Vec2.combine(-1, Cdot1, this.m_impulse.z, Vec2.neo(this.m_mass.ez.x, this.m_mass.ez.y)); // Vec2\n        var reduced = this.m_mass.solve22(rhs); // Vec2\n        impulse.x = reduced.x;\n        impulse.y = reduced.y;\n        impulse.z = -this.m_impulse.z;\n        this.m_impulse.x += reduced.x;\n        this.m_impulse.y += reduced.y;\n        this.m_impulse.z = 0.0;\n\n      } else {\n        this.m_impulse.add(impulse);\n      }\n    }\n\n    var P = Vec2.neo(impulse.x, impulse.y);\n\n    vA.subMul(mA, P);\n    wA -= iA * (Vec2.cross(this.m_rA, P) + impulse.z);\n\n    vB.addMul(mB, P);\n    wB += iB * (Vec2.cross(this.m_rB, P) + impulse.z);\n\n  } else {\n    // Solve point-to-point constraint\n    var Cdot = Vec2.zero();\n    Cdot.addCombine(1, vB, 1, Vec2.cross(wB, this.m_rB));\n    Cdot.subCombine(1, vA, 1, Vec2.cross(wA, this.m_rA));\n    var impulse = this.m_mass.solve22(Vec2.neg(Cdot)); // Vec2\n\n    this.m_impulse.x += impulse.x;\n    this.m_impulse.y += impulse.y;\n\n    vA.subMul(mA, impulse);\n    wA -= iA * Vec2.cross(this.m_rA, impulse);\n\n    vB.addMul(mB, impulse);\n    wB += iB * Vec2.cross(this.m_rB, impulse);\n  }\n\n  this.m_bodyA.c_velocity.v = vA;\n  this.m_bodyA.c_velocity.w = wA;\n  this.m_bodyB.c_velocity.v = vB;\n  this.m_bodyB.c_velocity.w = wB;\n}\n\nRevoluteJoint.prototype.solvePositionConstraints = function(step) {\n  var cA = this.m_bodyA.c_position.c;\n  var aA = this.m_bodyA.c_position.a;\n  var cB = this.m_bodyB.c_position.c;\n  var aB = this.m_bodyB.c_position.a;\n\n  var qA = Rot.neo(aA);\n  var qB = Rot.neo(aB);\n\n  var angularError = 0.0; // float\n  var positionError = 0.0; // float\n\n  var fixedRotation = (this.m_invIA + this.m_invIB == 0.0); // bool\n\n  // Solve angular limit constraint.\n  if (this.m_enableLimit && this.m_limitState != inactiveLimit\n      && fixedRotation == false) {\n    var angle = aB - aA - this.m_referenceAngle; // float\n    var limitImpulse = 0.0; // float\n\n    if (this.m_limitState == equalLimits) {\n      // Prevent large angular corrections\n      var C = Math.clamp(angle - this.m_lowerAngle,\n          -Settings.maxAngularCorrection, Settings.maxAngularCorrection); // float\n      limitImpulse = -this.m_motorMass * C;\n      angularError = Math.abs(C);\n\n    } else if (this.m_limitState == atLowerLimit) {\n      var C = angle - this.m_lowerAngle; // float\n      angularError = -C;\n\n      // Prevent large angular corrections and allow some slop.\n      C = Math.clamp(C + Settings.angularSlop, -Settings.maxAngularCorrection,\n          0.0);\n      limitImpulse = -this.m_motorMass * C;\n\n    } else if (this.m_limitState == atUpperLimit) {\n      var C = angle - this.m_upperAngle; // float\n      angularError = C;\n\n      // Prevent large angular corrections and allow some slop.\n      C = Math.clamp(C - Settings.angularSlop, 0.0,\n          Settings.maxAngularCorrection);\n      limitImpulse = -this.m_motorMass * C;\n    }\n\n    aA -= this.m_invIA * limitImpulse;\n    aB += this.m_invIB * limitImpulse;\n  }\n\n  // Solve point-to-point constraint.\n  {\n    qA.set(aA);\n    qB.set(aB);\n    var rA = Rot.mulVec2(qA, Vec2.sub(this.m_localAnchorA, this.m_localCenterA)); // Vec2\n    var rB = Rot.mulVec2(qB, Vec2.sub(this.m_localAnchorB, this.m_localCenterB)); // Vec2\n\n    var C = Vec2.zero();\n    C.addCombine(1, cB, 1, rB);\n    C.subCombine(1, cA, 1, rA);\n    positionError = C.length();\n\n    var mA = this.m_invMassA;\n    var mB = this.m_invMassB; // float\n    var iA = this.m_invIA;\n    var iB = this.m_invIB; // float\n\n    var K = new Mat22();\n    K.ex.x = mA + mB + iA * rA.y * rA.y + iB * rB.y * rB.y;\n    K.ex.y = -iA * rA.x * rA.y - iB * rB.x * rB.y;\n    K.ey.x = K.ex.y;\n    K.ey.y = mA + mB + iA * rA.x * rA.x + iB * rB.x * rB.x;\n\n    var impulse = Vec2.neg(K.solve(C)); // Vec2\n\n    cA.subMul(mA, impulse);\n    aA -= iA * Vec2.cross(rA, impulse);\n\n    cB.addMul(mB, impulse);\n    aB += iB * Vec2.cross(rB, impulse);\n  }\n\n  this.m_bodyA.c_position.c.set(cA);\n  this.m_bodyA.c_position.a = aA;\n  this.m_bodyB.c_position.c.set(cB);\n  this.m_bodyB.c_position.a = aB;\n\n  return positionError <= Settings.linearSlop\n      && angularError <= Settings.angularSlop;\n}\n","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nmodule.exports = PrismaticJoint;\n\nvar common = require('../util/common');\nvar options = require('../util/options');\nvar create = require('../util/create');\nvar Settings = require('../Settings');\n\nvar Math = require('../common/Math');\nvar Vec2 = require('../common/Vec2');\nvar Vec3 = require('../common/Vec3');\nvar Mat22 = require('../common/Mat22');\nvar Mat33 = require('../common/Mat33');\nvar Rot = require('../common/Rot');\nvar Sweep = require('../common/Sweep');\nvar Transform = require('../common/Transform');\nvar Velocity = require('../common/Velocity');\nvar Position = require('../common/Position');\n\nvar Joint = require('../Joint');\n\nvar inactiveLimit = 0;\nvar atLowerLimit = 1;\nvar atUpperLimit = 2;\nvar equalLimits = 3;\n\nPrismaticJoint.TYPE = 'prismatic-joint';\n\nPrismaticJoint._super = Joint;\nPrismaticJoint.prototype = create(PrismaticJoint._super.prototype);\n\n/**\n * @typedef {Object} PrismaticJointDef\n *\n * Prismatic joint definition. This requires defining a line of motion using an\n * axis and an anchor point. The definition uses local anchor points and a local\n * axis so that the initial configuration can violate the constraint slightly.\n * The joint translation is zero when the local anchor points coincide in world\n * space. Using local anchors and a local axis helps when saving and loading a\n * game.\n * \n * @prop {boolean} enableLimit Enable/disable the joint limit.\n * @prop {float} lowerTranslation The lower translation limit, usually in\n *       meters.\n * @prop {float} upperTranslation The upper translation limit, usually in\n *       meters.\n * @prop {boolean} enableMotor Enable/disable the joint motor.\n * @prop {float} maxMotorForce The maximum motor torque, usually in N-m.\n * @prop {float} motorSpeed The desired motor speed in radians per second.\n *\n * @prop {Vec2} localAnchorA The local anchor point relative to bodyA's origin.\n * @prop {Vec2} localAnchorB The local anchor point relative to bodyB's origin.\n * @prop {Vec2} localAxisA The local translation unit axis in bodyA.\n * @prop {float} referenceAngle The constrained angle between the bodies:\n *       bodyB_angle - bodyA_angle.\n */\n\nvar DEFAULTS = {\n  enableLimit : false,\n  lowerTranslation : 0.0,\n  upperTranslation : 0.0,\n  enableMotor : false,\n  maxMotorForce : 0.0,\n  motorSpeed : 0.0\n};\n\n/**\n * A prismatic joint. This joint provides one degree of freedom: translation\n * along an axis fixed in bodyA. Relative rotation is prevented. You can use a\n * joint limit to restrict the range of motion and a joint motor to drive the\n * motion or to model joint friction.\n *\n * @param {PrismaticJointDef} def\n * @param {Body} bodyA\n * @param {Body} bodyB\n */\nfunction PrismaticJoint(def, bodyA, bodyB, anchor, axis) {\n  if (!(this instanceof PrismaticJoint)) {\n    return new PrismaticJoint(def, bodyA, bodyB, anchor, axis);\n  }\n\n  def = options(def, DEFAULTS);\n  Joint.call(this, def, bodyA, bodyB);\n  bodyA = this.m_bodyA;\n  bodyB = this.m_bodyB;\n\n  this.m_type = PrismaticJoint.TYPE;\n\n  this.m_localAnchorA = anchor ? bodyA.getLocalPoint(anchor) : def.localAnchorA || Vec2.zero();\n  this.m_localAnchorB = anchor ? bodyB.getLocalPoint(anchor) : def.localAnchorB || Vec2.zero();\n  this.m_localXAxisA = axis ? bodyA.getLocalVector(axis) : def.localAxisA || Vec2.neo(1.0, 0.0);\n  this.m_localXAxisA.normalize();\n  this.m_localYAxisA = Vec2.cross(1.0, this.m_localXAxisA);\n  this.m_referenceAngle = Math.isFinite(def.referenceAngle) ? def.referenceAngle : bodyB.getAngle() - bodyA.getAngle();\n\n  this.m_impulse = Vec3();\n  this.m_motorMass = 0.0;\n  this.m_motorImpulse = 0.0;\n\n  this.m_lowerTranslation = def.lowerTranslation;\n  this.m_upperTranslation = def.upperTranslation;\n  this.m_maxMotorForce = def.maxMotorForce;\n  this.m_motorSpeed = def.motorSpeed;\n  this.m_enableLimit = def.enableLimit;\n  this.m_enableMotor = def.enableMotor;\n  this.m_limitState = inactiveLimit;\n\n  this.m_axis = Vec2.zero();\n  this.m_perp = Vec2.zero();\n\n  // Solver temp\n  this.m_localCenterA; // Vec2\n  this.m_localCenterB; // Vec2\n  this.m_invMassA; // float\n  this.m_invMassB; // float\n  this.m_invIA; // float\n  this.m_invIB; // float\n  this.m_axis, this.m_perp; // Vec2\n  this.m_s1, this.m_s2; // float\n  this.m_a1, this.m_a2; // float\n  this.m_K = new Mat33();\n  this.m_motorMass; // float\n\n  // Linear constraint (point-to-line)\n  // d = p2 - p1 = x2 + r2 - x1 - r1\n  // C = dot(perp, d)\n  // Cdot = dot(d, cross(w1, perp)) + dot(perp, v2 + cross(w2, r2) - v1 -\n  // cross(w1, r1))\n  // = -dot(perp, v1) - dot(cross(d + r1, perp), w1) + dot(perp, v2) +\n  // dot(cross(r2, perp), v2)\n  // J = [-perp, -cross(d + r1, perp), perp, cross(r2,perp)]\n  //\n  // Angular constraint\n  // C = a2 - a1 + a_initial\n  // Cdot = w2 - w1\n  // J = [0 0 -1 0 0 1]\n  //\n  // K = J * invM * JT\n  //\n  // J = [-a -s1 a s2]\n  // [0 -1 0 1]\n  // a = perp\n  // s1 = cross(d + r1, a) = cross(p2 - x1, a)\n  // s2 = cross(r2, a) = cross(p2 - x2, a)\n\n  // Motor/Limit linear constraint\n  // C = dot(ax1, d)\n  // Cdot = = -dot(ax1, v1) - dot(cross(d + r1, ax1), w1) + dot(ax1, v2) +\n  // dot(cross(r2, ax1), v2)\n  // J = [-ax1 -cross(d+r1,ax1) ax1 cross(r2,ax1)]\n\n  // Block Solver\n  // We develop a block solver that includes the joint limit. This makes the\n  // limit stiff (inelastic) even\n  // when the mass has poor distribution (leading to large torques about the\n  // joint anchor points).\n  //\n  // The Jacobian has 3 rows:\n  // J = [-uT -s1 uT s2] // linear\n  // [0 -1 0 1] // angular\n  // [-vT -a1 vT a2] // limit\n  //\n  // u = perp\n  // v = axis\n  // s1 = cross(d + r1, u), s2 = cross(r2, u)\n  // a1 = cross(d + r1, v), a2 = cross(r2, v)\n\n  // M * (v2 - v1) = JT * df\n  // J * v2 = bias\n  //\n  // v2 = v1 + invM * JT * df\n  // J * (v1 + invM * JT * df) = bias\n  // K * df = bias - J * v1 = -Cdot\n  // K = J * invM * JT\n  // Cdot = J * v1 - bias\n  //\n  // Now solve for f2.\n  // df = f2 - f1\n  // K * (f2 - f1) = -Cdot\n  // f2 = invK * (-Cdot) + f1\n  //\n  // Clamp accumulated limit impulse.\n  // lower: f2(3) = max(f2(3), 0)\n  // upper: f2(3) = min(f2(3), 0)\n  //\n  // Solve for correct f2(1:2)\n  // K(1:2, 1:2) * f2(1:2) = -Cdot(1:2) - K(1:2,3) * f2(3) + K(1:2,1:3) * f1\n  // = -Cdot(1:2) - K(1:2,3) * f2(3) + K(1:2,1:2) * f1(1:2) + K(1:2,3) * f1(3)\n  // K(1:2, 1:2) * f2(1:2) = -Cdot(1:2) - K(1:2,3) * (f2(3) - f1(3)) +\n  // K(1:2,1:2) * f1(1:2)\n  // f2(1:2) = invK(1:2,1:2) * (-Cdot(1:2) - K(1:2,3) * (f2(3) - f1(3))) +\n  // f1(1:2)\n  //\n  // Now compute impulse to be applied:\n  // df = f2 - f1\n}\n\n/**\n * The local anchor point relative to bodyA's origin.\n */\nPrismaticJoint.prototype.getLocalAnchorA = function() {\n  return this.m_localAnchorA;\n}\n\n/**\n * The local anchor point relative to bodyB's origin.\n */\nPrismaticJoint.prototype.getLocalAnchorB = function() {\n  return this.m_localAnchorB;\n}\n\n/**\n * The local joint axis relative to bodyA.\n */\nPrismaticJoint.prototype.getLocalAxisA = function() {\n  return this.m_localXAxisA;\n}\n\n/**\n * Get the reference angle.\n */\nPrismaticJoint.prototype.getReferenceAngle = function() {\n  return this.m_referenceAngle;\n}\n\n/**\n * Get the current joint translation, usually in meters.\n */\nPrismaticJoint.prototype.getJointTranslation = function() {\n  var pA = this.m_bodyA.getWorldPoint(this.m_localAnchorA);\n  var pB = this.m_bodyB.getWorldPoint(this.m_localAnchorB);\n  var d = Vec2.sub(pB, pA);\n  var axis = this.m_bodyA.getWorldVector(this.m_localXAxisA);\n\n  var translation = Vec2.dot(d, axis);\n  return translation;\n}\n\n/**\n * Get the current joint translation speed, usually in meters per second.\n */\nPrismaticJoint.prototype.getJointSpeed = function() {\n  var bA = this.m_bodyA;\n  var bB = this.m_bodyB;\n\n  var rA = Rot.mulVec2(bA.m_xf.q, Vec2.sub(this.m_localAnchorA, bA.m_sweep.localCenter)); // Vec2\n  var rB = Rot.mulVec2(bB.m_xf.q, Vec2.sub(this.m_localAnchorB, bB.m_sweep.localCenter)); // Vec2\n  var p1 = Vec2.add(bA.m_sweep.c, rA); // Vec2\n  var p2 = Vec2.add(bB.m_sweep.c, rB); // Vec2\n  var d = Vec2.sub(p2, p1); // Vec2\n  var axis = Rot.mulVec2(bA.m_xf.q, this.m_localXAxisA); // Vec2\n\n  var vA = bA.m_linearVelocity; // Vec2\n  var vB = bB.m_linearVelocity; // Vec2\n  var wA = bA.m_angularVelocity; // float\n  var wB = bB.m_angularVelocity; // float\n\n  var speed = Vec2.dot(d, Vec2.cross(wA, axis))\n      + Vec2.dot(axis, Vec2.sub(Vec2.addCross(vB, wB, rB), Vec2.addCross(vA, wA, rA))); // float\n  return speed;\n}\n\n/**\n * Is the joint limit enabled?\n */\nPrismaticJoint.prototype.isLimitEnabled = function() {\n  return this.m_enableLimit;\n}\n\n/**\n * Enable/disable the joint limit.\n */\nPrismaticJoint.prototype.enableLimit = function(flag) {\n  if (flag != this.m_enableLimit) {\n    this.m_bodyA.setAwake(true);\n    this.m_bodyB.setAwake(true);\n    this.m_enableLimit = flag;\n    this.m_impulse.z = 0.0;\n  }\n}\n\n/**\n * Get the lower joint limit, usually in meters.\n */\nPrismaticJoint.prototype.getLowerLimit = function() {\n  return this.m_lowerTranslation;\n}\n\n/**\n * Get the upper joint limit, usually in meters.\n */\nPrismaticJoint.prototype.getUpperLimit = function() {\n  return this.m_upperTranslation;\n}\n\n/**\n * Set the joint limits, usually in meters.\n */\nPrismaticJoint.prototype.setLimits = function(lower, upper) {\n  _ASSERT && common.assert(lower <= upper);\n  if (lower != this.m_lowerTranslation || upper != this.m_upperTranslation) {\n    this.m_bodyA.setAwake(true);\n    this.m_bodyB.setAwake(true);\n    this.m_lowerTranslation = lower;\n    this.m_upperTranslation = upper;\n    this.m_impulse.z = 0.0;\n  }\n}\n\n/**\n * Is the joint motor enabled?\n */\nPrismaticJoint.prototype.isMotorEnabled = function() {\n  return this.m_enableMotor;\n}\n\n/**\n * Enable/disable the joint motor.\n */\nPrismaticJoint.prototype.enableMotor = function(flag) {\n  this.m_bodyA.setAwake(true);\n  this.m_bodyB.setAwake(true);\n  this.m_enableMotor = flag;\n}\n\n/**\n * Set the motor speed, usually in meters per second.\n */\nPrismaticJoint.prototype.setMotorSpeed = function(speed) {\n  this.m_bodyA.setAwake(true);\n  this.m_bodyB.setAwake(true);\n  this.m_motorSpeed = speed;\n}\n\n/**\n * Set the maximum motor force, usually in N.\n */\nPrismaticJoint.prototype.setMaxMotorForce = function(force) {\n  this.m_bodyA.setAwake(true);\n  this.m_bodyB.setAwake(true);\n  this.m_maxMotorForce = force;\n}\n\n/**\n * Get the motor speed, usually in meters per second.\n */\nPrismaticJoint.prototype.getMotorSpeed = function() {\n  return this.m_motorSpeed;\n}\n\n/**\n * Get the current motor force given the inverse time step, usually in N.\n */\nPrismaticJoint.prototype.getMotorForce = function(inv_dt) {\n  return inv_dt * this.m_motorImpulse;\n}\n\nPrismaticJoint.prototype.getAnchorA = function() {\n  return this.m_bodyA.getWorldPoint(this.m_localAnchorA);\n}\n\nPrismaticJoint.prototype.getAnchorB = function() {\n  return this.m_bodyB.getWorldPoint(this.m_localAnchorB);\n}\n\nPrismaticJoint.prototype.getReactionForce = function(inv_dt) {\n  return Vec2.combine(this.m_impulse.x, this.m_perp, this.m_motorImpulse + this.m_impulse.z, this.m_axis).mul(inv_dt);\n}\n\nPrismaticJoint.prototype.getReactionTorque = function(inv_dt) {\n  return inv_dt * this.m_impulse.y;\n}\n\nPrismaticJoint.prototype.initVelocityConstraints = function(step) {\n  this.m_localCenterA = this.m_bodyA.m_sweep.localCenter;\n  this.m_localCenterB = this.m_bodyB.m_sweep.localCenter;\n  this.m_invMassA = this.m_bodyA.m_invMass;\n  this.m_invMassB = this.m_bodyB.m_invMass;\n  this.m_invIA = this.m_bodyA.m_invI;\n  this.m_invIB = this.m_bodyB.m_invI;\n\n  var cA = this.m_bodyA.c_position.c;\n  var aA = this.m_bodyA.c_position.a;\n  var vA = this.m_bodyA.c_velocity.v;\n  var wA = this.m_bodyA.c_velocity.w;\n\n  var cB = this.m_bodyB.c_position.c;\n  var aB = this.m_bodyB.c_position.a;\n  var vB = this.m_bodyB.c_velocity.v;\n  var wB = this.m_bodyB.c_velocity.w;\n\n  var qA = Rot.neo(aA);\n  var qB = Rot.neo(aB);\n\n  // Compute the effective masses.\n  var rA = Rot.mulVec2(qA, Vec2.sub(this.m_localAnchorA, this.m_localCenterA));\n  var rB = Rot.mulVec2(qB, Vec2.sub(this.m_localAnchorB, this.m_localCenterB));\n  var d = Vec2.zero();\n  d.addCombine(1, cB, 1, rB);\n  d.subCombine(1, cA, 1, rA);\n\n  var mA = this.m_invMassA, mB = this.m_invMassB;\n  var iA = this.m_invIA, iB = this.m_invIB;\n\n  // Compute motor Jacobian and effective mass.\n  {\n    this.m_axis = Rot.mulVec2(qA, this.m_localXAxisA);\n    this.m_a1 = Vec2.cross(Vec2.add(d, rA), this.m_axis);\n    this.m_a2 = Vec2.cross(rB, this.m_axis);\n\n    this.m_motorMass = mA + mB + iA * this.m_a1 * this.m_a1 + iB * this.m_a2\n        * this.m_a2;\n    if (this.m_motorMass > 0.0) {\n      this.m_motorMass = 1.0 / this.m_motorMass;\n    }\n  }\n\n  // Prismatic constraint.\n  {\n    this.m_perp = Rot.mulVec2(qA, this.m_localYAxisA);\n\n    this.m_s1 = Vec2.cross(Vec2.add(d, rA), this.m_perp);\n    this.m_s2 = Vec2.cross(rB, this.m_perp);\n\n    var s1test = Vec2.cross(rA, this.m_perp);\n\n    var k11 = mA + mB + iA * this.m_s1 * this.m_s1 + iB * this.m_s2 * this.m_s2;\n    var k12 = iA * this.m_s1 + iB * this.m_s2;\n    var k13 = iA * this.m_s1 * this.m_a1 + iB * this.m_s2 * this.m_a2;\n    var k22 = iA + iB;\n    if (k22 == 0.0) {\n      // For bodies with fixed rotation.\n      k22 = 1.0;\n    }\n    var k23 = iA * this.m_a1 + iB * this.m_a2;\n    var k33 = mA + mB + iA * this.m_a1 * this.m_a1 + iB * this.m_a2 * this.m_a2;\n\n    this.m_K.ex.set(k11, k12, k13);\n    this.m_K.ey.set(k12, k22, k23);\n    this.m_K.ez.set(k13, k23, k33);\n  }\n\n  // Compute motor and limit terms.\n  if (this.m_enableLimit) {\n\n    var jointTranslation = Vec2.dot(this.m_axis, d); // float\n    if (Math.abs(this.m_upperTranslation - this.m_lowerTranslation) < 2.0 * Settings.linearSlop) {\n      this.m_limitState = equalLimits;\n\n    } else if (jointTranslation <= this.m_lowerTranslation) {\n      if (this.m_limitState != atLowerLimit) {\n        this.m_limitState = atLowerLimit;\n        this.m_impulse.z = 0.0;\n      }\n\n    } else if (jointTranslation >= this.m_upperTranslation) {\n      if (this.m_limitState != atUpperLimit) {\n        this.m_limitState = atUpperLimit;\n        this.m_impulse.z = 0.0;\n      }\n\n    } else {\n      this.m_limitState = inactiveLimit;\n      this.m_impulse.z = 0.0;\n    }\n\n  } else {\n    this.m_limitState = inactiveLimit;\n    this.m_impulse.z = 0.0;\n  }\n\n  if (this.m_enableMotor == false) {\n    this.m_motorImpulse = 0.0;\n  }\n\n  if (step.warmStarting) {\n    // Account for variable time step.\n    this.m_impulse.mul(step.dtRatio);\n    this.m_motorImpulse *= step.dtRatio;\n\n    var P = Vec2.combine(this.m_impulse.x, this.m_perp, this.m_motorImpulse\n        + this.m_impulse.z, this.m_axis);\n    var LA = this.m_impulse.x * this.m_s1 + this.m_impulse.y\n        + (this.m_motorImpulse + this.m_impulse.z) * this.m_a1;\n    var LB = this.m_impulse.x * this.m_s2 + this.m_impulse.y\n        + (this.m_motorImpulse + this.m_impulse.z) * this.m_a2;\n\n    vA.subMul(mA, P);\n    wA -= iA * LA;\n\n    vB.addMul(mB, P);\n    wB += iB * LB;\n  } else {\n    this.m_impulse.setZero();\n    this.m_motorImpulse = 0.0;\n  }\n\n  this.m_bodyA.c_velocity.v.set(vA);\n  this.m_bodyA.c_velocity.w = wA;\n  this.m_bodyB.c_velocity.v.set(vB);\n  this.m_bodyB.c_velocity.w = wB;\n}\n\nPrismaticJoint.prototype.solveVelocityConstraints = function(step) {\n  var vA = this.m_bodyA.c_velocity.v;\n  var wA = this.m_bodyA.c_velocity.w;\n  var vB = this.m_bodyB.c_velocity.v;\n  var wB = this.m_bodyB.c_velocity.w;\n\n  var mA = this.m_invMassA;\n  var mB = this.m_invMassB;\n  var iA = this.m_invIA;\n  var iB = this.m_invIB;\n\n  // Solve linear motor constraint.\n  if (this.m_enableMotor && this.m_limitState != equalLimits) {\n    var Cdot = Vec2.dot(this.m_axis, Vec2.sub(vB, vA)) + this.m_a2 * wB\n        - this.m_a1 * wA;\n    var impulse = this.m_motorMass * (this.m_motorSpeed - Cdot);\n    var oldImpulse = this.m_motorImpulse;\n    var maxImpulse = step.dt * this.m_maxMotorForce;\n    this.m_motorImpulse = Math.clamp(this.m_motorImpulse + impulse,\n        -maxImpulse, maxImpulse);\n    impulse = this.m_motorImpulse - oldImpulse;\n\n    var P = Vec2.mul(impulse, this.m_axis);\n    var LA = impulse * this.m_a1;\n    var LB = impulse * this.m_a2;\n\n    vA.subMul(mA, P);\n    wA -= iA * LA;\n\n    vB.addMul(mB, P);\n    wB += iB * LB;\n  }\n\n  var Cdot1 = Vec2.zero();\n  Cdot1.x += Vec2.dot(this.m_perp, vB) + this.m_s2 * wB;\n  Cdot1.x -= Vec2.dot(this.m_perp, vA) + this.m_s1 * wA;\n  Cdot1.y = wB - wA;\n\n  if (this.m_enableLimit && this.m_limitState != inactiveLimit) {\n    // Solve prismatic and limit constraint in block form.\n    var Cdot2 = 0;\n    Cdot2 += Vec2.dot(this.m_axis, vB) + this.m_a2 * wB;\n    Cdot2 -= Vec2.dot(this.m_axis, vA) + this.m_a1 * wA;\n\n    var Cdot = Vec3(Cdot1.x, Cdot1.y, Cdot2);\n\n    var f1 = Vec3(this.m_impulse);\n    var df = this.m_K.solve33(Vec3.neg(Cdot)); // Vec3\n    this.m_impulse.add(df);\n\n    if (this.m_limitState == atLowerLimit) {\n      this.m_impulse.z = Math.max(this.m_impulse.z, 0.0);\n    } else if (this.m_limitState == atUpperLimit) {\n      this.m_impulse.z = Math.min(this.m_impulse.z, 0.0);\n    }\n\n    // f2(1:2) = invK(1:2,1:2) * (-Cdot(1:2) - K(1:2,3) * (f2(3) - f1(3))) +\n    // f1(1:2)\n    var b = Vec2.combine(-1, Cdot1, -(this.m_impulse.z - f1.z), Vec2.neo(this.m_K.ez.x, this.m_K.ez.y)); // Vec2\n    var f2r = Vec2.add(this.m_K.solve22(b), Vec2.neo(f1.x, f1.y)); // Vec2\n    this.m_impulse.x = f2r.x;\n    this.m_impulse.y = f2r.y;\n\n    df = Vec3.sub(this.m_impulse, f1);\n\n    var P = Vec2.combine(df.x, this.m_perp, df.z, this.m_axis); // Vec2\n    var LA = df.x * this.m_s1 + df.y + df.z * this.m_a1; // float\n    var LB = df.x * this.m_s2 + df.y + df.z * this.m_a2; // float\n\n    vA.subMul(mA, P);\n    wA -= iA * LA;\n\n    vB.addMul(mB, P);\n    wB += iB * LB;\n  } else {\n    // Limit is inactive, just solve the prismatic constraint in block form.\n    var df = this.m_K.solve22(Vec2.neg(Cdot1)); // Vec2\n    this.m_impulse.x += df.x;\n    this.m_impulse.y += df.y;\n\n    var P = Vec2.mul(df.x, this.m_perp); // Vec2\n    var LA = df.x * this.m_s1 + df.y; // float\n    var LB = df.x * this.m_s2 + df.y; // float\n\n    vA.subMul(mA, P);\n    wA -= iA * LA;\n\n    vB.addMul(mB, P);\n    wB += iB * LB;\n  }\n\n  this.m_bodyA.c_velocity.v = vA;\n  this.m_bodyA.c_velocity.w = wA;\n  this.m_bodyB.c_velocity.v = vB;\n  this.m_bodyB.c_velocity.w = wB;\n}\n\nPrismaticJoint.prototype.solvePositionConstraints = function(step) {\n  var cA = this.m_bodyA.c_position.c;\n  var aA = this.m_bodyA.c_position.a;\n  var cB = this.m_bodyB.c_position.c;\n  var aB = this.m_bodyB.c_position.a;\n\n  var qA = Rot.neo(aA);\n  var qB = Rot.neo(aB);\n\n  var mA = this.m_invMassA;\n  var mB = this.m_invMassB;\n  var iA = this.m_invIA;\n  var iB = this.m_invIB;\n\n  // Compute fresh Jacobians\n  var rA = Rot.mulVec2(qA, Vec2.sub(this.m_localAnchorA, this.m_localCenterA)); // Vec2\n  var rB = Rot.mulVec2(qB, Vec2.sub(this.m_localAnchorB, this.m_localCenterB)); // Vec2\n  var d = Vec2.sub(Vec2.add(cB, rB), Vec2.add(cA, rA)); // Vec2\n\n  var axis = Rot.mulVec2(qA, this.m_localXAxisA); // Vec2\n  var a1 = Vec2.cross(Vec2.add(d, rA), axis); // float\n  var a2 = Vec2.cross(rB, axis); // float\n  var perp = Rot.mulVec2(qA, this.m_localYAxisA); // Vec2\n\n  var s1 = Vec2.cross(Vec2.add(d, rA), perp); // float\n  var s2 = Vec2.cross(rB, perp); // float\n\n  var impulse = Vec3();\n  var C1 = Vec2.zero(); // Vec2\n  C1.x = Vec2.dot(perp, d);\n  C1.y = aB - aA - this.m_referenceAngle;\n\n  var linearError = Math.abs(C1.x); // float\n  var angularError = Math.abs(C1.y); // float\n\n  var linearSlop = Settings.linearSlop;\n  var maxLinearCorrection = Settings.maxLinearCorrection;\n\n  var active = false; // bool\n  var C2 = 0.0; // float\n  if (this.m_enableLimit) {\n\n    var translation = Vec2.dot(axis, d); // float\n    if (Math.abs(this.m_upperTranslation - this.m_lowerTranslation) < 2.0 * linearSlop) {\n      // Prevent large angular corrections\n      C2 = Math.clamp(translation, -maxLinearCorrection, maxLinearCorrection);\n      linearError = Math.max(linearError, Math.abs(translation));\n      active = true;\n\n    } else if (translation <= this.m_lowerTranslation) {\n      // Prevent large linear corrections and allow some slop.\n      C2 = Math.clamp(translation - this.m_lowerTranslation + linearSlop,\n          -maxLinearCorrection, 0.0);\n      linearError = Math\n          .max(linearError, this.m_lowerTranslation - translation);\n      active = true;\n\n    } else if (translation >= this.m_upperTranslation) {\n      // Prevent large linear corrections and allow some slop.\n      C2 = Math.clamp(translation - this.m_upperTranslation - linearSlop, 0.0,\n          maxLinearCorrection);\n      linearError = Math\n          .max(linearError, translation - this.m_upperTranslation);\n      active = true;\n    }\n  }\n\n  if (active) {\n    var k11 = mA + mB + iA * s1 * s1 + iB * s2 * s2; // float\n    var k12 = iA * s1 + iB * s2; // float\n    var k13 = iA * s1 * a1 + iB * s2 * a2; // float\n    var k22 = iA + iB; // float\n    if (k22 == 0.0) {\n      // For fixed rotation\n      k22 = 1.0;\n    }\n    var k23 = iA * a1 + iB * a2; // float\n    var k33 = mA + mB + iA * a1 * a1 + iB * a2 * a2; // float\n\n    var K = new Mat33()\n    K.ex.set(k11, k12, k13);\n    K.ey.set(k12, k22, k23);\n    K.ez.set(k13, k23, k33);\n\n    var C = Vec3();\n    C.x = C1.x;\n    C.y = C1.y;\n    C.z = C2;\n\n    impulse = K.solve33(Vec3.neg(C));\n  } else {\n    var k11 = mA + mB + iA * s1 * s1 + iB * s2 * s2; // float\n    var k12 = iA * s1 + iB * s2; // float\n    var k22 = iA + iB; // float\n    if (k22 == 0.0) {\n      k22 = 1.0;\n    }\n\n    var K = new Mat22();\n    K.ex.set(k11, k12);\n    K.ey.set(k12, k22);\n\n    var impulse1 = K.solve(Vec2.neg(C1)); // Vec2\n    impulse.x = impulse1.x;\n    impulse.y = impulse1.y;\n    impulse.z = 0.0;\n  }\n\n  var P = Vec2.combine(impulse.x, perp, impulse.z, axis); // Vec2\n  var LA = impulse.x * s1 + impulse.y + impulse.z * a1; // float\n  var LB = impulse.x * s2 + impulse.y + impulse.z * a2; // float\n\n  cA.subMul(mA, P);\n  aA -= iA * LA;\n  cB.addMul(mB, P);\n  aB += iB * LB;\n\n  this.m_bodyA.c_position.c = cA;\n  this.m_bodyA.c_position.a = aA;\n  this.m_bodyB.c_position.c = cB;\n  this.m_bodyB.c_position.a = aB;\n\n  return linearError <= Settings.linearSlop\n      && angularError <= Settings.angularSlop;\n}\n","'use strict';\n\nfunction checkDCE() {\n  /* global __REACT_DEVTOOLS_GLOBAL_HOOK__ */\n  if (\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__ === 'undefined' ||\n    typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE !== 'function'\n  ) {\n    return;\n  }\n  if (process.env.NODE_ENV !== 'production') {\n    // This branch is unreachable because this function is only called\n    // in production, but the condition is true only in development.\n    // Therefore if the branch is still here, dead code elimination wasn't\n    // properly applied.\n    // Don't change the message. React DevTools relies on it. Also make sure\n    // this message doesn't occur elsewhere in this function, or it will cause\n    // a false positive.\n    throw new Error('^_^');\n  }\n  try {\n    // Verify that the code above has been dead code eliminated (DCE'd).\n    __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE);\n  } catch (err) {\n    // DevTools shouldn't crash React, no matter what.\n    // We should still report in case we break this code.\n    console.error(err);\n  }\n}\n\nif (process.env.NODE_ENV === 'production') {\n  // DCE check should happen before ReactDOM bundle executes so that\n  // DevTools can report bad minification during injection.\n  checkDCE();\n  module.exports = require('./cjs/react-dom.production.min.js');\n} else {\n  module.exports = require('./cjs/react-dom.development.js');\n}\n","export default function _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}","(function (factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? (module['exports'] = factory()) :\n\t\ttypeof define === 'function' && define['amd'] ? define(factory()) :\n\t\t\t(window['stylisRuleSheet'] = factory())\n}(function () {\n\n\t'use strict'\n\n\treturn function (insertRule) {\n\t\tvar delimiter = '/*|*/'\n\t\tvar needle = delimiter+'}'\n\n\t\tfunction toSheet (block) {\n\t\t\tif (block)\n\t\t\t\ttry {\n\t\t\t\t\tinsertRule(block + '}')\n\t\t\t\t} catch (e) {}\n\t\t}\n\n\t\treturn function ruleSheet (context, content, selectors, parents, line, column, length, ns, depth, at) {\n\t\t\tswitch (context) {\n\t\t\t\t// property\n\t\t\t\tcase 1:\n\t\t\t\t\t// @import\n\t\t\t\t\tif (depth === 0 && content.charCodeAt(0) === 64)\n\t\t\t\t\t\treturn insertRule(content+';'), ''\n\t\t\t\t\tbreak\n\t\t\t\t// selector\n\t\t\t\tcase 2:\n\t\t\t\t\tif (ns === 0)\n\t\t\t\t\t\treturn content + delimiter\n\t\t\t\t\tbreak\n\t\t\t\t// at-rule\n\t\t\t\tcase 3:\n\t\t\t\t\tswitch (ns) {\n\t\t\t\t\t\t// @font-face, @page\n\t\t\t\t\t\tcase 102:\n\t\t\t\t\t\tcase 112:\n\t\t\t\t\t\t\treturn insertRule(selectors[0]+content), ''\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\treturn content + (at === 0 ? delimiter : '')\n\t\t\t\t\t}\n\t\t\t\tcase -2:\n\t\t\t\t\tcontent.split(needle).forEach(toSheet)\n\t\t\t}\n\t\t}\n\t}\n}))\n","var unitlessKeys = {\n  animationIterationCount: 1,\n  borderImageOutset: 1,\n  borderImageSlice: 1,\n  borderImageWidth: 1,\n  boxFlex: 1,\n  boxFlexGroup: 1,\n  boxOrdinalGroup: 1,\n  columnCount: 1,\n  columns: 1,\n  flex: 1,\n  flexGrow: 1,\n  flexPositive: 1,\n  flexShrink: 1,\n  flexNegative: 1,\n  flexOrder: 1,\n  gridRow: 1,\n  gridRowEnd: 1,\n  gridRowSpan: 1,\n  gridRowStart: 1,\n  gridColumn: 1,\n  gridColumnEnd: 1,\n  gridColumnSpan: 1,\n  gridColumnStart: 1,\n  msGridRow: 1,\n  msGridRowSpan: 1,\n  msGridColumn: 1,\n  msGridColumnSpan: 1,\n  fontWeight: 1,\n  lineHeight: 1,\n  opacity: 1,\n  order: 1,\n  orphans: 1,\n  tabSize: 1,\n  widows: 1,\n  zIndex: 1,\n  zoom: 1,\n  WebkitLineClamp: 1,\n  // SVG-related properties\n  fillOpacity: 1,\n  floodOpacity: 1,\n  stopOpacity: 1,\n  strokeDasharray: 1,\n  strokeDashoffset: 1,\n  strokeMiterlimit: 1,\n  strokeOpacity: 1,\n  strokeWidth: 1\n};\n\nexport default unitlessKeys;\n","/*\r\n\timagetracer.js version 1.2.5\r\n\tSimple raster image tracer and vectorizer written in JavaScript.\r\n\tandras@jankovics.net\r\n*/\r\n\r\n/*\r\n\r\nThe Unlicense / PUBLIC DOMAIN\r\n\r\nThis is free and unencumbered software released into the public domain.\r\n\r\nAnyone is free to copy, modify, publish, use, compile, sell, or\r\ndistribute this software, either in source code form or as a compiled\r\nbinary, for any purpose, commercial or non-commercial, and by any\r\nmeans.\r\n\r\nIn jurisdictions that recognize copyright laws, the author or authors\r\nof this software dedicate any and all copyright interest in the\r\nsoftware to the public domain. We make this dedication for the benefit\r\nof the public at large and to the detriment of our heirs and\r\nsuccessors. We intend this dedication to be an overt act of\r\nrelinquishment in perpetuity of all present and future rights to this\r\nsoftware under copyright law.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\r\nIN NO EVENT SHALL THE AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR\r\nOTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\r\nARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\r\nOTHER DEALINGS IN THE SOFTWARE.\r\n\r\nFor more information, please refer to http://unlicense.org/\r\n\r\n*/\r\n\r\n(function(){ 'use strict';\r\n\r\nfunction ImageTracer(){\r\n\tvar _this = this;\r\n\r\n\tthis.versionnumber = '1.2.5',\r\n\t\r\n\t////////////////////////////////////////////////////////////\r\n\t//\r\n\t//  User friendly functions\r\n\t//\r\n\t////////////////////////////////////////////////////////////\r\n\t\r\n\t// Loading an image from a URL, tracing when loaded,\r\n\t// then executing callback with the scaled svg string as argument\r\n\tthis.imageToSVG = function( url, callback, options ){\r\n\t\toptions = _this.checkoptions(options);\r\n\t\t// loading image, tracing and callback\r\n\t\t_this.loadImage(\r\n\t\t\turl,\r\n\t\t\tfunction(canvas){\r\n\t\t\t\tcallback(\r\n\t\t\t\t\t_this.imagedataToSVG( _this.getImgdata(canvas), options )\r\n\t\t\t\t);\r\n\t\t\t},\r\n\t\t\toptions\r\n\t\t);\r\n\t},// End of imageToSVG()\r\n\t\r\n\t// Tracing imagedata, then returning the scaled svg string\r\n\tthis.imagedataToSVG = function( imgd, options ){\r\n\t\toptions = _this.checkoptions(options);\r\n\t\t// tracing imagedata\r\n\t\tvar td = _this.imagedataToTracedata( imgd, options );\r\n\t\t// returning SVG string\r\n\t\treturn _this.getsvgstring(td, options);\r\n\t},// End of imagedataToSVG()\r\n\t\r\n\t// Loading an image from a URL, tracing when loaded,\r\n\t// then executing callback with tracedata as argument\r\n\tthis.imageToTracedata = function( url, callback, options ){\r\n\t\toptions = _this.checkoptions(options);\r\n\t\t// loading image, tracing and callback\r\n\t\t_this.loadImage(\r\n\t\t\t\turl,\r\n\t\t\t\tfunction(canvas){\r\n\t\t\t\t\tcallback(\r\n\t\t\t\t\t\t_this.imagedataToTracedata( _this.getImgdata(canvas), options )\r\n\t\t\t\t\t);\r\n\t\t\t\t},\r\n\t\t\t\toptions\r\n\t\t);\r\n\t},// End of imageToTracedata()\r\n\t\r\n\t// Tracing imagedata, then returning tracedata (layers with paths, palette, image size)\r\n\tthis.imagedataToTracedata = function( imgd, options ){\r\n\t\toptions = _this.checkoptions(options);\r\n\t\t\r\n\t\t// 1. Color quantization\r\n\t\tvar ii = _this.colorquantization( imgd, options );\r\n\t\t\r\n\t\tif(options.layering === 0){// Sequential layering\r\n\t\t\t\r\n\t\t\t// create tracedata object\r\n\t\t\tvar tracedata = {\r\n\t\t\t\tlayers : [],\r\n\t\t\t\tpalette : ii.palette,\r\n\t\t\t\twidth : ii.array[0].length-2,\r\n\t\t\t\theight : ii.array.length-2\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\t// Loop to trace each color layer\r\n\t\t\tfor(var colornum=0; colornum<ii.palette.length; colornum++){\r\n\t\t\t\t\r\n\t\t\t\t// layeringstep -> pathscan -> internodes -> batchtracepaths\r\n\t\t\t\tvar tracedlayer =\r\n\t\t\t\t\t_this.batchtracepaths(\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t_this.internodes(\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t_this.pathscan(\r\n\t\t\t\t\t\t\t\t_this.layeringstep( ii, colornum ),\r\n\t\t\t\t\t\t\t\toptions.pathomit\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\toptions\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\toptions.ltres,\r\n\t\t\t\t\t\toptions.qtres\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t);\r\n\t\t\t\t\r\n\t\t\t\t// adding traced layer\r\n\t\t\t\ttracedata.layers.push(tracedlayer);\r\n\t\t\t\t\r\n\t\t\t}// End of color loop\r\n\t\t\t\r\n\t\t}else{// Parallel layering\r\n\t\t\t// 2. Layer separation and edge detection\r\n\t\t\tvar ls = _this.layering( ii );\r\n\t\t\t\r\n\t\t\t// Optional edge node visualization\r\n\t\t\tif(options.layercontainerid){ _this.drawLayers( ls, _this.specpalette, options.scale, options.layercontainerid ); }\r\n\t\t\t\r\n\t\t\t// 3. Batch pathscan\r\n\t\t\tvar bps = _this.batchpathscan( ls, options.pathomit );\r\n\t\t\t\r\n\t\t\t// 4. Batch interpollation\r\n\t\t\tvar bis = _this.batchinternodes( bps, options );\r\n\t\t\t\r\n\t\t\t// 5. Batch tracing and creating tracedata object\r\n\t\t\tvar tracedata = {\r\n\t\t\t\tlayers : _this.batchtracelayers( bis, options.ltres, options.qtres ),\r\n\t\t\t\tpalette : ii.palette,\r\n\t\t\t\twidth : imgd.width,\r\n\t\t\t\theight : imgd.height\r\n\t\t\t};\r\n\t\t\t\r\n\t\t}// End of parallel layering\r\n\t\t\r\n\t\t// return tracedata\r\n\t\treturn tracedata;\r\n\t\t\r\n\t},// End of imagedataToTracedata()\r\n\t\r\n\tthis.optionpresets = {\r\n\t\t'default': {\r\n\t\t\t\r\n\t\t\t// Tracing\r\n\t\t\tcorsenabled : false,\r\n\t\t\tltres : 1,\r\n\t\t\tqtres : 1,\r\n\t\t\tpathomit : 8,\r\n\t\t\trightangleenhance : true,\r\n\t\t\t\r\n\t\t\t// Color quantization\r\n\t\t\tcolorsampling : 2,\r\n\t\t\tnumberofcolors : 16,\r\n\t\t\tmincolorratio : 0,\r\n\t\t\tcolorquantcycles : 3,\r\n\t\t\t\r\n\t\t\t// Layering method\r\n\t\t\tlayering : 0,\r\n\t\t\t\r\n\t\t\t// SVG rendering\r\n\t\t\tstrokewidth : 1,\r\n\t\t\tlinefilter : false,\r\n\t\t\tscale : 1,\r\n\t\t\troundcoords : 1,\r\n\t\t\tviewbox : false,\r\n\t\t\tdesc : false,\r\n\t\t\tlcpr : 0,\r\n\t\t\tqcpr : 0,\r\n\t\t\t\r\n\t\t\t// Blur\r\n\t\t\tblurradius : 0,\r\n\t\t\tblurdelta : 20\r\n\t\t\t\r\n\t\t},\r\n\t\t'posterized1': { colorsampling:0, numberofcolors:2 },\r\n\t\t'posterized2': { numberofcolors:4, blurradius:5 },\r\n\t\t'curvy': { ltres:0.01, linefilter:true, rightangleenhance:false },\r\n\t\t'sharp': { qtres:0.01, linefilter:false },\r\n\t\t'detailed': { pathomit:0, roundcoords:2, ltres:0.5, qtres:0.5, numberofcolors:64 },\r\n\t\t'smoothed': { blurradius:5, blurdelta: 64 },\r\n\t\t'grayscale': { colorsampling:0, colorquantcycles:1, numberofcolors:7 },\r\n\t\t'fixedpalette': { colorsampling:0, colorquantcycles:1, numberofcolors:27 },\r\n\t\t'randomsampling1': { colorsampling:1, numberofcolors:8 },\r\n\t\t'randomsampling2': { colorsampling:1, numberofcolors:64 },\r\n\t\t'artistic1': { colorsampling:0, colorquantcycles:1, pathomit:0, blurradius:5, blurdelta: 64, ltres:0.01, linefilter:true, numberofcolors:16, strokewidth:2 },\r\n\t\t'artistic2': { qtres:0.01, colorsampling:0, colorquantcycles:1, numberofcolors:4, strokewidth:0 },\r\n\t\t'artistic3': { qtres:10, ltres:10, numberofcolors:8 },\r\n\t\t'artistic4': { qtres:10, ltres:10, numberofcolors:64, blurradius:5, blurdelta: 256, strokewidth:2 },\r\n\t\t'posterized3': { ltres: 1, qtres: 1, pathomit: 20, rightangleenhance: true, colorsampling: 0, numberofcolors: 3,\r\n\t\t\tmincolorratio: 0, colorquantcycles: 3, blurradius: 3, blurdelta: 20, strokewidth: 0, linefilter: false,\r\n\t\t\troundcoords: 1, pal: [ { r: 0, g: 0, b: 100, a: 255 }, { r: 255, g: 255, b: 255, a: 255 } ] }\r\n\t},// End of optionpresets\r\n\t\r\n\t// creating options object, setting defaults for missing values\r\n\tthis.checkoptions = function(options){\r\n\t\toptions = options || {};\r\n\t\t// Option preset\r\n\t\tif(typeof options === 'string'){\r\n\t\t\toptions = options.toLowerCase();\r\n\t\t\tif( _this.optionpresets[options] ){ options = _this.optionpresets[options]; }else{ options = {}; }\r\n\t\t}\r\n\t\t// Defaults\r\n\t\tvar ok = Object.keys(_this.optionpresets['default']);\r\n\t\tfor(var k=0; k<ok.length; k++){\r\n\t\t\tif(!options.hasOwnProperty(ok[k])){ options[ok[k]] = _this.optionpresets['default'][ok[k]]; }\r\n\t\t}\r\n\t\t// options.pal is not defined here, the custom palette should be added externally: options.pal = [ { 'r':0, 'g':0, 'b':0, 'a':255 }, {...}, ... ];\r\n\t\t// options.layercontainerid is not defined here, can be added externally: options.layercontainerid = 'mydiv'; ... <div id=\"mydiv\"></div>\r\n\t\treturn options;\r\n\t},// End of checkoptions()\r\n\t\r\n\t////////////////////////////////////////////////////////////\r\n\t//\r\n\t//  Vectorizing functions\r\n\t//\r\n\t////////////////////////////////////////////////////////////\r\n\t\r\n\t// 1. Color quantization\r\n\t// Using a form of k-means clustering repeatead options.colorquantcycles times. http://en.wikipedia.org/wiki/Color_quantization\r\n\tthis.colorquantization = function( imgd, options ){\r\n\t\tvar arr = [], idx=0, cd,cdl,ci, paletteacc = [], pixelnum = imgd.width * imgd.height, i, j, k, cnt, palette;\r\n\t\t\r\n\t\t// imgd.data must be RGBA, not just RGB\r\n\t\tif( imgd.data.length < pixelnum * 4 ){\r\n\t\t\tvar newimgddata = new Uint8ClampedArray(pixelnum * 4);\r\n\t\t\tfor(var pxcnt = 0; pxcnt < pixelnum ; pxcnt++){\r\n\t\t\t\tnewimgddata[pxcnt*4  ] = imgd.data[pxcnt*3  ];\r\n\t\t\t\tnewimgddata[pxcnt*4+1] = imgd.data[pxcnt*3+1];\r\n\t\t\t\tnewimgddata[pxcnt*4+2] = imgd.data[pxcnt*3+2];\r\n\t\t\t\tnewimgddata[pxcnt*4+3] = 255;\r\n\t\t\t}\r\n\t\t\timgd.data = newimgddata;\r\n\t\t}// End of RGBA imgd.data check\r\n\t\t\r\n\t\t// Filling arr (color index array) with -1\r\n\t\tfor( j=0; j<imgd.height+2; j++ ){ arr[j]=[]; for(i=0; i<imgd.width+2 ; i++){ arr[j][i] = -1; } }\r\n\t\t\r\n\t\t// Use custom palette if pal is defined or sample / generate custom length palette\r\n\t\tif(options.pal){\r\n\t\t\tpalette = options.pal;\r\n\t\t}else if(options.colorsampling === 0){\r\n\t\t\tpalette = _this.generatepalette(options.numberofcolors);\r\n\t\t}else if(options.colorsampling === 1){\r\n\t\t\tpalette = _this.samplepalette( options.numberofcolors, imgd );\r\n\t\t}else{\r\n\t\t\tpalette = _this.samplepalette2( options.numberofcolors, imgd );\r\n\t\t}\r\n\t\t\r\n\t\t// Selective Gaussian blur preprocessing\r\n\t\tif( options.blurradius > 0 ){ imgd = _this.blur( imgd, options.blurradius, options.blurdelta ); }\r\n\t\t\r\n\t\t// Repeat clustering step options.colorquantcycles times\r\n\t\tfor( cnt=0; cnt < options.colorquantcycles; cnt++ ){\r\n\t\t\t\r\n\t\t\t// Average colors from the second iteration\r\n\t\t\tif(cnt>0){\r\n\t\t\t\t// averaging paletteacc for palette\r\n\t\t\t\tfor( k=0; k < palette.length; k++ ){\r\n\t\t\t\t\t\r\n\t\t\t\t\t// averaging\r\n\t\t\t\t\tif( paletteacc[k].n > 0 ){\r\n\t\t\t\t\t\tpalette[k] = {  r: Math.floor( paletteacc[k].r / paletteacc[k].n ),\r\n\t\t\t\t\t\t\t\t\t\tg: Math.floor( paletteacc[k].g / paletteacc[k].n ),\r\n\t\t\t\t\t\t\t\t\t\tb: Math.floor( paletteacc[k].b / paletteacc[k].n ),\r\n\t\t\t\t\t\t\t\t\t\ta:  Math.floor( paletteacc[k].a / paletteacc[k].n ) };\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Randomizing a color, if there are too few pixels and there will be a new cycle\r\n\t\t\t\t\tif( ( paletteacc[k].n/pixelnum < options.mincolorratio ) && ( cnt < options.colorquantcycles-1 ) ){\r\n\t\t\t\t\t\tpalette[k] = {  r: Math.floor(Math.random()*255),\r\n\t\t\t\t\t\t\t\t\t\tg: Math.floor(Math.random()*255),\r\n\t\t\t\t\t\t\t\t\t\tb: Math.floor(Math.random()*255),\r\n\t\t\t\t\t\t\t\t\t\ta: Math.floor(Math.random()*255) };\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}// End of palette loop\r\n\t\t\t}// End of Average colors from the second iteration\r\n\t\t\t\r\n\t\t\t// Reseting palette accumulator for averaging\r\n\t\t\tfor( i=0; i < palette.length; i++ ){ paletteacc[i] = { r:0, g:0, b:0, a:0, n:0 }; }\r\n\t\t\t\r\n\t\t\t// loop through all pixels\r\n\t\t\tfor( j=0; j < imgd.height; j++ ){\r\n\t\t\t\tfor( i=0; i < imgd.width; i++ ){\r\n\t\t\t\t\t\r\n\t\t\t\t\t// pixel index\r\n\t\t\t\t\tidx = (j*imgd.width+i)*4;\r\n\t\t\t\t\t\r\n\t\t\t\t\t// find closest color from palette by measuring (rectilinear) color distance between this pixel and all palette colors\r\n\t\t\t\t\tci=0; cdl = 1024; // 4 * 256 is the maximum RGBA distance\r\n\t\t\t\t\tfor( k=0; k<palette.length; k++ ){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// In my experience, https://en.wikipedia.org/wiki/Rectilinear_distance works better than https://en.wikipedia.org/wiki/Euclidean_distance\r\n\t\t\t\t\t\tcd = Math.abs(palette[k].r-imgd.data[idx]) + Math.abs(palette[k].g-imgd.data[idx+1]) + Math.abs(palette[k].b-imgd.data[idx+2]) + Math.abs(palette[k].a-imgd.data[idx+3]);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// Remember this color if this is the closest yet\r\n\t\t\t\t\t\tif(cd<cdl){ cdl = cd; ci = k; }\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}// End of palette loop\r\n\t\t\t\t\t\r\n\t\t\t\t\t// add to palettacc\r\n\t\t\t\t\tpaletteacc[ci].r += imgd.data[idx  ];\r\n\t\t\t\t\tpaletteacc[ci].g += imgd.data[idx+1];\r\n\t\t\t\t\tpaletteacc[ci].b += imgd.data[idx+2];\r\n\t\t\t\t\tpaletteacc[ci].a += imgd.data[idx+3];\r\n\t\t\t\t\tpaletteacc[ci].n++;\r\n\t\t\t\t\t\r\n\t\t\t\t\t// update the indexed color array\r\n\t\t\t\t\tarr[j+1][i+1] = ci;\r\n\t\t\t\t\t\r\n\t\t\t\t}// End of i loop\r\n\t\t\t}// End of j loop\r\n\t\t\t\r\n\t\t}// End of Repeat clustering step options.colorquantcycles times\r\n\t\t\r\n\t\treturn { array:arr, palette:palette };\r\n\t\t\r\n\t},// End of colorquantization()\r\n\t\r\n\t// Sampling a palette from imagedata\r\n\tthis.samplepalette = function( numberofcolors, imgd ){\r\n\t\tvar idx, palette=[];\r\n\t\tfor(var i=0; i<numberofcolors; i++){\r\n\t\t\tidx = Math.floor( Math.random() * imgd.data.length / 4 ) * 4;\r\n\t\t\tpalette.push({ r:imgd.data[idx  ], g:imgd.data[idx+1], b:imgd.data[idx+2], a:imgd.data[idx+3] });\r\n\t\t}\r\n\t\treturn palette;\r\n\t},// End of samplepalette()\r\n\t\r\n\t// Deterministic sampling a palette from imagedata: rectangular grid\r\n\tthis.samplepalette2 = function( numberofcolors, imgd ){\r\n\t\tvar idx, palette=[], ni = Math.ceil(Math.sqrt(numberofcolors)), nj = Math.ceil(numberofcolors/ni),\r\n\t\t\tvx = imgd.width / (ni+1), vy = imgd.height / (nj+1);\r\n\t\tfor(var j=0; j<nj; j++){\r\n\t\t\tfor(var i=0; i<ni; i++){\r\n\t\t\t\tif(palette.length === numberofcolors){\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}else{\r\n\t\t\t\t\tidx = Math.floor( ((j+1)*vy) * imgd.width + ((i+1)*vx) ) * 4;\r\n\t\t\t\t\tpalette.push( { r:imgd.data[idx], g:imgd.data[idx+1], b:imgd.data[idx+2], a:imgd.data[idx+3] } );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn palette;\r\n\t},// End of samplepalette2()\r\n\t\r\n\t// Generating a palette with numberofcolors\r\n\tthis.generatepalette = function(numberofcolors){\r\n\t\tvar palette = [], rcnt, gcnt, bcnt;\r\n\t\tif(numberofcolors<8){\r\n\t\t\t\r\n\t\t\t// Grayscale\r\n\t\t\tvar graystep = Math.floor(255/(numberofcolors-1));\r\n\t\t\tfor(var i=0; i<numberofcolors; i++){ palette.push({ r:i*graystep, g:i*graystep, b:i*graystep, a:255 }); }\r\n\t\t\t\r\n\t\t}else{\r\n\t\t\t\r\n\t\t\t// RGB color cube\r\n\t\t\tvar colorqnum = Math.floor(Math.pow(numberofcolors, 1/3)), // Number of points on each edge on the RGB color cube\r\n\t\t\t\tcolorstep = Math.floor(255/(colorqnum-1)), // distance between points\r\n\t\t\t\trndnum = numberofcolors - colorqnum*colorqnum*colorqnum; // number of random colors\r\n\t\t\t\r\n\t\t\tfor(rcnt=0; rcnt<colorqnum; rcnt++){\r\n\t\t\t\tfor(gcnt=0; gcnt<colorqnum; gcnt++){\r\n\t\t\t\t\tfor(bcnt=0; bcnt<colorqnum; bcnt++){\r\n\t\t\t\t\t\tpalette.push( { r:rcnt*colorstep, g:gcnt*colorstep, b:bcnt*colorstep, a:255 } );\r\n\t\t\t\t\t}// End of blue loop\r\n\t\t\t\t}// End of green loop\r\n\t\t\t}// End of red loop\r\n\t\t\t\r\n\t\t\t// Rest is random\r\n\t\t\tfor(rcnt=0; rcnt<rndnum; rcnt++){ palette.push({ r:Math.floor(Math.random()*255), g:Math.floor(Math.random()*255), b:Math.floor(Math.random()*255), a:Math.floor(Math.random()*255) }); }\r\n\r\n\t\t}// End of numberofcolors check\r\n\t\t\r\n\t\treturn palette;\r\n\t},// End of generatepalette()\r\n\t\t\r\n\t// 2. Layer separation and edge detection\r\n\t// Edge node types ( : this layer or 1; : not this layer or 0 )\r\n\t// 12                                \r\n\t// 48                                \r\n\t//     0   1   2   3   4   5   6   7   8   9   10  11  12  13  14  15\r\n\tthis.layering = function(ii){\r\n\t\t// Creating layers for each indexed color in arr\r\n\t\tvar layers = [], val=0, ah = ii.array.length, aw = ii.array[0].length, n1,n2,n3,n4,n5,n6,n7,n8, i, j, k;\r\n\t\t\r\n\t\t// Create layers\r\n\t\tfor(k=0; k<ii.palette.length; k++){\r\n\t\t\tlayers[k] = [];\r\n\t\t\tfor(j=0; j<ah; j++){\r\n\t\t\t\tlayers[k][j] = [];\r\n\t\t\t\tfor(i=0; i<aw; i++){\r\n\t\t\t\t\tlayers[k][j][i]=0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// Looping through all pixels and calculating edge node type\r\n\t\tfor(j=1; j<ah-1; j++){\r\n\t\t\tfor(i=1; i<aw-1; i++){\r\n\t\t\t\t\r\n\t\t\t\t// This pixel's indexed color\r\n\t\t\t\tval = ii.array[j][i];\r\n\t\t\t\t\r\n\t\t\t\t// Are neighbor pixel colors the same?\r\n\t\t\t\tn1 = ii.array[j-1][i-1]===val ? 1 : 0;\r\n\t\t\t\tn2 = ii.array[j-1][i  ]===val ? 1 : 0;\r\n\t\t\t\tn3 = ii.array[j-1][i+1]===val ? 1 : 0;\r\n\t\t\t\tn4 = ii.array[j  ][i-1]===val ? 1 : 0;\r\n\t\t\t\tn5 = ii.array[j  ][i+1]===val ? 1 : 0;\r\n\t\t\t\tn6 = ii.array[j+1][i-1]===val ? 1 : 0;\r\n\t\t\t\tn7 = ii.array[j+1][i  ]===val ? 1 : 0;\r\n\t\t\t\tn8 = ii.array[j+1][i+1]===val ? 1 : 0;\r\n\t\t\t\t\r\n\t\t\t\t// this pixel's type and looking back on previous pixels\r\n\t\t\t\tlayers[val][j+1][i+1] = 1 + n5 * 2 + n8 * 4 + n7 * 8 ;\r\n\t\t\t\tif(!n4){ layers[val][j+1][i  ] = 0 + 2 + n7 * 4 + n6 * 8 ; }\r\n\t\t\t\tif(!n2){ layers[val][j  ][i+1] = 0 + n3*2 + n5 * 4 + 8 ; }\r\n\t\t\t\tif(!n1){ layers[val][j  ][i  ] = 0 + n2*2 + 4 + n4 * 8 ; }\r\n\t\t\t\t\r\n\t\t\t}// End of i loop\r\n\t\t}// End of j loop\r\n\t\t\r\n\t\treturn layers;\r\n\t},// End of layering()\r\n\t\r\n\t// 2. Layer separation and edge detection\r\n\t// Edge node types ( : this layer or 1; : not this layer or 0 )\r\n\t// 12                                \r\n\t// 48                                \r\n\t//     0   1   2   3   4   5   6   7   8   9   10  11  12  13  14  15\r\n\tthis.layeringstep = function(ii,cnum){\r\n\t\t// Creating layers for each indexed color in arr\r\n\t\tvar layer = [], val=0, ah = ii.array.length, aw = ii.array[0].length, n1,n2,n3,n4,n5,n6,n7,n8, i, j, k;\r\n\t\t\r\n\t\t// Create layer\r\n\t\tfor(j=0; j<ah; j++){\r\n\t\t\tlayer[j] = [];\r\n\t\t\tfor(i=0; i<aw; i++){\r\n\t\t\t\tlayer[j][i]=0;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// Looping through all pixels and calculating edge node type\r\n\t\tfor(j=1; j<ah; j++){\r\n\t\t\tfor(i=1; i<aw; i++){\r\n\t\t\t\tlayer[j][i] =\r\n\t\t\t\t\t( ii.array[j-1][i-1]===cnum ? 1 : 0 ) +\r\n\t\t\t\t\t( ii.array[j-1][i]===cnum ? 2 : 0 ) +\r\n\t\t\t\t\t( ii.array[j][i-1]===cnum ? 8 : 0 ) +\r\n\t\t\t\t\t( ii.array[j][i]===cnum ? 4 : 0 )\r\n\t\t\t\t;\r\n\t\t\t}// End of i loop\r\n\t\t}// End of j loop\r\n\t\t\t\r\n\t\treturn layer;\r\n\t},// End of layeringstep()\r\n\t\r\n\t// Lookup tables for pathscan\r\n\t// pathscan_combined_lookup[ arr[py][px] ][ dir ] = [nextarrpypx, nextdir, deltapx, deltapy];\r\n\tthis.pathscan_combined_lookup = [\r\n\t\t[[-1,-1,-1,-1], [-1,-1,-1,-1], [-1,-1,-1,-1], [-1,-1,-1,-1]],// arr[py][px]===0 is invalid\r\n\t\t[[ 0, 1, 0,-1], [-1,-1,-1,-1], [-1,-1,-1,-1], [ 0, 2,-1, 0]],\r\n\t\t[[-1,-1,-1,-1], [-1,-1,-1,-1], [ 0, 1, 0,-1], [ 0, 0, 1, 0]],\r\n\t\t[[ 0, 0, 1, 0], [-1,-1,-1,-1], [ 0, 2,-1, 0], [-1,-1,-1,-1]],\r\n\t\t\r\n\t\t[[-1,-1,-1,-1], [ 0, 0, 1, 0], [ 0, 3, 0, 1], [-1,-1,-1,-1]],\r\n\t\t[[13, 3, 0, 1], [13, 2,-1, 0], [ 7, 1, 0,-1], [ 7, 0, 1, 0]],\r\n\t\t[[-1,-1,-1,-1], [ 0, 1, 0,-1], [-1,-1,-1,-1], [ 0, 3, 0, 1]],\r\n\t\t[[ 0, 3, 0, 1], [ 0, 2,-1, 0], [-1,-1,-1,-1], [-1,-1,-1,-1]],\r\n\t\t\r\n\t\t[[ 0, 3, 0, 1], [ 0, 2,-1, 0], [-1,-1,-1,-1], [-1,-1,-1,-1]],\r\n\t\t[[-1,-1,-1,-1], [ 0, 1, 0,-1], [-1,-1,-1,-1], [ 0, 3, 0, 1]],\r\n\t\t[[11, 1, 0,-1], [14, 0, 1, 0], [14, 3, 0, 1], [11, 2,-1, 0]],\r\n\t\t[[-1,-1,-1,-1], [ 0, 0, 1, 0], [ 0, 3, 0, 1], [-1,-1,-1,-1]],\r\n\t\t\r\n\t\t[[ 0, 0, 1, 0], [-1,-1,-1,-1], [ 0, 2,-1, 0], [-1,-1,-1,-1]],\r\n\t\t[[-1,-1,-1,-1], [-1,-1,-1,-1], [ 0, 1, 0,-1], [ 0, 0, 1, 0]],\r\n\t\t[[ 0, 1, 0,-1], [-1,-1,-1,-1], [-1,-1,-1,-1], [ 0, 2,-1, 0]],\r\n\t\t[[-1,-1,-1,-1], [-1,-1,-1,-1], [-1,-1,-1,-1], [-1,-1,-1,-1]]// arr[py][px]===15 is invalid\r\n\t],\r\n\r\n\t// 3. Walking through an edge node array, discarding edge node types 0 and 15 and creating paths from the rest.\r\n\t// Walk directions (dir): 0 > ; 1 ^ ; 2 < ; 3 v \r\n\tthis.pathscan = function( arr, pathomit ){\r\n\t\tvar paths=[], pacnt=0, pcnt=0, px=0, py=0, w = arr[0].length, h = arr.length,\r\n\t\t\tdir=0, pathfinished=true, holepath=false, lookuprow;\r\n\t\t\r\n\t\tfor(var j=0; j<h; j++){\r\n\t\t\tfor(var i=0; i<w; i++){\r\n\t\t\t\tif( (arr[j][i] == 4) || ( arr[j][i] == 11) ){ // Other values are not valid\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Init\r\n\t\t\t\t\tpx = i; py = j;\r\n\t\t\t\t\tpaths[pacnt] = {};\r\n\t\t\t\t\tpaths[pacnt].points = [];\r\n\t\t\t\t\tpaths[pacnt].boundingbox = [px,py,px,py];\r\n\t\t\t\t\tpaths[pacnt].holechildren = [];\r\n\t\t\t\t\tpathfinished = false;\r\n\t\t\t\t\tpcnt=0;\r\n\t\t\t\t\tholepath = ( arr[j][i] == 11);\r\n\t\t\t\t\tdir = 1;\r\n\r\n\t\t\t\t\t// Path points loop\r\n\t\t\t\t\twhile(!pathfinished){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// New path point\r\n\t\t\t\t\t\tpaths[pacnt].points[pcnt] = {};\r\n\t\t\t\t\t\tpaths[pacnt].points[pcnt].x = px-1;\r\n\t\t\t\t\t\tpaths[pacnt].points[pcnt].y = py-1;\r\n\t\t\t\t\t\tpaths[pacnt].points[pcnt].t = arr[py][px];\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// Bounding box\r\n\t\t\t\t\t\tif( (px-1) < paths[pacnt].boundingbox[0] ){ paths[pacnt].boundingbox[0] = px-1; }\r\n\t\t\t\t\t\tif( (px-1) > paths[pacnt].boundingbox[2] ){ paths[pacnt].boundingbox[2] = px-1; }\r\n\t\t\t\t\t\tif( (py-1) < paths[pacnt].boundingbox[1] ){ paths[pacnt].boundingbox[1] = py-1; }\r\n\t\t\t\t\t\tif( (py-1) > paths[pacnt].boundingbox[3] ){ paths[pacnt].boundingbox[3] = py-1; }\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// Next: look up the replacement, direction and coordinate changes = clear this cell, turn if required, walk forward\r\n\t\t\t\t\t\tlookuprow = _this.pathscan_combined_lookup[ arr[py][px] ][ dir ];\r\n\t\t\t\t\t\tarr[py][px] = lookuprow[0]; dir = lookuprow[1]; px += lookuprow[2]; py += lookuprow[3];\r\n\r\n\t\t\t\t\t\t// Close path\r\n\t\t\t\t\t\tif( (px-1 === paths[pacnt].points[0].x ) && ( py-1 === paths[pacnt].points[0].y ) ){\r\n\t\t\t\t\t\t\tpathfinished = true;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// Discarding paths shorter than pathomit\r\n\t\t\t\t\t\t\tif( paths[pacnt].points.length < pathomit ){\r\n\t\t\t\t\t\t\t\tpaths.pop();\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tpaths[pacnt].isholepath = holepath ? true : false;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t// Finding the parent shape for this hole\r\n\t\t\t\t\t\t\t\tif(holepath){\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tvar parentidx = 0, parentbbox = [-1,-1,w+1,h+1];\r\n\t\t\t\t\t\t\t\t\tfor(var parentcnt=0; parentcnt < pacnt; parentcnt++){\r\n\t\t\t\t\t\t\t\t\t\tif( (!paths[parentcnt].isholepath) &&\r\n\t\t\t\t\t\t\t\t\t\t\t_this.boundingboxincludes( paths[parentcnt].boundingbox , paths[pacnt].boundingbox ) &&\r\n\t\t\t\t\t\t\t\t\t\t\t_this.boundingboxincludes( parentbbox , paths[parentcnt].boundingbox )\r\n\t\t\t\t\t\t\t\t\t\t){\r\n\t\t\t\t\t\t\t\t\t\t\tparentidx = parentcnt;\r\n\t\t\t\t\t\t\t\t\t\t\tparentbbox = paths[parentcnt].boundingbox;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tpaths[parentidx].holechildren.push( pacnt );\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t}// End of holepath parent finding\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tpacnt++;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}// End of Close path\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tpcnt++;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}// End of Path points loop\r\n\t\t\t\t\t\r\n\t\t\t\t}// End of Follow path\r\n\t\t\t\t\r\n\t\t\t}// End of i loop\r\n\t\t}// End of j loop\r\n\t\t\r\n\t\treturn paths;\r\n\t},// End of pathscan()\r\n\t\r\n\tthis.boundingboxincludes = function( parentbbox, childbbox ){\r\n\t\treturn ( ( parentbbox[0] < childbbox[0] ) && ( parentbbox[1] < childbbox[1] ) && ( parentbbox[2] > childbbox[2] ) && ( parentbbox[3] > childbbox[3] ) );\r\n\t},// End of boundingboxincludes()\r\n\t\r\n\t// 3. Batch pathscan\r\n\tthis.batchpathscan = function( layers, pathomit ){\r\n\t\tvar bpaths = [];\r\n\t\tfor(var k in layers){\r\n\t\t\tif(!layers.hasOwnProperty(k)){ continue; }\r\n\t\t\tbpaths[k] = _this.pathscan( layers[k], pathomit );\r\n\t\t}\r\n\t\treturn bpaths;\r\n\t},\r\n\t\r\n\t// 4. interpollating between path points for nodes with 8 directions ( East, SouthEast, S, SW, W, NW, N, NE )\r\n\tthis.internodes = function( paths, options ){\r\n\t\tvar ins = [], palen=0, nextidx=0, nextidx2=0, previdx=0, previdx2=0, pacnt, pcnt;\r\n\t\t\r\n\t\t// paths loop\r\n\t\tfor(pacnt=0; pacnt<paths.length; pacnt++){\r\n\t\t\t\r\n\t\t\tins[pacnt] = {};\r\n\t\t\tins[pacnt].points = [];\r\n\t\t\tins[pacnt].boundingbox = paths[pacnt].boundingbox;\r\n\t\t\tins[pacnt].holechildren = paths[pacnt].holechildren;\r\n\t\t\tins[pacnt].isholepath = paths[pacnt].isholepath;\r\n\t\t\tpalen = paths[pacnt].points.length;\r\n\t\t\t\r\n\t\t\t// pathpoints loop\r\n\t\t\tfor(pcnt=0; pcnt<palen; pcnt++){\r\n\t\t\t\r\n\t\t\t\t// next and previous point indexes\r\n\t\t\t\tnextidx = (pcnt+1)%palen; nextidx2 = (pcnt+2)%palen; previdx = (pcnt-1+palen)%palen; previdx2 = (pcnt-2+palen)%palen;\r\n\t\t\t\t\r\n\t\t\t\t// right angle enhance\r\n\t\t\t\tif( options.rightangleenhance && _this.testrightangle( paths[pacnt], previdx2, previdx, pcnt, nextidx, nextidx2 ) ){\r\n\t\t\t\t\t\r\n\t\t\t\t\t// Fix previous direction\r\n\t\t\t\t\tif(ins[pacnt].points.length > 0){\r\n\t\t\t\t\t\tins[pacnt].points[ ins[pacnt].points.length-1 ].linesegment = _this.getdirection(\r\n\t\t\t\t\t\t\t\tins[pacnt].points[ ins[pacnt].points.length-1 ].x,\r\n\t\t\t\t\t\t\t\tins[pacnt].points[ ins[pacnt].points.length-1 ].y,\r\n\t\t\t\t\t\t\t\tpaths[pacnt].points[pcnt].x,\r\n\t\t\t\t\t\t\t\tpaths[pacnt].points[pcnt].y\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t// This corner point\r\n\t\t\t\t\tins[pacnt].points.push({\r\n\t\t\t\t\t\tx : paths[pacnt].points[pcnt].x,\r\n\t\t\t\t\t\ty : paths[pacnt].points[pcnt].y,\r\n\t\t\t\t\t\tlinesegment : _this.getdirection(\r\n\t\t\t\t\t\t\t\tpaths[pacnt].points[pcnt].x,\r\n\t\t\t\t\t\t\t\tpaths[pacnt].points[pcnt].y,\r\n\t\t\t\t\t\t\t\t(( paths[pacnt].points[pcnt].x + paths[pacnt].points[nextidx].x ) /2),\r\n\t\t\t\t\t\t\t\t(( paths[pacnt].points[pcnt].y + paths[pacnt].points[nextidx].y ) /2)\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t}// End of right angle enhance\r\n\t\t\t\t\r\n\t\t\t\t// interpolate between two path points\r\n\t\t\t\tins[pacnt].points.push({\r\n\t\t\t\t\tx : (( paths[pacnt].points[pcnt].x + paths[pacnt].points[nextidx].x ) /2),\r\n\t\t\t\t\ty : (( paths[pacnt].points[pcnt].y + paths[pacnt].points[nextidx].y ) /2),\r\n\t\t\t\t\tlinesegment : _this.getdirection(\r\n\t\t\t\t\t\t\t(( paths[pacnt].points[pcnt].x + paths[pacnt].points[nextidx].x ) /2),\r\n\t\t\t\t\t\t\t(( paths[pacnt].points[pcnt].y + paths[pacnt].points[nextidx].y ) /2),\r\n\t\t\t\t\t\t\t(( paths[pacnt].points[nextidx].x + paths[pacnt].points[nextidx2].x ) /2),\r\n\t\t\t\t\t\t\t(( paths[pacnt].points[nextidx].y + paths[pacnt].points[nextidx2].y ) /2)\r\n\t\t\t\t\t\t)\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t}// End of pathpoints loop\r\n\t\t\t\t\t\t\r\n\t\t}// End of paths loop\r\n\t\t\r\n\t\treturn ins;\r\n\t},// End of internodes()\r\n\t\r\n\tthis.testrightangle = function( path, idx1, idx2, idx3, idx4, idx5 ){\r\n\t\treturn ( (( path.points[idx3].x === path.points[idx1].x) &&\r\n\t\t\t\t  ( path.points[idx3].x === path.points[idx2].x) &&\r\n\t\t\t\t  ( path.points[idx3].y === path.points[idx4].y) &&\r\n\t\t\t\t  ( path.points[idx3].y === path.points[idx5].y)\r\n\t\t\t\t ) ||\r\n\t\t\t\t (( path.points[idx3].y === path.points[idx1].y) &&\r\n\t\t\t\t  ( path.points[idx3].y === path.points[idx2].y) &&\r\n\t\t\t\t  ( path.points[idx3].x === path.points[idx4].x) &&\r\n\t\t\t\t  ( path.points[idx3].x === path.points[idx5].x)\r\n\t\t\t\t )\r\n\t\t);\r\n\t},// End of testrightangle()\r\n\t\r\n\tthis.getdirection = function( x1, y1, x2, y2 ){\r\n\t\tvar val = 8;\r\n\t\tif(x1 < x2){\r\n\t\t\tif     (y1 < y2){ val = 1; }// SouthEast\r\n\t\t\telse if(y1 > y2){ val = 7; }// NE\r\n\t\t\telse            { val = 0; }// E\r\n\t\t}else if(x1 > x2){\r\n\t\t\tif     (y1 < y2){ val = 3; }// SW\r\n\t\t\telse if(y1 > y2){ val = 5; }// NW\r\n\t\t\telse            { val = 4; }// W\r\n\t\t}else{\r\n\t\t\tif     (y1 < y2){ val = 2; }// S\r\n\t\t\telse if(y1 > y2){ val = 6; }// N\r\n\t\t\telse            { val = 8; }// center, this should not happen\r\n\t\t}\r\n\t\treturn val;\r\n\t},// End of getdirection()\r\n\t\r\n\t// 4. Batch interpollation\r\n\tthis.batchinternodes = function( bpaths, options ){\r\n\t\tvar binternodes = [];\r\n\t\tfor (var k in bpaths) {\r\n\t\t\tif(!bpaths.hasOwnProperty(k)){ continue; }\r\n\t\t\tbinternodes[k] = _this.internodes(bpaths[k], options);\r\n\t\t}\r\n\t\treturn binternodes;\r\n\t},\r\n\t\r\n\t// 5. tracepath() : recursively trying to fit straight and quadratic spline segments on the 8 direction internode path\r\n\t\r\n\t// 5.1. Find sequences of points with only 2 segment types\r\n\t// 5.2. Fit a straight line on the sequence\r\n\t// 5.3. If the straight line fails (distance error > ltres), find the point with the biggest error\r\n\t// 5.4. Fit a quadratic spline through errorpoint (project this to get controlpoint), then measure errors on every point in the sequence\r\n\t// 5.5. If the spline fails (distance error > qtres), find the point with the biggest error, set splitpoint = fitting point\r\n\t// 5.6. Split sequence and recursively apply 5.2. - 5.6. to startpoint-splitpoint and splitpoint-endpoint sequences\r\n\t\r\n\tthis.tracepath = function( path, ltres, qtres ){\r\n\t\tvar pcnt=0, segtype1, segtype2, seqend, smp = {};\r\n\t\tsmp.segments = [];\r\n\t\tsmp.boundingbox = path.boundingbox;\r\n\t\tsmp.holechildren = path.holechildren;\r\n\t\tsmp.isholepath = path.isholepath;\r\n\t\t\r\n\t\twhile(pcnt < path.points.length){\r\n\t\t\t// 5.1. Find sequences of points with only 2 segment types\r\n\t\t\tsegtype1 = path.points[pcnt].linesegment; segtype2 = -1; seqend=pcnt+1;\r\n\t\t\twhile(\r\n\t\t\t\t((path.points[seqend].linesegment === segtype1) || (path.points[seqend].linesegment === segtype2) || (segtype2 === -1))\r\n\t\t\t\t&& (seqend < path.points.length-1) ){\r\n\t\t\t\t\r\n\t\t\t\tif((path.points[seqend].linesegment!==segtype1) && (segtype2===-1)){ segtype2 = path.points[seqend].linesegment; }\r\n\t\t\t\tseqend++;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tif(seqend === path.points.length-1){ seqend = 0; }\r\n\r\n\t\t\t// 5.2. - 5.6. Split sequence and recursively apply 5.2. - 5.6. to startpoint-splitpoint and splitpoint-endpoint sequences\r\n\t\t\tsmp.segments = smp.segments.concat( _this.fitseq(path, ltres, qtres, pcnt, seqend) );\r\n\t\t\t\r\n\t\t\t// forward pcnt;\r\n\t\t\tif(seqend>0){ pcnt = seqend; }else{ pcnt = path.points.length; }\r\n\t\t\t\r\n\t\t}// End of pcnt loop\r\n\t\t\r\n\t\treturn smp;\r\n\t},// End of tracepath()\r\n\t\t\r\n\t// 5.2. - 5.6. recursively fitting a straight or quadratic line segment on this sequence of path nodes,\r\n\t// called from tracepath()\r\n\tthis.fitseq = function( path, ltres, qtres, seqstart, seqend ){\r\n\t\t// return if invalid seqend\r\n\t\tif( (seqend>path.points.length) || (seqend<0) ){ return []; }\r\n\t\t// variables\r\n\t\tvar errorpoint=seqstart, errorval=0, curvepass=true, px, py, dist2;\r\n\t\tvar tl = (seqend-seqstart); if(tl<0){ tl += path.points.length; }\r\n\t\tvar vx = (path.points[seqend].x-path.points[seqstart].x) / tl,\r\n\t\t\tvy = (path.points[seqend].y-path.points[seqstart].y) / tl;\r\n\t\t\r\n\t\t// 5.2. Fit a straight line on the sequence\r\n\t\tvar pcnt = (seqstart+1) % path.points.length, pl;\r\n\t\twhile(pcnt != seqend){\r\n\t\t\tpl = pcnt-seqstart; if(pl<0){ pl += path.points.length; }\r\n\t\t\tpx = path.points[seqstart].x + vx * pl; py = path.points[seqstart].y + vy * pl;\r\n\t\t\tdist2 = (path.points[pcnt].x-px)*(path.points[pcnt].x-px) + (path.points[pcnt].y-py)*(path.points[pcnt].y-py);\r\n\t\t\tif(dist2>ltres){curvepass=false;}\r\n\t\t\tif(dist2>errorval){ errorpoint=pcnt; errorval=dist2; }\r\n\t\t\tpcnt = (pcnt+1)%path.points.length;\r\n\t\t}\r\n\t\t// return straight line if fits\r\n\t\tif(curvepass){ return [{ type:'L', x1:path.points[seqstart].x, y1:path.points[seqstart].y, x2:path.points[seqend].x, y2:path.points[seqend].y }]; }\r\n\t\t\r\n\t\t// 5.3. If the straight line fails (distance error>ltres), find the point with the biggest error\r\n\t\tvar fitpoint = errorpoint; curvepass = true; errorval = 0;\r\n\t\t\r\n\t\t// 5.4. Fit a quadratic spline through this point, measure errors on every point in the sequence\r\n\t\t// helpers and projecting to get control point\r\n\t\tvar t=(fitpoint-seqstart)/tl, t1=(1-t)*(1-t), t2=2*(1-t)*t, t3=t*t;\r\n\t\tvar cpx = (t1*path.points[seqstart].x + t3*path.points[seqend].x - path.points[fitpoint].x)/-t2 ,\r\n\t\t\tcpy = (t1*path.points[seqstart].y + t3*path.points[seqend].y - path.points[fitpoint].y)/-t2 ;\r\n\t\t\r\n\t\t// Check every point\r\n\t\tpcnt = seqstart+1;\r\n\t\twhile(pcnt != seqend){\r\n\t\t\tt=(pcnt-seqstart)/tl; t1=(1-t)*(1-t); t2=2*(1-t)*t; t3=t*t;\r\n\t\t\tpx = t1 * path.points[seqstart].x + t2 * cpx + t3 * path.points[seqend].x;\r\n\t\t\tpy = t1 * path.points[seqstart].y + t2 * cpy + t3 * path.points[seqend].y;\r\n\t\t\t\r\n\t\t\tdist2 = (path.points[pcnt].x-px)*(path.points[pcnt].x-px) + (path.points[pcnt].y-py)*(path.points[pcnt].y-py);\r\n\t\t\t\r\n\t\t\tif(dist2>qtres){curvepass=false;}\r\n\t\t\tif(dist2>errorval){ errorpoint=pcnt; errorval=dist2; }\r\n\t\t\tpcnt = (pcnt+1)%path.points.length;\r\n\t\t}\r\n\t\t// return spline if fits\r\n\t\tif(curvepass){ return [{ type:'Q', x1:path.points[seqstart].x, y1:path.points[seqstart].y, x2:cpx, y2:cpy, x3:path.points[seqend].x, y3:path.points[seqend].y }]; }\r\n\t\t// 5.5. If the spline fails (distance error>qtres), find the point with the biggest error\r\n\t\tvar splitpoint = fitpoint; // Earlier: Math.floor((fitpoint + errorpoint)/2);\r\n\t\t\r\n\t\t// 5.6. Split sequence and recursively apply 5.2. - 5.6. to startpoint-splitpoint and splitpoint-endpoint sequences\r\n\t\treturn _this.fitseq( path, ltres, qtres, seqstart, splitpoint ).concat(\r\n\t\t\t\t_this.fitseq( path, ltres, qtres, splitpoint, seqend ) );\r\n\t\t\r\n\t},// End of fitseq()\r\n\t\r\n\t// 5. Batch tracing paths\r\n\tthis.batchtracepaths = function(internodepaths,ltres,qtres){\r\n\t\tvar btracedpaths = [];\r\n\t\tfor(var k in internodepaths){\r\n\t\t\tif(!internodepaths.hasOwnProperty(k)){ continue; }\r\n\t\t\tbtracedpaths.push( _this.tracepath(internodepaths[k],ltres,qtres) );\r\n\t\t}\r\n\t\treturn btracedpaths;\r\n\t},\r\n\t\r\n\t// 5. Batch tracing layers\r\n\tthis.batchtracelayers = function(binternodes, ltres, qtres){\r\n\t\tvar btbis = [];\r\n\t\tfor(var k in binternodes){\r\n\t\t\tif(!binternodes.hasOwnProperty(k)){ continue; }\r\n\t\t\tbtbis[k] = _this.batchtracepaths(binternodes[k], ltres, qtres);\r\n\t\t}\r\n\t\treturn btbis;\r\n\t},\r\n\t\r\n\t////////////////////////////////////////////////////////////\r\n\t//\r\n\t//  SVG Drawing functions\r\n\t//\r\n\t////////////////////////////////////////////////////////////\r\n\t\r\n\t// Rounding to given decimals https://stackoverflow.com/questions/11832914/round-to-at-most-2-decimal-places-in-javascript\r\n\tthis.roundtodec = function(val,places){ return +val.toFixed(places); },\r\n\t\r\n\t// Getting SVG path element string from a traced path\r\n\tthis.svgpathstring = function( tracedata, lnum, pathnum, options ){\r\n\t\t\r\n\t\tvar layer = tracedata.layers[lnum], smp = layer[pathnum], str='', pcnt;\r\n\t\t\r\n\t\t// Line filter\r\n\t\tif(options.linefilter && (smp.segments.length < 3)){ return str; }\r\n\t\t\r\n\t\t// Starting path element, desc contains layer and path number\r\n\t\tstr = '<path '+\r\n\t\t\t( options.desc ? ('desc=\"l '+lnum+' p '+pathnum+'\" ') : '' ) +\r\n\t\t\t_this.tosvgcolorstr(tracedata.palette[lnum], options) +\r\n\t\t\t'd=\"';\r\n\t\t\r\n\t\t// Creating non-hole path string\r\n\t\tif( options.roundcoords === -1 ){\r\n\t\t\tstr += 'M '+ smp.segments[0].x1 * options.scale +' '+ smp.segments[0].y1 * options.scale +' ';\r\n\t\t\tfor(pcnt=0; pcnt<smp.segments.length; pcnt++){\r\n\t\t\t\tstr += smp.segments[pcnt].type +' '+ smp.segments[pcnt].x2 * options.scale +' '+ smp.segments[pcnt].y2 * options.scale +' ';\r\n\t\t\t\tif(smp.segments[pcnt].hasOwnProperty('x3')){\r\n\t\t\t\t\tstr += smp.segments[pcnt].x3 * options.scale +' '+ smp.segments[pcnt].y3 * options.scale +' ';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tstr += 'Z ';\r\n\t\t}else{\r\n\t\t\tstr += 'M '+ _this.roundtodec( smp.segments[0].x1 * options.scale, options.roundcoords ) +' '+ _this.roundtodec( smp.segments[0].y1 * options.scale, options.roundcoords ) +' ';\r\n\t\t\tfor(pcnt=0; pcnt<smp.segments.length; pcnt++){\r\n\t\t\t\tstr += smp.segments[pcnt].type +' '+ _this.roundtodec( smp.segments[pcnt].x2 * options.scale, options.roundcoords ) +' '+ _this.roundtodec( smp.segments[pcnt].y2 * options.scale, options.roundcoords ) +' ';\r\n\t\t\t\tif(smp.segments[pcnt].hasOwnProperty('x3')){\r\n\t\t\t\t\tstr += _this.roundtodec( smp.segments[pcnt].x3 * options.scale, options.roundcoords ) +' '+ _this.roundtodec( smp.segments[pcnt].y3 * options.scale, options.roundcoords ) +' ';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tstr += 'Z ';\r\n\t\t}// End of creating non-hole path string\r\n\t\t\r\n\t\t// Hole children\r\n\t\tfor( var hcnt=0; hcnt < smp.holechildren.length; hcnt++){\r\n\t\t\tvar hsmp = layer[ smp.holechildren[hcnt] ];\r\n\t\t\t// Creating hole path string\r\n\t\t\tif( options.roundcoords === -1 ){\r\n\t\t\t\t\r\n\t\t\t\tif(hsmp.segments[ hsmp.segments.length-1 ].hasOwnProperty('x3')){\r\n\t\t\t\t\tstr += 'M '+ hsmp.segments[ hsmp.segments.length-1 ].x3 * options.scale +' '+ hsmp.segments[ hsmp.segments.length-1 ].y3 * options.scale +' ';\r\n\t\t\t\t}else{\r\n\t\t\t\t\tstr += 'M '+ hsmp.segments[ hsmp.segments.length-1 ].x2 * options.scale +' '+ hsmp.segments[ hsmp.segments.length-1 ].y2 * options.scale +' ';\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tfor(pcnt = hsmp.segments.length-1; pcnt >= 0; pcnt--){\r\n\t\t\t\t\tstr += hsmp.segments[pcnt].type +' ';\r\n\t\t\t\t\tif(hsmp.segments[pcnt].hasOwnProperty('x3')){\r\n\t\t\t\t\t\tstr += hsmp.segments[pcnt].x2 * options.scale +' '+ hsmp.segments[pcnt].y2 * options.scale +' ';\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tstr += hsmp.segments[pcnt].x1 * options.scale +' '+ hsmp.segments[pcnt].y1 * options.scale +' ';\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}else{\r\n\t\t\t\t\r\n\t\t\t\tif(hsmp.segments[ hsmp.segments.length-1 ].hasOwnProperty('x3')){\r\n\t\t\t\t\tstr += 'M '+ _this.roundtodec( hsmp.segments[ hsmp.segments.length-1 ].x3 * options.scale ) +' '+ _this.roundtodec( hsmp.segments[ hsmp.segments.length-1 ].y3 * options.scale ) +' ';\r\n\t\t\t\t}else{\r\n\t\t\t\t\tstr += 'M '+ _this.roundtodec( hsmp.segments[ hsmp.segments.length-1 ].x2 * options.scale ) +' '+ _this.roundtodec( hsmp.segments[ hsmp.segments.length-1 ].y2 * options.scale ) +' ';\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tfor(pcnt = hsmp.segments.length-1; pcnt >= 0; pcnt--){\r\n\t\t\t\t\tstr += hsmp.segments[pcnt].type +' ';\r\n\t\t\t\t\tif(hsmp.segments[pcnt].hasOwnProperty('x3')){\r\n\t\t\t\t\t\tstr += _this.roundtodec( hsmp.segments[pcnt].x2 * options.scale ) +' '+ _this.roundtodec( hsmp.segments[pcnt].y2 * options.scale ) +' ';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tstr += _this.roundtodec( hsmp.segments[pcnt].x1 * options.scale ) +' '+ _this.roundtodec( hsmp.segments[pcnt].y1 * options.scale ) +' ';\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t}// End of creating hole path string\r\n\t\t\t\r\n\t\t\tstr += 'Z '; // Close path\r\n\t\t\t\r\n\t\t}// End of holepath check\r\n\t\t\r\n\t\t// Closing path element\r\n\t\tstr += '\" />';\r\n\t\t\r\n\t\t// Rendering control points\r\n\t\tif(options.lcpr || options.qcpr){\r\n\t\t\tfor(pcnt=0; pcnt<smp.segments.length; pcnt++){\r\n\t\t\t\tif( smp.segments[pcnt].hasOwnProperty('x3') && options.qcpr ){\r\n\t\t\t\t\tstr += '<circle cx=\"'+ smp.segments[pcnt].x2 * options.scale +'\" cy=\"'+ smp.segments[pcnt].y2 * options.scale +'\" r=\"'+ options.qcpr +'\" fill=\"cyan\" stroke-width=\"'+ options.qcpr * 0.2 +'\" stroke=\"black\" />';\r\n\t\t\t\t\tstr += '<circle cx=\"'+ smp.segments[pcnt].x3 * options.scale +'\" cy=\"'+ smp.segments[pcnt].y3 * options.scale +'\" r=\"'+ options.qcpr +'\" fill=\"white\" stroke-width=\"'+ options.qcpr * 0.2 +'\" stroke=\"black\" />';\r\n\t\t\t\t\tstr += '<line x1=\"'+ smp.segments[pcnt].x1 * options.scale +'\" y1=\"'+ smp.segments[pcnt].y1 * options.scale +'\" x2=\"'+ smp.segments[pcnt].x2 * options.scale +'\" y2=\"'+ smp.segments[pcnt].y2 * options.scale +'\" stroke-width=\"'+ options.qcpr * 0.2 +'\" stroke=\"cyan\" />';\r\n\t\t\t\t\tstr += '<line x1=\"'+ smp.segments[pcnt].x2 * options.scale +'\" y1=\"'+ smp.segments[pcnt].y2 * options.scale +'\" x2=\"'+ smp.segments[pcnt].x3 * options.scale +'\" y2=\"'+ smp.segments[pcnt].y3 * options.scale +'\" stroke-width=\"'+ options.qcpr * 0.2 +'\" stroke=\"cyan\" />';\r\n\t\t\t\t}\r\n\t\t\t\tif( (!smp.segments[pcnt].hasOwnProperty('x3')) && options.lcpr){\r\n\t\t\t\t\tstr += '<circle cx=\"'+ smp.segments[pcnt].x2 * options.scale +'\" cy=\"'+ smp.segments[pcnt].y2 * options.scale +'\" r=\"'+ options.lcpr +'\" fill=\"white\" stroke-width=\"'+ options.lcpr * 0.2 +'\" stroke=\"black\" />';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Hole children control points\r\n\t\t\tfor( var hcnt=0; hcnt < smp.holechildren.length; hcnt++){\r\n\t\t\t\tvar hsmp = layer[ smp.holechildren[hcnt] ];\r\n\t\t\t\tfor(pcnt=0; pcnt<hsmp.segments.length; pcnt++){\r\n\t\t\t\t\tif( hsmp.segments[pcnt].hasOwnProperty('x3') && options.qcpr ){\r\n\t\t\t\t\t\tstr += '<circle cx=\"'+ hsmp.segments[pcnt].x2 * options.scale +'\" cy=\"'+ hsmp.segments[pcnt].y2 * options.scale +'\" r=\"'+ options.qcpr +'\" fill=\"cyan\" stroke-width=\"'+ options.qcpr * 0.2 +'\" stroke=\"black\" />';\r\n\t\t\t\t\t\tstr += '<circle cx=\"'+ hsmp.segments[pcnt].x3 * options.scale +'\" cy=\"'+ hsmp.segments[pcnt].y3 * options.scale +'\" r=\"'+ options.qcpr +'\" fill=\"white\" stroke-width=\"'+ options.qcpr * 0.2 +'\" stroke=\"black\" />';\r\n\t\t\t\t\t\tstr += '<line x1=\"'+ hsmp.segments[pcnt].x1 * options.scale +'\" y1=\"'+ hsmp.segments[pcnt].y1 * options.scale +'\" x2=\"'+ hsmp.segments[pcnt].x2 * options.scale +'\" y2=\"'+ hsmp.segments[pcnt].y2 * options.scale +'\" stroke-width=\"'+ options.qcpr * 0.2 +'\" stroke=\"cyan\" />';\r\n\t\t\t\t\t\tstr += '<line x1=\"'+ hsmp.segments[pcnt].x2 * options.scale +'\" y1=\"'+ hsmp.segments[pcnt].y2 * options.scale +'\" x2=\"'+ hsmp.segments[pcnt].x3 * options.scale +'\" y2=\"'+ hsmp.segments[pcnt].y3 * options.scale +'\" stroke-width=\"'+ options.qcpr * 0.2 +'\" stroke=\"cyan\" />';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif( (!hsmp.segments[pcnt].hasOwnProperty('x3')) && options.lcpr){\r\n\t\t\t\t\t\tstr += '<circle cx=\"'+ hsmp.segments[pcnt].x2 * options.scale +'\" cy=\"'+ hsmp.segments[pcnt].y2 * options.scale +'\" r=\"'+ options.lcpr +'\" fill=\"white\" stroke-width=\"'+ options.lcpr * 0.2 +'\" stroke=\"black\" />';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}// End of Rendering control points\r\n\t\t\t\r\n\t\treturn str;\r\n\t\t\r\n\t},// End of svgpathstring()\r\n\t\r\n\t// Converting tracedata to an SVG string\r\n\tthis.getsvgstring = function( tracedata, options ){\r\n\t\t\r\n\t\toptions = _this.checkoptions(options);\r\n\t\t\r\n\t\tvar w = tracedata.width * options.scale, h = tracedata.height * options.scale;\r\n\t\t\r\n\t\t// SVG start\r\n\t\tvar svgstr = '<svg ' + (options.viewbox ? ('viewBox=\"0 0 '+w+' '+h+'\" ') : ('width=\"'+w+'\" height=\"'+h+'\" ')) +\r\n\t\t\t'version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" desc=\"Created with imagetracer.js version '+_this.versionnumber+'\" >';\r\n\r\n\t\t// Drawing: Layers and Paths loops\r\n\t\tfor(var lcnt=0; lcnt < tracedata.layers.length; lcnt++){\r\n\t\t\tfor(var pcnt=0; pcnt < tracedata.layers[lcnt].length; pcnt++){\r\n\t\t\t\t\r\n\t\t\t\t// Adding SVG <path> string\r\n\t\t\t\tif( !tracedata.layers[lcnt][pcnt].isholepath ){\r\n\t\t\t\t\tsvgstr += _this.svgpathstring( tracedata, lcnt, pcnt, options );\r\n\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t}// End of paths loop\r\n\t\t}// End of layers loop\r\n\t\t\r\n\t\t// SVG End\r\n\t\tsvgstr+='</svg>';\r\n\t\t\r\n\t\treturn svgstr;\r\n\t\t\r\n\t},// End of getsvgstring()\r\n\t\r\n\t// Comparator for numeric Array.sort\r\n\tthis.compareNumbers = function(a,b){ return a - b; },\r\n\t\r\n\t// Convert color object to rgba string\r\n\tthis.torgbastr = function(c){ return 'rgba('+c.r+','+c.g+','+c.b+','+c.a+')'; },\r\n\t\r\n\t// Convert color object to SVG color string\r\n\tthis.tosvgcolorstr = function(c, options){\r\n\t\treturn 'fill=\"rgb('+c.r+','+c.g+','+c.b+')\" stroke=\"rgb('+c.r+','+c.g+','+c.b+')\" stroke-width=\"'+options.strokewidth+'\" opacity=\"'+c.a/255.0+'\" ';\r\n\t},\r\n\t\r\n\t// Helper function: Appending an <svg> element to a container from an svgstring\r\n\tthis.appendSVGString = function(svgstr,parentid){\r\n\t\tvar div;\r\n\t\tif(parentid){\r\n\t\t\tdiv = document.getElementById(parentid);\r\n\t\t\tif(!div){\r\n\t\t\t\tdiv = document.createElement('div');\r\n\t\t\t\tdiv.id = parentid;\r\n\t\t\t\tdocument.body.appendChild(div);\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tdiv = document.createElement('div');\r\n\t\t\tdocument.body.appendChild(div);\r\n\t\t}\r\n\t\tdiv.innerHTML += svgstr;\r\n\t},\r\n\t\r\n\t////////////////////////////////////////////////////////////\r\n\t//\r\n\t//  Canvas functions\r\n\t//\r\n\t////////////////////////////////////////////////////////////\r\n\t\r\n\t// Gaussian kernels for blur\r\n\tthis.gks = [ [0.27901,0.44198,0.27901], [0.135336,0.228569,0.272192,0.228569,0.135336], [0.086776,0.136394,0.178908,0.195843,0.178908,0.136394,0.086776],\r\n\t             [0.063327,0.093095,0.122589,0.144599,0.152781,0.144599,0.122589,0.093095,0.063327], [0.049692,0.069304,0.089767,0.107988,0.120651,0.125194,0.120651,0.107988,0.089767,0.069304,0.049692] ],\r\n\t\r\n\t// Selective Gaussian blur for preprocessing\r\n\tthis.blur = function(imgd,radius,delta){\r\n\t\tvar i,j,k,d,idx,racc,gacc,bacc,aacc,wacc;\r\n\t\t\r\n\t\t// new ImageData\r\n\t\tvar imgd2 = { width:imgd.width, height:imgd.height, data:[] };\r\n\t\t\r\n\t\t// radius and delta limits, this kernel\r\n\t\tradius = Math.floor(radius); if(radius<1){ return imgd; } if(radius>5){ radius = 5; } delta = Math.abs( delta ); if(delta>1024){ delta = 1024; }\r\n\t\tvar thisgk = _this.gks[radius-1];\r\n\t\t\r\n\t\t// loop through all pixels, horizontal blur\r\n\t\tfor( j=0; j < imgd.height; j++ ){\r\n\t\t\tfor( i=0; i < imgd.width; i++ ){\r\n\r\n\t\t\t\tracc = 0; gacc = 0; bacc = 0; aacc = 0; wacc = 0;\r\n\t\t\t\t// gauss kernel loop\r\n\t\t\t\tfor( k = -radius; k < radius+1; k++){\r\n\t\t\t\t\t// add weighted color values\r\n\t\t\t\t\tif( (i+k > 0) && (i+k < imgd.width) ){\r\n\t\t\t\t\t\tidx = (j*imgd.width+i+k)*4;\r\n\t\t\t\t\t\tracc += imgd.data[idx  ] * thisgk[k+radius];\r\n\t\t\t\t\t\tgacc += imgd.data[idx+1] * thisgk[k+radius];\r\n\t\t\t\t\t\tbacc += imgd.data[idx+2] * thisgk[k+radius];\r\n\t\t\t\t\t\taacc += imgd.data[idx+3] * thisgk[k+radius];\r\n\t\t\t\t\t\twacc += thisgk[k+radius];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// The new pixel\r\n\t\t\t\tidx = (j*imgd.width+i)*4;\r\n\t\t\t\timgd2.data[idx  ] = Math.floor(racc / wacc);\r\n\t\t\t\timgd2.data[idx+1] = Math.floor(gacc / wacc);\r\n\t\t\t\timgd2.data[idx+2] = Math.floor(bacc / wacc);\r\n\t\t\t\timgd2.data[idx+3] = Math.floor(aacc / wacc);\r\n\t\t\t\t\r\n\t\t\t}// End of width loop\r\n\t\t}// End of horizontal blur\r\n\t\t\r\n\t\t// copying the half blurred imgd2\r\n\t\tvar himgd = new Uint8ClampedArray(imgd2.data);\r\n\t\t\r\n\t\t// loop through all pixels, vertical blur\r\n\t\tfor( j=0; j < imgd.height; j++ ){\r\n\t\t\tfor( i=0; i < imgd.width; i++ ){\r\n\r\n\t\t\t\tracc = 0; gacc = 0; bacc = 0; aacc = 0; wacc = 0;\r\n\t\t\t\t// gauss kernel loop\r\n\t\t\t\tfor( k = -radius; k < radius+1; k++){\r\n\t\t\t\t\t// add weighted color values\r\n\t\t\t\t\tif( (j+k > 0) && (j+k < imgd.height) ){\r\n\t\t\t\t\t\tidx = ((j+k)*imgd.width+i)*4;\r\n\t\t\t\t\t\tracc += himgd[idx  ] * thisgk[k+radius];\r\n\t\t\t\t\t\tgacc += himgd[idx+1] * thisgk[k+radius];\r\n\t\t\t\t\t\tbacc += himgd[idx+2] * thisgk[k+radius];\r\n\t\t\t\t\t\taacc += himgd[idx+3] * thisgk[k+radius];\r\n\t\t\t\t\t\twacc += thisgk[k+radius];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t// The new pixel\r\n\t\t\t\tidx = (j*imgd.width+i)*4;\r\n\t\t\t\timgd2.data[idx  ] = Math.floor(racc / wacc);\r\n\t\t\t\timgd2.data[idx+1] = Math.floor(gacc / wacc);\r\n\t\t\t\timgd2.data[idx+2] = Math.floor(bacc / wacc);\r\n\t\t\t\timgd2.data[idx+3] = Math.floor(aacc / wacc);\r\n\t\t\t\t\r\n\t\t\t}// End of width loop\r\n\t\t}// End of vertical blur\r\n\t\t\r\n\t\t// Selective blur: loop through all pixels\r\n\t\tfor( j=0; j < imgd.height; j++ ){\r\n\t\t\tfor( i=0; i < imgd.width; i++ ){\r\n\t\t\t\t\r\n\t\t\t\tidx = (j*imgd.width+i)*4;\r\n\t\t\t\t// d is the difference between the blurred and the original pixel\r\n\t\t\t\td = Math.abs(imgd2.data[idx  ] - imgd.data[idx  ]) + Math.abs(imgd2.data[idx+1] - imgd.data[idx+1]) +\r\n\t\t\t\t\tMath.abs(imgd2.data[idx+2] - imgd.data[idx+2]) + Math.abs(imgd2.data[idx+3] - imgd.data[idx+3]);\r\n\t\t\t\t// selective blur: if d>delta, put the original pixel back\r\n\t\t\t\tif(d>delta){\r\n\t\t\t\t\timgd2.data[idx  ] = imgd.data[idx  ];\r\n\t\t\t\t\timgd2.data[idx+1] = imgd.data[idx+1];\r\n\t\t\t\t\timgd2.data[idx+2] = imgd.data[idx+2];\r\n\t\t\t\t\timgd2.data[idx+3] = imgd.data[idx+3];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}// End of Selective blur\r\n\t\t\r\n\t\treturn imgd2;\r\n\t\t\r\n\t},// End of blur()\r\n\t\r\n\t// Helper function: loading an image from a URL, then executing callback with canvas as argument\r\n\tthis.loadImage = function(url,callback,options){\r\n\t\tvar img = new Image();\r\n\t\tif(options && options.corsenabled){ img.crossOrigin = 'Anonymous'; }\r\n\t\timg.onload = function(){\r\n\t\t\tvar canvas = document.createElement('canvas');\r\n\t\t\tcanvas.width = img.width;\r\n\t\t\tcanvas.height = img.height;\r\n\t\t\tvar context = canvas.getContext('2d');\r\n\t\t\tcontext.drawImage(img,0,0);\r\n\t\t\tcallback(canvas);\r\n\t\t};\r\n\t\timg.src = url;\r\n\t},\r\n\t\r\n\t// Helper function: getting ImageData from a canvas\r\n\tthis.getImgdata = function(canvas){\r\n\t\tvar context = canvas.getContext('2d');\r\n\t\treturn context.getImageData(0,0,canvas.width,canvas.height);\r\n\t},\r\n\t\r\n\t// Special palette to use with drawlayers()\r\n\tthis.specpalette = [\r\n\t\t{r:0,g:0,b:0,a:255}, {r:128,g:128,b:128,a:255}, {r:0,g:0,b:128,a:255}, {r:64,g:64,b:128,a:255},\r\n\t\t{r:192,g:192,b:192,a:255}, {r:255,g:255,b:255,a:255}, {r:128,g:128,b:192,a:255}, {r:0,g:0,b:192,a:255},\r\n\t\t{r:128,g:0,b:0,a:255}, {r:128,g:64,b:64,a:255}, {r:128,g:0,b:128,a:255}, {r:168,g:168,b:168,a:255},\r\n\t\t{r:192,g:128,b:128,a:255}, {r:192,g:0,b:0,a:255}, {r:255,g:255,b:255,a:255}, {r:0,g:128,b:0,a:255}\r\n\t],\r\n\t\r\n\t// Helper function: Drawing all edge node layers into a container\r\n\tthis.drawLayers = function(layers,palette,scale,parentid){\r\n\t\tscale = scale||1;\r\n\t\tvar w,h,i,j,k;\r\n\t\t\r\n\t\t// Preparing container\r\n\t\tvar div;\r\n\t\tif(parentid){\r\n\t\t\tdiv = document.getElementById(parentid);\r\n\t\t\tif(!div){\r\n\t\t\t\tdiv = document.createElement('div');\r\n\t\t\t\tdiv.id = parentid;\r\n\t\t\t\tdocument.body.appendChild(div);\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\tdiv = document.createElement('div');\r\n\t\t\tdocument.body.appendChild(div);\r\n\t\t}\r\n\t\t\r\n\t\t// Layers loop\r\n\t\tfor (k in layers) {\r\n\t\t\tif(!layers.hasOwnProperty(k)){ continue; }\r\n\t\t\t\r\n\t\t\t// width, height\r\n\t\t\tw=layers[k][0].length; h=layers[k].length;\r\n\t\t\t\r\n\t\t\t// Creating new canvas for every layer\r\n\t\t\tvar canvas = document.createElement('canvas'); canvas.width=w*scale; canvas.height=h*scale;\r\n\t\t\tvar context = canvas.getContext('2d');\r\n\t\t\t\r\n\t\t\t// Drawing\r\n\t\t\tfor(j=0; j<h; j++){\r\n\t\t\t\tfor(i=0; i<w; i++){\r\n\t\t\t\t\tcontext.fillStyle = _this.torgbastr(palette[ layers[k][j][i]%palette.length ]);\r\n\t\t\t\t\tcontext.fillRect(i*scale,j*scale,scale,scale);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// Appending canvas to container\r\n\t\t\tdiv.appendChild(canvas);\r\n\t\t}// End of Layers loop\r\n\t}// End of drawlayers\r\n\t\r\n\t;// End of function list\r\n\t\r\n}// End of ImageTracer object\r\n\r\n// export as AMD module / Node module / browser or worker variable\r\nif(typeof define === 'function' && define.amd){\r\n\tdefine(function() { return new ImageTracer(); });\r\n}else if(typeof module !== 'undefined'){\r\n\tmodule.exports = new ImageTracer();\r\n}else if(typeof self !== 'undefined'){\r\n\tself.ImageTracer = new ImageTracer();\r\n}else window.ImageTracer = new ImageTracer();\r\n\r\n})();","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","function memoize(fn) {\n  var cache = {};\n  return function (arg) {\n    if (cache[arg] === undefined) cache[arg] = fn(arg);\n    return cache[arg];\n  };\n}\n\nexport default memoize;\n","import memoize from '@emotion/memoize';\n\nvar reactPropsRegex = /^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/; // https://esbench.com/bench/5bfee68a4cd7e6009ef61d23\n\nvar index = memoize(function (prop) {\n  return reactPropsRegex.test(prop) || prop.charCodeAt(0) === 111\n  /* o */\n  && prop.charCodeAt(1) === 110\n  /* n */\n  && prop.charCodeAt(2) < 91;\n}\n/* Z+1 */\n);\n\nexport default index;\n","/**\r\n * Returns the object type of the given payload\r\n *\r\n * @param {*} payload\r\n * @returns {string}\r\n */\r\nfunction getType(payload) {\r\n    return Object.prototype.toString.call(payload).slice(8, -1);\r\n}\r\n/**\r\n * Returns whether the payload is undefined\r\n *\r\n * @param {*} payload\r\n * @returns {payload is undefined}\r\n */\r\nfunction isUndefined(payload) {\r\n    return getType(payload) === 'Undefined';\r\n}\r\n/**\r\n * Returns whether the payload is null\r\n *\r\n * @param {*} payload\r\n * @returns {payload is null}\r\n */\r\nfunction isNull(payload) {\r\n    return getType(payload) === 'Null';\r\n}\r\n/**\r\n * Returns whether the payload is a plain JavaScript object (excluding special classes or objects with other prototypes)\r\n *\r\n * @param {*} payload\r\n * @returns {payload is {[key: string]: any}}\r\n */\r\nfunction isPlainObject(payload) {\r\n    if (getType(payload) !== 'Object')\r\n        return false;\r\n    return payload.constructor === Object && Object.getPrototypeOf(payload) === Object.prototype;\r\n}\r\n/**\r\n * Returns whether the payload is a plain JavaScript object (excluding special classes or objects with other prototypes)\r\n *\r\n * @param {*} payload\r\n * @returns {payload is {[key: string]: any}}\r\n */\r\nfunction isObject(payload) {\r\n    return isPlainObject(payload);\r\n}\r\n/**\r\n * Returns whether the payload is an any kind of object (including special classes or objects with different prototypes)\r\n *\r\n * @param {*} payload\r\n * @returns {payload is {[key: string]: any}}\r\n */\r\nfunction isAnyObject(payload) {\r\n    return getType(payload) === 'Object';\r\n}\r\n/**\r\n * Returns whether the payload is an object like a type passed in < >\r\n *\r\n * Usage: isObjectLike<{id: any}>(payload) // will make sure it's an object and has an `id` prop.\r\n *\r\n * @template T this must be passed in < >\r\n * @param {*} payload\r\n * @returns {payload is T}\r\n */\r\nfunction isObjectLike(payload) {\r\n    return isAnyObject(payload);\r\n}\r\n/**\r\n * Returns whether the payload is a function\r\n *\r\n * @param {*} payload\r\n * @returns {payload is Function}\r\n */\r\nfunction isFunction(payload) {\r\n    return getType(payload) === 'Function';\r\n}\r\n/**\r\n * Returns whether the payload is an array\r\n *\r\n * @param {*} payload\r\n * @returns {payload is undefined}\r\n */\r\nfunction isArray(payload) {\r\n    return getType(payload) === 'Array';\r\n}\r\n/**\r\n * Returns whether the payload is a string\r\n *\r\n * @param {*} payload\r\n * @returns {payload is string}\r\n */\r\nfunction isString(payload) {\r\n    return getType(payload) === 'String';\r\n}\r\n/**\r\n * Returns whether the payload is a string, BUT returns false for ''\r\n *\r\n * @param {*} payload\r\n * @returns {payload is string}\r\n */\r\nfunction isFullString(payload) {\r\n    return isString(payload) && payload !== '';\r\n}\r\n/**\r\n * Returns whether the payload is ''\r\n *\r\n * @param {*} payload\r\n * @returns {payload is string}\r\n */\r\nfunction isEmptyString(payload) {\r\n    return payload === '';\r\n}\r\n/**\r\n * Returns whether the payload is a number\r\n *\r\n * This will return false for NaN\r\n *\r\n * @param {*} payload\r\n * @returns {payload is number}\r\n */\r\nfunction isNumber(payload) {\r\n    return getType(payload) === 'Number' && !isNaN(payload);\r\n}\r\n/**\r\n * Returns whether the payload is a boolean\r\n *\r\n * @param {*} payload\r\n * @returns {payload is boolean}\r\n */\r\nfunction isBoolean(payload) {\r\n    return getType(payload) === 'Boolean';\r\n}\r\n/**\r\n * Returns whether the payload is a regular expression\r\n *\r\n * @param {*} payload\r\n * @returns {payload is RegExp}\r\n */\r\nfunction isRegExp(payload) {\r\n    return getType(payload) === 'RegExp';\r\n}\r\n/**\r\n * Returns whether the payload is a Symbol\r\n *\r\n * @param {*} payload\r\n * @returns {payload is symbol}\r\n */\r\nfunction isSymbol(payload) {\r\n    return getType(payload) === 'Symbol';\r\n}\r\n/**\r\n * Returns whether the payload is a date, and that the date is Valid\r\n *\r\n * @param {*} payload\r\n * @returns {payload is Date}\r\n */\r\nfunction isDate(payload) {\r\n    return getType(payload) === 'Date' && !isNaN(payload);\r\n}\r\n/**\r\n * Returns whether the payload is a blob\r\n *\r\n * @param {*} payload\r\n * @returns {payload is Blob}\r\n */\r\nfunction isBlob(payload) {\r\n    return getType(payload) === 'Blob';\r\n}\r\n/**\r\n * Returns whether the payload is a file\r\n *\r\n * @param {*} payload\r\n * @returns {payload is File}\r\n */\r\nfunction isFile(payload) {\r\n    return getType(payload) === 'File';\r\n}\r\n/**\r\n * Returns whether the payload is a primitive type (eg. Boolean | Null | Undefined | Number | String | Symbol)\r\n *\r\n * @param {*} payload\r\n * @returns {(payload is boolean | null | undefined | number | string | symbol)}\r\n */\r\nfunction isPrimitive(payload) {\r\n    return (isBoolean(payload) ||\r\n        isNull(payload) ||\r\n        isUndefined(payload) ||\r\n        isNumber(payload) ||\r\n        isString(payload) ||\r\n        isSymbol(payload));\r\n}\r\n/**\r\n * Returns true whether the payload is null or undefined\r\n *\r\n * @param {*} payload\r\n * @returns {(payload is null | undefined)}\r\n */\r\nfunction isNullOrUndefined(payload) {\r\n    return isNull(payload) || isUndefined(payload);\r\n}\r\n/**\r\n * Does a generic check to check that the given payload is of a given type.\r\n * In cases like Number, it will return true for NaN as NaN is a Number (thanks javascript!);\r\n * It will, however, differentiate between object and null\r\n *\r\n * @template T\r\n * @param {*} payload\r\n * @param {T} type\r\n * @throws {TypeError} Will throw type error if type is an invalid type\r\n * @returns {payload is T}\r\n */\r\nfunction isType(payload, type) {\r\n    if (!(type instanceof Function)) {\r\n        throw new TypeError('Type must be a function');\r\n    }\r\n    if (!type.hasOwnProperty('prototype')) {\r\n        throw new TypeError('Type is not a class');\r\n    }\r\n    // Classes usually have names (as functions usually have names)\r\n    var name = type.name;\r\n    return getType(payload) === name || Boolean(payload && payload.constructor === type);\r\n}\n\nexport { getType, isAnyObject, isArray, isBlob, isBoolean, isDate, isEmptyString, isFile, isFullString, isFunction, isNull, isNullOrUndefined, isNumber, isObject, isObjectLike, isPlainObject, isPrimitive, isRegExp, isString, isSymbol, isType, isUndefined };\n","import { isPlainObject, isArray, isSymbol } from 'is-what';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\n\nfunction assignProp(carry, key, newVal, originalObject) {\r\n    var propType = originalObject.propertyIsEnumerable(key)\r\n        ? 'enumerable'\r\n        : 'nonenumerable';\r\n    if (propType === 'enumerable')\r\n        carry[key] = newVal;\r\n    if (propType === 'nonenumerable') {\r\n        Object.defineProperty(carry, key, {\r\n            value: newVal,\r\n            enumerable: false,\r\n            writable: true,\r\n            configurable: true\r\n        });\r\n    }\r\n}\r\nfunction mergeRecursively(origin, newComer, extensions) {\r\n    // work directly on newComer if its not an object\r\n    if (!isPlainObject(newComer)) {\r\n        // extend merge rules\r\n        if (extensions && isArray(extensions)) {\r\n            extensions.forEach(function (extend) {\r\n                newComer = extend(origin, newComer);\r\n            });\r\n        }\r\n        return newComer;\r\n    }\r\n    // define newObject to merge all values upon\r\n    var newObject = {};\r\n    if (isPlainObject(origin)) {\r\n        var props_1 = Object.getOwnPropertyNames(origin);\r\n        var symbols_1 = Object.getOwnPropertySymbols(origin);\r\n        newObject = __spreadArrays(props_1, symbols_1).reduce(function (carry, key) {\r\n            // @ts-ignore\r\n            var targetVal = origin[key];\r\n            if ((!isSymbol(key) && !Object.getOwnPropertyNames(newComer).includes(key)) ||\r\n                (isSymbol(key) && !Object.getOwnPropertySymbols(newComer).includes(key))) {\r\n                assignProp(carry, key, targetVal, origin);\r\n            }\r\n            return carry;\r\n        }, {});\r\n    }\r\n    var props = Object.getOwnPropertyNames(newComer);\r\n    var symbols = Object.getOwnPropertySymbols(newComer);\r\n    var result = __spreadArrays(props, symbols).reduce(function (carry, key) {\r\n        // re-define the origin and newComer as targetVal and newVal\r\n        var newVal = newComer[key];\r\n        var targetVal = (isPlainObject(origin))\r\n            // @ts-ignore\r\n            ? origin[key]\r\n            : undefined;\r\n        // extend merge rules\r\n        if (extensions && isArray(extensions)) {\r\n            extensions.forEach(function (extend) {\r\n                newVal = extend(targetVal, newVal);\r\n            });\r\n        }\r\n        // When newVal is an object do the merge recursively\r\n        if (targetVal !== undefined && isPlainObject(newVal)) {\r\n            newVal = mergeRecursively(targetVal, newVal, extensions);\r\n        }\r\n        assignProp(carry, key, newVal, newComer);\r\n        return carry;\r\n    }, newObject);\r\n    return result;\r\n}\r\n/**\r\n * Merge anything recursively.\r\n * Objects get merged, special objects (classes etc.) are re-assigned \"as is\".\r\n * Basic types overwrite objects or other basic types.\r\n *\r\n * @param {(IConfig | any)} origin\r\n * @param {...any[]} newComers\r\n * @returns the result\r\n */\r\nfunction merge(origin) {\r\n    var newComers = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        newComers[_i - 1] = arguments[_i];\r\n    }\r\n    var extensions = null;\r\n    var base = origin;\r\n    if (isPlainObject(origin) && origin.extensions && Object.keys(origin).length === 1) {\r\n        base = {};\r\n        extensions = origin.extensions;\r\n    }\r\n    return newComers.reduce(function (result, newComer) {\r\n        return mergeRecursively(result, newComer, extensions);\r\n    }, base);\r\n}\n\nfunction concatArrays(originVal, newVal) {\r\n    if (isArray(originVal) && isArray(newVal)) {\r\n        // concat logic\r\n        return originVal.concat(newVal);\r\n    }\r\n    return newVal; // always return newVal as fallback!!\r\n}\n\nexport default merge;\nexport { concatArrays, merge };\n","/** @license React v16.12.0\n * react.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';var h=require(\"object-assign\"),n=\"function\"===typeof Symbol&&Symbol.for,p=n?Symbol.for(\"react.element\"):60103,q=n?Symbol.for(\"react.portal\"):60106,r=n?Symbol.for(\"react.fragment\"):60107,t=n?Symbol.for(\"react.strict_mode\"):60108,u=n?Symbol.for(\"react.profiler\"):60114,v=n?Symbol.for(\"react.provider\"):60109,w=n?Symbol.for(\"react.context\"):60110,x=n?Symbol.for(\"react.forward_ref\"):60112,y=n?Symbol.for(\"react.suspense\"):60113;n&&Symbol.for(\"react.suspense_list\");\nvar z=n?Symbol.for(\"react.memo\"):60115,aa=n?Symbol.for(\"react.lazy\"):60116;n&&Symbol.for(\"react.fundamental\");n&&Symbol.for(\"react.responder\");n&&Symbol.for(\"react.scope\");var A=\"function\"===typeof Symbol&&Symbol.iterator;\nfunction B(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D={};\nfunction E(a,b,c){this.props=a;this.context=b;this.refs=D;this.updater=c||C}E.prototype.isReactComponent={};E.prototype.setState=function(a,b){if(\"object\"!==typeof a&&\"function\"!==typeof a&&null!=a)throw Error(B(85));this.updater.enqueueSetState(this,a,b,\"setState\")};E.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this,a,\"forceUpdate\")};function F(){}F.prototype=E.prototype;function G(a,b,c){this.props=a;this.context=b;this.refs=D;this.updater=c||C}var H=G.prototype=new F;\nH.constructor=G;h(H,E.prototype);H.isPureReactComponent=!0;var I={current:null},J={current:null},K=Object.prototype.hasOwnProperty,L={key:!0,ref:!0,__self:!0,__source:!0};\nfunction M(a,b,c){var e,d={},g=null,l=null;if(null!=b)for(e in void 0!==b.ref&&(l=b.ref),void 0!==b.key&&(g=\"\"+b.key),b)K.call(b,e)&&!L.hasOwnProperty(e)&&(d[e]=b[e]);var f=arguments.length-2;if(1===f)d.children=c;else if(1<f){for(var k=Array(f),m=0;m<f;m++)k[m]=arguments[m+2];d.children=k}if(a&&a.defaultProps)for(e in f=a.defaultProps,f)void 0===d[e]&&(d[e]=f[e]);return{$$typeof:p,type:a,key:g,ref:l,props:d,_owner:J.current}}\nfunction ba(a,b){return{$$typeof:p,type:a.type,key:b,ref:a.ref,props:a.props,_owner:a._owner}}function N(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===p}function escape(a){var b={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+(\"\"+a).replace(/[=:]/g,function(a){return b[a]})}var O=/\\/+/g,P=[];function Q(a,b,c,e){if(P.length){var d=P.pop();d.result=a;d.keyPrefix=b;d.func=c;d.context=e;d.count=0;return d}return{result:a,keyPrefix:b,func:c,context:e,count:0}}\nfunction R(a){a.result=null;a.keyPrefix=null;a.func=null;a.context=null;a.count=0;10>P.length&&P.push(a)}\nfunction S(a,b,c,e){var d=typeof a;if(\"undefined\"===d||\"boolean\"===d)a=null;var g=!1;if(null===a)g=!0;else switch(d){case \"string\":case \"number\":g=!0;break;case \"object\":switch(a.$$typeof){case p:case q:g=!0}}if(g)return c(e,a,\"\"===b?\".\"+T(a,0):b),1;g=0;b=\"\"===b?\".\":b+\":\";if(Array.isArray(a))for(var l=0;l<a.length;l++){d=a[l];var f=b+T(d,l);g+=S(d,f,c,e)}else if(null===a||\"object\"!==typeof a?f=null:(f=A&&a[A]||a[\"@@iterator\"],f=\"function\"===typeof f?f:null),\"function\"===typeof f)for(a=f.call(a),l=\n0;!(d=a.next()).done;)d=d.value,f=b+T(d,l++),g+=S(d,f,c,e);else if(\"object\"===d)throw c=\"\"+a,Error(B(31,\"[object Object]\"===c?\"object with keys {\"+Object.keys(a).join(\", \")+\"}\":c,\"\"));return g}function U(a,b,c){return null==a?0:S(a,\"\",b,c)}function T(a,b){return\"object\"===typeof a&&null!==a&&null!=a.key?escape(a.key):b.toString(36)}function ca(a,b){a.func.call(a.context,b,a.count++)}\nfunction da(a,b,c){var e=a.result,d=a.keyPrefix;a=a.func.call(a.context,b,a.count++);Array.isArray(a)?V(a,e,c,function(a){return a}):null!=a&&(N(a)&&(a=ba(a,d+(!a.key||b&&b.key===a.key?\"\":(\"\"+a.key).replace(O,\"$&/\")+\"/\")+c)),e.push(a))}function V(a,b,c,e,d){var g=\"\";null!=c&&(g=(\"\"+c).replace(O,\"$&/\")+\"/\");b=Q(b,g,e,d);U(a,da,b);R(b)}function W(){var a=I.current;if(null===a)throw Error(B(321));return a}\nvar X={Children:{map:function(a,b,c){if(null==a)return a;var e=[];V(a,e,null,b,c);return e},forEach:function(a,b,c){if(null==a)return a;b=Q(null,null,b,c);U(a,ca,b);R(b)},count:function(a){return U(a,function(){return null},null)},toArray:function(a){var b=[];V(a,b,null,function(a){return a});return b},only:function(a){if(!N(a))throw Error(B(143));return a}},createRef:function(){return{current:null}},Component:E,PureComponent:G,createContext:function(a,b){void 0===b&&(b=null);a={$$typeof:w,_calculateChangedBits:b,\n_currentValue:a,_currentValue2:a,_threadCount:0,Provider:null,Consumer:null};a.Provider={$$typeof:v,_context:a};return a.Consumer=a},forwardRef:function(a){return{$$typeof:x,render:a}},lazy:function(a){return{$$typeof:aa,_ctor:a,_status:-1,_result:null}},memo:function(a,b){return{$$typeof:z,type:a,compare:void 0===b?null:b}},useCallback:function(a,b){return W().useCallback(a,b)},useContext:function(a,b){return W().useContext(a,b)},useEffect:function(a,b){return W().useEffect(a,b)},useImperativeHandle:function(a,\nb,c){return W().useImperativeHandle(a,b,c)},useDebugValue:function(){},useLayoutEffect:function(a,b){return W().useLayoutEffect(a,b)},useMemo:function(a,b){return W().useMemo(a,b)},useReducer:function(a,b,c){return W().useReducer(a,b,c)},useRef:function(a){return W().useRef(a)},useState:function(a){return W().useState(a)},Fragment:r,Profiler:u,StrictMode:t,Suspense:y,createElement:M,cloneElement:function(a,b,c){if(null===a||void 0===a)throw Error(B(267,a));var e=h({},a.props),d=a.key,g=a.ref,l=a._owner;\nif(null!=b){void 0!==b.ref&&(g=b.ref,l=J.current);void 0!==b.key&&(d=\"\"+b.key);if(a.type&&a.type.defaultProps)var f=a.type.defaultProps;for(k in b)K.call(b,k)&&!L.hasOwnProperty(k)&&(e[k]=void 0===b[k]&&void 0!==f?f[k]:b[k])}var k=arguments.length-2;if(1===k)e.children=c;else if(1<k){f=Array(k);for(var m=0;m<k;m++)f[m]=arguments[m+2];e.children=f}return{$$typeof:p,type:a.type,key:d,ref:g,props:e,_owner:l}},createFactory:function(a){var b=M.bind(null,a);b.type=a;return b},isValidElement:N,version:\"16.12.0\",\n__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:I,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:J,IsSomeRendererActing:{current:!1},assign:h}},Y={default:X},Z=Y&&X||Y;module.exports=Z.default||Z;\n","/** @license React v16.12.0\n * react-dom.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n/*\n Modernizr 3.0.0pre (Custom Build) | MIT\n*/\n'use strict';var aa=require(\"react\"),n=require(\"object-assign\"),q=require(\"scheduler\");function u(a){for(var b=\"https://reactjs.org/docs/error-decoder.html?invariant=\"+a,c=1;c<arguments.length;c++)b+=\"&args[]=\"+encodeURIComponent(arguments[c]);return\"Minified React error #\"+a+\"; visit \"+b+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}if(!aa)throw Error(u(227));var ba=null,ca={};\nfunction da(){if(ba)for(var a in ca){var b=ca[a],c=ba.indexOf(a);if(!(-1<c))throw Error(u(96,a));if(!ea[c]){if(!b.extractEvents)throw Error(u(97,a));ea[c]=b;c=b.eventTypes;for(var d in c){var e=void 0;var f=c[d],g=b,h=d;if(fa.hasOwnProperty(h))throw Error(u(99,h));fa[h]=f;var k=f.phasedRegistrationNames;if(k){for(e in k)k.hasOwnProperty(e)&&ha(k[e],g,h);e=!0}else f.registrationName?(ha(f.registrationName,g,h),e=!0):e=!1;if(!e)throw Error(u(98,d,a));}}}}\nfunction ha(a,b,c){if(ia[a])throw Error(u(100,a));ia[a]=b;ja[a]=b.eventTypes[c].dependencies}var ea=[],fa={},ia={},ja={};function ka(a,b,c,d,e,f,g,h,k){var l=Array.prototype.slice.call(arguments,3);try{b.apply(c,l)}catch(m){this.onError(m)}}var la=!1,ma=null,na=!1,oa=null,pa={onError:function(a){la=!0;ma=a}};function qa(a,b,c,d,e,f,g,h,k){la=!1;ma=null;ka.apply(pa,arguments)}\nfunction ra(a,b,c,d,e,f,g,h,k){qa.apply(this,arguments);if(la){if(la){var l=ma;la=!1;ma=null}else throw Error(u(198));na||(na=!0,oa=l)}}var sa=null,ua=null,va=null;function wa(a,b,c){var d=a.type||\"unknown-event\";a.currentTarget=va(c);ra(d,b,void 0,a);a.currentTarget=null}function xa(a,b){if(null==b)throw Error(u(30));if(null==a)return b;if(Array.isArray(a)){if(Array.isArray(b))return a.push.apply(a,b),a;a.push(b);return a}return Array.isArray(b)?[a].concat(b):[a,b]}\nfunction ya(a,b,c){Array.isArray(a)?a.forEach(b,c):a&&b.call(c,a)}var za=null;function Aa(a){if(a){var b=a._dispatchListeners,c=a._dispatchInstances;if(Array.isArray(b))for(var d=0;d<b.length&&!a.isPropagationStopped();d++)wa(a,b[d],c[d]);else b&&wa(a,b,c);a._dispatchListeners=null;a._dispatchInstances=null;a.isPersistent()||a.constructor.release(a)}}function Ba(a){null!==a&&(za=xa(za,a));a=za;za=null;if(a){ya(a,Aa);if(za)throw Error(u(95));if(na)throw a=oa,na=!1,oa=null,a;}}\nvar Ca={injectEventPluginOrder:function(a){if(ba)throw Error(u(101));ba=Array.prototype.slice.call(a);da()},injectEventPluginsByName:function(a){var b=!1,c;for(c in a)if(a.hasOwnProperty(c)){var d=a[c];if(!ca.hasOwnProperty(c)||ca[c]!==d){if(ca[c])throw Error(u(102,c));ca[c]=d;b=!0}}b&&da()}};\nfunction Da(a,b){var c=a.stateNode;if(!c)return null;var d=sa(c);if(!d)return null;c=d[b];a:switch(b){case \"onClick\":case \"onClickCapture\":case \"onDoubleClick\":case \"onDoubleClickCapture\":case \"onMouseDown\":case \"onMouseDownCapture\":case \"onMouseMove\":case \"onMouseMoveCapture\":case \"onMouseUp\":case \"onMouseUpCapture\":(d=!d.disabled)||(a=a.type,d=!(\"button\"===a||\"input\"===a||\"select\"===a||\"textarea\"===a));a=!d;break a;default:a=!1}if(a)return null;if(c&&\"function\"!==typeof c)throw Error(u(231,b,typeof c));\nreturn c}var Ea=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Ea.hasOwnProperty(\"ReactCurrentDispatcher\")||(Ea.ReactCurrentDispatcher={current:null});Ea.hasOwnProperty(\"ReactCurrentBatchConfig\")||(Ea.ReactCurrentBatchConfig={suspense:null});\nvar Fa=/^(.*)[\\\\\\/]/,w=\"function\"===typeof Symbol&&Symbol.for,Ga=w?Symbol.for(\"react.element\"):60103,Ha=w?Symbol.for(\"react.portal\"):60106,Ia=w?Symbol.for(\"react.fragment\"):60107,Ja=w?Symbol.for(\"react.strict_mode\"):60108,Ka=w?Symbol.for(\"react.profiler\"):60114,La=w?Symbol.for(\"react.provider\"):60109,Ma=w?Symbol.for(\"react.context\"):60110,Na=w?Symbol.for(\"react.concurrent_mode\"):60111,Oa=w?Symbol.for(\"react.forward_ref\"):60112,Pa=w?Symbol.for(\"react.suspense\"):60113,Qa=w?Symbol.for(\"react.suspense_list\"):\n60120,Ra=w?Symbol.for(\"react.memo\"):60115,Sa=w?Symbol.for(\"react.lazy\"):60116;w&&Symbol.for(\"react.fundamental\");w&&Symbol.for(\"react.responder\");w&&Symbol.for(\"react.scope\");var Ta=\"function\"===typeof Symbol&&Symbol.iterator;function Ua(a){if(null===a||\"object\"!==typeof a)return null;a=Ta&&a[Ta]||a[\"@@iterator\"];return\"function\"===typeof a?a:null}\nfunction Va(a){if(-1===a._status){a._status=0;var b=a._ctor;b=b();a._result=b;b.then(function(b){0===a._status&&(b=b.default,a._status=1,a._result=b)},function(b){0===a._status&&(a._status=2,a._result=b)})}}\nfunction Wa(a){if(null==a)return null;if(\"function\"===typeof a)return a.displayName||a.name||null;if(\"string\"===typeof a)return a;switch(a){case Ia:return\"Fragment\";case Ha:return\"Portal\";case Ka:return\"Profiler\";case Ja:return\"StrictMode\";case Pa:return\"Suspense\";case Qa:return\"SuspenseList\"}if(\"object\"===typeof a)switch(a.$$typeof){case Ma:return\"Context.Consumer\";case La:return\"Context.Provider\";case Oa:var b=a.render;b=b.displayName||b.name||\"\";return a.displayName||(\"\"!==b?\"ForwardRef(\"+b+\")\":\n\"ForwardRef\");case Ra:return Wa(a.type);case Sa:if(a=1===a._status?a._result:null)return Wa(a)}return null}function Xa(a){var b=\"\";do{a:switch(a.tag){case 3:case 4:case 6:case 7:case 10:case 9:var c=\"\";break a;default:var d=a._debugOwner,e=a._debugSource,f=Wa(a.type);c=null;d&&(c=Wa(d.type));d=f;f=\"\";e?f=\" (at \"+e.fileName.replace(Fa,\"\")+\":\"+e.lineNumber+\")\":c&&(f=\" (created by \"+c+\")\");c=\"\\n    in \"+(d||\"Unknown\")+f}b+=c;a=a.return}while(a);return b}\nvar Ya=!(\"undefined\"===typeof window||\"undefined\"===typeof window.document||\"undefined\"===typeof window.document.createElement),Za=null,$a=null,ab=null;function bb(a){if(a=ua(a)){if(\"function\"!==typeof Za)throw Error(u(280));var b=sa(a.stateNode);Za(a.stateNode,a.type,b)}}function cb(a){$a?ab?ab.push(a):ab=[a]:$a=a}function db(){if($a){var a=$a,b=ab;ab=$a=null;bb(a);if(b)for(a=0;a<b.length;a++)bb(b[a])}}function eb(a,b){return a(b)}function fb(a,b,c,d){return a(b,c,d)}function gb(){}\nvar hb=eb,ib=!1,jb=!1;function kb(){if(null!==$a||null!==ab)gb(),db()}new Map;var lb=/^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$/,mb=Object.prototype.hasOwnProperty,nb={},ob={};\nfunction pb(a){if(mb.call(ob,a))return!0;if(mb.call(nb,a))return!1;if(lb.test(a))return ob[a]=!0;nb[a]=!0;return!1}function qb(a,b,c,d){if(null!==c&&0===c.type)return!1;switch(typeof b){case \"function\":case \"symbol\":return!0;case \"boolean\":if(d)return!1;if(null!==c)return!c.acceptsBooleans;a=a.toLowerCase().slice(0,5);return\"data-\"!==a&&\"aria-\"!==a;default:return!1}}\nfunction rb(a,b,c,d){if(null===b||\"undefined\"===typeof b||qb(a,b,c,d))return!0;if(d)return!1;if(null!==c)switch(c.type){case 3:return!b;case 4:return!1===b;case 5:return isNaN(b);case 6:return isNaN(b)||1>b}return!1}function B(a,b,c,d,e,f){this.acceptsBooleans=2===b||3===b||4===b;this.attributeName=d;this.attributeNamespace=e;this.mustUseProperty=c;this.propertyName=a;this.type=b;this.sanitizeURL=f}var D={};\n\"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style\".split(\" \").forEach(function(a){D[a]=new B(a,0,!1,a,null,!1)});[[\"acceptCharset\",\"accept-charset\"],[\"className\",\"class\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"]].forEach(function(a){var b=a[0];D[b]=new B(b,1,!1,a[1],null,!1)});[\"contentEditable\",\"draggable\",\"spellCheck\",\"value\"].forEach(function(a){D[a]=new B(a,2,!1,a.toLowerCase(),null,!1)});\n[\"autoReverse\",\"externalResourcesRequired\",\"focusable\",\"preserveAlpha\"].forEach(function(a){D[a]=new B(a,2,!1,a,null,!1)});\"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope\".split(\" \").forEach(function(a){D[a]=new B(a,3,!1,a.toLowerCase(),null,!1)});\n[\"checked\",\"multiple\",\"muted\",\"selected\"].forEach(function(a){D[a]=new B(a,3,!0,a,null,!1)});[\"capture\",\"download\"].forEach(function(a){D[a]=new B(a,4,!1,a,null,!1)});[\"cols\",\"rows\",\"size\",\"span\"].forEach(function(a){D[a]=new B(a,6,!1,a,null,!1)});[\"rowSpan\",\"start\"].forEach(function(a){D[a]=new B(a,5,!1,a.toLowerCase(),null,!1)});var sb=/[\\-:]([a-z])/g;function tb(a){return a[1].toUpperCase()}\n\"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height\".split(\" \").forEach(function(a){var b=a.replace(sb,\ntb);D[b]=new B(b,1,!1,a,null,!1)});\"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type\".split(\" \").forEach(function(a){var b=a.replace(sb,tb);D[b]=new B(b,1,!1,a,\"http://www.w3.org/1999/xlink\",!1)});[\"xml:base\",\"xml:lang\",\"xml:space\"].forEach(function(a){var b=a.replace(sb,tb);D[b]=new B(b,1,!1,a,\"http://www.w3.org/XML/1998/namespace\",!1)});[\"tabIndex\",\"crossOrigin\"].forEach(function(a){D[a]=new B(a,1,!1,a.toLowerCase(),null,!1)});\nD.xlinkHref=new B(\"xlinkHref\",1,!1,\"xlink:href\",\"http://www.w3.org/1999/xlink\",!0);[\"src\",\"href\",\"action\",\"formAction\"].forEach(function(a){D[a]=new B(a,1,!1,a.toLowerCase(),null,!0)});function ub(a){switch(typeof a){case \"boolean\":case \"number\":case \"object\":case \"string\":case \"undefined\":return a;default:return\"\"}}\nfunction vb(a,b,c,d){var e=D.hasOwnProperty(b)?D[b]:null;var f=null!==e?0===e.type:d?!1:!(2<b.length)||\"o\"!==b[0]&&\"O\"!==b[0]||\"n\"!==b[1]&&\"N\"!==b[1]?!1:!0;f||(rb(b,c,e,d)&&(c=null),d||null===e?pb(b)&&(null===c?a.removeAttribute(b):a.setAttribute(b,\"\"+c)):e.mustUseProperty?a[e.propertyName]=null===c?3===e.type?!1:\"\":c:(b=e.attributeName,d=e.attributeNamespace,null===c?a.removeAttribute(b):(e=e.type,c=3===e||4===e&&!0===c?\"\":\"\"+c,d?a.setAttributeNS(d,b,c):a.setAttribute(b,c))))}\nfunction wb(a){var b=a.type;return(a=a.nodeName)&&\"input\"===a.toLowerCase()&&(\"checkbox\"===b||\"radio\"===b)}\nfunction xb(a){var b=wb(a)?\"checked\":\"value\",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,b),d=\"\"+a[b];if(!a.hasOwnProperty(b)&&\"undefined\"!==typeof c&&\"function\"===typeof c.get&&\"function\"===typeof c.set){var e=c.get,f=c.set;Object.defineProperty(a,b,{configurable:!0,get:function(){return e.call(this)},set:function(a){d=\"\"+a;f.call(this,a)}});Object.defineProperty(a,b,{enumerable:c.enumerable});return{getValue:function(){return d},setValue:function(a){d=\"\"+a},stopTracking:function(){a._valueTracker=\nnull;delete a[b]}}}}function yb(a){a._valueTracker||(a._valueTracker=xb(a))}function zb(a){if(!a)return!1;var b=a._valueTracker;if(!b)return!0;var c=b.getValue();var d=\"\";a&&(d=wb(a)?a.checked?\"true\":\"false\":a.value);a=d;return a!==c?(b.setValue(a),!0):!1}function Ab(a,b){var c=b.checked;return n({},b,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=c?c:a._wrapperState.initialChecked})}\nfunction Bb(a,b){var c=null==b.defaultValue?\"\":b.defaultValue,d=null!=b.checked?b.checked:b.defaultChecked;c=ub(null!=b.value?b.value:c);a._wrapperState={initialChecked:d,initialValue:c,controlled:\"checkbox\"===b.type||\"radio\"===b.type?null!=b.checked:null!=b.value}}function Cb(a,b){b=b.checked;null!=b&&vb(a,\"checked\",b,!1)}\nfunction Eb(a,b){Cb(a,b);var c=ub(b.value),d=b.type;if(null!=c)if(\"number\"===d){if(0===c&&\"\"===a.value||a.value!=c)a.value=\"\"+c}else a.value!==\"\"+c&&(a.value=\"\"+c);else if(\"submit\"===d||\"reset\"===d){a.removeAttribute(\"value\");return}b.hasOwnProperty(\"value\")?Fb(a,b.type,c):b.hasOwnProperty(\"defaultValue\")&&Fb(a,b.type,ub(b.defaultValue));null==b.checked&&null!=b.defaultChecked&&(a.defaultChecked=!!b.defaultChecked)}\nfunction Gb(a,b,c){if(b.hasOwnProperty(\"value\")||b.hasOwnProperty(\"defaultValue\")){var d=b.type;if(!(\"submit\"!==d&&\"reset\"!==d||void 0!==b.value&&null!==b.value))return;b=\"\"+a._wrapperState.initialValue;c||b===a.value||(a.value=b);a.defaultValue=b}c=a.name;\"\"!==c&&(a.name=\"\");a.defaultChecked=!a.defaultChecked;a.defaultChecked=!!a._wrapperState.initialChecked;\"\"!==c&&(a.name=c)}\nfunction Fb(a,b,c){if(\"number\"!==b||a.ownerDocument.activeElement!==a)null==c?a.defaultValue=\"\"+a._wrapperState.initialValue:a.defaultValue!==\"\"+c&&(a.defaultValue=\"\"+c)}function Hb(a){var b=\"\";aa.Children.forEach(a,function(a){null!=a&&(b+=a)});return b}function Ib(a,b){a=n({children:void 0},b);if(b=Hb(b.children))a.children=b;return a}\nfunction Jb(a,b,c,d){a=a.options;if(b){b={};for(var e=0;e<c.length;e++)b[\"$\"+c[e]]=!0;for(c=0;c<a.length;c++)e=b.hasOwnProperty(\"$\"+a[c].value),a[c].selected!==e&&(a[c].selected=e),e&&d&&(a[c].defaultSelected=!0)}else{c=\"\"+ub(c);b=null;for(e=0;e<a.length;e++){if(a[e].value===c){a[e].selected=!0;d&&(a[e].defaultSelected=!0);return}null!==b||a[e].disabled||(b=a[e])}null!==b&&(b.selected=!0)}}\nfunction Kb(a,b){if(null!=b.dangerouslySetInnerHTML)throw Error(u(91));return n({},b,{value:void 0,defaultValue:void 0,children:\"\"+a._wrapperState.initialValue})}function Lb(a,b){var c=b.value;if(null==c){c=b.defaultValue;b=b.children;if(null!=b){if(null!=c)throw Error(u(92));if(Array.isArray(b)){if(!(1>=b.length))throw Error(u(93));b=b[0]}c=b}null==c&&(c=\"\")}a._wrapperState={initialValue:ub(c)}}\nfunction Mb(a,b){var c=ub(b.value),d=ub(b.defaultValue);null!=c&&(c=\"\"+c,c!==a.value&&(a.value=c),null==b.defaultValue&&a.defaultValue!==c&&(a.defaultValue=c));null!=d&&(a.defaultValue=\"\"+d)}function Nb(a){var b=a.textContent;b===a._wrapperState.initialValue&&\"\"!==b&&null!==b&&(a.value=b)}var Ob={html:\"http://www.w3.org/1999/xhtml\",mathml:\"http://www.w3.org/1998/Math/MathML\",svg:\"http://www.w3.org/2000/svg\"};\nfunction Pb(a){switch(a){case \"svg\":return\"http://www.w3.org/2000/svg\";case \"math\":return\"http://www.w3.org/1998/Math/MathML\";default:return\"http://www.w3.org/1999/xhtml\"}}function Qb(a,b){return null==a||\"http://www.w3.org/1999/xhtml\"===a?Pb(b):\"http://www.w3.org/2000/svg\"===a&&\"foreignObject\"===b?\"http://www.w3.org/1999/xhtml\":a}\nvar Rb,Sb=function(a){return\"undefined\"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(b,c,d,e){MSApp.execUnsafeLocalFunction(function(){return a(b,c,d,e)})}:a}(function(a,b){if(a.namespaceURI!==Ob.svg||\"innerHTML\"in a)a.innerHTML=b;else{Rb=Rb||document.createElement(\"div\");Rb.innerHTML=\"<svg>\"+b.valueOf().toString()+\"</svg>\";for(b=Rb.firstChild;a.firstChild;)a.removeChild(a.firstChild);for(;b.firstChild;)a.appendChild(b.firstChild)}});\nfunction Tb(a,b){if(b){var c=a.firstChild;if(c&&c===a.lastChild&&3===c.nodeType){c.nodeValue=b;return}}a.textContent=b}function Ub(a,b){var c={};c[a.toLowerCase()]=b.toLowerCase();c[\"Webkit\"+a]=\"webkit\"+b;c[\"Moz\"+a]=\"moz\"+b;return c}var Vb={animationend:Ub(\"Animation\",\"AnimationEnd\"),animationiteration:Ub(\"Animation\",\"AnimationIteration\"),animationstart:Ub(\"Animation\",\"AnimationStart\"),transitionend:Ub(\"Transition\",\"TransitionEnd\")},Wb={},Xb={};\nYa&&(Xb=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete Vb.animationend.animation,delete Vb.animationiteration.animation,delete Vb.animationstart.animation),\"TransitionEvent\"in window||delete Vb.transitionend.transition);function Yb(a){if(Wb[a])return Wb[a];if(!Vb[a])return a;var b=Vb[a],c;for(c in b)if(b.hasOwnProperty(c)&&c in Xb)return Wb[a]=b[c];return a}var Zb=Yb(\"animationend\"),$b=Yb(\"animationiteration\"),ac=Yb(\"animationstart\"),bc=Yb(\"transitionend\"),cc=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \");\nfunction ec(a){var b=a,c=a;if(a.alternate)for(;b.return;)b=b.return;else{a=b;do b=a,0!==(b.effectTag&1026)&&(c=b.return),a=b.return;while(a)}return 3===b.tag?c:null}function fc(a){if(13===a.tag){var b=a.memoizedState;null===b&&(a=a.alternate,null!==a&&(b=a.memoizedState));if(null!==b)return b.dehydrated}return null}function gc(a){if(ec(a)!==a)throw Error(u(188));}\nfunction hc(a){var b=a.alternate;if(!b){b=ec(a);if(null===b)throw Error(u(188));return b!==a?null:a}for(var c=a,d=b;;){var e=c.return;if(null===e)break;var f=e.alternate;if(null===f){d=e.return;if(null!==d){c=d;continue}break}if(e.child===f.child){for(f=e.child;f;){if(f===c)return gc(e),a;if(f===d)return gc(e),b;f=f.sibling}throw Error(u(188));}if(c.return!==d.return)c=e,d=f;else{for(var g=!1,h=e.child;h;){if(h===c){g=!0;c=e;d=f;break}if(h===d){g=!0;d=e;c=f;break}h=h.sibling}if(!g){for(h=f.child;h;){if(h===\nc){g=!0;c=f;d=e;break}if(h===d){g=!0;d=f;c=e;break}h=h.sibling}if(!g)throw Error(u(189));}}if(c.alternate!==d)throw Error(u(190));}if(3!==c.tag)throw Error(u(188));return c.stateNode.current===c?a:b}function ic(a){a=hc(a);if(!a)return null;for(var b=a;;){if(5===b.tag||6===b.tag)return b;if(b.child)b.child.return=b,b=b.child;else{if(b===a)break;for(;!b.sibling;){if(!b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}}return null}\nvar jc,kc,lc,mc=!1,nc=[],oc=null,pc=null,qc=null,rc=new Map,sc=new Map,tc=[],uc=\"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit\".split(\" \"),vc=\"focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture\".split(\" \");\nfunction wc(a){var b=xc(a);uc.forEach(function(c){yc(c,a,b)});vc.forEach(function(c){yc(c,a,b)})}function zc(a,b,c,d){return{blockedOn:a,topLevelType:b,eventSystemFlags:c|32,nativeEvent:d}}function Ac(a,b){switch(a){case \"focus\":case \"blur\":oc=null;break;case \"dragenter\":case \"dragleave\":pc=null;break;case \"mouseover\":case \"mouseout\":qc=null;break;case \"pointerover\":case \"pointerout\":rc.delete(b.pointerId);break;case \"gotpointercapture\":case \"lostpointercapture\":sc.delete(b.pointerId)}}\nfunction Bc(a,b,c,d,e){if(null===a||a.nativeEvent!==e)return a=zc(b,c,d,e),null!==b&&(b=Cc(b),null!==b&&kc(b)),a;a.eventSystemFlags|=d;return a}function Dc(a,b,c,d){switch(b){case \"focus\":return oc=Bc(oc,a,b,c,d),!0;case \"dragenter\":return pc=Bc(pc,a,b,c,d),!0;case \"mouseover\":return qc=Bc(qc,a,b,c,d),!0;case \"pointerover\":var e=d.pointerId;rc.set(e,Bc(rc.get(e)||null,a,b,c,d));return!0;case \"gotpointercapture\":return e=d.pointerId,sc.set(e,Bc(sc.get(e)||null,a,b,c,d)),!0}return!1}\nfunction Ec(a){var b=Fc(a.target);if(null!==b){var c=ec(b);if(null!==c)if(b=c.tag,13===b){if(b=fc(c),null!==b){a.blockedOn=b;q.unstable_runWithPriority(a.priority,function(){lc(c)});return}}else if(3===b&&c.stateNode.hydrate){a.blockedOn=3===c.tag?c.stateNode.containerInfo:null;return}}a.blockedOn=null}function Gc(a){if(null!==a.blockedOn)return!1;var b=Hc(a.topLevelType,a.eventSystemFlags,a.nativeEvent);if(null!==b){var c=Cc(b);null!==c&&kc(c);a.blockedOn=b;return!1}return!0}\nfunction Ic(a,b,c){Gc(a)&&c.delete(b)}function Jc(){for(mc=!1;0<nc.length;){var a=nc[0];if(null!==a.blockedOn){a=Cc(a.blockedOn);null!==a&&jc(a);break}var b=Hc(a.topLevelType,a.eventSystemFlags,a.nativeEvent);null!==b?a.blockedOn=b:nc.shift()}null!==oc&&Gc(oc)&&(oc=null);null!==pc&&Gc(pc)&&(pc=null);null!==qc&&Gc(qc)&&(qc=null);rc.forEach(Ic);sc.forEach(Ic)}function Kc(a,b){a.blockedOn===b&&(a.blockedOn=null,mc||(mc=!0,q.unstable_scheduleCallback(q.unstable_NormalPriority,Jc)))}\nfunction Lc(a){function b(b){return Kc(b,a)}if(0<nc.length){Kc(nc[0],a);for(var c=1;c<nc.length;c++){var d=nc[c];d.blockedOn===a&&(d.blockedOn=null)}}null!==oc&&Kc(oc,a);null!==pc&&Kc(pc,a);null!==qc&&Kc(qc,a);rc.forEach(b);sc.forEach(b);for(c=0;c<tc.length;c++)d=tc[c],d.blockedOn===a&&(d.blockedOn=null);for(;0<tc.length&&(c=tc[0],null===c.blockedOn);)Ec(c),null===c.blockedOn&&tc.shift()}\nfunction Mc(a){a=a.target||a.srcElement||window;a.correspondingUseElement&&(a=a.correspondingUseElement);return 3===a.nodeType?a.parentNode:a}function Nc(a){do a=a.return;while(a&&5!==a.tag);return a?a:null}function Oc(a,b,c){if(b=Da(a,c.dispatchConfig.phasedRegistrationNames[b]))c._dispatchListeners=xa(c._dispatchListeners,b),c._dispatchInstances=xa(c._dispatchInstances,a)}\nfunction Pc(a){if(a&&a.dispatchConfig.phasedRegistrationNames){for(var b=a._targetInst,c=[];b;)c.push(b),b=Nc(b);for(b=c.length;0<b--;)Oc(c[b],\"captured\",a);for(b=0;b<c.length;b++)Oc(c[b],\"bubbled\",a)}}function Qc(a,b,c){a&&c&&c.dispatchConfig.registrationName&&(b=Da(a,c.dispatchConfig.registrationName))&&(c._dispatchListeners=xa(c._dispatchListeners,b),c._dispatchInstances=xa(c._dispatchInstances,a))}function Rc(a){a&&a.dispatchConfig.registrationName&&Qc(a._targetInst,null,a)}\nfunction Sc(a){ya(a,Pc)}function Tc(){return!0}function Uc(){return!1}function E(a,b,c,d){this.dispatchConfig=a;this._targetInst=b;this.nativeEvent=c;a=this.constructor.Interface;for(var e in a)a.hasOwnProperty(e)&&((b=a[e])?this[e]=b(c):\"target\"===e?this.target=d:this[e]=c[e]);this.isDefaultPrevented=(null!=c.defaultPrevented?c.defaultPrevented:!1===c.returnValue)?Tc:Uc;this.isPropagationStopped=Uc;return this}\nn(E.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():\"unknown\"!==typeof a.returnValue&&(a.returnValue=!1),this.isDefaultPrevented=Tc)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():\"unknown\"!==typeof a.cancelBubble&&(a.cancelBubble=!0),this.isPropagationStopped=Tc)},persist:function(){this.isPersistent=Tc},isPersistent:Uc,destructor:function(){var a=this.constructor.Interface,\nb;for(b in a)this[b]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null;this.isPropagationStopped=this.isDefaultPrevented=Uc;this._dispatchInstances=this._dispatchListeners=null}});E.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};\nE.extend=function(a){function b(){}function c(){return d.apply(this,arguments)}var d=this;b.prototype=d.prototype;var e=new b;n(e,c.prototype);c.prototype=e;c.prototype.constructor=c;c.Interface=n({},d.Interface,a);c.extend=d.extend;Vc(c);return c};Vc(E);function Wc(a,b,c,d){if(this.eventPool.length){var e=this.eventPool.pop();this.call(e,a,b,c,d);return e}return new this(a,b,c,d)}\nfunction Xc(a){if(!(a instanceof this))throw Error(u(279));a.destructor();10>this.eventPool.length&&this.eventPool.push(a)}function Vc(a){a.eventPool=[];a.getPooled=Wc;a.release=Xc}var Yc=E.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Zc=E.extend({clipboardData:function(a){return\"clipboardData\"in a?a.clipboardData:window.clipboardData}}),$c=E.extend({view:null,detail:null}),ad=$c.extend({relatedTarget:null});\nfunction bd(a){var b=a.keyCode;\"charCode\"in a?(a=a.charCode,0===a&&13===b&&(a=13)):a=b;10===a&&(a=13);return 32<=a||13===a?a:0}\nvar cd={Esc:\"Escape\",Spacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},dd={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",\n116:\"F5\",117:\"F6\",118:\"F7\",119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},ed={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function gd(a){var b=this.nativeEvent;return b.getModifierState?b.getModifierState(a):(a=ed[a])?!!b[a]:!1}function hd(){return gd}\nvar id=$c.extend({key:function(a){if(a.key){var b=cd[a.key]||a.key;if(\"Unidentified\"!==b)return b}return\"keypress\"===a.type?(a=bd(a),13===a?\"Enter\":String.fromCharCode(a)):\"keydown\"===a.type||\"keyup\"===a.type?dd[a.keyCode]||\"Unidentified\":\"\"},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:hd,charCode:function(a){return\"keypress\"===a.type?bd(a):0},keyCode:function(a){return\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0},which:function(a){return\"keypress\"===\na.type?bd(a):\"keydown\"===a.type||\"keyup\"===a.type?a.keyCode:0}}),jd=0,kd=0,ld=!1,md=!1,nd=$c.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:hd,button:null,buttons:null,relatedTarget:function(a){return a.relatedTarget||(a.fromElement===a.srcElement?a.toElement:a.fromElement)},movementX:function(a){if(\"movementX\"in a)return a.movementX;var b=jd;jd=a.screenX;return ld?\"mousemove\"===a.type?a.screenX-\nb:0:(ld=!0,0)},movementY:function(a){if(\"movementY\"in a)return a.movementY;var b=kd;kd=a.screenY;return md?\"mousemove\"===a.type?a.screenY-b:0:(md=!0,0)}}),od=nd.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),pd=nd.extend({dataTransfer:null}),qd=$c.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:hd}),rd=E.extend({propertyName:null,\nelapsedTime:null,pseudoElement:null}),sd=nd.extend({deltaX:function(a){return\"deltaX\"in a?a.deltaX:\"wheelDeltaX\"in a?-a.wheelDeltaX:0},deltaY:function(a){return\"deltaY\"in a?a.deltaY:\"wheelDeltaY\"in a?-a.wheelDeltaY:\"wheelDelta\"in a?-a.wheelDelta:0},deltaZ:null,deltaMode:null}),td=[[\"blur\",\"blur\",0],[\"cancel\",\"cancel\",0],[\"click\",\"click\",0],[\"close\",\"close\",0],[\"contextmenu\",\"contextMenu\",0],[\"copy\",\"copy\",0],[\"cut\",\"cut\",0],[\"auxclick\",\"auxClick\",0],[\"dblclick\",\"doubleClick\",0],[\"dragend\",\"dragEnd\",\n0],[\"dragstart\",\"dragStart\",0],[\"drop\",\"drop\",0],[\"focus\",\"focus\",0],[\"input\",\"input\",0],[\"invalid\",\"invalid\",0],[\"keydown\",\"keyDown\",0],[\"keypress\",\"keyPress\",0],[\"keyup\",\"keyUp\",0],[\"mousedown\",\"mouseDown\",0],[\"mouseup\",\"mouseUp\",0],[\"paste\",\"paste\",0],[\"pause\",\"pause\",0],[\"play\",\"play\",0],[\"pointercancel\",\"pointerCancel\",0],[\"pointerdown\",\"pointerDown\",0],[\"pointerup\",\"pointerUp\",0],[\"ratechange\",\"rateChange\",0],[\"reset\",\"reset\",0],[\"seeked\",\"seeked\",0],[\"submit\",\"submit\",0],[\"touchcancel\",\"touchCancel\",\n0],[\"touchend\",\"touchEnd\",0],[\"touchstart\",\"touchStart\",0],[\"volumechange\",\"volumeChange\",0],[\"drag\",\"drag\",1],[\"dragenter\",\"dragEnter\",1],[\"dragexit\",\"dragExit\",1],[\"dragleave\",\"dragLeave\",1],[\"dragover\",\"dragOver\",1],[\"mousemove\",\"mouseMove\",1],[\"mouseout\",\"mouseOut\",1],[\"mouseover\",\"mouseOver\",1],[\"pointermove\",\"pointerMove\",1],[\"pointerout\",\"pointerOut\",1],[\"pointerover\",\"pointerOver\",1],[\"scroll\",\"scroll\",1],[\"toggle\",\"toggle\",1],[\"touchmove\",\"touchMove\",1],[\"wheel\",\"wheel\",1],[\"abort\",\"abort\",\n2],[Zb,\"animationEnd\",2],[$b,\"animationIteration\",2],[ac,\"animationStart\",2],[\"canplay\",\"canPlay\",2],[\"canplaythrough\",\"canPlayThrough\",2],[\"durationchange\",\"durationChange\",2],[\"emptied\",\"emptied\",2],[\"encrypted\",\"encrypted\",2],[\"ended\",\"ended\",2],[\"error\",\"error\",2],[\"gotpointercapture\",\"gotPointerCapture\",2],[\"load\",\"load\",2],[\"loadeddata\",\"loadedData\",2],[\"loadedmetadata\",\"loadedMetadata\",2],[\"loadstart\",\"loadStart\",2],[\"lostpointercapture\",\"lostPointerCapture\",2],[\"playing\",\"playing\",2],[\"progress\",\n\"progress\",2],[\"seeking\",\"seeking\",2],[\"stalled\",\"stalled\",2],[\"suspend\",\"suspend\",2],[\"timeupdate\",\"timeUpdate\",2],[bc,\"transitionEnd\",2],[\"waiting\",\"waiting\",2]],ud={},vd={},wd=0;for(;wd<td.length;wd++){var yd=td[wd],zd=yd[0],Ad=yd[1],Bd=yd[2],Cd=\"on\"+(Ad[0].toUpperCase()+Ad.slice(1)),Dd={phasedRegistrationNames:{bubbled:Cd,captured:Cd+\"Capture\"},dependencies:[zd],eventPriority:Bd};ud[Ad]=Dd;vd[zd]=Dd}\nvar Ed={eventTypes:ud,getEventPriority:function(a){a=vd[a];return void 0!==a?a.eventPriority:2},extractEvents:function(a,b,c,d){var e=vd[a];if(!e)return null;switch(a){case \"keypress\":if(0===bd(c))return null;case \"keydown\":case \"keyup\":a=id;break;case \"blur\":case \"focus\":a=ad;break;case \"click\":if(2===c.button)return null;case \"auxclick\":case \"dblclick\":case \"mousedown\":case \"mousemove\":case \"mouseup\":case \"mouseout\":case \"mouseover\":case \"contextmenu\":a=nd;break;case \"drag\":case \"dragend\":case \"dragenter\":case \"dragexit\":case \"dragleave\":case \"dragover\":case \"dragstart\":case \"drop\":a=\npd;break;case \"touchcancel\":case \"touchend\":case \"touchmove\":case \"touchstart\":a=qd;break;case Zb:case $b:case ac:a=Yc;break;case bc:a=rd;break;case \"scroll\":a=$c;break;case \"wheel\":a=sd;break;case \"copy\":case \"cut\":case \"paste\":a=Zc;break;case \"gotpointercapture\":case \"lostpointercapture\":case \"pointercancel\":case \"pointerdown\":case \"pointermove\":case \"pointerout\":case \"pointerover\":case \"pointerup\":a=od;break;default:a=E}b=a.getPooled(e,b,c,d);Sc(b);return b}},Fd=q.unstable_UserBlockingPriority,\nGd=q.unstable_runWithPriority,Hd=Ed.getEventPriority,Id=10,Jd=[];\nfunction Kd(a){var b=a.targetInst,c=b;do{if(!c){a.ancestors.push(c);break}var d=c;if(3===d.tag)d=d.stateNode.containerInfo;else{for(;d.return;)d=d.return;d=3!==d.tag?null:d.stateNode.containerInfo}if(!d)break;b=c.tag;5!==b&&6!==b||a.ancestors.push(c);c=Fc(d)}while(c);for(c=0;c<a.ancestors.length;c++){b=a.ancestors[c];var e=Mc(a.nativeEvent);d=a.topLevelType;for(var f=a.nativeEvent,g=a.eventSystemFlags,h=null,k=0;k<ea.length;k++){var l=ea[k];l&&(l=l.extractEvents(d,b,f,e,g))&&(h=xa(h,l))}Ba(h)}}\nvar Ld=!0;function F(a,b){Md(b,a,!1)}function Md(a,b,c){switch(Hd(b)){case 0:var d=Nd.bind(null,b,1);break;case 1:d=Od.bind(null,b,1);break;default:d=Pd.bind(null,b,1)}c?a.addEventListener(b,d,!0):a.addEventListener(b,d,!1)}function Nd(a,b,c){ib||gb();var d=Pd,e=ib;ib=!0;try{fb(d,a,b,c)}finally{(ib=e)||kb()}}function Od(a,b,c){Gd(Fd,Pd.bind(null,a,b,c))}\nfunction Qd(a,b,c,d){if(Jd.length){var e=Jd.pop();e.topLevelType=a;e.eventSystemFlags=b;e.nativeEvent=c;e.targetInst=d;a=e}else a={topLevelType:a,eventSystemFlags:b,nativeEvent:c,targetInst:d,ancestors:[]};try{if(b=Kd,c=a,jb)b(c,void 0);else{jb=!0;try{hb(b,c,void 0)}finally{jb=!1,kb()}}}finally{a.topLevelType=null,a.nativeEvent=null,a.targetInst=null,a.ancestors.length=0,Jd.length<Id&&Jd.push(a)}}\nfunction Pd(a,b,c){if(Ld)if(0<nc.length&&-1<uc.indexOf(a))a=zc(null,a,b,c),nc.push(a);else{var d=Hc(a,b,c);null===d?Ac(a,c):-1<uc.indexOf(a)?(a=zc(d,a,b,c),nc.push(a)):Dc(d,a,b,c)||(Ac(a,c),Qd(a,b,c,null))}}function Hc(a,b,c){var d=Mc(c);d=Fc(d);if(null!==d){var e=ec(d);if(null===e)d=null;else{var f=e.tag;if(13===f){d=fc(e);if(null!==d)return d;d=null}else if(3===f){if(e.stateNode.hydrate)return 3===e.tag?e.stateNode.containerInfo:null;d=null}else e!==d&&(d=null)}}Qd(a,b,c,d);return null}\nfunction Rd(a){if(!Ya)return!1;a=\"on\"+a;var b=a in document;b||(b=document.createElement(\"div\"),b.setAttribute(a,\"return;\"),b=\"function\"===typeof b[a]);return b}var Sd=new (\"function\"===typeof WeakMap?WeakMap:Map);function xc(a){var b=Sd.get(a);void 0===b&&(b=new Set,Sd.set(a,b));return b}\nfunction yc(a,b,c){if(!c.has(a)){switch(a){case \"scroll\":Md(b,\"scroll\",!0);break;case \"focus\":case \"blur\":Md(b,\"focus\",!0);Md(b,\"blur\",!0);c.add(\"blur\");c.add(\"focus\");break;case \"cancel\":case \"close\":Rd(a)&&Md(b,a,!0);break;case \"invalid\":case \"submit\":case \"reset\":break;default:-1===cc.indexOf(a)&&F(a,b)}c.add(a)}}\nvar Td={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,\nfloodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ud=[\"Webkit\",\"ms\",\"Moz\",\"O\"];Object.keys(Td).forEach(function(a){Ud.forEach(function(b){b=b+a.charAt(0).toUpperCase()+a.substring(1);Td[b]=Td[a]})});function Vd(a,b,c){return null==b||\"boolean\"===typeof b||\"\"===b?\"\":c||\"number\"!==typeof b||0===b||Td.hasOwnProperty(a)&&Td[a]?(\"\"+b).trim():b+\"px\"}\nfunction Wd(a,b){a=a.style;for(var c in b)if(b.hasOwnProperty(c)){var d=0===c.indexOf(\"--\"),e=Vd(c,b[c],d);\"float\"===c&&(c=\"cssFloat\");d?a.setProperty(c,e):a[c]=e}}var Xd=n({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});\nfunction Yd(a,b){if(b){if(Xd[a]&&(null!=b.children||null!=b.dangerouslySetInnerHTML))throw Error(u(137,a,\"\"));if(null!=b.dangerouslySetInnerHTML){if(null!=b.children)throw Error(u(60));if(!(\"object\"===typeof b.dangerouslySetInnerHTML&&\"__html\"in b.dangerouslySetInnerHTML))throw Error(u(61));}if(null!=b.style&&\"object\"!==typeof b.style)throw Error(u(62,\"\"));}}\nfunction Zd(a,b){if(-1===a.indexOf(\"-\"))return\"string\"===typeof b.is;switch(a){case \"annotation-xml\":case \"color-profile\":case \"font-face\":case \"font-face-src\":case \"font-face-uri\":case \"font-face-format\":case \"font-face-name\":case \"missing-glyph\":return!1;default:return!0}}function $d(a,b){a=9===a.nodeType||11===a.nodeType?a:a.ownerDocument;var c=xc(a);b=ja[b];for(var d=0;d<b.length;d++)yc(b[d],a,c)}function ae(){}\nfunction be(a){a=a||(\"undefined\"!==typeof document?document:void 0);if(\"undefined\"===typeof a)return null;try{return a.activeElement||a.body}catch(b){return a.body}}function ce(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function de(a,b){var c=ce(a);a=0;for(var d;c;){if(3===c.nodeType){d=a+c.textContent.length;if(a<=b&&d>=b)return{node:c,offset:b-a};a=d}a:{for(;c;){if(c.nextSibling){c=c.nextSibling;break a}c=c.parentNode}c=void 0}c=ce(c)}}\nfunction ee(a,b){return a&&b?a===b?!0:a&&3===a.nodeType?!1:b&&3===b.nodeType?ee(a,b.parentNode):\"contains\"in a?a.contains(b):a.compareDocumentPosition?!!(a.compareDocumentPosition(b)&16):!1:!1}function fe(){for(var a=window,b=be();b instanceof a.HTMLIFrameElement;){try{var c=\"string\"===typeof b.contentWindow.location.href}catch(d){c=!1}if(c)a=b.contentWindow;else break;b=be(a.document)}return b}\nfunction ge(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return b&&(\"input\"===b&&(\"text\"===a.type||\"search\"===a.type||\"tel\"===a.type||\"url\"===a.type||\"password\"===a.type)||\"textarea\"===b||\"true\"===a.contentEditable)}var he=\"$\",ie=\"/$\",je=\"$?\",ke=\"$!\",le=null,me=null;function ne(a,b){switch(a){case \"button\":case \"input\":case \"select\":case \"textarea\":return!!b.autoFocus}return!1}\nfunction oe(a,b){return\"textarea\"===a||\"option\"===a||\"noscript\"===a||\"string\"===typeof b.children||\"number\"===typeof b.children||\"object\"===typeof b.dangerouslySetInnerHTML&&null!==b.dangerouslySetInnerHTML&&null!=b.dangerouslySetInnerHTML.__html}var pe=\"function\"===typeof setTimeout?setTimeout:void 0,qe=\"function\"===typeof clearTimeout?clearTimeout:void 0;function re(a){for(;null!=a;a=a.nextSibling){var b=a.nodeType;if(1===b||3===b)break}return a}\nfunction se(a){a=a.previousSibling;for(var b=0;a;){if(8===a.nodeType){var c=a.data;if(c===he||c===ke||c===je){if(0===b)return a;b--}else c===ie&&b++}a=a.previousSibling}return null}var te=Math.random().toString(36).slice(2),ue=\"__reactInternalInstance$\"+te,ve=\"__reactEventHandlers$\"+te,we=\"__reactContainere$\"+te;\nfunction Fc(a){var b=a[ue];if(b)return b;for(var c=a.parentNode;c;){if(b=c[we]||c[ue]){c=b.alternate;if(null!==b.child||null!==c&&null!==c.child)for(a=se(a);null!==a;){if(c=a[ue])return c;a=se(a)}return b}a=c;c=a.parentNode}return null}function Cc(a){a=a[ue]||a[we];return!a||5!==a.tag&&6!==a.tag&&13!==a.tag&&3!==a.tag?null:a}function xe(a){if(5===a.tag||6===a.tag)return a.stateNode;throw Error(u(33));}function ye(a){return a[ve]||null}var ze=null,Ae=null,Be=null;\nfunction Ce(){if(Be)return Be;var a,b=Ae,c=b.length,d,e=\"value\"in ze?ze.value:ze.textContent,f=e.length;for(a=0;a<c&&b[a]===e[a];a++);var g=c-a;for(d=1;d<=g&&b[c-d]===e[f-d];d++);return Be=e.slice(a,1<d?1-d:void 0)}var De=E.extend({data:null}),Ee=E.extend({data:null}),Fe=[9,13,27,32],Ge=Ya&&\"CompositionEvent\"in window,He=null;Ya&&\"documentMode\"in document&&(He=document.documentMode);\nvar Ie=Ya&&\"TextEvent\"in window&&!He,Je=Ya&&(!Ge||He&&8<He&&11>=He),Ke=String.fromCharCode(32),Le={beforeInput:{phasedRegistrationNames:{bubbled:\"onBeforeInput\",captured:\"onBeforeInputCapture\"},dependencies:[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]},compositionEnd:{phasedRegistrationNames:{bubbled:\"onCompositionEnd\",captured:\"onCompositionEndCapture\"},dependencies:\"blur compositionend keydown keypress keyup mousedown\".split(\" \")},compositionStart:{phasedRegistrationNames:{bubbled:\"onCompositionStart\",\ncaptured:\"onCompositionStartCapture\"},dependencies:\"blur compositionstart keydown keypress keyup mousedown\".split(\" \")},compositionUpdate:{phasedRegistrationNames:{bubbled:\"onCompositionUpdate\",captured:\"onCompositionUpdateCapture\"},dependencies:\"blur compositionupdate keydown keypress keyup mousedown\".split(\" \")}},Me=!1;\nfunction Ne(a,b){switch(a){case \"keyup\":return-1!==Fe.indexOf(b.keyCode);case \"keydown\":return 229!==b.keyCode;case \"keypress\":case \"mousedown\":case \"blur\":return!0;default:return!1}}function Oe(a){a=a.detail;return\"object\"===typeof a&&\"data\"in a?a.data:null}var Pe=!1;function Qe(a,b){switch(a){case \"compositionend\":return Oe(b);case \"keypress\":if(32!==b.which)return null;Me=!0;return Ke;case \"textInput\":return a=b.data,a===Ke&&Me?null:a;default:return null}}\nfunction Re(a,b){if(Pe)return\"compositionend\"===a||!Ge&&Ne(a,b)?(a=Ce(),Be=Ae=ze=null,Pe=!1,a):null;switch(a){case \"paste\":return null;case \"keypress\":if(!(b.ctrlKey||b.altKey||b.metaKey)||b.ctrlKey&&b.altKey){if(b.char&&1<b.char.length)return b.char;if(b.which)return String.fromCharCode(b.which)}return null;case \"compositionend\":return Je&&\"ko\"!==b.locale?null:b.data;default:return null}}\nvar Se={eventTypes:Le,extractEvents:function(a,b,c,d){var e;if(Ge)b:{switch(a){case \"compositionstart\":var f=Le.compositionStart;break b;case \"compositionend\":f=Le.compositionEnd;break b;case \"compositionupdate\":f=Le.compositionUpdate;break b}f=void 0}else Pe?Ne(a,c)&&(f=Le.compositionEnd):\"keydown\"===a&&229===c.keyCode&&(f=Le.compositionStart);f?(Je&&\"ko\"!==c.locale&&(Pe||f!==Le.compositionStart?f===Le.compositionEnd&&Pe&&(e=Ce()):(ze=d,Ae=\"value\"in ze?ze.value:ze.textContent,Pe=!0)),f=De.getPooled(f,\nb,c,d),e?f.data=e:(e=Oe(c),null!==e&&(f.data=e)),Sc(f),e=f):e=null;(a=Ie?Qe(a,c):Re(a,c))?(b=Ee.getPooled(Le.beforeInput,b,c,d),b.data=a,Sc(b)):b=null;return null===e?b:null===b?e:[e,b]}},Te={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ue(a){var b=a&&a.nodeName&&a.nodeName.toLowerCase();return\"input\"===b?!!Te[a.type]:\"textarea\"===b?!0:!1}\nvar Ve={change:{phasedRegistrationNames:{bubbled:\"onChange\",captured:\"onChangeCapture\"},dependencies:\"blur change click focus input keydown keyup selectionchange\".split(\" \")}};function We(a,b,c){a=E.getPooled(Ve.change,a,b,c);a.type=\"change\";cb(c);Sc(a);return a}var Xe=null,Ye=null;function Ze(a){Ba(a)}function $e(a){var b=xe(a);if(zb(b))return a}function af(a,b){if(\"change\"===a)return b}var bf=!1;Ya&&(bf=Rd(\"input\")&&(!document.documentMode||9<document.documentMode));\nfunction cf(){Xe&&(Xe.detachEvent(\"onpropertychange\",df),Ye=Xe=null)}function df(a){if(\"value\"===a.propertyName&&$e(Ye))if(a=We(Ye,a,Mc(a)),ib)Ba(a);else{ib=!0;try{eb(Ze,a)}finally{ib=!1,kb()}}}function ef(a,b,c){\"focus\"===a?(cf(),Xe=b,Ye=c,Xe.attachEvent(\"onpropertychange\",df)):\"blur\"===a&&cf()}function ff(a){if(\"selectionchange\"===a||\"keyup\"===a||\"keydown\"===a)return $e(Ye)}function gf(a,b){if(\"click\"===a)return $e(b)}function hf(a,b){if(\"input\"===a||\"change\"===a)return $e(b)}\nvar jf={eventTypes:Ve,_isInputEventSupported:bf,extractEvents:function(a,b,c,d){var e=b?xe(b):window,f=e.nodeName&&e.nodeName.toLowerCase();if(\"select\"===f||\"input\"===f&&\"file\"===e.type)var g=af;else if(Ue(e))if(bf)g=hf;else{g=ff;var h=ef}else(f=e.nodeName)&&\"input\"===f.toLowerCase()&&(\"checkbox\"===e.type||\"radio\"===e.type)&&(g=gf);if(g&&(g=g(a,b)))return We(g,c,d);h&&h(a,e,b);\"blur\"===a&&(a=e._wrapperState)&&a.controlled&&\"number\"===e.type&&Fb(e,\"number\",e.value)}},kf={mouseEnter:{registrationName:\"onMouseEnter\",\ndependencies:[\"mouseout\",\"mouseover\"]},mouseLeave:{registrationName:\"onMouseLeave\",dependencies:[\"mouseout\",\"mouseover\"]},pointerEnter:{registrationName:\"onPointerEnter\",dependencies:[\"pointerout\",\"pointerover\"]},pointerLeave:{registrationName:\"onPointerLeave\",dependencies:[\"pointerout\",\"pointerover\"]}},lf,mf={eventTypes:kf,extractEvents:function(a,b,c,d,e){var f=\"mouseover\"===a||\"pointerover\"===a,g=\"mouseout\"===a||\"pointerout\"===a;if(f&&0===(e&32)&&(c.relatedTarget||c.fromElement)||!g&&!f)return null;\ne=d.window===d?d:(e=d.ownerDocument)?e.defaultView||e.parentWindow:window;if(g){if(g=b,b=(b=c.relatedTarget||c.toElement)?Fc(b):null,null!==b&&(f=ec(b),b!==f||5!==b.tag&&6!==b.tag))b=null}else g=null;if(g===b)return null;if(\"mouseout\"===a||\"mouseover\"===a){var h=nd;var k=kf.mouseLeave;var l=kf.mouseEnter;var m=\"mouse\"}else if(\"pointerout\"===a||\"pointerover\"===a)h=od,k=kf.pointerLeave,l=kf.pointerEnter,m=\"pointer\";a=null==g?e:xe(g);e=null==b?e:xe(b);k=h.getPooled(k,g,c,d);k.type=m+\"leave\";k.target=\na;k.relatedTarget=e;d=h.getPooled(l,b,c,d);d.type=m+\"enter\";d.target=e;d.relatedTarget=a;h=g;m=b;if(h&&m)a:{l=h;a=m;g=0;for(b=l;b;b=Nc(b))g++;b=0;for(e=a;e;e=Nc(e))b++;for(;0<g-b;)l=Nc(l),g--;for(;0<b-g;)a=Nc(a),b--;for(;g--;){if(l===a||l===a.alternate)break a;l=Nc(l);a=Nc(a)}l=null}else l=null;a=l;for(l=[];h&&h!==a;){g=h.alternate;if(null!==g&&g===a)break;l.push(h);h=Nc(h)}for(h=[];m&&m!==a;){g=m.alternate;if(null!==g&&g===a)break;h.push(m);m=Nc(m)}for(m=0;m<l.length;m++)Qc(l[m],\"bubbled\",k);for(m=\nh.length;0<m--;)Qc(h[m],\"captured\",d);if(c===lf)return lf=null,[k];lf=c;return[k,d]}};function nf(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b}var of=\"function\"===typeof Object.is?Object.is:nf,pf=Object.prototype.hasOwnProperty;function qf(a,b){if(of(a,b))return!0;if(\"object\"!==typeof a||null===a||\"object\"!==typeof b||null===b)return!1;var c=Object.keys(a),d=Object.keys(b);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++)if(!pf.call(b,c[d])||!of(a[c[d]],b[c[d]]))return!1;return!0}\nvar rf=Ya&&\"documentMode\"in document&&11>=document.documentMode,sf={select:{phasedRegistrationNames:{bubbled:\"onSelect\",captured:\"onSelectCapture\"},dependencies:\"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange\".split(\" \")}},tf=null,uf=null,vf=null,wf=!1;\nfunction xf(a,b){var c=b.window===b?b.document:9===b.nodeType?b:b.ownerDocument;if(wf||null==tf||tf!==be(c))return null;c=tf;\"selectionStart\"in c&&ge(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset});return vf&&qf(vf,c)?null:(vf=c,a=E.getPooled(sf.select,uf,a,b),a.type=\"select\",a.target=tf,Sc(a),a)}\nvar yf={eventTypes:sf,extractEvents:function(a,b,c,d){var e=d.window===d?d.document:9===d.nodeType?d:d.ownerDocument,f;if(!(f=!e)){a:{e=xc(e);f=ja.onSelect;for(var g=0;g<f.length;g++)if(!e.has(f[g])){e=!1;break a}e=!0}f=!e}if(f)return null;e=b?xe(b):window;switch(a){case \"focus\":if(Ue(e)||\"true\"===e.contentEditable)tf=e,uf=b,vf=null;break;case \"blur\":vf=uf=tf=null;break;case \"mousedown\":wf=!0;break;case \"contextmenu\":case \"mouseup\":case \"dragend\":return wf=!1,xf(c,d);case \"selectionchange\":if(rf)break;\ncase \"keydown\":case \"keyup\":return xf(c,d)}return null}};Ca.injectEventPluginOrder(\"ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin\".split(\" \"));var zf=Cc;sa=ye;ua=zf;va=xe;Ca.injectEventPluginsByName({SimpleEventPlugin:Ed,EnterLeaveEventPlugin:mf,ChangeEventPlugin:jf,SelectEventPlugin:yf,BeforeInputEventPlugin:Se});new Set;var Af=[],Bf=-1;function G(a){0>Bf||(a.current=Af[Bf],Af[Bf]=null,Bf--)}\nfunction I(a,b){Bf++;Af[Bf]=a.current;a.current=b}var Cf={},J={current:Cf},K={current:!1},Df=Cf;function Ef(a,b){var c=a.type.contextTypes;if(!c)return Cf;var d=a.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===b)return d.__reactInternalMemoizedMaskedChildContext;var e={},f;for(f in c)e[f]=b[f];d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=b,a.__reactInternalMemoizedMaskedChildContext=e);return e}function L(a){a=a.childContextTypes;return null!==a&&void 0!==a}\nfunction Ff(a){G(K,a);G(J,a)}function Gf(a){G(K,a);G(J,a)}function Hf(a,b,c){if(J.current!==Cf)throw Error(u(168));I(J,b,a);I(K,c,a)}function If(a,b,c){var d=a.stateNode;a=b.childContextTypes;if(\"function\"!==typeof d.getChildContext)return c;d=d.getChildContext();for(var e in d)if(!(e in a))throw Error(u(108,Wa(b)||\"Unknown\",e));return n({},c,{},d)}function Jf(a){var b=a.stateNode;b=b&&b.__reactInternalMemoizedMergedChildContext||Cf;Df=J.current;I(J,b,a);I(K,K.current,a);return!0}\nfunction Kf(a,b,c){var d=a.stateNode;if(!d)throw Error(u(169));c?(b=If(a,b,Df),d.__reactInternalMemoizedMergedChildContext=b,G(K,a),G(J,a),I(J,b,a)):G(K,a);I(K,c,a)}\nvar Lf=q.unstable_runWithPriority,Mf=q.unstable_scheduleCallback,Nf=q.unstable_cancelCallback,Of=q.unstable_shouldYield,Pf=q.unstable_requestPaint,Qf=q.unstable_now,Rf=q.unstable_getCurrentPriorityLevel,Sf=q.unstable_ImmediatePriority,Tf=q.unstable_UserBlockingPriority,Uf=q.unstable_NormalPriority,Vf=q.unstable_LowPriority,Wf=q.unstable_IdlePriority,Xf={},Yf=void 0!==Pf?Pf:function(){},Zf=null,$f=null,ag=!1,bg=Qf(),cg=1E4>bg?Qf:function(){return Qf()-bg};\nfunction dg(){switch(Rf()){case Sf:return 99;case Tf:return 98;case Uf:return 97;case Vf:return 96;case Wf:return 95;default:throw Error(u(332));}}function eg(a){switch(a){case 99:return Sf;case 98:return Tf;case 97:return Uf;case 96:return Vf;case 95:return Wf;default:throw Error(u(332));}}function fg(a,b){a=eg(a);return Lf(a,b)}function gg(a,b,c){a=eg(a);return Mf(a,b,c)}function hg(a){null===Zf?(Zf=[a],$f=Mf(Sf,ig)):Zf.push(a);return Xf}function jg(){if(null!==$f){var a=$f;$f=null;Nf(a)}ig()}\nfunction ig(){if(!ag&&null!==Zf){ag=!0;var a=0;try{var b=Zf;fg(99,function(){for(;a<b.length;a++){var c=b[a];do c=c(!0);while(null!==c)}});Zf=null}catch(c){throw null!==Zf&&(Zf=Zf.slice(a+1)),Mf(Sf,jg),c;}finally{ag=!1}}}var kg=3;function lg(a,b,c){c/=10;return 1073741821-(((1073741821-a+b/10)/c|0)+1)*c}function mg(a,b){if(a&&a.defaultProps){b=n({},b);a=a.defaultProps;for(var c in a)void 0===b[c]&&(b[c]=a[c])}return b}var ng={current:null},og=null,pg=null,qg=null;function rg(){qg=pg=og=null}\nfunction sg(a,b){var c=a.type._context;I(ng,c._currentValue,a);c._currentValue=b}function tg(a){var b=ng.current;G(ng,a);a.type._context._currentValue=b}function ug(a,b){for(;null!==a;){var c=a.alternate;if(a.childExpirationTime<b)a.childExpirationTime=b,null!==c&&c.childExpirationTime<b&&(c.childExpirationTime=b);else if(null!==c&&c.childExpirationTime<b)c.childExpirationTime=b;else break;a=a.return}}\nfunction vg(a,b){og=a;qg=pg=null;a=a.dependencies;null!==a&&null!==a.firstContext&&(a.expirationTime>=b&&(wg=!0),a.firstContext=null)}function xg(a,b){if(qg!==a&&!1!==b&&0!==b){if(\"number\"!==typeof b||1073741823===b)qg=a,b=1073741823;b={context:a,observedBits:b,next:null};if(null===pg){if(null===og)throw Error(u(308));pg=b;og.dependencies={expirationTime:0,firstContext:b,responders:null}}else pg=pg.next=b}return a._currentValue}var yg=!1;\nfunction zg(a){return{baseState:a,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Ag(a){return{baseState:a.baseState,firstUpdate:a.firstUpdate,lastUpdate:a.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}\nfunction Bg(a,b){return{expirationTime:a,suspenseConfig:b,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function Cg(a,b){null===a.lastUpdate?a.firstUpdate=a.lastUpdate=b:(a.lastUpdate.next=b,a.lastUpdate=b)}\nfunction Dg(a,b){var c=a.alternate;if(null===c){var d=a.updateQueue;var e=null;null===d&&(d=a.updateQueue=zg(a.memoizedState))}else d=a.updateQueue,e=c.updateQueue,null===d?null===e?(d=a.updateQueue=zg(a.memoizedState),e=c.updateQueue=zg(c.memoizedState)):d=a.updateQueue=Ag(e):null===e&&(e=c.updateQueue=Ag(d));null===e||d===e?Cg(d,b):null===d.lastUpdate||null===e.lastUpdate?(Cg(d,b),Cg(e,b)):(Cg(d,b),e.lastUpdate=b)}\nfunction Eg(a,b){var c=a.updateQueue;c=null===c?a.updateQueue=zg(a.memoizedState):Fg(a,c);null===c.lastCapturedUpdate?c.firstCapturedUpdate=c.lastCapturedUpdate=b:(c.lastCapturedUpdate.next=b,c.lastCapturedUpdate=b)}function Fg(a,b){var c=a.alternate;null!==c&&b===c.updateQueue&&(b=a.updateQueue=Ag(b));return b}\nfunction Gg(a,b,c,d,e,f){switch(c.tag){case 1:return a=c.payload,\"function\"===typeof a?a.call(f,d,e):a;case 3:a.effectTag=a.effectTag&-4097|64;case 0:a=c.payload;e=\"function\"===typeof a?a.call(f,d,e):a;if(null===e||void 0===e)break;return n({},d,e);case 2:yg=!0}return d}\nfunction Hg(a,b,c,d,e){yg=!1;b=Fg(a,b);for(var f=b.baseState,g=null,h=0,k=b.firstUpdate,l=f;null!==k;){var m=k.expirationTime;m<e?(null===g&&(g=k,f=l),h<m&&(h=m)):(Ig(m,k.suspenseConfig),l=Gg(a,b,k,l,c,d),null!==k.callback&&(a.effectTag|=32,k.nextEffect=null,null===b.lastEffect?b.firstEffect=b.lastEffect=k:(b.lastEffect.nextEffect=k,b.lastEffect=k)));k=k.next}m=null;for(k=b.firstCapturedUpdate;null!==k;){var C=k.expirationTime;C<e?(null===m&&(m=k,null===g&&(f=l)),h<C&&(h=C)):(l=Gg(a,b,k,l,c,d),null!==\nk.callback&&(a.effectTag|=32,k.nextEffect=null,null===b.lastCapturedEffect?b.firstCapturedEffect=b.lastCapturedEffect=k:(b.lastCapturedEffect.nextEffect=k,b.lastCapturedEffect=k)));k=k.next}null===g&&(b.lastUpdate=null);null===m?b.lastCapturedUpdate=null:a.effectTag|=32;null===g&&null===m&&(f=l);b.baseState=f;b.firstUpdate=g;b.firstCapturedUpdate=m;Jg(h);a.expirationTime=h;a.memoizedState=l}\nfunction Kg(a,b,c){null!==b.firstCapturedUpdate&&(null!==b.lastUpdate&&(b.lastUpdate.next=b.firstCapturedUpdate,b.lastUpdate=b.lastCapturedUpdate),b.firstCapturedUpdate=b.lastCapturedUpdate=null);Lg(b.firstEffect,c);b.firstEffect=b.lastEffect=null;Lg(b.firstCapturedEffect,c);b.firstCapturedEffect=b.lastCapturedEffect=null}function Lg(a,b){for(;null!==a;){var c=a.callback;if(null!==c){a.callback=null;var d=b;if(\"function\"!==typeof c)throw Error(u(191,c));c.call(d)}a=a.nextEffect}}\nvar Mg=Ea.ReactCurrentBatchConfig,Ng=(new aa.Component).refs;function Og(a,b,c,d){b=a.memoizedState;c=c(d,b);c=null===c||void 0===c?b:n({},b,c);a.memoizedState=c;d=a.updateQueue;null!==d&&0===a.expirationTime&&(d.baseState=c)}\nvar Sg={isMounted:function(a){return(a=a._reactInternalFiber)?ec(a)===a:!1},enqueueSetState:function(a,b,c){a=a._reactInternalFiber;var d=Pg(),e=Mg.suspense;d=Qg(d,a,e);e=Bg(d,e);e.payload=b;void 0!==c&&null!==c&&(e.callback=c);Dg(a,e);Rg(a,d)},enqueueReplaceState:function(a,b,c){a=a._reactInternalFiber;var d=Pg(),e=Mg.suspense;d=Qg(d,a,e);e=Bg(d,e);e.tag=1;e.payload=b;void 0!==c&&null!==c&&(e.callback=c);Dg(a,e);Rg(a,d)},enqueueForceUpdate:function(a,b){a=a._reactInternalFiber;var c=Pg(),d=Mg.suspense;\nc=Qg(c,a,d);d=Bg(c,d);d.tag=2;void 0!==b&&null!==b&&(d.callback=b);Dg(a,d);Rg(a,c)}};function Tg(a,b,c,d,e,f,g){a=a.stateNode;return\"function\"===typeof a.shouldComponentUpdate?a.shouldComponentUpdate(d,f,g):b.prototype&&b.prototype.isPureReactComponent?!qf(c,d)||!qf(e,f):!0}\nfunction Ug(a,b,c){var d=!1,e=Cf;var f=b.contextType;\"object\"===typeof f&&null!==f?f=xg(f):(e=L(b)?Df:J.current,d=b.contextTypes,f=(d=null!==d&&void 0!==d)?Ef(a,e):Cf);b=new b(c,f);a.memoizedState=null!==b.state&&void 0!==b.state?b.state:null;b.updater=Sg;a.stateNode=b;b._reactInternalFiber=a;d&&(a=a.stateNode,a.__reactInternalMemoizedUnmaskedChildContext=e,a.__reactInternalMemoizedMaskedChildContext=f);return b}\nfunction Vg(a,b,c,d){a=b.state;\"function\"===typeof b.componentWillReceiveProps&&b.componentWillReceiveProps(c,d);\"function\"===typeof b.UNSAFE_componentWillReceiveProps&&b.UNSAFE_componentWillReceiveProps(c,d);b.state!==a&&Sg.enqueueReplaceState(b,b.state,null)}\nfunction Wg(a,b,c,d){var e=a.stateNode;e.props=c;e.state=a.memoizedState;e.refs=Ng;var f=b.contextType;\"object\"===typeof f&&null!==f?e.context=xg(f):(f=L(b)?Df:J.current,e.context=Ef(a,f));f=a.updateQueue;null!==f&&(Hg(a,f,c,e,d),e.state=a.memoizedState);f=b.getDerivedStateFromProps;\"function\"===typeof f&&(Og(a,b,f,c),e.state=a.memoizedState);\"function\"===typeof b.getDerivedStateFromProps||\"function\"===typeof e.getSnapshotBeforeUpdate||\"function\"!==typeof e.UNSAFE_componentWillMount&&\"function\"!==\ntypeof e.componentWillMount||(b=e.state,\"function\"===typeof e.componentWillMount&&e.componentWillMount(),\"function\"===typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),b!==e.state&&Sg.enqueueReplaceState(e,e.state,null),f=a.updateQueue,null!==f&&(Hg(a,f,c,e,d),e.state=a.memoizedState));\"function\"===typeof e.componentDidMount&&(a.effectTag|=4)}var Xg=Array.isArray;\nfunction Yg(a,b,c){a=c.ref;if(null!==a&&\"function\"!==typeof a&&\"object\"!==typeof a){if(c._owner){c=c._owner;if(c){if(1!==c.tag)throw Error(u(309));var d=c.stateNode}if(!d)throw Error(u(147,a));var e=\"\"+a;if(null!==b&&null!==b.ref&&\"function\"===typeof b.ref&&b.ref._stringRef===e)return b.ref;b=function(a){var b=d.refs;b===Ng&&(b=d.refs={});null===a?delete b[e]:b[e]=a};b._stringRef=e;return b}if(\"string\"!==typeof a)throw Error(u(284));if(!c._owner)throw Error(u(290,a));}return a}\nfunction Zg(a,b){if(\"textarea\"!==a.type)throw Error(u(31,\"[object Object]\"===Object.prototype.toString.call(b)?\"object with keys {\"+Object.keys(b).join(\", \")+\"}\":b,\"\"));}\nfunction $g(a){function b(b,c){if(a){var d=b.lastEffect;null!==d?(d.nextEffect=c,b.lastEffect=c):b.firstEffect=b.lastEffect=c;c.nextEffect=null;c.effectTag=8}}function c(c,d){if(!a)return null;for(;null!==d;)b(c,d),d=d.sibling;return null}function d(a,b){for(a=new Map;null!==b;)null!==b.key?a.set(b.key,b):a.set(b.index,b),b=b.sibling;return a}function e(a,b,c){a=ah(a,b,c);a.index=0;a.sibling=null;return a}function f(b,c,d){b.index=d;if(!a)return c;d=b.alternate;if(null!==d)return d=d.index,d<c?(b.effectTag=\n2,c):d;b.effectTag=2;return c}function g(b){a&&null===b.alternate&&(b.effectTag=2);return b}function h(a,b,c,d){if(null===b||6!==b.tag)return b=bh(c,a.mode,d),b.return=a,b;b=e(b,c,d);b.return=a;return b}function k(a,b,c,d){if(null!==b&&b.elementType===c.type)return d=e(b,c.props,d),d.ref=Yg(a,b,c),d.return=a,d;d=ch(c.type,c.key,c.props,null,a.mode,d);d.ref=Yg(a,b,c);d.return=a;return d}function l(a,b,c,d){if(null===b||4!==b.tag||b.stateNode.containerInfo!==c.containerInfo||b.stateNode.implementation!==\nc.implementation)return b=dh(c,a.mode,d),b.return=a,b;b=e(b,c.children||[],d);b.return=a;return b}function m(a,b,c,d,f){if(null===b||7!==b.tag)return b=eh(c,a.mode,d,f),b.return=a,b;b=e(b,c,d);b.return=a;return b}function C(a,b,c){if(\"string\"===typeof b||\"number\"===typeof b)return b=bh(\"\"+b,a.mode,c),b.return=a,b;if(\"object\"===typeof b&&null!==b){switch(b.$$typeof){case Ga:return c=ch(b.type,b.key,b.props,null,a.mode,c),c.ref=Yg(a,null,b),c.return=a,c;case Ha:return b=dh(b,a.mode,c),b.return=a,b}if(Xg(b)||\nUa(b))return b=eh(b,a.mode,c,null),b.return=a,b;Zg(a,b)}return null}function y(a,b,c,d){var e=null!==b?b.key:null;if(\"string\"===typeof c||\"number\"===typeof c)return null!==e?null:h(a,b,\"\"+c,d);if(\"object\"===typeof c&&null!==c){switch(c.$$typeof){case Ga:return c.key===e?c.type===Ia?m(a,b,c.props.children,d,e):k(a,b,c,d):null;case Ha:return c.key===e?l(a,b,c,d):null}if(Xg(c)||Ua(c))return null!==e?null:m(a,b,c,d,null);Zg(a,c)}return null}function H(a,b,c,d,e){if(\"string\"===typeof d||\"number\"===typeof d)return a=\na.get(c)||null,h(b,a,\"\"+d,e);if(\"object\"===typeof d&&null!==d){switch(d.$$typeof){case Ga:return a=a.get(null===d.key?c:d.key)||null,d.type===Ia?m(b,a,d.props.children,e,d.key):k(b,a,d,e);case Ha:return a=a.get(null===d.key?c:d.key)||null,l(b,a,d,e)}if(Xg(d)||Ua(d))return a=a.get(c)||null,m(b,a,d,e,null);Zg(b,d)}return null}function z(e,g,h,k){for(var l=null,m=null,r=g,x=g=0,A=null;null!==r&&x<h.length;x++){r.index>x?(A=r,r=null):A=r.sibling;var p=y(e,r,h[x],k);if(null===p){null===r&&(r=A);break}a&&\nr&&null===p.alternate&&b(e,r);g=f(p,g,x);null===m?l=p:m.sibling=p;m=p;r=A}if(x===h.length)return c(e,r),l;if(null===r){for(;x<h.length;x++)r=C(e,h[x],k),null!==r&&(g=f(r,g,x),null===m?l=r:m.sibling=r,m=r);return l}for(r=d(e,r);x<h.length;x++)A=H(r,e,x,h[x],k),null!==A&&(a&&null!==A.alternate&&r.delete(null===A.key?x:A.key),g=f(A,g,x),null===m?l=A:m.sibling=A,m=A);a&&r.forEach(function(a){return b(e,a)});return l}function ta(e,g,h,k){var l=Ua(h);if(\"function\"!==typeof l)throw Error(u(150));h=l.call(h);\nif(null==h)throw Error(u(151));for(var m=l=null,r=g,x=g=0,A=null,p=h.next();null!==r&&!p.done;x++,p=h.next()){r.index>x?(A=r,r=null):A=r.sibling;var z=y(e,r,p.value,k);if(null===z){null===r&&(r=A);break}a&&r&&null===z.alternate&&b(e,r);g=f(z,g,x);null===m?l=z:m.sibling=z;m=z;r=A}if(p.done)return c(e,r),l;if(null===r){for(;!p.done;x++,p=h.next())p=C(e,p.value,k),null!==p&&(g=f(p,g,x),null===m?l=p:m.sibling=p,m=p);return l}for(r=d(e,r);!p.done;x++,p=h.next())p=H(r,e,x,p.value,k),null!==p&&(a&&null!==\np.alternate&&r.delete(null===p.key?x:p.key),g=f(p,g,x),null===m?l=p:m.sibling=p,m=p);a&&r.forEach(function(a){return b(e,a)});return l}return function(a,d,f,h){var k=\"object\"===typeof f&&null!==f&&f.type===Ia&&null===f.key;k&&(f=f.props.children);var l=\"object\"===typeof f&&null!==f;if(l)switch(f.$$typeof){case Ga:a:{l=f.key;for(k=d;null!==k;){if(k.key===l)if(7===k.tag?f.type===Ia:k.elementType===f.type){c(a,k.sibling);d=e(k,f.type===Ia?f.props.children:f.props,h);d.ref=Yg(a,k,f);d.return=a;a=d;break a}else{c(a,\nk);break}else b(a,k);k=k.sibling}f.type===Ia?(d=eh(f.props.children,a.mode,h,f.key),d.return=a,a=d):(h=ch(f.type,f.key,f.props,null,a.mode,h),h.ref=Yg(a,d,f),h.return=a,a=h)}return g(a);case Ha:a:{for(k=f.key;null!==d;){if(d.key===k)if(4===d.tag&&d.stateNode.containerInfo===f.containerInfo&&d.stateNode.implementation===f.implementation){c(a,d.sibling);d=e(d,f.children||[],h);d.return=a;a=d;break a}else{c(a,d);break}else b(a,d);d=d.sibling}d=dh(f,a.mode,h);d.return=a;a=d}return g(a)}if(\"string\"===\ntypeof f||\"number\"===typeof f)return f=\"\"+f,null!==d&&6===d.tag?(c(a,d.sibling),d=e(d,f,h),d.return=a,a=d):(c(a,d),d=bh(f,a.mode,h),d.return=a,a=d),g(a);if(Xg(f))return z(a,d,f,h);if(Ua(f))return ta(a,d,f,h);l&&Zg(a,f);if(\"undefined\"===typeof f&&!k)switch(a.tag){case 1:case 0:throw a=a.type,Error(u(152,a.displayName||a.name||\"Component\"));}return c(a,d)}}var fh=$g(!0),gh=$g(!1),hh={},ih={current:hh},jh={current:hh},kh={current:hh};function lh(a){if(a===hh)throw Error(u(174));return a}\nfunction mh(a,b){I(kh,b,a);I(jh,a,a);I(ih,hh,a);var c=b.nodeType;switch(c){case 9:case 11:b=(b=b.documentElement)?b.namespaceURI:Qb(null,\"\");break;default:c=8===c?b.parentNode:b,b=c.namespaceURI||null,c=c.tagName,b=Qb(b,c)}G(ih,a);I(ih,b,a)}function nh(a){G(ih,a);G(jh,a);G(kh,a)}function oh(a){lh(kh.current);var b=lh(ih.current);var c=Qb(b,a.type);b!==c&&(I(jh,a,a),I(ih,c,a))}function ph(a){jh.current===a&&(G(ih,a),G(jh,a))}var M={current:0};\nfunction qh(a){for(var b=a;null!==b;){if(13===b.tag){var c=b.memoizedState;if(null!==c&&(c=c.dehydrated,null===c||c.data===je||c.data===ke))return b}else if(19===b.tag&&void 0!==b.memoizedProps.revealOrder){if(0!==(b.effectTag&64))return b}else if(null!==b.child){b.child.return=b;b=b.child;continue}if(b===a)break;for(;null===b.sibling;){if(null===b.return||b.return===a)return null;b=b.return}b.sibling.return=b.return;b=b.sibling}return null}function rh(a,b){return{responder:a,props:b}}\nvar sh=Ea.ReactCurrentDispatcher,N=Ea.ReactCurrentBatchConfig,th=0,uh=null,O=null,vh=null,wh=null,P=null,xh=null,yh=0,zh=null,Ah=0,Bh=!1,Ch=null,Gh=0;function Q(){throw Error(u(321));}function Hh(a,b){if(null===b)return!1;for(var c=0;c<b.length&&c<a.length;c++)if(!of(a[c],b[c]))return!1;return!0}\nfunction Ih(a,b,c,d,e,f){th=f;uh=b;vh=null!==a?a.memoizedState:null;sh.current=null===vh?Jh:Kh;b=c(d,e);if(Bh){do Bh=!1,Gh+=1,vh=null!==a?a.memoizedState:null,xh=wh,zh=P=O=null,sh.current=Kh,b=c(d,e);while(Bh);Ch=null;Gh=0}sh.current=Lh;a=uh;a.memoizedState=wh;a.expirationTime=yh;a.updateQueue=zh;a.effectTag|=Ah;a=null!==O&&null!==O.next;th=0;xh=P=wh=vh=O=uh=null;yh=0;zh=null;Ah=0;if(a)throw Error(u(300));return b}\nfunction Mh(){sh.current=Lh;th=0;xh=P=wh=vh=O=uh=null;yh=0;zh=null;Ah=0;Bh=!1;Ch=null;Gh=0}function Nh(){var a={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};null===P?wh=P=a:P=P.next=a;return P}function Oh(){if(null!==xh)P=xh,xh=P.next,O=vh,vh=null!==O?O.next:null;else{if(null===vh)throw Error(u(310));O=vh;var a={memoizedState:O.memoizedState,baseState:O.baseState,queue:O.queue,baseUpdate:O.baseUpdate,next:null};P=null===P?wh=a:P.next=a;vh=O.next}return P}\nfunction Ph(a,b){return\"function\"===typeof b?b(a):b}\nfunction Qh(a){var b=Oh(),c=b.queue;if(null===c)throw Error(u(311));c.lastRenderedReducer=a;if(0<Gh){var d=c.dispatch;if(null!==Ch){var e=Ch.get(c);if(void 0!==e){Ch.delete(c);var f=b.memoizedState;do f=a(f,e.action),e=e.next;while(null!==e);of(f,b.memoizedState)||(wg=!0);b.memoizedState=f;b.baseUpdate===c.last&&(b.baseState=f);c.lastRenderedState=f;return[f,d]}}return[b.memoizedState,d]}d=c.last;var g=b.baseUpdate;f=b.baseState;null!==g?(null!==d&&(d.next=null),d=g.next):d=null!==d?d.next:null;if(null!==\nd){var h=e=null,k=d,l=!1;do{var m=k.expirationTime;m<th?(l||(l=!0,h=g,e=f),m>yh&&(yh=m,Jg(yh))):(Ig(m,k.suspenseConfig),f=k.eagerReducer===a?k.eagerState:a(f,k.action));g=k;k=k.next}while(null!==k&&k!==d);l||(h=g,e=f);of(f,b.memoizedState)||(wg=!0);b.memoizedState=f;b.baseUpdate=h;b.baseState=e;c.lastRenderedState=f}return[b.memoizedState,c.dispatch]}\nfunction Rh(a){var b=Nh();\"function\"===typeof a&&(a=a());b.memoizedState=b.baseState=a;a=b.queue={last:null,dispatch:null,lastRenderedReducer:Ph,lastRenderedState:a};a=a.dispatch=Sh.bind(null,uh,a);return[b.memoizedState,a]}function Th(a){return Qh(Ph,a)}function Uh(a,b,c,d){a={tag:a,create:b,destroy:c,deps:d,next:null};null===zh?(zh={lastEffect:null},zh.lastEffect=a.next=a):(b=zh.lastEffect,null===b?zh.lastEffect=a.next=a:(c=b.next,b.next=a,a.next=c,zh.lastEffect=a));return a}\nfunction Vh(a,b,c,d){var e=Nh();Ah|=a;e.memoizedState=Uh(b,c,void 0,void 0===d?null:d)}function Wh(a,b,c,d){var e=Oh();d=void 0===d?null:d;var f=void 0;if(null!==O){var g=O.memoizedState;f=g.destroy;if(null!==d&&Hh(d,g.deps)){Uh(0,c,f,d);return}}Ah|=a;e.memoizedState=Uh(b,c,f,d)}function Xh(a,b){return Vh(516,192,a,b)}function Yh(a,b){return Wh(516,192,a,b)}\nfunction Zh(a,b){if(\"function\"===typeof b)return a=a(),b(a),function(){b(null)};if(null!==b&&void 0!==b)return a=a(),b.current=a,function(){b.current=null}}function $h(){}function ai(a,b){Nh().memoizedState=[a,void 0===b?null:b];return a}function bi(a,b){var c=Oh();b=void 0===b?null:b;var d=c.memoizedState;if(null!==d&&null!==b&&Hh(b,d[1]))return d[0];c.memoizedState=[a,b];return a}\nfunction Sh(a,b,c){if(!(25>Gh))throw Error(u(301));var d=a.alternate;if(a===uh||null!==d&&d===uh)if(Bh=!0,a={expirationTime:th,suspenseConfig:null,action:c,eagerReducer:null,eagerState:null,next:null},null===Ch&&(Ch=new Map),c=Ch.get(b),void 0===c)Ch.set(b,a);else{for(b=c;null!==b.next;)b=b.next;b.next=a}else{var e=Pg(),f=Mg.suspense;e=Qg(e,a,f);f={expirationTime:e,suspenseConfig:f,action:c,eagerReducer:null,eagerState:null,next:null};var g=b.last;if(null===g)f.next=f;else{var h=g.next;null!==h&&\n(f.next=h);g.next=f}b.last=f;if(0===a.expirationTime&&(null===d||0===d.expirationTime)&&(d=b.lastRenderedReducer,null!==d))try{var k=b.lastRenderedState,l=d(k,c);f.eagerReducer=d;f.eagerState=l;if(of(l,k))return}catch(m){}finally{}Rg(a,e)}}\nvar Lh={readContext:xg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useResponder:Q,useDeferredValue:Q,useTransition:Q},Jh={readContext:xg,useCallback:ai,useContext:xg,useEffect:Xh,useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return Vh(4,36,Zh.bind(null,b,a),c)},useLayoutEffect:function(a,b){return Vh(4,36,a,b)},useMemo:function(a,b){var c=Nh();b=void 0===b?null:b;a=a();c.memoizedState=\n[a,b];return a},useReducer:function(a,b,c){var d=Nh();b=void 0!==c?c(b):b;d.memoizedState=d.baseState=b;a=d.queue={last:null,dispatch:null,lastRenderedReducer:a,lastRenderedState:b};a=a.dispatch=Sh.bind(null,uh,a);return[d.memoizedState,a]},useRef:function(a){var b=Nh();a={current:a};return b.memoizedState=a},useState:Rh,useDebugValue:$h,useResponder:rh,useDeferredValue:function(a,b){var c=Rh(a),d=c[0],e=c[1];Xh(function(){q.unstable_next(function(){var c=N.suspense;N.suspense=void 0===b?null:b;try{e(a)}finally{N.suspense=\nc}})},[a,b]);return d},useTransition:function(a){var b=Rh(!1),c=b[0],d=b[1];return[ai(function(b){d(!0);q.unstable_next(function(){var c=N.suspense;N.suspense=void 0===a?null:a;try{d(!1),b()}finally{N.suspense=c}})},[a,c]),c]}},Kh={readContext:xg,useCallback:bi,useContext:xg,useEffect:Yh,useImperativeHandle:function(a,b,c){c=null!==c&&void 0!==c?c.concat([a]):null;return Wh(4,36,Zh.bind(null,b,a),c)},useLayoutEffect:function(a,b){return Wh(4,36,a,b)},useMemo:function(a,b){var c=Oh();b=void 0===b?\nnull:b;var d=c.memoizedState;if(null!==d&&null!==b&&Hh(b,d[1]))return d[0];a=a();c.memoizedState=[a,b];return a},useReducer:Qh,useRef:function(){return Oh().memoizedState},useState:Th,useDebugValue:$h,useResponder:rh,useDeferredValue:function(a,b){var c=Th(a),d=c[0],e=c[1];Yh(function(){q.unstable_next(function(){var c=N.suspense;N.suspense=void 0===b?null:b;try{e(a)}finally{N.suspense=c}})},[a,b]);return d},useTransition:function(a){var b=Th(!1),c=b[0],d=b[1];return[bi(function(b){d(!0);q.unstable_next(function(){var c=\nN.suspense;N.suspense=void 0===a?null:a;try{d(!1),b()}finally{N.suspense=c}})},[a,c]),c]}},ci=null,di=null,ei=!1;function fi(a,b){var c=gi(5,null,null,0);c.elementType=\"DELETED\";c.type=\"DELETED\";c.stateNode=b;c.return=a;c.effectTag=8;null!==a.lastEffect?(a.lastEffect.nextEffect=c,a.lastEffect=c):a.firstEffect=a.lastEffect=c}\nfunction hi(a,b){switch(a.tag){case 5:var c=a.type;b=1!==b.nodeType||c.toLowerCase()!==b.nodeName.toLowerCase()?null:b;return null!==b?(a.stateNode=b,!0):!1;case 6:return b=\"\"===a.pendingProps||3!==b.nodeType?null:b,null!==b?(a.stateNode=b,!0):!1;case 13:return!1;default:return!1}}\nfunction ii(a){if(ei){var b=di;if(b){var c=b;if(!hi(a,b)){b=re(c.nextSibling);if(!b||!hi(a,b)){a.effectTag=a.effectTag&-1025|2;ei=!1;ci=a;return}fi(ci,c)}ci=a;di=re(b.firstChild)}else a.effectTag=a.effectTag&-1025|2,ei=!1,ci=a}}function ji(a){for(a=a.return;null!==a&&5!==a.tag&&3!==a.tag&&13!==a.tag;)a=a.return;ci=a}\nfunction ki(a){if(a!==ci)return!1;if(!ei)return ji(a),ei=!0,!1;var b=a.type;if(5!==a.tag||\"head\"!==b&&\"body\"!==b&&!oe(b,a.memoizedProps))for(b=di;b;)fi(a,b),b=re(b.nextSibling);ji(a);if(13===a.tag){a=a.memoizedState;a=null!==a?a.dehydrated:null;if(!a)throw Error(u(317));a:{a=a.nextSibling;for(b=0;a;){if(8===a.nodeType){var c=a.data;if(c===ie){if(0===b){di=re(a.nextSibling);break a}b--}else c!==he&&c!==ke&&c!==je||b++}a=a.nextSibling}di=null}}else di=ci?re(a.stateNode.nextSibling):null;return!0}\nfunction li(){di=ci=null;ei=!1}var mi=Ea.ReactCurrentOwner,wg=!1;function R(a,b,c,d){b.child=null===a?gh(b,null,c,d):fh(b,a.child,c,d)}function ni(a,b,c,d,e){c=c.render;var f=b.ref;vg(b,e);d=Ih(a,b,c,d,f,e);if(null!==a&&!wg)return b.updateQueue=a.updateQueue,b.effectTag&=-517,a.expirationTime<=e&&(a.expirationTime=0),oi(a,b,e);b.effectTag|=1;R(a,b,d,e);return b.child}\nfunction pi(a,b,c,d,e,f){if(null===a){var g=c.type;if(\"function\"===typeof g&&!qi(g)&&void 0===g.defaultProps&&null===c.compare&&void 0===c.defaultProps)return b.tag=15,b.type=g,ri(a,b,g,d,e,f);a=ch(c.type,null,d,null,b.mode,f);a.ref=b.ref;a.return=b;return b.child=a}g=a.child;if(e<f&&(e=g.memoizedProps,c=c.compare,c=null!==c?c:qf,c(e,d)&&a.ref===b.ref))return oi(a,b,f);b.effectTag|=1;a=ah(g,d,f);a.ref=b.ref;a.return=b;return b.child=a}\nfunction ri(a,b,c,d,e,f){return null!==a&&qf(a.memoizedProps,d)&&a.ref===b.ref&&(wg=!1,e<f)?oi(a,b,f):si(a,b,c,d,f)}function ti(a,b){var c=b.ref;if(null===a&&null!==c||null!==a&&a.ref!==c)b.effectTag|=128}function si(a,b,c,d,e){var f=L(c)?Df:J.current;f=Ef(b,f);vg(b,e);c=Ih(a,b,c,d,f,e);if(null!==a&&!wg)return b.updateQueue=a.updateQueue,b.effectTag&=-517,a.expirationTime<=e&&(a.expirationTime=0),oi(a,b,e);b.effectTag|=1;R(a,b,c,e);return b.child}\nfunction ui(a,b,c,d,e){if(L(c)){var f=!0;Jf(b)}else f=!1;vg(b,e);if(null===b.stateNode)null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2),Ug(b,c,d,e),Wg(b,c,d,e),d=!0;else if(null===a){var g=b.stateNode,h=b.memoizedProps;g.props=h;var k=g.context,l=c.contextType;\"object\"===typeof l&&null!==l?l=xg(l):(l=L(c)?Df:J.current,l=Ef(b,l));var m=c.getDerivedStateFromProps,C=\"function\"===typeof m||\"function\"===typeof g.getSnapshotBeforeUpdate;C||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\n\"function\"!==typeof g.componentWillReceiveProps||(h!==d||k!==l)&&Vg(b,g,d,l);yg=!1;var y=b.memoizedState;k=g.state=y;var H=b.updateQueue;null!==H&&(Hg(b,H,d,g,e),k=b.memoizedState);h!==d||y!==k||K.current||yg?(\"function\"===typeof m&&(Og(b,c,m,d),k=b.memoizedState),(h=yg||Tg(b,c,h,d,y,k,l))?(C||\"function\"!==typeof g.UNSAFE_componentWillMount&&\"function\"!==typeof g.componentWillMount||(\"function\"===typeof g.componentWillMount&&g.componentWillMount(),\"function\"===typeof g.UNSAFE_componentWillMount&&\ng.UNSAFE_componentWillMount()),\"function\"===typeof g.componentDidMount&&(b.effectTag|=4)):(\"function\"===typeof g.componentDidMount&&(b.effectTag|=4),b.memoizedProps=d,b.memoizedState=k),g.props=d,g.state=k,g.context=l,d=h):(\"function\"===typeof g.componentDidMount&&(b.effectTag|=4),d=!1)}else g=b.stateNode,h=b.memoizedProps,g.props=b.type===b.elementType?h:mg(b.type,h),k=g.context,l=c.contextType,\"object\"===typeof l&&null!==l?l=xg(l):(l=L(c)?Df:J.current,l=Ef(b,l)),m=c.getDerivedStateFromProps,(C=\n\"function\"===typeof m||\"function\"===typeof g.getSnapshotBeforeUpdate)||\"function\"!==typeof g.UNSAFE_componentWillReceiveProps&&\"function\"!==typeof g.componentWillReceiveProps||(h!==d||k!==l)&&Vg(b,g,d,l),yg=!1,k=b.memoizedState,y=g.state=k,H=b.updateQueue,null!==H&&(Hg(b,H,d,g,e),y=b.memoizedState),h!==d||k!==y||K.current||yg?(\"function\"===typeof m&&(Og(b,c,m,d),y=b.memoizedState),(m=yg||Tg(b,c,h,d,k,y,l))?(C||\"function\"!==typeof g.UNSAFE_componentWillUpdate&&\"function\"!==typeof g.componentWillUpdate||\n(\"function\"===typeof g.componentWillUpdate&&g.componentWillUpdate(d,y,l),\"function\"===typeof g.UNSAFE_componentWillUpdate&&g.UNSAFE_componentWillUpdate(d,y,l)),\"function\"===typeof g.componentDidUpdate&&(b.effectTag|=4),\"function\"===typeof g.getSnapshotBeforeUpdate&&(b.effectTag|=256)):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&k===a.memoizedState||(b.effectTag|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&k===a.memoizedState||(b.effectTag|=256),b.memoizedProps=\nd,b.memoizedState=y),g.props=d,g.state=y,g.context=l,d=m):(\"function\"!==typeof g.componentDidUpdate||h===a.memoizedProps&&k===a.memoizedState||(b.effectTag|=4),\"function\"!==typeof g.getSnapshotBeforeUpdate||h===a.memoizedProps&&k===a.memoizedState||(b.effectTag|=256),d=!1);return vi(a,b,c,d,f,e)}\nfunction vi(a,b,c,d,e,f){ti(a,b);var g=0!==(b.effectTag&64);if(!d&&!g)return e&&Kf(b,c,!1),oi(a,b,f);d=b.stateNode;mi.current=b;var h=g&&\"function\"!==typeof c.getDerivedStateFromError?null:d.render();b.effectTag|=1;null!==a&&g?(b.child=fh(b,a.child,null,f),b.child=fh(b,null,h,f)):R(a,b,h,f);b.memoizedState=d.state;e&&Kf(b,c,!0);return b.child}function wi(a){var b=a.stateNode;b.pendingContext?Hf(a,b.pendingContext,b.pendingContext!==b.context):b.context&&Hf(a,b.context,!1);mh(a,b.containerInfo)}\nvar xi={dehydrated:null,retryTime:0};\nfunction yi(a,b,c){var d=b.mode,e=b.pendingProps,f=M.current,g=!1,h;(h=0!==(b.effectTag&64))||(h=0!==(f&2)&&(null===a||null!==a.memoizedState));h?(g=!0,b.effectTag&=-65):null!==a&&null===a.memoizedState||void 0===e.fallback||!0===e.unstable_avoidThisFallback||(f|=1);I(M,f&1,b);if(null===a){void 0!==e.fallback&&ii(b);if(g){g=e.fallback;e=eh(null,d,0,null);e.return=b;if(0===(b.mode&2))for(a=null!==b.memoizedState?b.child.child:b.child,e.child=a;null!==a;)a.return=e,a=a.sibling;c=eh(g,d,c,null);c.return=\nb;e.sibling=c;b.memoizedState=xi;b.child=e;return c}d=e.children;b.memoizedState=null;return b.child=gh(b,null,d,c)}if(null!==a.memoizedState){a=a.child;d=a.sibling;if(g){e=e.fallback;c=ah(a,a.pendingProps,0);c.return=b;if(0===(b.mode&2)&&(g=null!==b.memoizedState?b.child.child:b.child,g!==a.child))for(c.child=g;null!==g;)g.return=c,g=g.sibling;d=ah(d,e,d.expirationTime);d.return=b;c.sibling=d;c.childExpirationTime=0;b.memoizedState=xi;b.child=c;return d}c=fh(b,a.child,e.children,c);b.memoizedState=\nnull;return b.child=c}a=a.child;if(g){g=e.fallback;e=eh(null,d,0,null);e.return=b;e.child=a;null!==a&&(a.return=e);if(0===(b.mode&2))for(a=null!==b.memoizedState?b.child.child:b.child,e.child=a;null!==a;)a.return=e,a=a.sibling;c=eh(g,d,c,null);c.return=b;e.sibling=c;c.effectTag|=2;e.childExpirationTime=0;b.memoizedState=xi;b.child=e;return c}b.memoizedState=null;return b.child=fh(b,a,e.children,c)}\nfunction zi(a,b){a.expirationTime<b&&(a.expirationTime=b);var c=a.alternate;null!==c&&c.expirationTime<b&&(c.expirationTime=b);ug(a.return,b)}function Ai(a,b,c,d,e,f){var g=a.memoizedState;null===g?a.memoizedState={isBackwards:b,rendering:null,last:d,tail:c,tailExpiration:0,tailMode:e,lastEffect:f}:(g.isBackwards=b,g.rendering=null,g.last=d,g.tail=c,g.tailExpiration=0,g.tailMode=e,g.lastEffect=f)}\nfunction Bi(a,b,c){var d=b.pendingProps,e=d.revealOrder,f=d.tail;R(a,b,d.children,c);d=M.current;if(0!==(d&2))d=d&1|2,b.effectTag|=64;else{if(null!==a&&0!==(a.effectTag&64))a:for(a=b.child;null!==a;){if(13===a.tag)null!==a.memoizedState&&zi(a,c);else if(19===a.tag)zi(a,c);else if(null!==a.child){a.child.return=a;a=a.child;continue}if(a===b)break a;for(;null===a.sibling;){if(null===a.return||a.return===b)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}d&=1}I(M,d,b);if(0===(b.mode&2))b.memoizedState=\nnull;else switch(e){case \"forwards\":c=b.child;for(e=null;null!==c;)a=c.alternate,null!==a&&null===qh(a)&&(e=c),c=c.sibling;c=e;null===c?(e=b.child,b.child=null):(e=c.sibling,c.sibling=null);Ai(b,!1,e,c,f,b.lastEffect);break;case \"backwards\":c=null;e=b.child;for(b.child=null;null!==e;){a=e.alternate;if(null!==a&&null===qh(a)){b.child=e;break}a=e.sibling;e.sibling=c;c=e;e=a}Ai(b,!0,c,null,f,b.lastEffect);break;case \"together\":Ai(b,!1,null,null,void 0,b.lastEffect);break;default:b.memoizedState=null}return b.child}\nfunction oi(a,b,c){null!==a&&(b.dependencies=a.dependencies);var d=b.expirationTime;0!==d&&Jg(d);if(b.childExpirationTime<c)return null;if(null!==a&&b.child!==a.child)throw Error(u(153));if(null!==b.child){a=b.child;c=ah(a,a.pendingProps,a.expirationTime);b.child=c;for(c.return=b;null!==a.sibling;)a=a.sibling,c=c.sibling=ah(a,a.pendingProps,a.expirationTime),c.return=b;c.sibling=null}return b.child}function Ci(a){a.effectTag|=4}var Hi,Ii,Ji,Ki;\nHi=function(a,b){for(var c=b.child;null!==c;){if(5===c.tag||6===c.tag)a.appendChild(c.stateNode);else if(4!==c.tag&&null!==c.child){c.child.return=c;c=c.child;continue}if(c===b)break;for(;null===c.sibling;){if(null===c.return||c.return===b)return;c=c.return}c.sibling.return=c.return;c=c.sibling}};Ii=function(){};\nJi=function(a,b,c,d,e){var f=a.memoizedProps;if(f!==d){var g=b.stateNode;lh(ih.current);a=null;switch(c){case \"input\":f=Ab(g,f);d=Ab(g,d);a=[];break;case \"option\":f=Ib(g,f);d=Ib(g,d);a=[];break;case \"select\":f=n({},f,{value:void 0});d=n({},d,{value:void 0});a=[];break;case \"textarea\":f=Kb(g,f);d=Kb(g,d);a=[];break;default:\"function\"!==typeof f.onClick&&\"function\"===typeof d.onClick&&(g.onclick=ae)}Yd(c,d);var h,k;c=null;for(h in f)if(!d.hasOwnProperty(h)&&f.hasOwnProperty(h)&&null!=f[h])if(\"style\"===\nh)for(k in g=f[h],g)g.hasOwnProperty(k)&&(c||(c={}),c[k]=\"\");else\"dangerouslySetInnerHTML\"!==h&&\"children\"!==h&&\"suppressContentEditableWarning\"!==h&&\"suppressHydrationWarning\"!==h&&\"autoFocus\"!==h&&(ia.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in d){var l=d[h];g=null!=f?f[h]:void 0;if(d.hasOwnProperty(h)&&l!==g&&(null!=l||null!=g))if(\"style\"===h)if(g){for(k in g)!g.hasOwnProperty(k)||l&&l.hasOwnProperty(k)||(c||(c={}),c[k]=\"\");for(k in l)l.hasOwnProperty(k)&&g[k]!==l[k]&&(c||(c={}),\nc[k]=l[k])}else c||(a||(a=[]),a.push(h,c)),c=l;else\"dangerouslySetInnerHTML\"===h?(l=l?l.__html:void 0,g=g?g.__html:void 0,null!=l&&g!==l&&(a=a||[]).push(h,\"\"+l)):\"children\"===h?g===l||\"string\"!==typeof l&&\"number\"!==typeof l||(a=a||[]).push(h,\"\"+l):\"suppressContentEditableWarning\"!==h&&\"suppressHydrationWarning\"!==h&&(ia.hasOwnProperty(h)?(null!=l&&$d(e,h),a||g===l||(a=[])):(a=a||[]).push(h,l))}c&&(a=a||[]).push(\"style\",c);e=a;(b.updateQueue=e)&&Ci(b)}};Ki=function(a,b,c,d){c!==d&&Ci(b)};\nfunction Li(a,b){switch(a.tailMode){case \"hidden\":b=a.tail;for(var c=null;null!==b;)null!==b.alternate&&(c=b),b=b.sibling;null===c?a.tail=null:c.sibling=null;break;case \"collapsed\":c=a.tail;for(var d=null;null!==c;)null!==c.alternate&&(d=c),c=c.sibling;null===d?b||null===a.tail?a.tail=null:a.tail.sibling=null:d.sibling=null}}\nfunction Mi(a){switch(a.tag){case 1:L(a.type)&&Ff(a);var b=a.effectTag;return b&4096?(a.effectTag=b&-4097|64,a):null;case 3:nh(a);Gf(a);b=a.effectTag;if(0!==(b&64))throw Error(u(285));a.effectTag=b&-4097|64;return a;case 5:return ph(a),null;case 13:return G(M,a),b=a.effectTag,b&4096?(a.effectTag=b&-4097|64,a):null;case 19:return G(M,a),null;case 4:return nh(a),null;case 10:return tg(a),null;default:return null}}function Ni(a,b){return{value:a,source:b,stack:Xa(b)}}\nvar Oi=\"function\"===typeof WeakSet?WeakSet:Set;function Pi(a,b){var c=b.source,d=b.stack;null===d&&null!==c&&(d=Xa(c));null!==c&&Wa(c.type);b=b.value;null!==a&&1===a.tag&&Wa(a.type);try{console.error(b)}catch(e){setTimeout(function(){throw e;})}}function Qi(a,b){try{b.props=a.memoizedProps,b.state=a.memoizedState,b.componentWillUnmount()}catch(c){Ri(a,c)}}function Si(a){var b=a.ref;if(null!==b)if(\"function\"===typeof b)try{b(null)}catch(c){Ri(a,c)}else b.current=null}\nfunction Ti(a,b){switch(b.tag){case 0:case 11:case 15:Ui(2,0,b);break;case 1:if(b.effectTag&256&&null!==a){var c=a.memoizedProps,d=a.memoizedState;a=b.stateNode;b=a.getSnapshotBeforeUpdate(b.elementType===b.type?c:mg(b.type,c),d);a.__reactInternalSnapshotBeforeUpdate=b}break;case 3:case 5:case 6:case 4:case 17:break;default:throw Error(u(163));}}\nfunction Ui(a,b,c){c=c.updateQueue;c=null!==c?c.lastEffect:null;if(null!==c){var d=c=c.next;do{if(0!==(d.tag&a)){var e=d.destroy;d.destroy=void 0;void 0!==e&&e()}0!==(d.tag&b)&&(e=d.create,d.destroy=e());d=d.next}while(d!==c)}}\nfunction Vi(a,b,c){\"function\"===typeof Wi&&Wi(b);switch(b.tag){case 0:case 11:case 14:case 15:a=b.updateQueue;if(null!==a&&(a=a.lastEffect,null!==a)){var d=a.next;fg(97<c?97:c,function(){var a=d;do{var c=a.destroy;if(void 0!==c){var g=b;try{c()}catch(h){Ri(g,h)}}a=a.next}while(a!==d)})}break;case 1:Si(b);c=b.stateNode;\"function\"===typeof c.componentWillUnmount&&Qi(b,c);break;case 5:Si(b);break;case 4:Xi(a,b,c)}}\nfunction Yi(a){var b=a.alternate;a.return=null;a.child=null;a.memoizedState=null;a.updateQueue=null;a.dependencies=null;a.alternate=null;a.firstEffect=null;a.lastEffect=null;a.pendingProps=null;a.memoizedProps=null;null!==b&&Yi(b)}function Zi(a){return 5===a.tag||3===a.tag||4===a.tag}\nfunction $i(a){a:{for(var b=a.return;null!==b;){if(Zi(b)){var c=b;break a}b=b.return}throw Error(u(160));}b=c.stateNode;switch(c.tag){case 5:var d=!1;break;case 3:b=b.containerInfo;d=!0;break;case 4:b=b.containerInfo;d=!0;break;default:throw Error(u(161));}c.effectTag&16&&(Tb(b,\"\"),c.effectTag&=-17);a:b:for(c=a;;){for(;null===c.sibling;){if(null===c.return||Zi(c.return)){c=null;break a}c=c.return}c.sibling.return=c.return;for(c=c.sibling;5!==c.tag&&6!==c.tag&&18!==c.tag;){if(c.effectTag&2)continue b;\nif(null===c.child||4===c.tag)continue b;else c.child.return=c,c=c.child}if(!(c.effectTag&2)){c=c.stateNode;break a}}for(var e=a;;){var f=5===e.tag||6===e.tag;if(f){var g=f?e.stateNode:e.stateNode.instance;if(c)if(d){f=b;var h=g;g=c;8===f.nodeType?f.parentNode.insertBefore(h,g):f.insertBefore(h,g)}else b.insertBefore(g,c);else d?(h=b,8===h.nodeType?(f=h.parentNode,f.insertBefore(g,h)):(f=h,f.appendChild(g)),h=h._reactRootContainer,null!==h&&void 0!==h||null!==f.onclick||(f.onclick=ae)):b.appendChild(g)}else if(4!==\ne.tag&&null!==e.child){e.child.return=e;e=e.child;continue}if(e===a)break;for(;null===e.sibling;){if(null===e.return||e.return===a)return;e=e.return}e.sibling.return=e.return;e=e.sibling}}\nfunction Xi(a,b,c){for(var d=b,e=!1,f,g;;){if(!e){e=d.return;a:for(;;){if(null===e)throw Error(u(160));f=e.stateNode;switch(e.tag){case 5:g=!1;break a;case 3:f=f.containerInfo;g=!0;break a;case 4:f=f.containerInfo;g=!0;break a}e=e.return}e=!0}if(5===d.tag||6===d.tag){a:for(var h=a,k=d,l=c,m=k;;)if(Vi(h,m,l),null!==m.child&&4!==m.tag)m.child.return=m,m=m.child;else{if(m===k)break;for(;null===m.sibling;){if(null===m.return||m.return===k)break a;m=m.return}m.sibling.return=m.return;m=m.sibling}g?(h=\nf,k=d.stateNode,8===h.nodeType?h.parentNode.removeChild(k):h.removeChild(k)):f.removeChild(d.stateNode)}else if(4===d.tag){if(null!==d.child){f=d.stateNode.containerInfo;g=!0;d.child.return=d;d=d.child;continue}}else if(Vi(a,d,c),null!==d.child){d.child.return=d;d=d.child;continue}if(d===b)break;for(;null===d.sibling;){if(null===d.return||d.return===b)return;d=d.return;4===d.tag&&(e=!1)}d.sibling.return=d.return;d=d.sibling}}\nfunction aj(a,b){switch(b.tag){case 0:case 11:case 14:case 15:Ui(4,8,b);break;case 1:break;case 5:var c=b.stateNode;if(null!=c){var d=b.memoizedProps,e=null!==a?a.memoizedProps:d;a=b.type;var f=b.updateQueue;b.updateQueue=null;if(null!==f){c[ve]=d;\"input\"===a&&\"radio\"===d.type&&null!=d.name&&Cb(c,d);Zd(a,e);b=Zd(a,d);for(e=0;e<f.length;e+=2){var g=f[e],h=f[e+1];\"style\"===g?Wd(c,h):\"dangerouslySetInnerHTML\"===g?Sb(c,h):\"children\"===g?Tb(c,h):vb(c,g,h,b)}switch(a){case \"input\":Eb(c,d);break;case \"textarea\":Mb(c,\nd);break;case \"select\":b=c._wrapperState.wasMultiple,c._wrapperState.wasMultiple=!!d.multiple,a=d.value,null!=a?Jb(c,!!d.multiple,a,!1):b!==!!d.multiple&&(null!=d.defaultValue?Jb(c,!!d.multiple,d.defaultValue,!0):Jb(c,!!d.multiple,d.multiple?[]:\"\",!1))}}}break;case 6:if(null===b.stateNode)throw Error(u(162));b.stateNode.nodeValue=b.memoizedProps;break;case 3:b=b.stateNode;b.hydrate&&(b.hydrate=!1,Lc(b.containerInfo));break;case 12:break;case 13:c=b;null===b.memoizedState?d=!1:(d=!0,c=b.child,bj=cg());\nif(null!==c)a:for(a=c;;){if(5===a.tag)f=a.stateNode,d?(f=f.style,\"function\"===typeof f.setProperty?f.setProperty(\"display\",\"none\",\"important\"):f.display=\"none\"):(f=a.stateNode,e=a.memoizedProps.style,e=void 0!==e&&null!==e&&e.hasOwnProperty(\"display\")?e.display:null,f.style.display=Vd(\"display\",e));else if(6===a.tag)a.stateNode.nodeValue=d?\"\":a.memoizedProps;else if(13===a.tag&&null!==a.memoizedState&&null===a.memoizedState.dehydrated){f=a.child.sibling;f.return=a;a=f;continue}else if(null!==a.child){a.child.return=\na;a=a.child;continue}if(a===c)break a;for(;null===a.sibling;){if(null===a.return||a.return===c)break a;a=a.return}a.sibling.return=a.return;a=a.sibling}cj(b);break;case 19:cj(b);break;case 17:break;case 20:break;case 21:break;default:throw Error(u(163));}}function cj(a){var b=a.updateQueue;if(null!==b){a.updateQueue=null;var c=a.stateNode;null===c&&(c=a.stateNode=new Oi);b.forEach(function(b){var d=dj.bind(null,a,b);c.has(b)||(c.add(b),b.then(d,d))})}}var ej=\"function\"===typeof WeakMap?WeakMap:Map;\nfunction fj(a,b,c){c=Bg(c,null);c.tag=3;c.payload={element:null};var d=b.value;c.callback=function(){gj||(gj=!0,hj=d);Pi(a,b)};return c}\nfunction ij(a,b,c){c=Bg(c,null);c.tag=3;var d=a.type.getDerivedStateFromError;if(\"function\"===typeof d){var e=b.value;c.payload=function(){Pi(a,b);return d(e)}}var f=a.stateNode;null!==f&&\"function\"===typeof f.componentDidCatch&&(c.callback=function(){\"function\"!==typeof d&&(null===jj?jj=new Set([this]):jj.add(this),Pi(a,b));var c=b.stack;this.componentDidCatch(b.value,{componentStack:null!==c?c:\"\"})});return c}\nvar kj=Math.ceil,lj=Ea.ReactCurrentDispatcher,mj=Ea.ReactCurrentOwner,S=0,nj=8,oj=16,pj=32,qj=0,rj=1,sj=2,tj=3,uj=4,vj=5,T=S,U=null,V=null,W=0,X=qj,wj=null,xj=1073741823,yj=1073741823,zj=null,Aj=0,Bj=!1,bj=0,Cj=500,Y=null,gj=!1,hj=null,jj=null,Dj=!1,Ej=null,Fj=90,Gj=null,Hj=0,Ij=null,Jj=0;function Pg(){return(T&(oj|pj))!==S?1073741821-(cg()/10|0):0!==Jj?Jj:Jj=1073741821-(cg()/10|0)}\nfunction Qg(a,b,c){b=b.mode;if(0===(b&2))return 1073741823;var d=dg();if(0===(b&4))return 99===d?1073741823:1073741822;if((T&oj)!==S)return W;if(null!==c)a=lg(a,c.timeoutMs|0||5E3,250);else switch(d){case 99:a=1073741823;break;case 98:a=lg(a,150,100);break;case 97:case 96:a=lg(a,5E3,250);break;case 95:a=2;break;default:throw Error(u(326));}null!==U&&a===W&&--a;return a}\nfunction Rg(a,b){if(50<Hj)throw Hj=0,Ij=null,Error(u(185));a=Kj(a,b);if(null!==a){var c=dg();1073741823===b?(T&nj)!==S&&(T&(oj|pj))===S?Lj(a):(Z(a),T===S&&jg()):Z(a);(T&4)===S||98!==c&&99!==c||(null===Gj?Gj=new Map([[a,b]]):(c=Gj.get(a),(void 0===c||c>b)&&Gj.set(a,b)))}}\nfunction Kj(a,b){a.expirationTime<b&&(a.expirationTime=b);var c=a.alternate;null!==c&&c.expirationTime<b&&(c.expirationTime=b);var d=a.return,e=null;if(null===d&&3===a.tag)e=a.stateNode;else for(;null!==d;){c=d.alternate;d.childExpirationTime<b&&(d.childExpirationTime=b);null!==c&&c.childExpirationTime<b&&(c.childExpirationTime=b);if(null===d.return&&3===d.tag){e=d.stateNode;break}d=d.return}null!==e&&(U===e&&(Jg(b),X===uj&&Mj(e,W)),Nj(e,b));return e}\nfunction Oj(a){var b=a.lastExpiredTime;if(0!==b)return b;b=a.firstPendingTime;if(!Pj(a,b))return b;b=a.lastPingedTime;a=a.nextKnownPendingLevel;return b>a?b:a}\nfunction Z(a){if(0!==a.lastExpiredTime)a.callbackExpirationTime=1073741823,a.callbackPriority=99,a.callbackNode=hg(Lj.bind(null,a));else{var b=Oj(a),c=a.callbackNode;if(0===b)null!==c&&(a.callbackNode=null,a.callbackExpirationTime=0,a.callbackPriority=90);else{var d=Pg();1073741823===b?d=99:1===b||2===b?d=95:(d=10*(1073741821-b)-10*(1073741821-d),d=0>=d?99:250>=d?98:5250>=d?97:95);if(null!==c){var e=a.callbackPriority;if(a.callbackExpirationTime===b&&e>=d)return;c!==Xf&&Nf(c)}a.callbackExpirationTime=\nb;a.callbackPriority=d;b=1073741823===b?hg(Lj.bind(null,a)):gg(d,Qj.bind(null,a),{timeout:10*(1073741821-b)-cg()});a.callbackNode=b}}}\nfunction Qj(a,b){Jj=0;if(b)return b=Pg(),Rj(a,b),Z(a),null;var c=Oj(a);if(0!==c){b=a.callbackNode;if((T&(oj|pj))!==S)throw Error(u(327));Sj();a===U&&c===W||Tj(a,c);if(null!==V){var d=T;T|=oj;var e=Uj(a);do try{Vj();break}catch(h){Wj(a,h)}while(1);rg();T=d;lj.current=e;if(X===rj)throw b=wj,Tj(a,c),Mj(a,c),Z(a),b;if(null===V)switch(e=a.finishedWork=a.current.alternate,a.finishedExpirationTime=c,d=X,U=null,d){case qj:case rj:throw Error(u(345));case sj:Rj(a,2<c?2:c);break;case tj:Mj(a,c);d=a.lastSuspendedTime;\nc===d&&(a.nextKnownPendingLevel=Xj(e));if(1073741823===xj&&(e=bj+Cj-cg(),10<e)){if(Bj){var f=a.lastPingedTime;if(0===f||f>=c){a.lastPingedTime=c;Tj(a,c);break}}f=Oj(a);if(0!==f&&f!==c)break;if(0!==d&&d!==c){a.lastPingedTime=d;break}a.timeoutHandle=pe(Yj.bind(null,a),e);break}Yj(a);break;case uj:Mj(a,c);d=a.lastSuspendedTime;c===d&&(a.nextKnownPendingLevel=Xj(e));if(Bj&&(e=a.lastPingedTime,0===e||e>=c)){a.lastPingedTime=c;Tj(a,c);break}e=Oj(a);if(0!==e&&e!==c)break;if(0!==d&&d!==c){a.lastPingedTime=\nd;break}1073741823!==yj?d=10*(1073741821-yj)-cg():1073741823===xj?d=0:(d=10*(1073741821-xj)-5E3,e=cg(),c=10*(1073741821-c)-e,d=e-d,0>d&&(d=0),d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3E3>d?3E3:4320>d?4320:1960*kj(d/1960))-d,c<d&&(d=c));if(10<d){a.timeoutHandle=pe(Yj.bind(null,a),d);break}Yj(a);break;case vj:if(1073741823!==xj&&null!==zj){f=xj;var g=zj;d=g.busyMinDurationMs|0;0>=d?d=0:(e=g.busyDelayMs|0,f=cg()-(10*(1073741821-f)-(g.timeoutMs|0||5E3)),d=f<=e?0:e+d-f);if(10<d){Mj(a,c);a.timeoutHandle=\npe(Yj.bind(null,a),d);break}}Yj(a);break;default:throw Error(u(329));}Z(a);if(a.callbackNode===b)return Qj.bind(null,a)}}return null}\nfunction Lj(a){var b=a.lastExpiredTime;b=0!==b?b:1073741823;if(a.finishedExpirationTime===b)Yj(a);else{if((T&(oj|pj))!==S)throw Error(u(327));Sj();a===U&&b===W||Tj(a,b);if(null!==V){var c=T;T|=oj;var d=Uj(a);do try{Zj();break}catch(e){Wj(a,e)}while(1);rg();T=c;lj.current=d;if(X===rj)throw c=wj,Tj(a,b),Mj(a,b),Z(a),c;if(null!==V)throw Error(u(261));a.finishedWork=a.current.alternate;a.finishedExpirationTime=b;U=null;Yj(a);Z(a)}}return null}\nfunction ak(){if(null!==Gj){var a=Gj;Gj=null;a.forEach(function(a,c){Rj(c,a);Z(c)});jg()}}function bk(a,b){var c=T;T|=1;try{return a(b)}finally{T=c,T===S&&jg()}}function ck(a,b){var c=T;T&=-2;T|=nj;try{return a(b)}finally{T=c,T===S&&jg()}}\nfunction Tj(a,b){a.finishedWork=null;a.finishedExpirationTime=0;var c=a.timeoutHandle;-1!==c&&(a.timeoutHandle=-1,qe(c));if(null!==V)for(c=V.return;null!==c;){var d=c;switch(d.tag){case 1:var e=d.type.childContextTypes;null!==e&&void 0!==e&&Ff(d);break;case 3:nh(d);Gf(d);break;case 5:ph(d);break;case 4:nh(d);break;case 13:G(M,d);break;case 19:G(M,d);break;case 10:tg(d)}c=c.return}U=a;V=ah(a.current,null,b);W=b;X=qj;wj=null;yj=xj=1073741823;zj=null;Aj=0;Bj=!1}\nfunction Wj(a,b){do{try{rg();Mh();if(null===V||null===V.return)return X=rj,wj=b,null;a:{var c=a,d=V.return,e=V,f=b;b=W;e.effectTag|=2048;e.firstEffect=e.lastEffect=null;if(null!==f&&\"object\"===typeof f&&\"function\"===typeof f.then){var g=f,h=0!==(M.current&1),k=d;do{var l;if(l=13===k.tag){var m=k.memoizedState;if(null!==m)l=null!==m.dehydrated?!0:!1;else{var C=k.memoizedProps;l=void 0===C.fallback?!1:!0!==C.unstable_avoidThisFallback?!0:h?!1:!0}}if(l){var y=k.updateQueue;if(null===y){var H=new Set;\nH.add(g);k.updateQueue=H}else y.add(g);if(0===(k.mode&2)){k.effectTag|=64;e.effectTag&=-2981;if(1===e.tag)if(null===e.alternate)e.tag=17;else{var z=Bg(1073741823,null);z.tag=2;Dg(e,z)}e.expirationTime=1073741823;break a}f=void 0;e=b;var ta=c.pingCache;null===ta?(ta=c.pingCache=new ej,f=new Set,ta.set(g,f)):(f=ta.get(g),void 0===f&&(f=new Set,ta.set(g,f)));if(!f.has(e)){f.add(e);var r=dk.bind(null,c,g,e);g.then(r,r)}k.effectTag|=4096;k.expirationTime=b;break a}k=k.return}while(null!==k);f=Error((Wa(e.type)||\n\"A React component\")+\" suspended while rendering, but no fallback UI was specified.\\n\\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.\"+Xa(e))}X!==vj&&(X=sj);f=Ni(f,e);k=d;do{switch(k.tag){case 3:g=f;k.effectTag|=4096;k.expirationTime=b;var x=fj(k,g,b);Eg(k,x);break a;case 1:g=f;var A=k.type,p=k.stateNode;if(0===(k.effectTag&64)&&(\"function\"===typeof A.getDerivedStateFromError||null!==p&&\"function\"===typeof p.componentDidCatch&&\n(null===jj||!jj.has(p)))){k.effectTag|=4096;k.expirationTime=b;var t=ij(k,g,b);Eg(k,t);break a}}k=k.return}while(null!==k)}V=ek(V)}catch(v){b=v;continue}break}while(1)}function Uj(){var a=lj.current;lj.current=Lh;return null===a?Lh:a}function Ig(a,b){a<xj&&2<a&&(xj=a);null!==b&&a<yj&&2<a&&(yj=a,zj=b)}function Jg(a){a>Aj&&(Aj=a)}function Zj(){for(;null!==V;)V=fk(V)}function Vj(){for(;null!==V&&!Of();)V=fk(V)}\nfunction fk(a){var b=gk(a.alternate,a,W);a.memoizedProps=a.pendingProps;null===b&&(b=ek(a));mj.current=null;return b}\nfunction ek(a){V=a;do{var b=V.alternate;a=V.return;if(0===(V.effectTag&2048)){a:{var c=b;b=V;var d=W;var e=b.pendingProps;switch(b.tag){case 2:break;case 16:break;case 15:case 0:break;case 1:L(b.type)&&Ff(b);break;case 3:nh(b);Gf(b);e=b.stateNode;e.pendingContext&&(e.context=e.pendingContext,e.pendingContext=null);(null===c||null===c.child)&&ki(b)&&Ci(b);Ii(b);break;case 5:ph(b);d=lh(kh.current);var f=b.type;if(null!==c&&null!=b.stateNode)Ji(c,b,f,e,d),c.ref!==b.ref&&(b.effectTag|=128);else if(e){var g=\nlh(ih.current);if(ki(b)){e=b;var h=e.stateNode;c=e.type;var k=e.memoizedProps,l=d;h[ue]=e;h[ve]=k;f=void 0;d=h;switch(c){case \"iframe\":case \"object\":case \"embed\":F(\"load\",d);break;case \"video\":case \"audio\":for(h=0;h<cc.length;h++)F(cc[h],d);break;case \"source\":F(\"error\",d);break;case \"img\":case \"image\":case \"link\":F(\"error\",d);F(\"load\",d);break;case \"form\":F(\"reset\",d);F(\"submit\",d);break;case \"details\":F(\"toggle\",d);break;case \"input\":Bb(d,k);F(\"invalid\",d);$d(l,\"onChange\");break;case \"select\":d._wrapperState=\n{wasMultiple:!!k.multiple};F(\"invalid\",d);$d(l,\"onChange\");break;case \"textarea\":Lb(d,k),F(\"invalid\",d),$d(l,\"onChange\")}Yd(c,k);h=null;for(f in k)k.hasOwnProperty(f)&&(g=k[f],\"children\"===f?\"string\"===typeof g?d.textContent!==g&&(h=[\"children\",g]):\"number\"===typeof g&&d.textContent!==\"\"+g&&(h=[\"children\",\"\"+g]):ia.hasOwnProperty(f)&&null!=g&&$d(l,f));switch(c){case \"input\":yb(d);Gb(d,k,!0);break;case \"textarea\":yb(d);Nb(d,k);break;case \"select\":case \"option\":break;default:\"function\"===typeof k.onClick&&\n(d.onclick=ae)}f=h;e.updateQueue=f;e=null!==f?!0:!1;e&&Ci(b)}else{c=b;l=f;k=e;h=9===d.nodeType?d:d.ownerDocument;g===Ob.html&&(g=Pb(l));g===Ob.html?\"script\"===l?(k=h.createElement(\"div\"),k.innerHTML=\"<script>\\x3c/script>\",h=k.removeChild(k.firstChild)):\"string\"===typeof k.is?h=h.createElement(l,{is:k.is}):(h=h.createElement(l),\"select\"===l&&(l=h,k.multiple?l.multiple=!0:k.size&&(l.size=k.size))):h=h.createElementNS(g,l);k=h;k[ue]=c;k[ve]=e;Hi(k,b,!1,!1);b.stateNode=k;l=f;c=e;var m=d,C=Zd(l,c);switch(l){case \"iframe\":case \"object\":case \"embed\":F(\"load\",\nk);d=c;break;case \"video\":case \"audio\":for(d=0;d<cc.length;d++)F(cc[d],k);d=c;break;case \"source\":F(\"error\",k);d=c;break;case \"img\":case \"image\":case \"link\":F(\"error\",k);F(\"load\",k);d=c;break;case \"form\":F(\"reset\",k);F(\"submit\",k);d=c;break;case \"details\":F(\"toggle\",k);d=c;break;case \"input\":Bb(k,c);d=Ab(k,c);F(\"invalid\",k);$d(m,\"onChange\");break;case \"option\":d=Ib(k,c);break;case \"select\":k._wrapperState={wasMultiple:!!c.multiple};d=n({},c,{value:void 0});F(\"invalid\",k);$d(m,\"onChange\");break;case \"textarea\":Lb(k,\nc);d=Kb(k,c);F(\"invalid\",k);$d(m,\"onChange\");break;default:d=c}Yd(l,d);h=void 0;g=l;var y=k,H=d;for(h in H)if(H.hasOwnProperty(h)){var z=H[h];\"style\"===h?Wd(y,z):\"dangerouslySetInnerHTML\"===h?(z=z?z.__html:void 0,null!=z&&Sb(y,z)):\"children\"===h?\"string\"===typeof z?(\"textarea\"!==g||\"\"!==z)&&Tb(y,z):\"number\"===typeof z&&Tb(y,\"\"+z):\"suppressContentEditableWarning\"!==h&&\"suppressHydrationWarning\"!==h&&\"autoFocus\"!==h&&(ia.hasOwnProperty(h)?null!=z&&$d(m,h):null!=z&&vb(y,h,z,C))}switch(l){case \"input\":yb(k);\nGb(k,c,!1);break;case \"textarea\":yb(k);Nb(k,c);break;case \"option\":null!=c.value&&k.setAttribute(\"value\",\"\"+ub(c.value));break;case \"select\":d=k;d.multiple=!!c.multiple;k=c.value;null!=k?Jb(d,!!c.multiple,k,!1):null!=c.defaultValue&&Jb(d,!!c.multiple,c.defaultValue,!0);break;default:\"function\"===typeof d.onClick&&(k.onclick=ae)}(e=ne(f,e))&&Ci(b)}null!==b.ref&&(b.effectTag|=128)}else if(null===b.stateNode)throw Error(u(166));break;case 6:if(c&&null!=b.stateNode)Ki(c,b,c.memoizedProps,e);else{if(\"string\"!==\ntypeof e&&null===b.stateNode)throw Error(u(166));d=lh(kh.current);lh(ih.current);ki(b)?(e=b,f=e.stateNode,d=e.memoizedProps,f[ue]=e,(e=f.nodeValue!==d)&&Ci(b)):(f=b,e=(9===d.nodeType?d:d.ownerDocument).createTextNode(e),e[ue]=f,b.stateNode=e)}break;case 11:break;case 13:G(M,b);e=b.memoizedState;if(0!==(b.effectTag&64)){b.expirationTime=d;break a}e=null!==e;f=!1;null===c?void 0!==b.memoizedProps.fallback&&ki(b):(d=c.memoizedState,f=null!==d,e||null===d||(d=c.child.sibling,null!==d&&(k=b.firstEffect,\nnull!==k?(b.firstEffect=d,d.nextEffect=k):(b.firstEffect=b.lastEffect=d,d.nextEffect=null),d.effectTag=8)));if(e&&!f&&0!==(b.mode&2))if(null===c&&!0!==b.memoizedProps.unstable_avoidThisFallback||0!==(M.current&1))X===qj&&(X=tj);else{if(X===qj||X===tj)X=uj;0!==Aj&&null!==U&&(Mj(U,W),Nj(U,Aj))}if(e||f)b.effectTag|=4;break;case 7:break;case 8:break;case 12:break;case 4:nh(b);Ii(b);break;case 10:tg(b);break;case 9:break;case 14:break;case 17:L(b.type)&&Ff(b);break;case 19:G(M,b);e=b.memoizedState;if(null===\ne)break;f=0!==(b.effectTag&64);k=e.rendering;if(null===k)if(f)Li(e,!1);else{if(X!==qj||null!==c&&0!==(c.effectTag&64))for(c=b.child;null!==c;){k=qh(c);if(null!==k){b.effectTag|=64;Li(e,!1);f=k.updateQueue;null!==f&&(b.updateQueue=f,b.effectTag|=4);null===e.lastEffect&&(b.firstEffect=null);b.lastEffect=e.lastEffect;e=d;for(f=b.child;null!==f;)d=f,c=e,d.effectTag&=2,d.nextEffect=null,d.firstEffect=null,d.lastEffect=null,k=d.alternate,null===k?(d.childExpirationTime=0,d.expirationTime=c,d.child=null,\nd.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null):(d.childExpirationTime=k.childExpirationTime,d.expirationTime=k.expirationTime,d.child=k.child,d.memoizedProps=k.memoizedProps,d.memoizedState=k.memoizedState,d.updateQueue=k.updateQueue,c=k.dependencies,d.dependencies=null===c?null:{expirationTime:c.expirationTime,firstContext:c.firstContext,responders:c.responders}),f=f.sibling;I(M,M.current&1|2,b);b=b.child;break a}c=c.sibling}}else{if(!f)if(c=qh(k),null!==c){if(b.effectTag|=\n64,f=!0,d=c.updateQueue,null!==d&&(b.updateQueue=d,b.effectTag|=4),Li(e,!0),null===e.tail&&\"hidden\"===e.tailMode&&!k.alternate){b=b.lastEffect=e.lastEffect;null!==b&&(b.nextEffect=null);break}}else cg()>e.tailExpiration&&1<d&&(b.effectTag|=64,f=!0,Li(e,!1),b.expirationTime=b.childExpirationTime=d-1);e.isBackwards?(k.sibling=b.child,b.child=k):(d=e.last,null!==d?d.sibling=k:b.child=k,e.last=k)}if(null!==e.tail){0===e.tailExpiration&&(e.tailExpiration=cg()+500);d=e.tail;e.rendering=d;e.tail=d.sibling;\ne.lastEffect=b.lastEffect;d.sibling=null;e=M.current;e=f?e&1|2:e&1;I(M,e,b);b=d;break a}break;case 20:break;case 21:break;default:throw Error(u(156,b.tag));}b=null}e=V;if(1===W||1!==e.childExpirationTime){f=0;for(d=e.child;null!==d;)c=d.expirationTime,k=d.childExpirationTime,c>f&&(f=c),k>f&&(f=k),d=d.sibling;e.childExpirationTime=f}if(null!==b)return b;null!==a&&0===(a.effectTag&2048)&&(null===a.firstEffect&&(a.firstEffect=V.firstEffect),null!==V.lastEffect&&(null!==a.lastEffect&&(a.lastEffect.nextEffect=\nV.firstEffect),a.lastEffect=V.lastEffect),1<V.effectTag&&(null!==a.lastEffect?a.lastEffect.nextEffect=V:a.firstEffect=V,a.lastEffect=V))}else{b=Mi(V,W);if(null!==b)return b.effectTag&=2047,b;null!==a&&(a.firstEffect=a.lastEffect=null,a.effectTag|=2048)}b=V.sibling;if(null!==b)return b;V=a}while(null!==V);X===qj&&(X=vj);return null}function Xj(a){var b=a.expirationTime;a=a.childExpirationTime;return b>a?b:a}function Yj(a){var b=dg();fg(99,ik.bind(null,a,b));return null}\nfunction ik(a,b){do Sj();while(null!==Ej);if((T&(oj|pj))!==S)throw Error(u(327));var c=a.finishedWork,d=a.finishedExpirationTime;if(null===c)return null;a.finishedWork=null;a.finishedExpirationTime=0;if(c===a.current)throw Error(u(177));a.callbackNode=null;a.callbackExpirationTime=0;a.callbackPriority=90;a.nextKnownPendingLevel=0;var e=Xj(c);a.firstPendingTime=e;d<=a.lastSuspendedTime?a.firstSuspendedTime=a.lastSuspendedTime=a.nextKnownPendingLevel=0:d<=a.firstSuspendedTime&&(a.firstSuspendedTime=\nd-1);d<=a.lastPingedTime&&(a.lastPingedTime=0);d<=a.lastExpiredTime&&(a.lastExpiredTime=0);a===U&&(V=U=null,W=0);1<c.effectTag?null!==c.lastEffect?(c.lastEffect.nextEffect=c,e=c.firstEffect):e=c:e=c.firstEffect;if(null!==e){var f=T;T|=pj;mj.current=null;le=Ld;var g=fe();if(ge(g)){if(\"selectionStart\"in g)var h={start:g.selectionStart,end:g.selectionEnd};else a:{h=(h=g.ownerDocument)&&h.defaultView||window;var k=h.getSelection&&h.getSelection();if(k&&0!==k.rangeCount){h=k.anchorNode;var l=k.anchorOffset,\nm=k.focusNode;k=k.focusOffset;try{h.nodeType,m.nodeType}catch(Db){h=null;break a}var C=0,y=-1,H=-1,z=0,ta=0,r=g,x=null;b:for(;;){for(var A;;){r!==h||0!==l&&3!==r.nodeType||(y=C+l);r!==m||0!==k&&3!==r.nodeType||(H=C+k);3===r.nodeType&&(C+=r.nodeValue.length);if(null===(A=r.firstChild))break;x=r;r=A}for(;;){if(r===g)break b;x===h&&++z===l&&(y=C);x===m&&++ta===k&&(H=C);if(null!==(A=r.nextSibling))break;r=x;x=r.parentNode}r=A}h=-1===y||-1===H?null:{start:y,end:H}}else h=null}h=h||{start:0,end:0}}else h=\nnull;me={focusedElem:g,selectionRange:h};Ld=!1;Y=e;do try{jk()}catch(Db){if(null===Y)throw Error(u(330));Ri(Y,Db);Y=Y.nextEffect}while(null!==Y);Y=e;do try{for(g=a,h=b;null!==Y;){var p=Y.effectTag;p&16&&Tb(Y.stateNode,\"\");if(p&128){var t=Y.alternate;if(null!==t){var v=t.ref;null!==v&&(\"function\"===typeof v?v(null):v.current=null)}}switch(p&1038){case 2:$i(Y);Y.effectTag&=-3;break;case 6:$i(Y);Y.effectTag&=-3;aj(Y.alternate,Y);break;case 1024:Y.effectTag&=-1025;break;case 1028:Y.effectTag&=-1025;aj(Y.alternate,\nY);break;case 4:aj(Y.alternate,Y);break;case 8:l=Y,Xi(g,l,h),Yi(l)}Y=Y.nextEffect}}catch(Db){if(null===Y)throw Error(u(330));Ri(Y,Db);Y=Y.nextEffect}while(null!==Y);v=me;t=fe();p=v.focusedElem;h=v.selectionRange;if(t!==p&&p&&p.ownerDocument&&ee(p.ownerDocument.documentElement,p)){null!==h&&ge(p)&&(t=h.start,v=h.end,void 0===v&&(v=t),\"selectionStart\"in p?(p.selectionStart=t,p.selectionEnd=Math.min(v,p.value.length)):(v=(t=p.ownerDocument||document)&&t.defaultView||window,v.getSelection&&(v=v.getSelection(),\nl=p.textContent.length,g=Math.min(h.start,l),h=void 0===h.end?g:Math.min(h.end,l),!v.extend&&g>h&&(l=h,h=g,g=l),l=de(p,g),m=de(p,h),l&&m&&(1!==v.rangeCount||v.anchorNode!==l.node||v.anchorOffset!==l.offset||v.focusNode!==m.node||v.focusOffset!==m.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),v.removeAllRanges(),g>h?(v.addRange(t),v.extend(m.node,m.offset)):(t.setEnd(m.node,m.offset),v.addRange(t))))));t=[];for(v=p;v=v.parentNode;)1===v.nodeType&&t.push({element:v,left:v.scrollLeft,top:v.scrollTop});\n\"function\"===typeof p.focus&&p.focus();for(p=0;p<t.length;p++)v=t[p],v.element.scrollLeft=v.left,v.element.scrollTop=v.top}me=null;Ld=!!le;le=null;a.current=c;Y=e;do try{for(p=d;null!==Y;){var Dh=Y.effectTag;if(Dh&36){var dc=Y.alternate;t=Y;v=p;switch(t.tag){case 0:case 11:case 15:Ui(16,32,t);break;case 1:var fd=t.stateNode;if(t.effectTag&4)if(null===dc)fd.componentDidMount();else{var hk=t.elementType===t.type?dc.memoizedProps:mg(t.type,dc.memoizedProps);fd.componentDidUpdate(hk,dc.memoizedState,\nfd.__reactInternalSnapshotBeforeUpdate)}var Eh=t.updateQueue;null!==Eh&&Kg(t,Eh,fd,v);break;case 3:var Fh=t.updateQueue;if(null!==Fh){g=null;if(null!==t.child)switch(t.child.tag){case 5:g=t.child.stateNode;break;case 1:g=t.child.stateNode}Kg(t,Fh,g,v)}break;case 5:var xk=t.stateNode;null===dc&&t.effectTag&4&&ne(t.type,t.memoizedProps)&&xk.focus();break;case 6:break;case 4:break;case 12:break;case 13:if(null===t.memoizedState){var Di=t.alternate;if(null!==Di){var Ei=Di.memoizedState;if(null!==Ei){var Fi=\nEi.dehydrated;null!==Fi&&Lc(Fi)}}}break;case 19:case 17:case 20:case 21:break;default:throw Error(u(163));}}if(Dh&128){t=void 0;var xd=Y.ref;if(null!==xd){var Gi=Y.stateNode;switch(Y.tag){case 5:t=Gi;break;default:t=Gi}\"function\"===typeof xd?xd(t):xd.current=t}}Y=Y.nextEffect}}catch(Db){if(null===Y)throw Error(u(330));Ri(Y,Db);Y=Y.nextEffect}while(null!==Y);Y=null;Yf();T=f}else a.current=c;if(Dj)Dj=!1,Ej=a,Fj=b;else for(Y=e;null!==Y;)b=Y.nextEffect,Y.nextEffect=null,Y=b;b=a.firstPendingTime;0===b&&\n(jj=null);1073741823===b?a===Ij?Hj++:(Hj=0,Ij=a):Hj=0;\"function\"===typeof kk&&kk(c.stateNode,d);Z(a);if(gj)throw gj=!1,a=hj,hj=null,a;if((T&nj)!==S)return null;jg();return null}function jk(){for(;null!==Y;){var a=Y.effectTag;0!==(a&256)&&Ti(Y.alternate,Y);0===(a&512)||Dj||(Dj=!0,gg(97,function(){Sj();return null}));Y=Y.nextEffect}}function Sj(){if(90!==Fj){var a=97<Fj?97:Fj;Fj=90;return fg(a,lk)}}\nfunction lk(){if(null===Ej)return!1;var a=Ej;Ej=null;if((T&(oj|pj))!==S)throw Error(u(331));var b=T;T|=pj;for(a=a.current.firstEffect;null!==a;){try{var c=a;if(0!==(c.effectTag&512))switch(c.tag){case 0:case 11:case 15:Ui(128,0,c),Ui(0,64,c)}}catch(d){if(null===a)throw Error(u(330));Ri(a,d)}c=a.nextEffect;a.nextEffect=null;a=c}T=b;jg();return!0}function mk(a,b,c){b=Ni(c,b);b=fj(a,b,1073741823);Dg(a,b);a=Kj(a,1073741823);null!==a&&Z(a)}\nfunction Ri(a,b){if(3===a.tag)mk(a,a,b);else for(var c=a.return;null!==c;){if(3===c.tag){mk(c,a,b);break}else if(1===c.tag){var d=c.stateNode;if(\"function\"===typeof c.type.getDerivedStateFromError||\"function\"===typeof d.componentDidCatch&&(null===jj||!jj.has(d))){a=Ni(b,a);a=ij(c,a,1073741823);Dg(c,a);c=Kj(c,1073741823);null!==c&&Z(c);break}}c=c.return}}\nfunction dk(a,b,c){var d=a.pingCache;null!==d&&d.delete(b);U===a&&W===c?X===uj||X===tj&&1073741823===xj&&cg()-bj<Cj?Tj(a,W):Bj=!0:Pj(a,c)&&(b=a.lastPingedTime,0!==b&&b<c||(a.lastPingedTime=c,a.finishedExpirationTime===c&&(a.finishedExpirationTime=0,a.finishedWork=null),Z(a)))}function dj(a,b){var c=a.stateNode;null!==c&&c.delete(b);b=0;0===b&&(b=Pg(),b=Qg(b,a,null));a=Kj(a,b);null!==a&&Z(a)}var gk;\ngk=function(a,b,c){var d=b.expirationTime;if(null!==a){var e=b.pendingProps;if(a.memoizedProps!==e||K.current)wg=!0;else{if(d<c){wg=!1;switch(b.tag){case 3:wi(b);li();break;case 5:oh(b);if(b.mode&4&&1!==c&&e.hidden)return b.expirationTime=b.childExpirationTime=1,null;break;case 1:L(b.type)&&Jf(b);break;case 4:mh(b,b.stateNode.containerInfo);break;case 10:sg(b,b.memoizedProps.value);break;case 13:if(null!==b.memoizedState){d=b.child.childExpirationTime;if(0!==d&&d>=c)return yi(a,b,c);I(M,M.current&\n1,b);b=oi(a,b,c);return null!==b?b.sibling:null}I(M,M.current&1,b);break;case 19:d=b.childExpirationTime>=c;if(0!==(a.effectTag&64)){if(d)return Bi(a,b,c);b.effectTag|=64}e=b.memoizedState;null!==e&&(e.rendering=null,e.tail=null);I(M,M.current,b);if(!d)return null}return oi(a,b,c)}wg=!1}}else wg=!1;b.expirationTime=0;switch(b.tag){case 2:d=b.type;null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2);a=b.pendingProps;e=Ef(b,J.current);vg(b,c);e=Ih(null,b,d,a,e,c);b.effectTag|=1;if(\"object\"===\ntypeof e&&null!==e&&\"function\"===typeof e.render&&void 0===e.$$typeof){b.tag=1;Mh();if(L(d)){var f=!0;Jf(b)}else f=!1;b.memoizedState=null!==e.state&&void 0!==e.state?e.state:null;var g=d.getDerivedStateFromProps;\"function\"===typeof g&&Og(b,d,g,a);e.updater=Sg;b.stateNode=e;e._reactInternalFiber=b;Wg(b,d,a,c);b=vi(null,b,d,!0,f,c)}else b.tag=0,R(null,b,e,c),b=b.child;return b;case 16:e=b.elementType;null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2);a=b.pendingProps;Va(e);if(1!==e._status)throw e._result;\ne=e._result;b.type=e;f=b.tag=nk(e);a=mg(e,a);switch(f){case 0:b=si(null,b,e,a,c);break;case 1:b=ui(null,b,e,a,c);break;case 11:b=ni(null,b,e,a,c);break;case 14:b=pi(null,b,e,mg(e.type,a),d,c);break;default:throw Error(u(306,e,\"\"));}return b;case 0:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:mg(d,e),si(a,b,d,e,c);case 1:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:mg(d,e),ui(a,b,d,e,c);case 3:wi(b);d=b.updateQueue;if(null===d)throw Error(u(282));e=b.memoizedState;e=null!==e?e.element:\nnull;Hg(b,d,b.pendingProps,null,c);d=b.memoizedState.element;if(d===e)li(),b=oi(a,b,c);else{if(e=b.stateNode.hydrate)di=re(b.stateNode.containerInfo.firstChild),ci=b,e=ei=!0;if(e)for(c=gh(b,null,d,c),b.child=c;c;)c.effectTag=c.effectTag&-3|1024,c=c.sibling;else R(a,b,d,c),li();b=b.child}return b;case 5:return oh(b),null===a&&ii(b),d=b.type,e=b.pendingProps,f=null!==a?a.memoizedProps:null,g=e.children,oe(d,e)?g=null:null!==f&&oe(d,f)&&(b.effectTag|=16),ti(a,b),b.mode&4&&1!==c&&e.hidden?(b.expirationTime=\nb.childExpirationTime=1,b=null):(R(a,b,g,c),b=b.child),b;case 6:return null===a&&ii(b),null;case 13:return yi(a,b,c);case 4:return mh(b,b.stateNode.containerInfo),d=b.pendingProps,null===a?b.child=fh(b,null,d,c):R(a,b,d,c),b.child;case 11:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:mg(d,e),ni(a,b,d,e,c);case 7:return R(a,b,b.pendingProps,c),b.child;case 8:return R(a,b,b.pendingProps.children,c),b.child;case 12:return R(a,b,b.pendingProps.children,c),b.child;case 10:a:{d=b.type._context;\ne=b.pendingProps;g=b.memoizedProps;f=e.value;sg(b,f);if(null!==g){var h=g.value;f=of(h,f)?0:(\"function\"===typeof d._calculateChangedBits?d._calculateChangedBits(h,f):1073741823)|0;if(0===f){if(g.children===e.children&&!K.current){b=oi(a,b,c);break a}}else for(h=b.child,null!==h&&(h.return=b);null!==h;){var k=h.dependencies;if(null!==k){g=h.child;for(var l=k.firstContext;null!==l;){if(l.context===d&&0!==(l.observedBits&f)){1===h.tag&&(l=Bg(c,null),l.tag=2,Dg(h,l));h.expirationTime<c&&(h.expirationTime=\nc);l=h.alternate;null!==l&&l.expirationTime<c&&(l.expirationTime=c);ug(h.return,c);k.expirationTime<c&&(k.expirationTime=c);break}l=l.next}}else g=10===h.tag?h.type===b.type?null:h.child:h.child;if(null!==g)g.return=h;else for(g=h;null!==g;){if(g===b){g=null;break}h=g.sibling;if(null!==h){h.return=g.return;g=h;break}g=g.return}h=g}}R(a,b,e.children,c);b=b.child}return b;case 9:return e=b.type,f=b.pendingProps,d=f.children,vg(b,c),e=xg(e,f.unstable_observedBits),d=d(e),b.effectTag|=1,R(a,b,d,c),b.child;\ncase 14:return e=b.type,f=mg(e,b.pendingProps),f=mg(e.type,f),pi(a,b,e,f,d,c);case 15:return ri(a,b,b.type,b.pendingProps,d,c);case 17:return d=b.type,e=b.pendingProps,e=b.elementType===d?e:mg(d,e),null!==a&&(a.alternate=null,b.alternate=null,b.effectTag|=2),b.tag=1,L(d)?(a=!0,Jf(b)):a=!1,vg(b,c),Ug(b,d,e,c),Wg(b,d,e,c),vi(null,b,d,!0,a,c);case 19:return Bi(a,b,c)}throw Error(u(156,b.tag));};var kk=null,Wi=null;\nfunction ok(a){if(\"undefined\"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var b=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(b.isDisabled||!b.supportsFiber)return!0;try{var c=b.inject(a);kk=function(a){try{b.onCommitFiberRoot(c,a,void 0,64===(a.current.effectTag&64))}catch(e){}};Wi=function(a){try{b.onCommitFiberUnmount(c,a)}catch(e){}}}catch(d){}return!0}\nfunction pk(a,b,c,d){this.tag=a;this.key=c;this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null;this.index=0;this.ref=null;this.pendingProps=b;this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null;this.mode=d;this.effectTag=0;this.lastEffect=this.firstEffect=this.nextEffect=null;this.childExpirationTime=this.expirationTime=0;this.alternate=null}function gi(a,b,c,d){return new pk(a,b,c,d)}\nfunction qi(a){a=a.prototype;return!(!a||!a.isReactComponent)}function nk(a){if(\"function\"===typeof a)return qi(a)?1:0;if(void 0!==a&&null!==a){a=a.$$typeof;if(a===Oa)return 11;if(a===Ra)return 14}return 2}\nfunction ah(a,b){var c=a.alternate;null===c?(c=gi(a.tag,b,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=b,c.effectTag=0,c.nextEffect=null,c.firstEffect=null,c.lastEffect=null);c.childExpirationTime=a.childExpirationTime;c.expirationTime=a.expirationTime;c.child=a.child;c.memoizedProps=a.memoizedProps;c.memoizedState=a.memoizedState;c.updateQueue=a.updateQueue;b=a.dependencies;c.dependencies=null===b?null:{expirationTime:b.expirationTime,\nfirstContext:b.firstContext,responders:b.responders};c.sibling=a.sibling;c.index=a.index;c.ref=a.ref;return c}\nfunction ch(a,b,c,d,e,f){var g=2;d=a;if(\"function\"===typeof a)qi(a)&&(g=1);else if(\"string\"===typeof a)g=5;else a:switch(a){case Ia:return eh(c.children,e,f,b);case Na:g=8;e|=7;break;case Ja:g=8;e|=1;break;case Ka:return a=gi(12,c,b,e|8),a.elementType=Ka,a.type=Ka,a.expirationTime=f,a;case Pa:return a=gi(13,c,b,e),a.type=Pa,a.elementType=Pa,a.expirationTime=f,a;case Qa:return a=gi(19,c,b,e),a.elementType=Qa,a.expirationTime=f,a;default:if(\"object\"===typeof a&&null!==a)switch(a.$$typeof){case La:g=\n10;break a;case Ma:g=9;break a;case Oa:g=11;break a;case Ra:g=14;break a;case Sa:g=16;d=null;break a}throw Error(u(130,null==a?a:typeof a,\"\"));}b=gi(g,c,b,e);b.elementType=a;b.type=d;b.expirationTime=f;return b}function eh(a,b,c,d){a=gi(7,a,d,b);a.expirationTime=c;return a}function bh(a,b,c){a=gi(6,a,null,b);a.expirationTime=c;return a}\nfunction dh(a,b,c){b=gi(4,null!==a.children?a.children:[],a.key,b);b.expirationTime=c;b.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation};return b}\nfunction qk(a,b,c){this.tag=b;this.current=null;this.containerInfo=a;this.pingCache=this.pendingChildren=null;this.finishedExpirationTime=0;this.finishedWork=null;this.timeoutHandle=-1;this.pendingContext=this.context=null;this.hydrate=c;this.callbackNode=null;this.callbackPriority=90;this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}\nfunction Pj(a,b){var c=a.firstSuspendedTime;a=a.lastSuspendedTime;return 0!==c&&c>=b&&a<=b}function Mj(a,b){var c=a.firstSuspendedTime,d=a.lastSuspendedTime;c<b&&(a.firstSuspendedTime=b);if(d>b||0===c)a.lastSuspendedTime=b;b<=a.lastPingedTime&&(a.lastPingedTime=0);b<=a.lastExpiredTime&&(a.lastExpiredTime=0)}\nfunction Nj(a,b){b>a.firstPendingTime&&(a.firstPendingTime=b);var c=a.firstSuspendedTime;0!==c&&(b>=c?a.firstSuspendedTime=a.lastSuspendedTime=a.nextKnownPendingLevel=0:b>=a.lastSuspendedTime&&(a.lastSuspendedTime=b+1),b>a.nextKnownPendingLevel&&(a.nextKnownPendingLevel=b))}function Rj(a,b){var c=a.lastExpiredTime;if(0===c||c>b)a.lastExpiredTime=b}\nfunction rk(a,b,c,d){var e=b.current,f=Pg(),g=Mg.suspense;f=Qg(f,e,g);a:if(c){c=c._reactInternalFiber;b:{if(ec(c)!==c||1!==c.tag)throw Error(u(170));var h=c;do{switch(h.tag){case 3:h=h.stateNode.context;break b;case 1:if(L(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break b}}h=h.return}while(null!==h);throw Error(u(171));}if(1===c.tag){var k=c.type;if(L(k)){c=If(c,k,h);break a}}c=h}else c=Cf;null===b.context?b.context=c:b.pendingContext=c;b=Bg(f,g);b.payload={element:a};d=void 0===\nd?null:d;null!==d&&(b.callback=d);Dg(e,b);Rg(e,f);return f}function sk(a){a=a.current;if(!a.child)return null;switch(a.child.tag){case 5:return a.child.stateNode;default:return a.child.stateNode}}function tk(a,b){a=a.memoizedState;null!==a&&null!==a.dehydrated&&a.retryTime<b&&(a.retryTime=b)}function uk(a,b){tk(a,b);(a=a.alternate)&&tk(a,b)}\nfunction vk(a,b,c){c=null!=c&&!0===c.hydrate;var d=new qk(a,b,c),e=gi(3,null,null,2===b?7:1===b?3:0);d.current=e;e.stateNode=d;a[we]=d.current;c&&0!==b&&wc(9===a.nodeType?a:a.ownerDocument);this._internalRoot=d}vk.prototype.render=function(a,b){rk(a,this._internalRoot,null,void 0===b?null:b)};vk.prototype.unmount=function(a){var b=this._internalRoot,c=void 0===a?null:a,d=b.containerInfo;rk(null,b,null,function(){d[we]=null;null!==c&&c()})};\nfunction wk(a){return!(!a||1!==a.nodeType&&9!==a.nodeType&&11!==a.nodeType&&(8!==a.nodeType||\" react-mount-point-unstable \"!==a.nodeValue))}function yk(a,b){b||(b=a?9===a.nodeType?a.documentElement:a.firstChild:null,b=!(!b||1!==b.nodeType||!b.hasAttribute(\"data-reactroot\")));if(!b)for(var c;c=a.lastChild;)a.removeChild(c);return new vk(a,0,b?{hydrate:!0}:void 0)}\nfunction zk(a,b,c,d,e){var f=c._reactRootContainer;if(f){var g=f._internalRoot;if(\"function\"===typeof e){var h=e;e=function(){var a=sk(g);h.call(a)}}rk(b,g,a,e)}else{f=c._reactRootContainer=yk(c,d);g=f._internalRoot;if(\"function\"===typeof e){var k=e;e=function(){var a=sk(g);k.call(a)}}ck(function(){rk(b,g,a,e)})}return sk(g)}function Ak(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Ha,key:null==d?null:\"\"+d,children:a,containerInfo:b,implementation:c}}\njc=function(a){if(13===a.tag){var b=lg(Pg(),150,100);Rg(a,b);uk(a,b)}};kc=function(a){if(13===a.tag){Pg();var b=kg++;Rg(a,b);uk(a,b)}};lc=function(a){if(13===a.tag){var b=Pg();b=Qg(b,a,null);Rg(a,b);uk(a,b)}};\nZa=function(a,b,c){switch(b){case \"input\":Eb(a,c);b=c.name;if(\"radio\"===c.type&&null!=b){for(c=a;c.parentNode;)c=c.parentNode;c=c.querySelectorAll(\"input[name=\"+JSON.stringify(\"\"+b)+'][type=\"radio\"]');for(b=0;b<c.length;b++){var d=c[b];if(d!==a&&d.form===a.form){var e=ye(d);if(!e)throw Error(u(90));zb(d);Eb(d,e)}}}break;case \"textarea\":Mb(a,c);break;case \"select\":b=c.value,null!=b&&Jb(a,!!c.multiple,b,!1)}};eb=bk;\nfb=function(a,b,c,d){var e=T;T|=4;try{return fg(98,a.bind(null,b,c,d))}finally{T=e,T===S&&jg()}};gb=function(){(T&(1|oj|pj))===S&&(ak(),Sj())};hb=function(a,b){var c=T;T|=2;try{return a(b)}finally{T=c,T===S&&jg()}};function Bk(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!wk(b))throw Error(u(200));return Ak(a,b,null,c)}\nvar Ck={createPortal:Bk,findDOMNode:function(a){if(null==a)return null;if(1===a.nodeType)return a;var b=a._reactInternalFiber;if(void 0===b){if(\"function\"===typeof a.render)throw Error(u(188));throw Error(u(268,Object.keys(a)));}a=ic(b);a=null===a?null:a.stateNode;return a},hydrate:function(a,b,c){if(!wk(b))throw Error(u(200));return zk(null,a,b,!0,c)},render:function(a,b,c){if(!wk(b))throw Error(u(200));return zk(null,a,b,!1,c)},unstable_renderSubtreeIntoContainer:function(a,b,c,d){if(!wk(c))throw Error(u(200));\nif(null==a||void 0===a._reactInternalFiber)throw Error(u(38));return zk(a,b,c,!1,d)},unmountComponentAtNode:function(a){if(!wk(a))throw Error(u(40));return a._reactRootContainer?(ck(function(){zk(null,null,a,!1,function(){a._reactRootContainer=null;a[we]=null})}),!0):!1},unstable_createPortal:function(){return Bk.apply(void 0,arguments)},unstable_batchedUpdates:bk,flushSync:function(a,b){if((T&(oj|pj))!==S)throw Error(u(187));var c=T;T|=1;try{return fg(99,a.bind(null,b))}finally{T=c,jg()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[Cc,\nxe,ye,Ca.injectEventPluginsByName,fa,Sc,function(a){ya(a,Rc)},cb,db,Pd,Ba,Sj,{current:!1}]}};\n(function(a){var b=a.findFiberByHostInstance;return ok(n({},a,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ea.ReactCurrentDispatcher,findHostInstanceByFiber:function(a){a=ic(a);return null===a?null:a.stateNode},findFiberByHostInstance:function(a){return b?b(a):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))})({findFiberByHostInstance:Fc,bundleType:0,version:\"16.12.0\",\nrendererPackageName:\"react-dom\"});var Dk={default:Ck},Ek=Dk&&Ck||Dk;module.exports=Ek.default||Ek;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/scheduler.production.min.js');\n} else {\n  module.exports = require('./cjs/scheduler.development.js');\n}\n","/** @license React v0.18.0\n * scheduler.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:!0});var f,g,h,k,l;\nif(\"undefined\"===typeof window||\"function\"!==typeof MessageChannel){var p=null,q=null,t=function(){if(null!==p)try{var a=exports.unstable_now();p(!0,a);p=null}catch(b){throw setTimeout(t,0),b;}},u=Date.now();exports.unstable_now=function(){return Date.now()-u};f=function(a){null!==p?setTimeout(f,0,a):(p=a,setTimeout(t,0))};g=function(a,b){q=setTimeout(a,b)};h=function(){clearTimeout(q)};k=function(){return!1};l=exports.unstable_forceFrameRate=function(){}}else{var w=window.performance,x=window.Date,\ny=window.setTimeout,z=window.clearTimeout;if(\"undefined\"!==typeof console){var A=window.cancelAnimationFrame;\"function\"!==typeof window.requestAnimationFrame&&console.error(\"This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills\");\"function\"!==typeof A&&console.error(\"This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills\")}if(\"object\"===\ntypeof w&&\"function\"===typeof w.now)exports.unstable_now=function(){return w.now()};else{var B=x.now();exports.unstable_now=function(){return x.now()-B}}var C=!1,D=null,E=-1,F=5,G=0;k=function(){return exports.unstable_now()>=G};l=function(){};exports.unstable_forceFrameRate=function(a){0>a||125<a?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported\"):F=0<a?Math.floor(1E3/a):5};var H=new MessageChannel,I=H.port2;H.port1.onmessage=\nfunction(){if(null!==D){var a=exports.unstable_now();G=a+F;try{D(!0,a)?I.postMessage(null):(C=!1,D=null)}catch(b){throw I.postMessage(null),b;}}else C=!1};f=function(a){D=a;C||(C=!0,I.postMessage(null))};g=function(a,b){E=y(function(){a(exports.unstable_now())},b)};h=function(){z(E);E=-1}}function J(a,b){var c=a.length;a.push(b);a:for(;;){var d=Math.floor((c-1)/2),e=a[d];if(void 0!==e&&0<K(e,b))a[d]=b,a[c]=e,c=d;else break a}}function L(a){a=a[0];return void 0===a?null:a}\nfunction M(a){var b=a[0];if(void 0!==b){var c=a.pop();if(c!==b){a[0]=c;a:for(var d=0,e=a.length;d<e;){var m=2*(d+1)-1,n=a[m],v=m+1,r=a[v];if(void 0!==n&&0>K(n,c))void 0!==r&&0>K(r,n)?(a[d]=r,a[v]=c,d=v):(a[d]=n,a[m]=c,d=m);else if(void 0!==r&&0>K(r,c))a[d]=r,a[v]=c,d=v;else break a}}return b}return null}function K(a,b){var c=a.sortIndex-b.sortIndex;return 0!==c?c:a.id-b.id}var N=[],O=[],P=1,Q=null,R=3,S=!1,T=!1,U=!1;\nfunction V(a){for(var b=L(O);null!==b;){if(null===b.callback)M(O);else if(b.startTime<=a)M(O),b.sortIndex=b.expirationTime,J(N,b);else break;b=L(O)}}function W(a){U=!1;V(a);if(!T)if(null!==L(N))T=!0,f(X);else{var b=L(O);null!==b&&g(W,b.startTime-a)}}\nfunction X(a,b){T=!1;U&&(U=!1,h());S=!0;var c=R;try{V(b);for(Q=L(N);null!==Q&&(!(Q.expirationTime>b)||a&&!k());){var d=Q.callback;if(null!==d){Q.callback=null;R=Q.priorityLevel;var e=d(Q.expirationTime<=b);b=exports.unstable_now();\"function\"===typeof e?Q.callback=e:Q===L(N)&&M(N);V(b)}else M(N);Q=L(N)}if(null!==Q)var m=!0;else{var n=L(O);null!==n&&g(W,n.startTime-b);m=!1}return m}finally{Q=null,R=c,S=!1}}\nfunction Y(a){switch(a){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1E4;default:return 5E3}}var Z=l;exports.unstable_ImmediatePriority=1;exports.unstable_UserBlockingPriority=2;exports.unstable_NormalPriority=3;exports.unstable_IdlePriority=5;exports.unstable_LowPriority=4;exports.unstable_runWithPriority=function(a,b){switch(a){case 1:case 2:case 3:case 4:case 5:break;default:a=3}var c=R;R=a;try{return b()}finally{R=c}};\nexports.unstable_next=function(a){switch(R){case 1:case 2:case 3:var b=3;break;default:b=R}var c=R;R=b;try{return a()}finally{R=c}};\nexports.unstable_scheduleCallback=function(a,b,c){var d=exports.unstable_now();if(\"object\"===typeof c&&null!==c){var e=c.delay;e=\"number\"===typeof e&&0<e?d+e:d;c=\"number\"===typeof c.timeout?c.timeout:Y(a)}else c=Y(a),e=d;c=e+c;a={id:P++,callback:b,priorityLevel:a,startTime:e,expirationTime:c,sortIndex:-1};e>d?(a.sortIndex=e,J(O,a),null===L(N)&&a===L(O)&&(U?h():U=!0,g(W,e-d))):(a.sortIndex=c,J(N,a),T||S||(T=!0,f(X)));return a};exports.unstable_cancelCallback=function(a){a.callback=null};\nexports.unstable_wrapCallback=function(a){var b=R;return function(){var c=R;R=b;try{return a.apply(this,arguments)}finally{R=c}}};exports.unstable_getCurrentPriorityLevel=function(){return R};exports.unstable_shouldYield=function(){var a=exports.unstable_now();V(a);var b=L(N);return b!==Q&&null!==Q&&null!==b&&null!==b.callback&&b.startTime<=a&&b.expirationTime<Q.expirationTime||k()};exports.unstable_requestPaint=Z;exports.unstable_continueExecution=function(){T||S||(T=!0,f(X))};\nexports.unstable_pauseExecution=function(){};exports.unstable_getFirstCallbackNode=function(){return L(N)};exports.unstable_Profiling=null;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/** @license React v16.12.0\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';Object.defineProperty(exports,\"__esModule\",{value:!0});\nvar b=\"function\"===typeof Symbol&&Symbol.for,c=b?Symbol.for(\"react.element\"):60103,d=b?Symbol.for(\"react.portal\"):60106,e=b?Symbol.for(\"react.fragment\"):60107,f=b?Symbol.for(\"react.strict_mode\"):60108,g=b?Symbol.for(\"react.profiler\"):60114,h=b?Symbol.for(\"react.provider\"):60109,k=b?Symbol.for(\"react.context\"):60110,l=b?Symbol.for(\"react.async_mode\"):60111,m=b?Symbol.for(\"react.concurrent_mode\"):60111,n=b?Symbol.for(\"react.forward_ref\"):60112,p=b?Symbol.for(\"react.suspense\"):60113,q=b?Symbol.for(\"react.suspense_list\"):\n60120,r=b?Symbol.for(\"react.memo\"):60115,t=b?Symbol.for(\"react.lazy\"):60116,v=b?Symbol.for(\"react.fundamental\"):60117,w=b?Symbol.for(\"react.responder\"):60118,x=b?Symbol.for(\"react.scope\"):60119;function y(a){if(\"object\"===typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type,a){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function z(a){return y(a)===m}\nexports.typeOf=y;exports.AsyncMode=l;exports.ConcurrentMode=m;exports.ContextConsumer=k;exports.ContextProvider=h;exports.Element=c;exports.ForwardRef=n;exports.Fragment=e;exports.Lazy=t;exports.Memo=r;exports.Portal=d;exports.Profiler=g;exports.StrictMode=f;exports.Suspense=p;\nexports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===e||a===m||a===g||a===f||a===p||a===q||\"object\"===typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===v||a.$$typeof===w||a.$$typeof===x)};exports.isAsyncMode=function(a){return z(a)||y(a)===l};exports.isConcurrentMode=z;exports.isContextConsumer=function(a){return y(a)===k};exports.isContextProvider=function(a){return y(a)===h};\nexports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===c};exports.isForwardRef=function(a){return y(a)===n};exports.isFragment=function(a){return y(a)===e};exports.isLazy=function(a){return y(a)===t};exports.isMemo=function(a){return y(a)===r};exports.isPortal=function(a){return y(a)===d};exports.isProfiler=function(a){return y(a)===g};exports.isStrictMode=function(a){return y(a)===f};exports.isSuspense=function(a){return y(a)===p};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","var World = require('../World');\nvar Body = require('../Body');\nvar Joint = require('../Joint');\nvar Shape = require('../Shape');\n\nvar SID = 0;\n\nvar CLASSES = {\n  'Body': Body,\n  'Joint': Joint,\n};\n\nexports.toJson = function(world, stringify) {\n  stringify = stringify || JSON.stringify;\n  var flat = [];\n  var queue = [world];\n  var map = {};\n\n  var store = function(value, cls) {\n    value.__sid = value.__sid || ++SID;\n    if (map[value.__sid]) {\n      return map[value.__sid];\n    }\n    queue.push(value);\n    var index = flat.length + queue.length;\n    var ref = {\n      'refIndex': index,\n      'refType': cls\n    };\n    return map[value.__sid] = ref;\n  };\n\n  while (queue.length) {\n    var obj = queue.shift();\n    var str = stringify(obj, function(key, value) {\n      if (typeof value === 'object' && value !== null) {\n        if (typeof value._serialize === 'function') {\n          if (value !== obj && value instanceof Body) {\n            value = store(value, 'Body');\n          } else if (value !== obj && value instanceof Joint) {\n            value = store(value, 'Joint');\n          } else {\n            value = value._serialize();\n          }\n        }\n      }\n      return value;\n    }, '  ');\n    flat.push(str);\n  }\n\n  var result = '[' + flat.join(',') + ']';\n  return result;\n};\n\nexports.fromJson = function(string, parse) {\n  parse = parse || JSON.parse;\n  var dump = parse(string);\n  var map = {};\n  function restore(cls, ref, ctx) {\n    if (!ref.refIndex) {\n      return cls && cls._deserialize && cls._deserialize(ref, ctx, restore);\n    }\n    var index = ref.refIndex;\n    cls = CLASSES[ref.refType] || cls;\n    if (map[index]) {\n      return map[index];\n    }\n    var data = dump[index];\n    return map[index] = cls._deserialize(data, ctx, restore);\n  }\n  var world = World._deserialize(dump[0], null, restore);\n  return world;\n};\n","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nvar Settings = require('../Settings');\nvar common = require('../util/common');\nvar Math = require('../common/Math');\nvar AABB = require('./AABB');\nvar DynamicTree = require('./DynamicTree');\n\nmodule.exports = BroadPhase;\n\n/**\n * The broad-phase wraps and extends a dynamic-tree to keep track of moved\n * objects and query them on update.\n */\nfunction BroadPhase() {\n  this.m_tree = new DynamicTree();\n  this.m_proxyCount = 0;\n  this.m_moveBuffer = [];\n  this.queryCallback = this.queryCallback.bind(this);\n};\n\n/**\n * Get user data from a proxy. Returns null if the id is invalid.\n */\nBroadPhase.prototype.getUserData = function(proxyId) {\n  return this.m_tree.getUserData(proxyId);\n}\n\n/**\n * Test overlap of fat AABBs.\n */\nBroadPhase.prototype.testOverlap = function(proxyIdA, proxyIdB) {\n  var aabbA = this.m_tree.getFatAABB(proxyIdA);\n  var aabbB = this.m_tree.getFatAABB(proxyIdB);\n  return AABB.testOverlap(aabbA, aabbB);\n}\n\n/**\n * Get the fat AABB for a proxy.\n */\nBroadPhase.prototype.getFatAABB = function(proxyId) {\n  return this.m_tree.getFatAABB(proxyId);\n}\n\n/**\n * Get the number of proxies.\n */\nBroadPhase.prototype.getProxyCount = function() {\n  return this.m_proxyCount;\n}\n\n/**\n * Get the height of the embedded tree.\n */\nBroadPhase.prototype.getTreeHeight = function() {\n  return this.m_tree.getHeight();\n}\n\n/**\n * Get the balance (integer) of the embedded tree.\n */\nBroadPhase.prototype.getTreeBalance = function() {\n  return this.m_tree.getMaxBalance();\n}\n\n/**\n * Get the quality metric of the embedded tree.\n */\nBroadPhase.prototype.getTreeQuality = function() {\n  return this.m_tree.getAreaRatio();\n}\n\n/**\n * Query an AABB for overlapping proxies. The callback class is called for each\n * proxy that overlaps the supplied AABB.\n */\nBroadPhase.prototype.query = function(aabb, queryCallback) {\n  this.m_tree.query(aabb, queryCallback);\n}\n\n/**\n * Ray-cast against the proxies in the tree. This relies on the callback to\n * perform a exact ray-cast in the case were the proxy contains a shape. The\n * callback also performs the any collision filtering. This has performance\n * roughly equal to k * log(n), where k is the number of collisions and n is the\n * number of proxies in the tree.\n * \n * @param input The ray-cast input data. The ray extends from p1 to p1 +\n *          maxFraction * (p2 - p1).\n * @param rayCastCallback A function that is called for each proxy that is hit by\n *          the ray.\n */\nBroadPhase.prototype.rayCast = function(input, rayCastCallback) {\n  this.m_tree.rayCast(input, rayCastCallback);\n}\n\n/**\n * Shift the world origin. Useful for large worlds. The shift formula is:\n * position -= newOrigin\n * \n * @param newOrigin The new origin with respect to the old origin\n */\nBroadPhase.prototype.shiftOrigin = function(newOrigin) {\n  this.m_tree.shiftOrigin(newOrigin);\n}\n\n/**\n * Create a proxy with an initial AABB. Pairs are not reported until UpdatePairs\n * is called.\n */\nBroadPhase.prototype.createProxy = function(aabb, userData) {\n  _ASSERT && common.assert(AABB.isValid(aabb));\n  var proxyId = this.m_tree.createProxy(aabb, userData);\n  this.m_proxyCount++;\n  this.bufferMove(proxyId);\n  return proxyId;\n}\n\n/**\n * Destroy a proxy. It is up to the client to remove any pairs.\n */\nBroadPhase.prototype.destroyProxy = function(proxyId) {\n  this.unbufferMove(proxyId);\n  this.m_proxyCount--;\n  this.m_tree.destroyProxy(proxyId);\n}\n\n/**\n * Call moveProxy as many times as you like, then when you are done call\n * UpdatePairs to finalized the proxy pairs (for your time step).\n */\nBroadPhase.prototype.moveProxy = function(proxyId, aabb, displacement) {\n  _ASSERT && common.assert(AABB.isValid(aabb));\n  var changed = this.m_tree.moveProxy(proxyId, aabb, displacement);\n  if (changed) {\n    this.bufferMove(proxyId);\n  }\n}\n\n/**\n * Call to trigger a re-processing of it's pairs on the next call to\n * UpdatePairs.\n */\nBroadPhase.prototype.touchProxy = function(proxyId) {\n  this.bufferMove(proxyId);\n}\n\nBroadPhase.prototype.bufferMove = function(proxyId) {\n  this.m_moveBuffer.push(proxyId);\n}\n\nBroadPhase.prototype.unbufferMove = function(proxyId) {\n  for (var i = 0; i < this.m_moveBuffer.length; ++i) {\n    if (this.m_moveBuffer[i] == proxyId) {\n      this.m_moveBuffer[i] = null;\n    }\n  }\n}\n\n/**\n * @function BroadPhase~addPair\n * @param {Object} userDataA\n * @param {Object} userDataB\n */\n\n/**\n * Update the pairs. This results in pair callbacks. This can only add pairs.\n * \n * @param {BroadPhase~AddPair} addPairCallback\n */\nBroadPhase.prototype.updatePairs = function(addPairCallback) {\n  _ASSERT && common.assert(typeof addPairCallback === 'function');\n  this.m_callback = addPairCallback;\n\n  // Perform tree queries for all moving proxies.\n  while (this.m_moveBuffer.length > 0) {\n    this.m_queryProxyId = this.m_moveBuffer.pop();\n    if (this.m_queryProxyId === null) {\n      continue;\n    }\n\n    // We have to query the tree with the fat AABB so that\n    // we don't fail to create a pair that may touch later.\n    var fatAABB = this.m_tree.getFatAABB(this.m_queryProxyId);\n\n    // Query tree, create pairs and add them pair buffer.\n    this.m_tree.query(fatAABB, this.queryCallback);\n  }\n\n  // Try to keep the tree balanced.\n  // this.m_tree.rebalance(4);\n}\n\nBroadPhase.prototype.queryCallback = function(proxyId) {\n  // A proxy cannot form a pair with itself.\n  if (proxyId == this.m_queryProxyId) {\n    return true;\n  }\n\n  var proxyIdA = Math.min(proxyId, this.m_queryProxyId);\n  var proxyIdB = Math.max(proxyId, this.m_queryProxyId);\n\n  // TODO: Skip any duplicate pairs.\n\n  var userDataA = this.m_tree.getUserData(proxyIdA);\n  var userDataB = this.m_tree.getUserData(proxyIdB);\n\n  // Send the pairs back to the client.\n  this.m_callback(userDataA, userDataB);\n\n  return true;\n}\n","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nmodule.exports = Pool;\n\nfunction Pool(opts) {\n  var _list = [];\n  var _max = opts.max || Infinity;\n\n  var _createFn = opts.create;\n  var _outFn = opts.allocate;\n  var _inFn = opts.release;\n  var _discardFn = opts.discard;\n\n  var _createCount = 0;\n  var _outCount = 0;\n  var _inCount = 0;\n  var _discardCount = 0;\n\n  this.max = function(n) {\n    if (typeof n === 'number') {\n      _max = n;\n      return this;\n    }\n    return _max;\n  };\n\n  this.size = function() {\n    return _list.length;\n  };\n\n  this.allocate = function() {\n    var item;\n    if (_list.length > 0) {\n      item = _list.shift();\n    } else {\n      _createCount++;\n      if (typeof _createFn === 'function') {\n        item = _createFn();\n      } else {\n        item = {};\n      }\n    }\n    _outCount++;\n    if (typeof _outFn === 'function') {\n      _outFn(item);\n    }\n    return item;\n  };\n\n  this.release = function(item) {\n    if (_list.length < _max) {\n      _inCount++;\n      if (typeof _inFn === 'function') {\n        _inFn(item);\n      }\n      _list.push(item);\n    } else {\n      _discardCount++;\n      if (typeof _discardFn === 'function') {\n        item = _discardFn(item);\n      }\n    }\n  };\n\n  this.toString = function() {\n    return \" +\" + _createCount + \" >\" + _outCount + \" <\" + _inCount + \" -\"\n        + _discardCount + \" =\" + _list.length + \"/\" + _max;\n  };\n}","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nmodule.exports = Solver;\nmodule.exports.TimeStep = TimeStep;\n\nvar Settings = require('./Settings');\nvar common = require('./util/common');\n\nvar Vec2 = require('./common/Vec2');\nvar Math = require('./common/Math');\n\nvar Body = require('./Body');\nvar Contact = require('./Contact');\nvar Joint = require('./Joint');\n\nvar TimeOfImpact = require('./collision/TimeOfImpact');\nvar TOIInput = TimeOfImpact.Input;\nvar TOIOutput = TimeOfImpact.Output;\n\nvar Distance = require('./collision/Distance');\nvar DistanceInput = Distance.Input;\nvar DistanceOutput = Distance.Output;\nvar DistanceProxy = Distance.Proxy;\nvar SimplexCache = Distance.Cache;\n\nfunction TimeStep(dt) {\n  this.dt = 0; // time step\n  this.inv_dt = 0; // inverse time step (0 if dt == 0)\n  this.velocityIterations = 0;\n  this.positionIterations = 0;\n  this.warmStarting = false;\n  this.blockSolve = true;\n\n  // timestep ratio for variable timestep\n  this.inv_dt0 = 0.0;\n  this.dtRatio = 1; // dt * inv_dt0\n}\n\nTimeStep.prototype.reset = function(dt) {\n  if (this.dt > 0.0) {\n    this.inv_dt0 = this.inv_dt;\n  }\n  this.dt = dt;\n  this.inv_dt = dt == 0 ? 0 : 1 / dt;\n  this.dtRatio = dt * this.inv_dt0;\n}\n\n/**\n * Finds and solves islands. An island is a connected subset of the world.\n * \n * @param {World} world\n */\nfunction Solver(world) {\n  this.m_world = world;\n  this.m_stack = [];\n  this.m_bodies = [];\n  this.m_contacts = [];\n  this.m_joints = [];\n}\n\nSolver.prototype.clear = function() {\n  this.m_stack.length = 0;\n  this.m_bodies.length = 0;\n  this.m_contacts.length = 0;\n  this.m_joints.length = 0;\n}\n\nSolver.prototype.addBody = function(body) {\n  _ASSERT && common.assert(body instanceof Body, 'Not a Body!', body);\n  this.m_bodies.push(body);\n  // why?\n//  body.c_position.c.setZero();\n//  body.c_position.a = 0;\n//  body.c_velocity.v.setZero();\n//  body.c_velocity.w = 0;\n};\n\nSolver.prototype.addContact = function(contact) {\n  _ASSERT && common.assert(contact instanceof Contact, 'Not a Contact!', contact);\n  this.m_contacts.push(contact);\n};\n\nSolver.prototype.addJoint = function(joint) {\n  _ASSERT && common.assert(joint instanceof Joint, 'Not a Joint!', joint);\n  this.m_joints.push(joint);\n};\n\n/**\n * @param {TimeStep} step\n */\nSolver.prototype.solveWorld = function(step) {\n  var world = this.m_world;\n\n  // Clear all the island flags.\n  for (var b = world.m_bodyList; b; b = b.m_next) {\n    b.m_islandFlag = false;\n  }\n  for (var c = world.m_contactList; c; c = c.m_next) {\n    c.m_islandFlag = false;\n  }\n  for (var j = world.m_jointList; j; j = j.m_next) {\n    j.m_islandFlag = false;\n  }\n\n  // Build and simulate all awake islands.\n  var stack = this.m_stack;\n  var loop = -1;\n  for (var seed = world.m_bodyList; seed; seed = seed.m_next) {\n    loop++;\n    if (seed.m_islandFlag) {\n      continue;\n    }\n\n    if (seed.isAwake() == false || seed.isActive() == false) {\n      continue;\n    }\n\n    // The seed can be dynamic or kinematic.\n    if (seed.isStatic()) {\n      continue;\n    }\n\n    // Reset island and stack.\n    this.clear();\n\n    stack.push(seed);\n\n    seed.m_islandFlag = true;\n\n    // Perform a depth first search (DFS) on the constraint graph.\n    while (stack.length > 0) {\n      // Grab the next body off the stack and add it to the island.\n      var b = stack.pop();\n      _ASSERT && common.assert(b.isActive() == true);\n      this.addBody(b);\n\n      // Make sure the body is awake.\n      b.setAwake(true);\n\n      // To keep islands as small as possible, we don't\n      // propagate islands across static bodies.\n      if (b.isStatic()) {\n        continue;\n      }\n      \n      // Search all contacts connected to this body.\n      for (var ce = b.m_contactList; ce; ce = ce.next) {\n        var contact = ce.contact;\n\n        // Has this contact already been added to an island?\n        if (contact.m_islandFlag) {\n          continue;\n        }\n\n        // Is this contact solid and touching?\n        if (contact.isEnabled() == false || contact.isTouching() == false) {\n          continue;\n        }\n\n        // Skip sensors.\n        var sensorA = contact.m_fixtureA.m_isSensor;\n        var sensorB = contact.m_fixtureB.m_isSensor;\n        if (sensorA || sensorB) {\n          continue;\n        }\n\n        this.addContact(contact);\n        contact.m_islandFlag = true;\n\n        var other = ce.other;\n\n        // Was the other body already added to this island?\n        if (other.m_islandFlag) {\n          continue;\n        }\n\n        // _ASSERT && common.assert(stack.length < world.m_bodyCount);\n        stack.push(other);\n        other.m_islandFlag = true;\n      }\n\n      // Search all joints connect to this body.\n      for (var je = b.m_jointList; je; je = je.next) {\n        if (je.joint.m_islandFlag == true) {\n          continue;\n        }\n\n        var other = je.other;\n\n        // Don't simulate joints connected to inactive bodies.\n        if (other.isActive() == false) {\n          continue;\n        }\n\n        this.addJoint(je.joint);\n        je.joint.m_islandFlag = true;\n\n        if (other.m_islandFlag) {\n          continue;\n        }\n\n        // _ASSERT && common.assert(stack.length < world.m_bodyCount);\n        stack.push(other);\n        other.m_islandFlag = true;\n      }\n    }\n\n    this.solveIsland(step);\n\n    // Post solve cleanup.\n    for (var i = 0; i < this.m_bodies.length; ++i) {\n      // Allow static bodies to participate in other islands.\n      // TODO: are they added at all?\n      var b = this.m_bodies[i];\n      if (b.isStatic()) {\n        b.m_islandFlag = false;\n      }\n    }\n  }\n}\n\n/**\n * @param {TimeStep} step\n */\nSolver.prototype.solveIsland = function(step) {\n  // B2: Island Solve\n  var world = this.m_world;\n  var gravity = world.m_gravity;\n  var allowSleep = world.m_allowSleep;\n\n  var h = step.dt;\n\n  // Integrate velocities and apply damping. Initialize the body state.\n  for (var i = 0; i < this.m_bodies.length; ++i) {\n    var body = this.m_bodies[i];\n\n    var c = Vec2.clone(body.m_sweep.c);\n    var a = body.m_sweep.a;\n    var v = Vec2.clone(body.m_linearVelocity);\n    var w = body.m_angularVelocity;\n\n    // Store positions for continuous collision.\n    body.m_sweep.c0.set(body.m_sweep.c);\n    body.m_sweep.a0 = body.m_sweep.a;\n\n    if (body.isDynamic()) {\n      // Integrate velocities.\n      v.addMul(h * body.m_gravityScale, gravity);\n      v.addMul(h * body.m_invMass, body.m_force);\n      w += h * body.m_invI * body.m_torque;\n      /**\n       * <pre>\n       * Apply damping.\n       * ODE: dv/dt + c * v = 0\n       * Solution: v(t) = v0 * exp(-c * t)\n       * Time step: v(t + dt) = v0 * exp(-c * (t + dt)) = v0 * exp(-c * t) * exp(-c * dt) = v * exp(-c * dt)\n       * v2 = exp(-c * dt) * v1\n       * Pade approximation:\n       * v2 = v1 * 1 / (1 + c * dt)\n       * </pre>\n       */\n      v.mul(1.0 / (1.0 + h * body.m_linearDamping));\n      w *= 1.0 / (1.0 + h * body.m_angularDamping);\n    }\n\n    body.c_position.c = c;\n    body.c_position.a = a;\n    body.c_velocity.v = v;\n    body.c_velocity.w = w;\n  }\n\n  for (var i = 0; i < this.m_contacts.length; ++i) {\n    var contact = this.m_contacts[i];\n    contact.initConstraint(step);\n  }\n\n  _DEBUG && this.printBodies('M: ');\n\n  for (var i = 0; i < this.m_contacts.length; ++i) {\n    var contact = this.m_contacts[i];\n    contact.initVelocityConstraint(step);\n  }\n\n  _DEBUG && this.printBodies('R: ');\n\n  if (step.warmStarting) {\n    // Warm start.\n    for (var i = 0; i < this.m_contacts.length; ++i) {\n      var contact = this.m_contacts[i];\n      contact.warmStartConstraint(step);\n    }\n  }\n\n  _DEBUG && this.printBodies('Q: ');\n  \n  for (var i = 0; i < this.m_joints.length; ++i) {\n    var joint = this.m_joints[i];\n    joint.initVelocityConstraints(step);\n  }\n\n  _DEBUG && this.printBodies('E: ');\n\n  // Solve velocity constraints\n  for (var i = 0; i < step.velocityIterations; ++i) {\n    for (var j = 0; j < this.m_joints.length; ++j) {\n      var joint = this.m_joints[j];\n      joint.solveVelocityConstraints(step);\n    }\n\n    for (var j = 0; j < this.m_contacts.length; ++j) {\n      var contact = this.m_contacts[j];\n      contact.solveVelocityConstraint(step);\n    }\n  }\n\n  _DEBUG && this.printBodies('D: ');\n\n  // Store impulses for warm starting\n  for (var i = 0; i < this.m_contacts.length; ++i) {\n    var contact = this.m_contacts[i];\n    contact.storeConstraintImpulses(step);\n  }\n\n  _DEBUG && this.printBodies('C: ');\n\n  // Integrate positions\n  for (var i = 0; i < this.m_bodies.length; ++i) {\n    var body = this.m_bodies[i];\n\n    var c = Vec2.clone(body.c_position.c);\n    var a = body.c_position.a;\n    var v = Vec2.clone(body.c_velocity.v);\n    var w = body.c_velocity.w;\n\n    // Check for large velocities\n    var translation = Vec2.mul(h, v);\n    if (Vec2.lengthSquared(translation) > Settings.maxTranslationSquared) {\n      var ratio = Settings.maxTranslation / translation.length();\n      v.mul(ratio);\n    }\n\n    var rotation = h * w;\n    if (rotation * rotation > Settings.maxRotationSquared) {\n      var ratio = Settings.maxRotation / Math.abs(rotation);\n      w *= ratio;\n    }\n\n    // Integrate\n    c.addMul(h, v);\n    a += h * w;\n\n    body.c_position.c.set(c);\n    body.c_position.a = a;\n    body.c_velocity.v.set(v);\n    body.c_velocity.w = w;\n  }\n\n  _DEBUG && this.printBodies('B: ');\n\n  // Solve position constraints\n  var positionSolved = false;\n  for (var i = 0; i < step.positionIterations; ++i) {\n    var minSeparation = 0.0;\n    for (var j = 0; j < this.m_contacts.length; ++j) {\n      var contact = this.m_contacts[j];\n      var separation = contact.solvePositionConstraint(step);\n      minSeparation = Math.min(minSeparation, separation);\n    }\n    // We can't expect minSpeparation >= -Settings.linearSlop because we don't\n    // push the separation above -Settings.linearSlop.\n    var contactsOkay = minSeparation >= -3.0 * Settings.linearSlop;\n\n    var jointsOkay = true;\n    for (var j = 0; j < this.m_joints.length; ++j) {\n      var joint = this.m_joints[j];\n      var jointOkay = joint.solvePositionConstraints(step);\n      jointsOkay = jointsOkay && jointOkay;\n    }\n\n    if (contactsOkay && jointsOkay) {\n      // Exit early if the position errors are small.\n      positionSolved = true;\n      break;\n    }\n  }\n\n  _DEBUG && this.printBodies('L: ');\n\n  // Copy state buffers back to the bodies\n  for (var i = 0; i < this.m_bodies.length; ++i) {\n    var body = this.m_bodies[i];\n\n    body.m_sweep.c.set(body.c_position.c);\n    body.m_sweep.a = body.c_position.a;\n    body.m_linearVelocity.set(body.c_velocity.v);\n    body.m_angularVelocity = body.c_velocity.w;\n    body.synchronizeTransform();\n  }\n\n  this.postSolveIsland();\n\n  if (allowSleep) {\n    var minSleepTime = Infinity;\n\n    var linTolSqr = Settings.linearSleepToleranceSqr;\n    var angTolSqr = Settings.angularSleepToleranceSqr;\n\n    for (var i = 0; i < this.m_bodies.length; ++i) {\n      var body = this.m_bodies[i];\n      if (body.isStatic()) {\n        continue;\n      }\n\n      if ((body.m_autoSleepFlag == false)\n          || (body.m_angularVelocity * body.m_angularVelocity > angTolSqr)\n          || (Vec2.lengthSquared(body.m_linearVelocity) > linTolSqr)) {\n        body.m_sleepTime = 0.0;\n        minSleepTime = 0.0;\n      } else {\n        body.m_sleepTime += h;\n        minSleepTime = Math.min(minSleepTime, body.m_sleepTime);\n      }\n    }\n\n    if (minSleepTime >= Settings.timeToSleep && positionSolved) {\n      for (var i = 0; i < this.m_bodies.length; ++i) {\n        var body = this.m_bodies[i];\n        body.setAwake(false);\n      }\n    }\n  }\n};\n\nSolver.prototype.printBodies = function(tag) {\n  for (var i = 0; i < this.m_bodies.length; ++i) {\n    var b = this.m_bodies[i];\n    common.debug(tag, b.c_position.a, b.c_position.c.x, b.c_position.c.y, b.c_velocity.w, b.c_velocity.v.x, b.c_velocity.v.y);\n  }\n};\n\nvar s_subStep = new TimeStep(); // reuse\n\n/**\n * Find TOI contacts and solve them.\n *\n * @param {TimeStep} step\n */\nSolver.prototype.solveWorldTOI = function(step) {\n  var world = this.m_world;\n\n  if (world.m_stepComplete) {\n    for (var b = world.m_bodyList; b; b = b.m_next) {\n      b.m_islandFlag = false;\n      b.m_sweep.alpha0 = 0.0;\n    }\n\n    for (var c = world.m_contactList; c; c = c.m_next) {\n      // Invalidate TOI\n      c.m_toiFlag = false;\n      c.m_islandFlag = false;\n      c.m_toiCount = 0;\n      c.m_toi = 1.0;\n    }\n  }\n\n  // Find TOI events and solve them.\n  for (;;) {\n    // Find the first TOI.\n    var minContact = null; // Contact\n    var minAlpha = 1.0;\n\n    for (var c = world.m_contactList; c; c = c.m_next) {\n      // Is this contact disabled?\n      if (c.isEnabled() == false) {\n        continue;\n      }\n\n      // Prevent excessive sub-stepping.\n      if (c.m_toiCount > Settings.maxSubSteps) {\n        continue;\n      }\n\n      var alpha = 1.0;\n      if (c.m_toiFlag) {\n        // This contact has a valid cached TOI.\n        alpha = c.m_toi;\n      } else {\n        var fA = c.getFixtureA();\n        var fB = c.getFixtureB();\n\n        // Is there a sensor?\n        if (fA.isSensor() || fB.isSensor()) {\n          continue;\n        }\n\n        var bA = fA.getBody();\n        var bB = fB.getBody();\n\n        _ASSERT && common.assert(bA.isDynamic() || bB.isDynamic());\n\n        var activeA = bA.isAwake() && !bA.isStatic();\n        var activeB = bB.isAwake() && !bB.isStatic();\n\n        // Is at least one body active (awake and dynamic or kinematic)?\n        if (activeA == false && activeB == false) {\n          continue;\n        }\n\n        var collideA = bA.isBullet() || !bA.isDynamic();\n        var collideB = bB.isBullet() || !bB.isDynamic();\n\n        // Are these two non-bullet dynamic bodies?\n        if (collideA == false && collideB == false) {\n          continue;\n        }\n\n        // Compute the TOI for this contact.\n        // Put the sweeps onto the same time interval.\n        var alpha0 = bA.m_sweep.alpha0;\n\n        if (bA.m_sweep.alpha0 < bB.m_sweep.alpha0) {\n          alpha0 = bB.m_sweep.alpha0;\n          bA.m_sweep.advance(alpha0);\n        } else if (bB.m_sweep.alpha0 < bA.m_sweep.alpha0) {\n          alpha0 = bA.m_sweep.alpha0;\n          bB.m_sweep.advance(alpha0);\n        }\n\n        _ASSERT && common.assert(alpha0 < 1.0);\n\n        var indexA = c.getChildIndexA();\n        var indexB = c.getChildIndexB();\n\n        var sweepA = bA.m_sweep;\n        var sweepB = bB.m_sweep;\n\n        // Compute the time of impact in interval [0, minTOI]\n        var input = new TOIInput(); // TODO: reuse\n        input.proxyA.set(fA.getShape(), indexA);\n        input.proxyB.set(fB.getShape(), indexB);\n        input.sweepA.set(bA.m_sweep);\n        input.sweepB.set(bB.m_sweep);\n        input.tMax = 1.0;\n\n        var output = new TOIOutput(); // TODO: reuse\n        TimeOfImpact(output, input);\n\n        // Beta is the fraction of the remaining portion of the [time?].\n        var beta = output.t;\n        if (output.state == TOIOutput.e_touching) {\n          alpha = Math.min(alpha0 + (1.0 - alpha0) * beta, 1.0);\n        } else {\n          alpha = 1.0;\n        }\n\n        c.m_toi = alpha;\n        c.m_toiFlag = true;\n      }\n\n      if (alpha < minAlpha) {\n        // This is the minimum TOI found so far.\n        minContact = c;\n        minAlpha = alpha;\n      }\n    }\n\n    if (minContact == null || 1.0 - 10.0 * Math.EPSILON < minAlpha) {\n      // No more TOI events. Done!\n      world.m_stepComplete = true;\n      break;\n    }\n\n    // Advance the bodies to the TOI.\n    var fA = minContact.getFixtureA();\n    var fB = minContact.getFixtureB();\n    var bA = fA.getBody();\n    var bB = fB.getBody();\n\n    var backup1 = bA.m_sweep.clone();\n    var backup2 = bB.m_sweep.clone();\n\n    bA.advance(minAlpha);\n    bB.advance(minAlpha);\n\n    // The TOI contact likely has some new contact points.\n    minContact.update(world);\n    minContact.m_toiFlag = false;\n    ++minContact.m_toiCount;\n\n    // Is the contact solid?\n    if (minContact.isEnabled() == false || minContact.isTouching() == false) {\n      // Restore the sweeps.\n      minContact.setEnabled(false);\n      bA.m_sweep.set(backup1);\n      bB.m_sweep.set(backup2);\n      bA.synchronizeTransform();\n      bB.synchronizeTransform();\n      continue;\n    }\n\n    bA.setAwake(true);\n    bB.setAwake(true);\n\n    // Build the island\n    this.clear();\n    this.addBody(bA);\n    this.addBody(bB);\n    this.addContact(minContact);\n\n    bA.m_islandFlag = true;\n    bB.m_islandFlag = true;\n    minContact.m_islandFlag = true;\n\n    // Get contacts on bodyA and bodyB.\n    var bodies = [ bA, bB ];\n    for (var i = 0; i < bodies.length; ++i) {\n      var body = bodies[i];\n      if (body.isDynamic()) {\n        for (var ce = body.m_contactList; ce; ce = ce.next) {\n          // if (this.m_bodyCount == this.m_bodyCapacity) { break; }\n          // if (this.m_contactCount == this.m_contactCapacity) { break; }\n\n          var contact = ce.contact;\n\n          // Has this contact already been added to the island?\n          if (contact.m_islandFlag) {\n            continue;\n          }\n\n          // Only add if either is static, kinematic or bullet.\n          var other = ce.other;\n          if (other.isDynamic() && !body.isBullet() && !other.isBullet()) {\n            continue;\n          }\n\n          // Skip sensors.\n          var sensorA = contact.m_fixtureA.m_isSensor;\n          var sensorB = contact.m_fixtureB.m_isSensor;\n          if (sensorA || sensorB) {\n            continue;\n          }\n\n          // Tentatively advance the body to the TOI.\n          var backup = other.m_sweep.clone();\n          if (other.m_islandFlag == false) {\n            other.advance(minAlpha);\n          }\n\n          // Update the contact points\n          contact.update(world);\n\n          // Was the contact disabled by the user?\n          // Are there contact points?\n          if (contact.isEnabled() == false || contact.isTouching() == false) {\n            other.m_sweep.set(backup);\n            other.synchronizeTransform();\n            continue;\n          }\n\n          // Add the contact to the island\n          contact.m_islandFlag = true;\n          this.addContact(contact);\n\n          // Has the other body already been added to the island?\n          if (other.m_islandFlag) {\n            continue;\n          }\n\n          // Add the other body to the island.\n          other.m_islandFlag = true;\n\n          if (!other.isStatic()) {\n            other.setAwake(true);\n          }\n\n          this.addBody(other);\n        }\n      }\n    }\n\n    s_subStep.reset((1.0 - minAlpha) * step.dt);\n    s_subStep.dtRatio = 1.0;\n    s_subStep.positionIterations = 20;\n    s_subStep.velocityIterations = step.velocityIterations;\n    s_subStep.warmStarting = false;\n\n    this.solveIslandTOI(s_subStep, bA, bB);\n\n    // Reset island flags and synchronize broad-phase proxies.\n    for (var i = 0; i < this.m_bodies.length; ++i) {\n      var body = this.m_bodies[i];\n      body.m_islandFlag = false;\n\n      if (!body.isDynamic()) {\n        continue;\n      }\n\n      body.synchronizeFixtures();\n\n      // Invalidate all contact TOIs on this displaced body.\n      for (var ce = body.m_contactList; ce; ce = ce.next) {\n        ce.contact.m_toiFlag = false;\n        ce.contact.m_islandFlag = false;\n      }\n    }\n\n    // Commit fixture proxy movements to the broad-phase so that new contacts\n    // are created.\n    // Also, some contacts can be destroyed.\n    world.findNewContacts();\n\n    if (world.m_subStepping) {\n      world.m_stepComplete = false;\n      break;\n    }\n  }\n\n  if (_DEBUG) for (var b = world.m_bodyList; b; b = b.m_next) {\n    var c = b.m_sweep.c;\n    var a = b.m_sweep.a;\n    var v = b.m_linearVelocity;\n    var w = b.m_angularVelocity;\n  }\n}\n\n/**\n * @param {TimeStep} subStep\n * @param toiA\n * @param toiB\n */\nSolver.prototype.solveIslandTOI = function(subStep, toiA, toiB) {\n  var world = this.m_world;\n\n  // Initialize the body state.\n  for (var i = 0; i < this.m_bodies.length; ++i) {\n    var body = this.m_bodies[i];\n    body.c_position.c.set(body.m_sweep.c);\n    body.c_position.a = body.m_sweep.a;\n    body.c_velocity.v.set(body.m_linearVelocity);\n    body.c_velocity.w = body.m_angularVelocity;\n  }\n\n  for (var i = 0; i < this.m_contacts.length; ++i) {\n    var contact = this.m_contacts[i];\n    contact.initConstraint(subStep);\n  }\n\n  // Solve position constraints.\n  for (var i = 0; i < subStep.positionIterations; ++i) {\n    var minSeparation = 0.0;\n    for (var j = 0; j < this.m_contacts.length; ++j) {\n      var contact = this.m_contacts[j];\n      var separation = contact.solvePositionConstraintTOI(subStep, toiA, toiB);\n      minSeparation = Math.min(minSeparation, separation);\n    }\n    // We can't expect minSpeparation >= -Settings.linearSlop because we don't\n    // push the separation above -Settings.linearSlop.\n    var contactsOkay = minSeparation >= -1.5 * Settings.linearSlop;\n    if (contactsOkay) {\n      break;\n    }\n  }\n\n  if (false) {\n    // Is the new position really safe?\n    for (var i = 0; i < this.m_contacts.length; ++i) {\n      var c = this.m_contacts[i];\n      var fA = c.getFixtureA();\n      var fB = c.getFixtureB();\n\n      var bA = fA.getBody();\n      var bB = fB.getBody();\n\n      var indexA = c.getChildIndexA();\n      var indexB = c.getChildIndexB();\n\n      var input = new DistanceInput();\n      input.proxyA.set(fA.getShape(), indexA);\n      input.proxyB.set(fB.getShape(), indexB);\n      input.transformA = bA.getTransform();\n      input.transformB = bB.getTransform();\n      input.useRadii = false;\n\n      var output = new DistanceOutput();\n      var cache = new SimplexCache();\n      Distance(output, cache, input);\n\n      if (output.distance == 0 || cache.count == 3) {\n        cache.count += 0;\n      }\n    }\n  }\n\n  // Leap of faith to new safe state.\n  toiA.m_sweep.c0.set(toiA.c_position.c);\n  toiA.m_sweep.a0 = toiA.c_position.a;\n  toiB.m_sweep.c0.set(toiB.c_position.c);\n  toiB.m_sweep.a0 = toiB.c_position.a;\n\n  // No warm starting is needed for TOI events because warm\n  // starting impulses were applied in the discrete solver.\n  for (var i = 0; i < this.m_contacts.length; ++i) {\n    var contact = this.m_contacts[i];\n    contact.initVelocityConstraint(subStep);\n  }\n\n  // Solve velocity constraints.\n  for (var i = 0; i < subStep.velocityIterations; ++i) {\n    for (var j = 0; j < this.m_contacts.length; ++j) {\n      var contact = this.m_contacts[j];\n      contact.solveVelocityConstraint(subStep);\n    }\n  }\n\n  // Don't store the TOI contact forces for warm starting\n  // because they can be quite large.\n\n  var h = subStep.dt;\n\n  // Integrate positions\n  for (var i = 0; i < this.m_bodies.length; ++i) {\n    var body = this.m_bodies[i];\n\n    var c = Vec2.clone(body.c_position.c);\n    var a = body.c_position.a;\n    var v = Vec2.clone(body.c_velocity.v);\n    var w = body.c_velocity.w;\n\n    // Check for large velocities\n    var translation = Vec2.mul(h, v);\n    if (Vec2.dot(translation, translation) > Settings.maxTranslationSquared) {\n      var ratio = Settings.maxTranslation / translation.length();\n      v.mul(ratio);\n    }\n\n    var rotation = h * w;\n    if (rotation * rotation > Settings.maxRotationSquared) {\n      var ratio = Settings.maxRotation / Math.abs(rotation);\n      w *= ratio;\n    }\n\n    // Integrate\n    c.addMul(h, v);\n    a += h * w;\n\n    body.c_position.c = c;\n    body.c_position.a = a;\n    body.c_velocity.v = v;\n    body.c_velocity.w = w;\n\n    // Sync bodies\n    body.m_sweep.c = c;\n    body.m_sweep.a = a;\n    body.m_linearVelocity = v;\n    body.m_angularVelocity = w;\n    body.synchronizeTransform();\n  }\n\n  this.postSolveIsland();\n};\n\n/**\n * Contact impulses for reporting. Impulses are used instead of forces because\n * sub-step forces may approach infinity for rigid body collisions. These match\n * up one-to-one with the contact points in Manifold.\n */\nfunction ContactImpulse() {\n  this.normalImpulses = [];\n  this.tangentImpulses = [];\n};\n\nSolver.prototype.postSolveIsland = function() {\n  // TODO: report contact.v_points instead of new object?\n  var impulse = new ContactImpulse();\n  for (var c = 0; c < this.m_contacts.length; ++c) {\n    var contact = this.m_contacts[c];\n    for (var p = 0; p < contact.v_points.length; ++p) {\n      impulse.normalImpulses.push(contact.v_points[p].normalImpulse);\n      impulse.tangentImpulses.push(contact.v_points[p].tangentImpulse);\n    }\n    this.m_world.postSolve(contact, impulse);\n  }\n};\n","var _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nmodule.exports.now = function() {\n  return Date.now();\n}\n\nmodule.exports.diff = function(time) {\n  return Date.now() - time;\n}\n","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nmodule.exports = BoxShape;\n\nvar common = require('../util/common');\nvar create = require('../util/create');\nvar PolygonShape = require('./PolygonShape');\n\nBoxShape._super = PolygonShape;\nBoxShape.prototype = create(BoxShape._super.prototype);\n\nBoxShape.TYPE = 'polygon';\n\n/**\n * A rectangle polygon which extend PolygonShape.\n */\nfunction BoxShape(hx, hy, center, angle) {\n  if (!(this instanceof BoxShape)) {\n    return new BoxShape(hx, hy, center, angle);\n  }\n\n  BoxShape._super.call(this);\n\n  this._setAsBox(hx, hy, center, angle);\n}\n\n","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nvar common = require('../util/common');\nvar create = require('../util/create');\nvar Math = require('../common/Math');\nvar Transform = require('../common/Transform');\nvar Vec2 = require('../common/Vec2');\nvar Settings = require('../Settings');\nvar Shape = require('../Shape');\nvar Contact = require('../Contact');\nvar Manifold = require('../Manifold');\nvar CircleShape = require('./CircleShape');\n\nContact.addType(CircleShape.TYPE, CircleShape.TYPE, CircleCircleContact);\n\nfunction CircleCircleContact(manifold, xfA, fixtureA, indexA, xfB, fixtureB, indexB) {\n  _ASSERT && common.assert(fixtureA.getType() == CircleShape.TYPE);\n  _ASSERT && common.assert(fixtureB.getType() == CircleShape.TYPE);\n  CollideCircles(manifold, fixtureA.getShape(), xfA, fixtureB.getShape(), xfB);\n}\n\nfunction CollideCircles(manifold, circleA, xfA, circleB, xfB) {\n  manifold.pointCount = 0;\n\n  var pA = Transform.mulVec2(xfA, circleA.m_p);\n  var pB = Transform.mulVec2(xfB, circleB.m_p);\n\n  var distSqr = Vec2.distanceSquared(pB, pA);\n  var rA = circleA.m_radius;\n  var rB = circleB.m_radius;\n  var radius = rA + rB;\n  if (distSqr > radius * radius) {\n    return;\n  }\n\n  manifold.type = Manifold.e_circles;\n  manifold.localPoint.set(circleA.m_p);\n  manifold.localNormal.setZero();\n  manifold.pointCount = 1;\n  manifold.points[0].localPoint.set(circleB.m_p);\n\n  // manifold.points[0].id.key = 0;\n  manifold.points[0].id.cf.indexA = 0;\n  manifold.points[0].id.cf.typeA = Manifold.e_vertex;\n  manifold.points[0].id.cf.indexB = 0;\n  manifold.points[0].id.cf.typeB = Manifold.e_vertex;\n}\n\nexports.CollideCircles = CollideCircles;","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nvar common = require('../util/common');\nvar create = require('../util/create');\nvar Math = require('../common/Math');\nvar Transform = require('../common/Transform');\nvar Vec2 = require('../common/Vec2');\nvar Rot = require('../common/Rot');\nvar Settings = require('../Settings');\nvar Shape = require('../Shape');\nvar Contact = require('../Contact');\nvar Manifold = require('../Manifold');\nvar EdgeShape = require('./EdgeShape');\nvar ChainShape = require('./ChainShape');\nvar CircleShape = require('./CircleShape');\n\nContact.addType(EdgeShape.TYPE, CircleShape.TYPE, EdgeCircleContact);\nContact.addType(ChainShape.TYPE, CircleShape.TYPE, ChainCircleContact);\n\nfunction EdgeCircleContact(manifold, xfA, fixtureA, indexA, xfB, fixtureB,\n    indexB) {\n  _ASSERT && common.assert(fixtureA.getType() == EdgeShape.TYPE);\n  _ASSERT && common.assert(fixtureB.getType() == CircleShape.TYPE);\n\n  var shapeA = fixtureA.getShape();\n  var shapeB = fixtureB.getShape();\n\n  CollideEdgeCircle(manifold, shapeA, xfA, shapeB, xfB);\n}\n\nfunction ChainCircleContact(manifold, xfA, fixtureA, indexA, xfB, fixtureB,\n    indexB) {\n  _ASSERT && common.assert(fixtureA.getType() == ChainShape.TYPE);\n  _ASSERT && common.assert(fixtureB.getType() == CircleShape.TYPE);\n\n  var chain = fixtureA.getShape();\n  var edge = new EdgeShape();\n  chain.getChildEdge(edge, indexA);\n\n  var shapeA = edge;\n  var shapeB = fixtureB.getShape();\n\n  CollideEdgeCircle(manifold, shapeA, xfA, shapeB, xfB);\n}\n\n// Compute contact points for edge versus circle.\n// This accounts for edge connectivity.\nfunction CollideEdgeCircle(manifold, edgeA, xfA, circleB, xfB) {\n  manifold.pointCount = 0;\n\n  // Compute circle in frame of edge\n  var Q = Transform.mulTVec2(xfA, Transform.mulVec2(xfB, circleB.m_p));\n\n  var A = edgeA.m_vertex1;\n  var B = edgeA.m_vertex2;\n  var e = Vec2.sub(B, A);\n\n  // Barycentric coordinates\n  var u = Vec2.dot(e, Vec2.sub(B, Q));\n  var v = Vec2.dot(e, Vec2.sub(Q, A));\n\n  var radius = edgeA.m_radius + circleB.m_radius;\n\n  // Region A\n  if (v <= 0.0) {\n    var P = Vec2.clone(A);\n    var d = Vec2.sub(Q, P);\n    var dd = Vec2.dot(d, d);\n    if (dd > radius * radius) {\n      return;\n    }\n\n    // Is there an edge connected to A?\n    if (edgeA.m_hasVertex0) {\n      var A1 = edgeA.m_vertex0;\n      var B1 = A;\n      var e1 = Vec2.sub(B1, A1);\n      var u1 = Vec2.dot(e1, Vec2.sub(B1, Q));\n\n      // Is the circle in Region AB of the previous edge?\n      if (u1 > 0.0) {\n        return;\n      }\n    }\n\n    manifold.type = Manifold.e_circles;\n    manifold.localNormal.setZero();\n    manifold.localPoint.set(P);\n    manifold.pointCount = 1;\n    manifold.points[0].localPoint.set(circleB.m_p);\n\n    // manifold.points[0].id.key = 0;\n    manifold.points[0].id.cf.indexA = 0;\n    manifold.points[0].id.cf.typeA = Manifold.e_vertex;\n    manifold.points[0].id.cf.indexB = 0;\n    manifold.points[0].id.cf.typeB = Manifold.e_vertex;\n    return;\n  }\n\n  // Region B\n  if (u <= 0.0) {\n    var P = Vec2.clone(B);\n    var d = Vec2.sub(Q, P);\n    var dd = Vec2.dot(d, d);\n    if (dd > radius * radius) {\n      return;\n    }\n\n    // Is there an edge connected to B?\n    if (edgeA.m_hasVertex3) {\n      var B2 = edgeA.m_vertex3;\n      var A2 = B;\n      var e2 = Vec2.sub(B2, A2);\n      var v2 = Vec2.dot(e2, Vec2.sub(Q, A2));\n\n      // Is the circle in Region AB of the next edge?\n      if (v2 > 0.0) {\n        return;\n      }\n    }\n\n    manifold.type = Manifold.e_circles;\n    manifold.localNormal.setZero();\n    manifold.localPoint.set(P);\n    manifold.pointCount = 1;\n    manifold.points[0].localPoint.set(circleB.m_p);\n\n    // manifold.points[0].id.key = 0;\n    manifold.points[0].id.cf.indexA = 1;\n    manifold.points[0].id.cf.typeA = Manifold.e_vertex;\n    manifold.points[0].id.cf.indexB = 0;\n    manifold.points[0].id.cf.typeB = Manifold.e_vertex;\n    return;\n  }\n\n  // Region AB\n  var den = Vec2.dot(e, e);\n  _ASSERT && common.assert(den > 0.0);\n  var P = Vec2.combine(u / den, A, v / den, B);\n  var d = Vec2.sub(Q, P);\n  var dd = Vec2.dot(d, d);\n  if (dd > radius * radius) {\n    return;\n  }\n\n  var n = Vec2.neo(-e.y, e.x);\n  if (Vec2.dot(n, Vec2.sub(Q, A)) < 0.0) {\n    n.set(-n.x, -n.y);\n  }\n  n.normalize();\n\n  manifold.type = Manifold.e_faceA;\n  manifold.localNormal = n;\n  manifold.localPoint.set(A);\n  manifold.pointCount = 1;\n  manifold.points[0].localPoint.set(circleB.m_p);\n\n  // manifold.points[0].id.key = 0;\n  manifold.points[0].id.cf.indexA = 0;\n  manifold.points[0].id.cf.typeA = Manifold.e_face;\n  manifold.points[0].id.cf.indexB = 0;\n  manifold.points[0].id.cf.typeB = Manifold.e_vertex;\n}\n","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nvar common = require('../util/common');\nvar Math = require('../common/Math');\nvar Transform = require('../common/Transform');\nvar Rot = require('../common/Rot');\nvar Vec2 = require('../common/Vec2');\nvar AABB = require('../collision/AABB');\nvar Settings = require('../Settings');\nvar Manifold = require('../Manifold');\nvar Contact = require('../Contact');\nvar Shape = require('../Shape');\nvar PolygonShape = require('./PolygonShape');\n\nmodule.exports = CollidePolygons;\n\nContact.addType(PolygonShape.TYPE, PolygonShape.TYPE, PolygonContact);\n\nfunction PolygonContact(manifold, xfA, fixtureA, indexA, xfB, fixtureB, indexB) {\n  _ASSERT && common.assert(fixtureA.getType() == PolygonShape.TYPE);\n  _ASSERT && common.assert(fixtureB.getType() == PolygonShape.TYPE);\n  CollidePolygons(manifold, fixtureA.getShape(), xfA, fixtureB.getShape(), xfB);\n}\n\n/**\n * Find the max separation between poly1 and poly2 using edge normals from\n * poly1.\n */\nfunction FindMaxSeparation(poly1, xf1, poly2, xf2) {\n  var count1 = poly1.m_count;\n  var count2 = poly2.m_count;\n  var n1s = poly1.m_normals;\n  var v1s = poly1.m_vertices;\n  var v2s = poly2.m_vertices;\n  var xf = Transform.mulTXf(xf2, xf1);\n\n  var bestIndex = 0;\n  var maxSeparation = -Infinity;\n  for (var i = 0; i < count1; ++i) {\n    // Get poly1 normal in frame2.\n    var n = Rot.mulVec2(xf.q, n1s[i]);\n    var v1 = Transform.mulVec2(xf, v1s[i]);\n\n    // Find deepest point for normal i.\n    var si = Infinity;\n    for (var j = 0; j < count2; ++j) {\n      var sij = Vec2.dot(n, v2s[j]) - Vec2.dot(n, v1);\n      if (sij < si) {\n        si = sij;\n      }\n    }\n\n    if (si > maxSeparation) {\n      maxSeparation = si;\n      bestIndex = i;\n    }\n  }\n\n  // used to keep last FindMaxSeparation call values\n  FindMaxSeparation._maxSeparation = maxSeparation;\n  FindMaxSeparation._bestIndex = bestIndex;\n}\n\n/**\n * @param {ClipVertex[2]} c\n * @param {int} edge1\n */\nfunction FindIncidentEdge(c, poly1, xf1, edge1, poly2, xf2) {\n  var normals1 = poly1.m_normals;\n\n  var count2 = poly2.m_count;\n  var vertices2 = poly2.m_vertices;\n  var normals2 = poly2.m_normals;\n\n  _ASSERT && common.assert(0 <= edge1 && edge1 < poly1.m_count);\n\n  // Get the normal of the reference edge in poly2's frame.\n  var normal1 = Rot.mulT(xf2.q, Rot.mulVec2(xf1.q, normals1[edge1]));\n\n  // Find the incident edge on poly2.\n  var index = 0;\n  var minDot = Infinity;\n  for (var i = 0; i < count2; ++i) {\n    var dot = Vec2.dot(normal1, normals2[i]);\n    if (dot < minDot) {\n      minDot = dot;\n      index = i;\n    }\n  }\n\n  // Build the clip vertices for the incident edge.\n  var i1 = index;\n  var i2 = i1 + 1 < count2 ? i1 + 1 : 0;\n\n  c[0].v = Transform.mulVec2(xf2, vertices2[i1]);\n  c[0].id.cf.indexA = edge1;\n  c[0].id.cf.indexB = i1;\n  c[0].id.cf.typeA = Manifold.e_face;\n  c[0].id.cf.typeB = Manifold.e_vertex;\n\n  c[1].v = Transform.mulVec2(xf2, vertices2[i2]);\n  c[1].id.cf.indexA = edge1;\n  c[1].id.cf.indexB = i2;\n  c[1].id.cf.typeA = Manifold.e_face;\n  c[1].id.cf.typeB = Manifold.e_vertex;\n}\n\n/**\n * \n * Find edge normal of max separation on A - return if separating axis is found<br>\n * Find edge normal of max separation on B - return if separation axis is found<br>\n * Choose reference edge as min(minA, minB)<br>\n * Find incident edge<br>\n * Clip\n * \n * The normal points from 1 to 2\n */\nfunction CollidePolygons(manifold, polyA, xfA, polyB, xfB) {\n  manifold.pointCount = 0;\n  var totalRadius = polyA.m_radius + polyB.m_radius;\n\n  FindMaxSeparation(polyA, xfA, polyB, xfB);\n  var edgeA = FindMaxSeparation._bestIndex;\n  var separationA = FindMaxSeparation._maxSeparation;\n  if (separationA > totalRadius)\n    return;\n\n  FindMaxSeparation(polyB, xfB, polyA, xfA);\n  var edgeB = FindMaxSeparation._bestIndex;\n  var separationB = FindMaxSeparation._maxSeparation;\n  if (separationB > totalRadius)\n    return;\n\n  var poly1; // reference polygon\n  var poly2; // incident polygon\n  var xf1;\n  var xf2;\n  var edge1; // reference edge\n  var flip;\n  var k_tol = 0.1 * Settings.linearSlop;\n\n  if (separationB > separationA + k_tol) {\n    poly1 = polyB;\n    poly2 = polyA;\n    xf1 = xfB;\n    xf2 = xfA;\n    edge1 = edgeB;\n    manifold.type = Manifold.e_faceB;\n    flip = 1;\n  } else {\n    poly1 = polyA;\n    poly2 = polyB;\n    xf1 = xfA;\n    xf2 = xfB;\n    edge1 = edgeA;\n    manifold.type = Manifold.e_faceA;\n    flip = 0;\n  }\n\n  var incidentEdge = [ new Manifold.clipVertex(), new Manifold.clipVertex() ];\n  FindIncidentEdge(incidentEdge, poly1, xf1, edge1, poly2, xf2);\n\n  var count1 = poly1.m_count;\n  var vertices1 = poly1.m_vertices;\n\n  var iv1 = edge1;\n  var iv2 = edge1 + 1 < count1 ? edge1 + 1 : 0;\n\n  var v11 = vertices1[iv1];\n  var v12 = vertices1[iv2];\n\n  var localTangent = Vec2.sub(v12, v11);\n  localTangent.normalize();\n\n  var localNormal = Vec2.cross(localTangent, 1.0);\n  var planePoint = Vec2.combine(0.5, v11, 0.5, v12);\n\n  var tangent = Rot.mulVec2(xf1.q, localTangent);\n  var normal = Vec2.cross(tangent, 1.0);\n\n  v11 = Transform.mulVec2(xf1, v11);\n  v12 = Transform.mulVec2(xf1, v12);\n\n  // Face offset.\n  var frontOffset = Vec2.dot(normal, v11);\n\n  // Side offsets, extended by polytope skin thickness.\n  var sideOffset1 = -Vec2.dot(tangent, v11) + totalRadius;\n  var sideOffset2 = Vec2.dot(tangent, v12) + totalRadius;\n\n  // Clip incident edge against extruded edge1 side edges.\n  var clipPoints1 = [ new Manifold.clipVertex(), new Manifold.clipVertex() ];\n  var clipPoints2 = [ new Manifold.clipVertex(), new Manifold.clipVertex() ];\n  var np;\n\n  // Clip to box side 1\n  np = Manifold.clipSegmentToLine(clipPoints1, incidentEdge, Vec2.neg(tangent),\n      sideOffset1, iv1);\n\n  if (np < 2) {\n    return;\n  }\n\n  // Clip to negative box side 1\n  np = Manifold.clipSegmentToLine(clipPoints2, clipPoints1, tangent,\n      sideOffset2, iv2);\n\n  if (np < 2) {\n    return;\n  }\n\n  // Now clipPoints2 contains the clipped points.\n  manifold.localNormal = localNormal;\n  manifold.localPoint = planePoint;\n\n  var pointCount = 0;\n  for (var i = 0; i < clipPoints2.length/* maxManifoldPoints */; ++i) {\n    var separation = Vec2.dot(normal, clipPoints2[i].v) - frontOffset;\n\n    if (separation <= totalRadius) {\n      var cp = manifold.points[pointCount]; // ManifoldPoint\n      cp.localPoint.set(Transform.mulTVec2(xf2, clipPoints2[i].v));\n      cp.id = clipPoints2[i].id;\n      if (flip) {\n        // Swap features\n        var cf = cp.id.cf; // ContactFeature\n        var indexA = cf.indexA;\n        var indexB = cf.indexB;\n        var typeA = cf.typeA;\n        var typeB = cf.typeB;\n        cf.indexA = indexB;\n        cf.indexB = indexA;\n        cf.typeA = typeB;\n        cf.typeB = typeA;\n      }\n      ++pointCount;\n    }\n  }\n\n  manifold.pointCount = pointCount;\n}\n","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nvar common = require('../util/common');\nvar Math = require('../common/Math');\nvar Transform = require('../common/Transform');\nvar Rot = require('../common/Rot');\nvar Vec2 = require('../common/Vec2');\nvar AABB = require('../collision/AABB');\nvar Settings = require('../Settings');\nvar Manifold = require('../Manifold');\nvar Contact = require('../Contact');\nvar Shape = require('../Shape');\nvar CircleShape = require('./CircleShape');\nvar PolygonShape = require('./PolygonShape');\n\nContact.addType(PolygonShape.TYPE, CircleShape.TYPE, PolygonCircleContact);\n\nfunction PolygonCircleContact(manifold, xfA, fixtureA, indexA, xfB, fixtureB, indexB) {\n  _ASSERT && common.assert(fixtureA.getType() == PolygonShape.TYPE);\n  _ASSERT && common.assert(fixtureB.getType() == CircleShape.TYPE);\n  CollidePolygonCircle(manifold, fixtureA.getShape(), xfA, fixtureB.getShape(),\n      xfB);\n}\n\nfunction CollidePolygonCircle(manifold, polygonA, xfA, circleB, xfB) {\n  manifold.pointCount = 0;\n\n  // Compute circle position in the frame of the polygon.\n  var c = Transform.mulVec2(xfB, circleB.m_p);\n  var cLocal = Transform.mulTVec2(xfA, c);\n\n  // Find the min separating edge.\n  var normalIndex = 0;\n  var separation = -Infinity;\n  var radius = polygonA.m_radius + circleB.m_radius;\n  var vertexCount = polygonA.m_count;\n  var vertices = polygonA.m_vertices;\n  var normals = polygonA.m_normals;\n\n  for (var i = 0; i < vertexCount; ++i) {\n    var s = Vec2.dot(normals[i], Vec2.sub(cLocal, vertices[i]));\n\n    if (s > radius) {\n      // Early out.\n      return;\n    }\n\n    if (s > separation) {\n      separation = s;\n      normalIndex = i;\n    }\n  }\n\n  // Vertices that subtend the incident face.\n  var vertIndex1 = normalIndex;\n  var vertIndex2 = vertIndex1 + 1 < vertexCount ? vertIndex1 + 1 : 0;\n  var v1 = vertices[vertIndex1];\n  var v2 = vertices[vertIndex2];\n\n  // If the center is inside the polygon ...\n  if (separation < Math.EPSILON) {\n    manifold.pointCount = 1;\n    manifold.type = Manifold.e_faceA;\n    manifold.localNormal.set(normals[normalIndex]);\n    manifold.localPoint.setCombine(0.5, v1, 0.5, v2);\n    manifold.points[0].localPoint = circleB.m_p;\n\n    // manifold.points[0].id.key = 0;\n    manifold.points[0].id.cf.indexA = 0;\n    manifold.points[0].id.cf.typeA = Manifold.e_vertex;\n    manifold.points[0].id.cf.indexB = 0;\n    manifold.points[0].id.cf.typeB = Manifold.e_vertex;\n    return;\n  }\n\n  // Compute barycentric coordinates\n  var u1 = Vec2.dot(Vec2.sub(cLocal, v1), Vec2.sub(v2, v1));\n  var u2 = Vec2.dot(Vec2.sub(cLocal, v2), Vec2.sub(v1, v2));\n  if (u1 <= 0.0) {\n    if (Vec2.distanceSquared(cLocal, v1) > radius * radius) {\n      return;\n    }\n\n    manifold.pointCount = 1;\n    manifold.type = Manifold.e_faceA;\n    manifold.localNormal.setCombine(1, cLocal, -1, v1);\n    manifold.localNormal.normalize();\n    manifold.localPoint = v1;\n    manifold.points[0].localPoint.set(circleB.m_p);\n\n    // manifold.points[0].id.key = 0;\n    manifold.points[0].id.cf.indexA = 0;\n    manifold.points[0].id.cf.typeA = Manifold.e_vertex;\n    manifold.points[0].id.cf.indexB = 0;\n    manifold.points[0].id.cf.typeB = Manifold.e_vertex;\n  } else if (u2 <= 0.0) {\n    if (Vec2.distanceSquared(cLocal, v2) > radius * radius) {\n      return;\n    }\n\n    manifold.pointCount = 1;\n    manifold.type = Manifold.e_faceA;\n    manifold.localNormal.setCombine(1, cLocal, -1, v2);\n    manifold.localNormal.normalize();\n    manifold.localPoint.set(v2);\n    manifold.points[0].localPoint.set(circleB.m_p);\n\n    // manifold.points[0].id.key = 0;\n    manifold.points[0].id.cf.indexA = 0;\n    manifold.points[0].id.cf.typeA = Manifold.e_vertex;\n    manifold.points[0].id.cf.indexB = 0;\n    manifold.points[0].id.cf.typeB = Manifold.e_vertex;\n  } else {\n    var faceCenter = Vec2.mid(v1, v2);\n    var separation = Vec2.dot(cLocal, normals[vertIndex1])\n        - Vec2.dot(faceCenter, normals[vertIndex1]);\n    if (separation > radius) {\n      return;\n    }\n\n    manifold.pointCount = 1;\n    manifold.type = Manifold.e_faceA;\n    manifold.localNormal.set(normals[vertIndex1]);\n    manifold.localPoint.set(faceCenter);\n    manifold.points[0].localPoint.set(circleB.m_p);\n\n    // manifold.points[0].id.key = 0;\n    manifold.points[0].id.cf.indexA = 0;\n    manifold.points[0].id.cf.typeA = Manifold.e_vertex;\n    manifold.points[0].id.cf.indexB = 0;\n    manifold.points[0].id.cf.typeB = Manifold.e_vertex;\n  }\n}\n","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nvar common = require('../util/common');\nvar create = require('../util/create');\nvar Math = require('../common/Math');\nvar Transform = require('../common/Transform');\nvar Vec2 = require('../common/Vec2');\nvar Rot = require('../common/Rot');\nvar Settings = require('../Settings');\nvar Shape = require('../Shape');\nvar Contact = require('../Contact');\nvar Manifold = require('../Manifold');\nvar EdgeShape = require('./EdgeShape');\nvar ChainShape = require('./ChainShape');\nvar PolygonShape = require('./PolygonShape');\n\nContact.addType(EdgeShape.TYPE, PolygonShape.TYPE, EdgePolygonContact);\nContact.addType(ChainShape.TYPE, PolygonShape.TYPE, ChainPolygonContact);\n\nfunction EdgePolygonContact(manifold, xfA, fA, indexA, xfB, fB, indexB) {\n  _ASSERT && common.assert(fA.getType() == EdgeShape.TYPE);\n  _ASSERT && common.assert(fB.getType() == PolygonShape.TYPE);\n\n  CollideEdgePolygon(manifold, fA.getShape(), xfA, fB.getShape(), xfB);\n}\n\nfunction ChainPolygonContact(manifold, xfA, fA, indexA, xfB, fB, indexB) {\n  _ASSERT && common.assert(fA.getType() == ChainShape.TYPE);\n  _ASSERT && common.assert(fB.getType() == PolygonShape.TYPE);\n\n  var chain = fA.getShape();\n  var edge = new EdgeShape();\n  chain.getChildEdge(edge, indexA);\n\n  CollideEdgePolygon(manifold, edge, xfA, fB.getShape(), xfB);\n}\n\n// EPAxis Type\nvar e_unknown = -1;\nvar e_edgeA = 1;\nvar e_edgeB = 2;\n\n// VertexType unused?\nvar e_isolated = 0;\nvar e_concave = 1;\nvar e_convex = 2;\n\n// This structure is used to keep track of the best separating axis.\nfunction EPAxis() {\n  this.type; // Type\n  this.index;\n  this.separation;\n};\n\n// This holds polygon B expressed in frame A.\nfunction TempPolygon() {\n  this.vertices = []; // Vec2[Settings.maxPolygonVertices]\n  this.normals = []; // Vec2[Settings.maxPolygonVertices];\n  this.count = 0;\n};\n\n// Reference face used for clipping\nfunction ReferenceFace() {\n  this.i1, this.i2; // int\n  this.v1, this.v2; // v\n  this.normal = Vec2.zero();\n  this.sideNormal1 = Vec2.zero();\n  this.sideOffset1; // float\n  this.sideNormal2 = Vec2.zero();\n  this.sideOffset2; // float\n};\n\n// reused\nvar edgeAxis = new EPAxis();\nvar polygonAxis = new EPAxis();\nvar polygonBA = new TempPolygon();\nvar rf = new ReferenceFace();\n\n/**\n * This function collides and edge and a polygon, taking into account edge\n * adjacency.\n */\nfunction CollideEdgePolygon(manifold, edgeA, xfA, polygonB, xfB) {\n  // Algorithm:\n  // 1. Classify v1 and v2\n  // 2. Classify polygon centroid as front or back\n  // 3. Flip normal if necessary\n  // 4. Initialize normal range to [-pi, pi] about face normal\n  // 5. Adjust normal range according to adjacent edges\n  // 6. Visit each separating axes, only accept axes within the range\n  // 7. Return if _any_ axis indicates separation\n  // 8. Clip\n\n  var m_type1, m_type2; // VertexType unused?\n\n  var xf = Transform.mulTXf(xfA, xfB);\n\n  var centroidB = Transform.mulVec2(xf, polygonB.m_centroid);\n\n  var v0 = edgeA.m_vertex0;\n  var v1 = edgeA.m_vertex1;\n  var v2 = edgeA.m_vertex2;\n  var v3 = edgeA.m_vertex3;\n\n  var hasVertex0 = edgeA.m_hasVertex0;\n  var hasVertex3 = edgeA.m_hasVertex3;\n\n  var edge1 = Vec2.sub(v2, v1);\n  edge1.normalize();\n  var normal1 = Vec2.neo(edge1.y, -edge1.x);\n  var offset1 = Vec2.dot(normal1, Vec2.sub(centroidB, v1));\n  var offset0 = 0.0;\n  var offset2 = 0.0;\n  var convex1 = false;\n  var convex2 = false;\n\n  // Is there a preceding edge?\n  if (hasVertex0) {\n    var edge0 = Vec2.sub(v1, v0);\n    edge0.normalize();\n    var normal0 = Vec2.neo(edge0.y, -edge0.x);\n    convex1 = Vec2.cross(edge0, edge1) >= 0.0;\n    offset0 = Vec2.dot(normal0, centroidB) - Vec2.dot(normal0, v0);\n  }\n\n  // Is there a following edge?\n  if (hasVertex3) {\n    var edge2 = Vec2.sub(v3, v2);\n    edge2.normalize();\n    var normal2 = Vec2.neo(edge2.y, -edge2.x);\n    convex2 = Vec2.cross(edge1, edge2) > 0.0;\n    offset2 = Vec2.dot(normal2, centroidB) - Vec2.dot(normal2, v2);\n  }\n\n  var front;\n  var normal = Vec2.zero();\n  var lowerLimit = Vec2.zero();\n  var upperLimit = Vec2.zero();\n\n  // Determine front or back collision. Determine collision normal limits.\n  if (hasVertex0 && hasVertex3) {\n    if (convex1 && convex2) {\n      front = offset0 >= 0.0 || offset1 >= 0.0 || offset2 >= 0.0;\n      if (front) {\n        normal.set(normal1);\n        lowerLimit.set(normal0);\n        upperLimit.set(normal2);\n      } else {\n        normal.setMul(-1, normal1);\n        lowerLimit.setMul(-1, normal1);\n        upperLimit.setMul(-1, normal1);\n      }\n    } else if (convex1) {\n      front = offset0 >= 0.0 || (offset1 >= 0.0 && offset2 >= 0.0);\n      if (front) {\n        normal.set(normal1);\n        lowerLimit.set(normal0);\n        upperLimit.set(normal1);\n      } else {\n        normal.setMul(-1, normal1);\n        lowerLimit.setMul(-1, normal2);\n        upperLimit.setMul(-1, normal1);\n      }\n    } else if (convex2) {\n      front = offset2 >= 0.0 || (offset0 >= 0.0 && offset1 >= 0.0);\n      if (front) {\n        normal.set(normal1);\n        lowerLimit.set(normal1);\n        upperLimit.set(normal2);\n      } else {\n        normal.setMul(-1, normal1);\n        lowerLimit.setMul(-1, normal1);\n        upperLimit.setMul(-1, normal0);\n      }\n    } else {\n      front = offset0 >= 0.0 && offset1 >= 0.0 && offset2 >= 0.0;\n      if (front) {\n        normal.set(normal1);\n        lowerLimit.set(normal1);\n        upperLimit.set(normal1);\n      } else {\n        normal.setMul(-1, normal1);\n        lowerLimit.setMul(-1, normal2);\n        upperLimit.setMul(-1, normal0);\n      }\n    }\n  } else if (hasVertex0) {\n    if (convex1) {\n      front = offset0 >= 0.0 || offset1 >= 0.0;\n      if (front) {\n        normal.set(normal1);\n        lowerLimit.set(normal0);\n        upperLimit.setMul(-1, normal1);\n      } else {\n        normal.setMul(-1, normal1);\n        lowerLimit.set(normal1);\n        upperLimit.setMul(-1, normal1);\n      }\n    } else {\n      front = offset0 >= 0.0 && offset1 >= 0.0;\n      if (front) {\n        normal.set(normal1);\n        lowerLimit.set(normal1);\n        upperLimit.setMul(-1, normal1);\n      } else {\n        normal.setMul(-1, normal1);\n        lowerLimit.set(normal1);\n        upperLimit.setMul(-1, normal0);\n      }\n    }\n  } else if (hasVertex3) {\n    if (convex2) {\n      front = offset1 >= 0.0 || offset2 >= 0.0;\n      if (front) {\n        normal.set(normal1);\n        lowerLimit.setMul(-1, normal1);\n        upperLimit.set(normal2);\n      } else {\n        normal.setMul(-1, normal1);\n        lowerLimit.setMul(-1, normal1);\n        upperLimit.set(normal1);\n      }\n    } else {\n      front = offset1 >= 0.0 && offset2 >= 0.0;\n      if (front) {\n        normal.set(normal1);\n        lowerLimit.setMul(-1, normal1);\n        upperLimit.set(normal1);\n      } else {\n        normal.setMul(-1, normal1);\n        lowerLimit.setMul(-1, normal2);\n        upperLimit.set(normal1);\n      }\n    }\n  } else {\n    front = offset1 >= 0.0;\n    if (front) {\n      normal.set(normal1);\n      lowerLimit.setMul(-1, normal1);\n      upperLimit.setMul(-1, normal1);\n    } else {\n      normal.setMul(-1, normal1);\n      lowerLimit.set(normal1);\n      upperLimit.set(normal1);\n    }\n  }\n\n  // Get polygonB in frameA\n  polygonBA.count = polygonB.m_count;\n  for (var i = 0; i < polygonB.m_count; ++i) {\n    polygonBA.vertices[i] = Transform.mulVec2(xf, polygonB.m_vertices[i]);\n    polygonBA.normals[i] = Rot.mulVec2(xf.q, polygonB.m_normals[i]);\n  }\n\n  var radius = 2.0 * Settings.polygonRadius;\n\n  manifold.pointCount = 0;\n\n  { // ComputeEdgeSeparation\n    edgeAxis.type = e_edgeA;\n    edgeAxis.index = front ? 0 : 1;\n    edgeAxis.separation = Infinity;\n\n    for (var i = 0; i < polygonBA.count; ++i) {\n      var s = Vec2.dot(normal, Vec2.sub(polygonBA.vertices[i], v1));\n      if (s < edgeAxis.separation) {\n        edgeAxis.separation = s;\n      }\n    }\n  }\n\n  // If no valid normal can be found than this edge should not collide.\n  if (edgeAxis.type == e_unknown) {\n    return;\n  }\n\n  if (edgeAxis.separation > radius) {\n    return;\n  }\n\n  { // ComputePolygonSeparation\n    polygonAxis.type = e_unknown;\n    polygonAxis.index = -1;\n    polygonAxis.separation = -Infinity;\n\n    var perp = Vec2.neo(-normal.y, normal.x);\n\n    for (var i = 0; i < polygonBA.count; ++i) {\n      var n = Vec2.neg(polygonBA.normals[i]);\n\n      var s1 = Vec2.dot(n, Vec2.sub(polygonBA.vertices[i], v1));\n      var s2 = Vec2.dot(n, Vec2.sub(polygonBA.vertices[i], v2));\n      var s = Math.min(s1, s2);\n\n      if (s > radius) {\n        // No collision\n        polygonAxis.type = e_edgeB;\n        polygonAxis.index = i;\n        polygonAxis.separation = s;\n        break;\n      }\n\n      // Adjacency\n      if (Vec2.dot(n, perp) >= 0.0) {\n        if (Vec2.dot(Vec2.sub(n, upperLimit), normal) < -Settings.angularSlop) {\n          continue;\n        }\n      } else {\n        if (Vec2.dot(Vec2.sub(n, lowerLimit), normal) < -Settings.angularSlop) {\n          continue;\n        }\n      }\n\n      if (s > polygonAxis.separation) {\n        polygonAxis.type = e_edgeB;\n        polygonAxis.index = i;\n        polygonAxis.separation = s;\n      }\n    }\n  }\n\n  if (polygonAxis.type != e_unknown && polygonAxis.separation > radius) {\n    return;\n  }\n\n  // Use hysteresis for jitter reduction.\n  var k_relativeTol = 0.98;\n  var k_absoluteTol = 0.001;\n\n  var primaryAxis;\n  if (polygonAxis.type == e_unknown) {\n    primaryAxis = edgeAxis;\n  } else if (polygonAxis.separation > k_relativeTol * edgeAxis.separation + k_absoluteTol) {\n    primaryAxis = polygonAxis;\n  } else {\n    primaryAxis = edgeAxis;\n  }\n\n  var ie = [ new Manifold.clipVertex(), new Manifold.clipVertex() ];\n\n  if (primaryAxis.type == e_edgeA) {\n    manifold.type = Manifold.e_faceA;\n\n    // Search for the polygon normal that is most anti-parallel to the edge\n    // normal.\n    var bestIndex = 0;\n    var bestValue = Vec2.dot(normal, polygonBA.normals[0]);\n    for (var i = 1; i < polygonBA.count; ++i) {\n      var value = Vec2.dot(normal, polygonBA.normals[i]);\n      if (value < bestValue) {\n        bestValue = value;\n        bestIndex = i;\n      }\n    }\n\n    var i1 = bestIndex;\n    var i2 = i1 + 1 < polygonBA.count ? i1 + 1 : 0;\n\n    ie[0].v = polygonBA.vertices[i1];\n    ie[0].id.cf.indexA = 0;\n    ie[0].id.cf.indexB = i1;\n    ie[0].id.cf.typeA = Manifold.e_face;\n    ie[0].id.cf.typeB = Manifold.e_vertex;\n\n    ie[1].v = polygonBA.vertices[i2];\n    ie[1].id.cf.indexA = 0;\n    ie[1].id.cf.indexB = i2;\n    ie[1].id.cf.typeA = Manifold.e_face;\n    ie[1].id.cf.typeB = Manifold.e_vertex;\n\n    if (front) {\n      rf.i1 = 0;\n      rf.i2 = 1;\n      rf.v1 = v1;\n      rf.v2 = v2;\n      rf.normal.set(normal1);\n    } else {\n      rf.i1 = 1;\n      rf.i2 = 0;\n      rf.v1 = v2;\n      rf.v2 = v1;\n      rf.normal.setMul(-1, normal1);\n    }\n  } else {\n    manifold.type = Manifold.e_faceB;\n\n    ie[0].v = v1;\n    ie[0].id.cf.indexA = 0;\n    ie[0].id.cf.indexB = primaryAxis.index;\n    ie[0].id.cf.typeA = Manifold.e_vertex;\n    ie[0].id.cf.typeB = Manifold.e_face;\n\n    ie[1].v = v2;\n    ie[1].id.cf.indexA = 0;\n    ie[1].id.cf.indexB = primaryAxis.index;\n    ie[1].id.cf.typeA = Manifold.e_vertex;\n    ie[1].id.cf.typeB = Manifold.e_face;\n\n    rf.i1 = primaryAxis.index;\n    rf.i2 = rf.i1 + 1 < polygonBA.count ? rf.i1 + 1 : 0;\n    rf.v1 = polygonBA.vertices[rf.i1];\n    rf.v2 = polygonBA.vertices[rf.i2];\n    rf.normal.set(polygonBA.normals[rf.i1]);\n  }\n\n  rf.sideNormal1.set(rf.normal.y, -rf.normal.x);\n  rf.sideNormal2.setMul(-1, rf.sideNormal1);\n  rf.sideOffset1 = Vec2.dot(rf.sideNormal1, rf.v1);\n  rf.sideOffset2 = Vec2.dot(rf.sideNormal2, rf.v2);\n\n  // Clip incident edge against extruded edge1 side edges.\n  var clipPoints1 = [ new Manifold.clipVertex(), new Manifold.clipVertex() ];\n  var clipPoints2 = [ new Manifold.clipVertex(), new Manifold.clipVertex() ];\n\n  var np;\n\n  // Clip to box side 1\n  np = Manifold.clipSegmentToLine(clipPoints1, ie, rf.sideNormal1, rf.sideOffset1, rf.i1);\n\n  if (np < Settings.maxManifoldPoints) {\n    return;\n  }\n\n  // Clip to negative box side 1\n  np = Manifold.clipSegmentToLine(clipPoints2, clipPoints1, rf.sideNormal2, rf.sideOffset2, rf.i2);\n\n  if (np < Settings.maxManifoldPoints) {\n    return;\n  }\n\n  // Now clipPoints2 contains the clipped points.\n  if (primaryAxis.type == e_edgeA) {\n    manifold.localNormal = Vec2.clone(rf.normal);\n    manifold.localPoint = Vec2.clone(rf.v1);\n  } else {\n    manifold.localNormal = Vec2.clone(polygonB.m_normals[rf.i1]);\n    manifold.localPoint = Vec2.clone(polygonB.m_vertices[rf.i1]);\n  }\n\n  var pointCount = 0;\n  for (var i = 0; i < Settings.maxManifoldPoints; ++i) {\n    var separation = Vec2.dot(rf.normal, Vec2.sub(clipPoints2[i].v, rf.v1));\n\n    if (separation <= radius) {\n      var cp = manifold.points[pointCount]; // ManifoldPoint\n\n      if (primaryAxis.type == e_edgeA) {\n        cp.localPoint = Transform.mulT(xf, clipPoints2[i].v);\n        cp.id = clipPoints2[i].id;\n      } else {\n        cp.localPoint = clipPoints2[i].v;\n        cp.id.cf.typeA = clipPoints2[i].id.cf.typeB;\n        cp.id.cf.typeB = clipPoints2[i].id.cf.typeA;\n        cp.id.cf.indexA = clipPoints2[i].id.cf.indexB;\n        cp.id.cf.indexB = clipPoints2[i].id.cf.indexA;\n      }\n\n      ++pointCount;\n    }\n  }\n\n  manifold.pointCount = pointCount;\n}\n","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nmodule.exports = DistanceJoint;\n\nvar options = require('../util/options');\nvar create = require('../util/create');\nvar Settings = require('../Settings');\n\nvar Math = require('../common/Math');\nvar Vec2 = require('../common/Vec2');\nvar Vec3 = require('../common/Vec3');\nvar Mat22 = require('../common/Mat22');\nvar Mat33 = require('../common/Mat33');\nvar Rot = require('../common/Rot');\nvar Sweep = require('../common/Sweep');\nvar Transform = require('../common/Transform');\nvar Velocity = require('../common/Velocity');\nvar Position = require('../common/Position');\n\nvar Joint = require('../Joint');\nvar Body = require('../Body');\n\nDistanceJoint.TYPE = 'distance-joint';\nJoint.TYPES[DistanceJoint.TYPE] = DistanceJoint;\n\nDistanceJoint._super = Joint;\nDistanceJoint.prototype = create(DistanceJoint._super.prototype);\n\n/**\n * @typedef {Object} DistanceJointDef\n *\n * Distance joint definition. This requires defining an anchor point on both\n * bodies and the non-zero length of the distance joint. The definition uses\n * local anchor points so that the initial configuration can violate the\n * constraint slightly. This helps when saving and loading a game. Warning: Do\n * not use a zero or short length.\n * \n * @prop {float} frequencyHz The mass-spring-damper frequency in Hertz. A value\n *       of 0 disables softness.\n * @prop {float} dampingRatio The damping ratio. 0 = no damping, 1 = critical\n *       damping.\n *\n * @prop {Vec2} def.localAnchorA The local anchor point relative to bodyA's origin.\n * @prop {Vec2} def.localAnchorB The local anchor point relative to bodyB's origin.\n * @prop {number} def.length Distance length.\n */\n\nvar DEFAULTS = {\n  frequencyHz : 0.0,\n  dampingRatio : 0.0\n};\n\n/**\n * A distance joint constrains two points on two bodies to remain at a fixed\n * distance from each other. You can view this as a massless, rigid rod.\n *\n * @param {DistanceJointDef} def\n * @param {Body} bodyA\n * @param {Body} bodyB\n * @param {Vec2} anchorA Anchor A in global coordination.\n * @param {Vec2} anchorB Anchor B in global coordination.\n */\nfunction DistanceJoint(def, bodyA, bodyB, anchorA, anchorB) {\n  if (!(this instanceof DistanceJoint)) {\n    return new DistanceJoint(def, bodyA, bodyB, anchorA, anchorB);\n  }\n\n  // order of constructor arguments is changed in v0.2\n  if (bodyB && anchorA && ('m_type' in anchorA) && ('x' in bodyB) && ('y' in bodyB)) {\n    var temp = bodyB;\n    bodyB = anchorA;\n    anchorA = temp;\n  }\n\n  def = options(def, DEFAULTS);\n  Joint.call(this, def, bodyA, bodyB);\n  bodyA = this.m_bodyA;\n  bodyB = this.m_bodyB;\n\n  this.m_type = DistanceJoint.TYPE;\n\n  // Solver shared\n  this.m_localAnchorA = anchorA ? bodyA.getLocalPoint(anchorA) : def.localAnchorA || Vec2.zero();\n  this.m_localAnchorB = anchorB ? bodyB.getLocalPoint(anchorB) : def.localAnchorB || Vec2.zero();\n  this.m_length = Math.isFinite(def.length) ? def.length :\n    Vec2.distance(bodyA.getWorldPoint(this.m_localAnchorA), bodyB.getWorldPoint(this.m_localAnchorB));\n  this.m_frequencyHz = def.frequencyHz;\n  this.m_dampingRatio = def.dampingRatio;\n  this.m_impulse = 0.0;\n  this.m_gamma = 0.0;\n  this.m_bias = 0.0;\n\n  // Solver temp\n  this.m_u; // Vec2\n  this.m_rA; // Vec2\n  this.m_rB; // Vec2\n  this.m_localCenterA; // Vec2\n  this.m_localCenterB; // Vec2\n  this.m_invMassA;\n  this.m_invMassB;\n  this.m_invIA;\n  this.m_invIB;\n  this.m_mass;\n\n  // 1-D constrained system\n  // m (v2 - v1) = lambda\n  // v2 + (beta/h) * x1 + gamma * lambda = 0, gamma has units of inverse mass.\n  // x2 = x1 + h * v2\n\n  // 1-D mass-damper-spring system\n  // m (v2 - v1) + h * d * v2 + h * k *\n\n  // C = norm(p2 - p1) - L\n  // u = (p2 - p1) / norm(p2 - p1)\n  // Cdot = dot(u, v2 + cross(w2, r2) - v1 - cross(w1, r1))\n  // J = [-u -cross(r1, u) u cross(r2, u)]\n  // K = J * invM * JT\n  // = invMass1 + invI1 * cross(r1, u)^2 + invMass2 + invI2 * cross(r2, u)^2\n};\n\nDistanceJoint.prototype._serialize = function() {\n  return {\n    type: this.m_type,\n    bodyA: this.m_bodyA,\n    bodyB: this.m_bodyB,\n    collideConnected: this.m_collideConnected,\n\n    frequencyHz: this.m_frequencyHz,\n    dampingRatio: this.m_dampingRatio,\n\n    localAnchorA: this.m_localAnchorA,\n    localAnchorB: this.m_localAnchorB,\n    length: this.m_length,\n\n    impulse: this.m_impulse,\n    gamma: this.m_gamma,\n    bias: this.m_bias,\n  };\n};\n\nDistanceJoint._deserialize = function(data, world, restore) {\n  data.bodyA = restore(Body, data.bodyA, world);\n  data.bodyB = restore(Body, data.bodyB, world);\n  var joint = new DistanceJoint(data);\n  return joint;\n};\n\n/**\n * The local anchor point relative to bodyA's origin.\n */\nDistanceJoint.prototype.getLocalAnchorA = function() {\n  return this.m_localAnchorA;\n}\n\n/**\n * The local anchor point relative to bodyB's origin.\n */\nDistanceJoint.prototype.getLocalAnchorB = function() {\n  return this.m_localAnchorB;\n}\n\n/**\n * Set/get the natural length. Manipulating the length can lead to non-physical\n * behavior when the frequency is zero.\n */\nDistanceJoint.prototype.setLength = function(length) {\n  this.m_length = length;\n}\n\nDistanceJoint.prototype.getLength = function() {\n  return this.m_length;\n}\n\nDistanceJoint.prototype.setFrequency = function(hz) {\n  this.m_frequencyHz = hz;\n}\n\nDistanceJoint.prototype.getFrequency = function() {\n  return this.m_frequencyHz;\n}\n\nDistanceJoint.prototype.setDampingRatio = function(ratio) {\n  this.m_dampingRatio = ratio;\n}\n\nDistanceJoint.prototype.getDampingRatio = function() {\n  return this.m_dampingRatio;\n}\n\nDistanceJoint.prototype.getAnchorA = function() {\n  return this.m_bodyA.getWorldPoint(this.m_localAnchorA);\n}\n\nDistanceJoint.prototype.getAnchorB = function() {\n  return this.m_bodyB.getWorldPoint(this.m_localAnchorB);\n}\n\nDistanceJoint.prototype.getReactionForce = function(inv_dt) {\n  return Vec2.mul(this.m_impulse, this.m_u).mul(inv_dt);\n}\n\nDistanceJoint.prototype.getReactionTorque = function(inv_dt) {\n  return 0.0;\n}\n\nDistanceJoint.prototype.initVelocityConstraints = function(step) {\n  this.m_localCenterA = this.m_bodyA.m_sweep.localCenter;\n  this.m_localCenterB = this.m_bodyB.m_sweep.localCenter;\n  this.m_invMassA = this.m_bodyA.m_invMass;\n  this.m_invMassB = this.m_bodyB.m_invMass;\n  this.m_invIA = this.m_bodyA.m_invI;\n  this.m_invIB = this.m_bodyB.m_invI;\n\n  var cA = this.m_bodyA.c_position.c;\n  var aA = this.m_bodyA.c_position.a;\n  var vA = this.m_bodyA.c_velocity.v;\n  var wA = this.m_bodyA.c_velocity.w;\n\n  var cB = this.m_bodyB.c_position.c;\n  var aB = this.m_bodyB.c_position.a;\n  var vB = this.m_bodyB.c_velocity.v;\n  var wB = this.m_bodyB.c_velocity.w;\n\n  var qA = Rot.neo(aA);\n  var qB = Rot.neo(aB);\n\n  this.m_rA = Rot.mulVec2(qA, Vec2.sub(this.m_localAnchorA, this.m_localCenterA));\n  this.m_rB = Rot.mulVec2(qB, Vec2.sub(this.m_localAnchorB, this.m_localCenterB));\n  this.m_u = Vec2.sub(Vec2.add(cB, this.m_rB), Vec2.add(cA, this.m_rA));\n\n  // Handle singularity.\n  var length = this.m_u.length();\n  if (length > Settings.linearSlop) {\n    this.m_u.mul(1.0 / length);\n  } else {\n    this.m_u.set(0.0, 0.0);\n  }\n\n  var crAu = Vec2.cross(this.m_rA, this.m_u);\n  var crBu = Vec2.cross(this.m_rB, this.m_u);\n  var invMass = this.m_invMassA + this.m_invIA * crAu * crAu + this.m_invMassB\n      + this.m_invIB * crBu * crBu;\n\n  // Compute the effective mass matrix.\n  this.m_mass = invMass != 0.0 ? 1.0 / invMass : 0.0;\n\n  if (this.m_frequencyHz > 0.0) {\n    var C = length - this.m_length;\n\n    // Frequency\n    var omega = 2.0 * Math.PI * this.m_frequencyHz;\n\n    // Damping coefficient\n    var d = 2.0 * this.m_mass * this.m_dampingRatio * omega;\n\n    // Spring stiffness\n    var k = this.m_mass * omega * omega;\n\n    // magic formulas\n    var h = step.dt;\n    this.m_gamma = h * (d + h * k);\n    this.m_gamma = this.m_gamma != 0.0 ? 1.0 / this.m_gamma : 0.0;\n    this.m_bias = C * h * k * this.m_gamma;\n\n    invMass += this.m_gamma;\n    this.m_mass = invMass != 0.0 ? 1.0 / invMass : 0.0;\n  } else {\n    this.m_gamma = 0.0;\n    this.m_bias = 0.0;\n  }\n\n  if (step.warmStarting) {\n    // Scale the impulse to support a variable time step.\n    this.m_impulse *= step.dtRatio;\n\n    var P = Vec2.mul(this.m_impulse, this.m_u);\n\n    vA.subMul(this.m_invMassA, P);\n    wA -= this.m_invIA * Vec2.cross(this.m_rA, P);\n\n    vB.addMul(this.m_invMassB, P);\n    wB += this.m_invIB * Vec2.cross(this.m_rB, P);\n\n  } else {\n    this.m_impulse = 0.0;\n  }\n\n  this.m_bodyA.c_velocity.v.set(vA);\n  this.m_bodyA.c_velocity.w = wA;\n  this.m_bodyB.c_velocity.v.set(vB);\n  this.m_bodyB.c_velocity.w = wB;\n}\n\nDistanceJoint.prototype.solveVelocityConstraints = function(step) {\n  var vA = this.m_bodyA.c_velocity.v;\n  var wA = this.m_bodyA.c_velocity.w;\n  var vB = this.m_bodyB.c_velocity.v;\n  var wB = this.m_bodyB.c_velocity.w;\n\n  // Cdot = dot(u, v + cross(w, r))\n  var vpA = Vec2.add(vA, Vec2.cross(wA, this.m_rA));\n  var vpB = Vec2.add(vB, Vec2.cross(wB, this.m_rB));\n  var Cdot = Vec2.dot(this.m_u, vpB) - Vec2.dot(this.m_u, vpA);\n\n  var impulse = -this.m_mass\n      * (Cdot + this.m_bias + this.m_gamma * this.m_impulse);\n  this.m_impulse += impulse;\n\n  var P = Vec2.mul(impulse, this.m_u);\n  vA.subMul(this.m_invMassA, P);\n  wA -= this.m_invIA * Vec2.cross(this.m_rA, P);\n  vB.addMul(this.m_invMassB, P);\n  wB += this.m_invIB * Vec2.cross(this.m_rB, P);\n\n  this.m_bodyA.c_velocity.v.set(vA);\n  this.m_bodyA.c_velocity.w = wA;\n  this.m_bodyB.c_velocity.v.set(vB);\n  this.m_bodyB.c_velocity.w = wB;\n}\n\nDistanceJoint.prototype.solvePositionConstraints = function(step) {\n  if (this.m_frequencyHz > 0.0) {\n    // There is no position correction for soft distance constraints.\n    return true;\n  }\n\n  var cA = this.m_bodyA.c_position.c;\n  var aA = this.m_bodyA.c_position.a;\n  var cB = this.m_bodyB.c_position.c;\n  var aB = this.m_bodyB.c_position.a;\n\n  var qA = Rot.neo(aA);\n  var qB = Rot.neo(aB);\n\n  var rA = Rot.mulSub(qA, this.m_localAnchorA, this.m_localCenterA);\n  var rB = Rot.mulSub(qB, this.m_localAnchorB, this.m_localCenterB);\n  var u = Vec2.sub(Vec2.add(cB, rB), Vec2.add(cA, rA));\n\n  var length = u.normalize();\n  var C = length - this.m_length;\n  C = Math\n      .clamp(C, -Settings.maxLinearCorrection, Settings.maxLinearCorrection);\n\n  var impulse = -this.m_mass * C;\n  var P = Vec2.mul(impulse, u);\n\n  cA.subMul(this.m_invMassA, P);\n  aA -= this.m_invIA * Vec2.cross(rA, P);\n  cB.addMul(this.m_invMassB, P);\n  aB += this.m_invIB * Vec2.cross(rB, P);\n\n  this.m_bodyA.c_position.c.set(cA);\n  this.m_bodyA.c_position.a = aA;\n  this.m_bodyB.c_position.c.set(cB);\n  this.m_bodyB.c_position.a = aB;\n\n  return Math.abs(C) < Settings.linearSlop;\n}\n","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nmodule.exports = FrictionJoint;\n\nvar common = require('../util/common');\nvar options = require('../util/options');\nvar create = require('../util/create');\nvar Settings = require('../Settings');\n\nvar Math = require('../common/Math');\nvar Vec2 = require('../common/Vec2');\nvar Vec3 = require('../common/Vec3');\nvar Mat22 = require('../common/Mat22');\nvar Mat33 = require('../common/Mat33');\nvar Rot = require('../common/Rot');\nvar Sweep = require('../common/Sweep');\nvar Transform = require('../common/Transform');\nvar Velocity = require('../common/Velocity');\nvar Position = require('../common/Position');\n\nvar Joint = require('../Joint');\n\nFrictionJoint.TYPE = 'friction-joint';\n\nFrictionJoint._super = Joint;\nFrictionJoint.prototype = create(FrictionJoint._super.prototype);\n\n/**\n * @typedef {Object} FrictionJointDef\n *\n * Friction joint definition.\n * \n * @prop {float} maxForce The maximum friction force in N.\n * @prop {float} maxTorque The maximum friction torque in N-m.\n *\n * @prop {Vec2} localAnchorA The local anchor point relative to bodyA's origin.\n * @prop {Vec2} localAnchorB The local anchor point relative to bodyB's origin.\n */\n\nvar DEFAULTS = {\n  maxForce : 0.0,\n  maxTorque : 0.0,\n};\n\n/**\n * Friction joint. This is used for top-down friction. It provides 2D\n * translational friction and angular friction.\n *\n * @param {FrictionJointDef} def\n * @param {Body} bodyA\n * @param {Body} bodyB\n * @param {Vec2} anchor Anchor in global coordination.\n */\nfunction FrictionJoint(def, bodyA, bodyB, anchor) {\n  if (!(this instanceof FrictionJoint)) {\n    return new FrictionJoint(def, bodyA, bodyB, anchor);\n  }\n\n  def = options(def, DEFAULTS);\n  Joint.call(this, def, bodyA, bodyB);\n  bodyA = this.m_bodyA;\n  bodyB = this.m_bodyB;\n\n  this.m_type = FrictionJoint.TYPE;\n\n  this.m_localAnchorA = anchor ? bodyA.getLocalPoint(anchor) : def.localAnchorA || Vec2.zero();\n  this.m_localAnchorB = anchor ? bodyB.getLocalPoint(anchor) : def.localAnchorB || Vec2.zero();\n\n  // Solver shared\n  this.m_linearImpulse = Vec2.zero();\n  this.m_angularImpulse = 0.0;\n  this.m_maxForce = def.maxForce;\n  this.m_maxTorque = def.maxTorque;\n\n  // Solver temp\n  this.m_rA; // Vec2\n  this.m_rB; // Vec2\n  this.m_localCenterA; // Vec2\n  this.m_localCenterB; // Vec2\n  this.m_invMassA; // float\n  this.m_invMassB; // float\n  this.m_invIA; // float\n  this.m_invIB; // float\n  this.m_linearMass; // Mat22\n  this.m_angularMass; // float\n\n  // Point-to-point constraint\n  // Cdot = v2 - v1\n  // = v2 + cross(w2, r2) - v1 - cross(w1, r1)\n  // J = [-I -r1_skew I r2_skew ]\n  // Identity used:\n  // w k % (rx i + ry j) = w * (-ry i + rx j)\n\n  // Angle constraint\n  // Cdot = w2 - w1\n  // J = [0 0 -1 0 0 1]\n  // K = invI1 + invI2\n}\n\n/**\n * The local anchor point relative to bodyA's origin.\n */\nFrictionJoint.prototype.getLocalAnchorA = function() {\n  return this.m_localAnchorA;\n}\n\n/**\n * The local anchor point relative to bodyB's origin.\n */\nFrictionJoint.prototype.getLocalAnchorB = function() {\n  return this.m_localAnchorB;\n}\n\n/**\n * Set the maximum friction force in N.\n */\nFrictionJoint.prototype.setMaxForce = function(force) {\n  _ASSERT && common.assert(Math.isFinite(force) && force >= 0.0);\n  this.m_maxForce = force;\n}\n\n/**\n * Get the maximum friction force in N.\n */\nFrictionJoint.prototype.getMaxForce = function() {\n  return this.m_maxForce;\n}\n\n/**\n * Set the maximum friction torque in N*m.\n */\nFrictionJoint.prototype.setMaxTorque = function(torque) {\n  _ASSERT && common.assert(Math.isFinite(torque) && torque >= 0.0);\n  this.m_maxTorque = torque;\n}\n\n/**\n * Get the maximum friction torque in N*m.\n */\nFrictionJoint.prototype.getMaxTorque = function() {\n  return this.m_maxTorque;\n}\n\nFrictionJoint.prototype.getAnchorA = function() {\n  return this.m_bodyA.getWorldPoint(this.m_localAnchorA);\n}\n\nFrictionJoint.prototype.getAnchorB = function() {\n  return this.m_bodyB.getWorldPoint(this.m_localAnchorB);\n}\n\nFrictionJoint.prototype.getReactionForce = function(inv_dt) {\n  return Vec2.mul(inv_dt, this.m_linearImpulse);\n}\n\nFrictionJoint.prototype.getReactionTorque = function(inv_dt) {\n  return inv_dt * this.m_angularImpulse;\n}\n\nFrictionJoint.prototype.initVelocityConstraints = function(step) {\n  this.m_localCenterA = this.m_bodyA.m_sweep.localCenter;\n  this.m_localCenterB = this.m_bodyB.m_sweep.localCenter;\n  this.m_invMassA = this.m_bodyA.m_invMass;\n  this.m_invMassB = this.m_bodyB.m_invMass;\n  this.m_invIA = this.m_bodyA.m_invI;\n  this.m_invIB = this.m_bodyB.m_invI;\n\n  var aA = this.m_bodyA.c_position.a;\n  var vA = this.m_bodyA.c_velocity.v;\n  var wA = this.m_bodyA.c_velocity.w;\n\n  var aB = this.m_bodyB.c_position.a;\n  var vB = this.m_bodyB.c_velocity.v;\n  var wB = this.m_bodyB.c_velocity.w;\n\n  var qA = Rot.neo(aA), qB = Rot.neo(aB);\n\n  // Compute the effective mass matrix.\n  this.m_rA = Rot.mulVec2(qA, Vec2.sub(this.m_localAnchorA, this.m_localCenterA));\n  this.m_rB = Rot.mulVec2(qB, Vec2.sub(this.m_localAnchorB, this.m_localCenterB));\n\n  // J = [-I -r1_skew I r2_skew]\n  // [ 0 -1 0 1]\n  // r_skew = [-ry; rx]\n\n  // Matlab\n  // K = [ mA+r1y^2*iA+mB+r2y^2*iB, -r1y*iA*r1x-r2y*iB*r2x, -r1y*iA-r2y*iB]\n  // [ -r1y*iA*r1x-r2y*iB*r2x, mA+r1x^2*iA+mB+r2x^2*iB, r1x*iA+r2x*iB]\n  // [ -r1y*iA-r2y*iB, r1x*iA+r2x*iB, iA+iB]\n\n  var mA = this.m_invMassA, mB = this.m_invMassB; // float\n  var iA = this.m_invIA, iB = this.m_invIB; // float\n\n  var K = new Mat22()\n  K.ex.x = mA + mB + iA * this.m_rA.y * this.m_rA.y + iB * this.m_rB.y\n      * this.m_rB.y;\n  K.ex.y = -iA * this.m_rA.x * this.m_rA.y - iB * this.m_rB.x * this.m_rB.y;\n  K.ey.x = K.ex.y;\n  K.ey.y = mA + mB + iA * this.m_rA.x * this.m_rA.x + iB * this.m_rB.x\n      * this.m_rB.x;\n\n  this.m_linearMass = K.getInverse();\n\n  this.m_angularMass = iA + iB;\n  if (this.m_angularMass > 0.0) {\n    this.m_angularMass = 1.0 / this.m_angularMass;\n  }\n\n  if (step.warmStarting) {\n    // Scale impulses to support a variable time step.\n    this.m_linearImpulse.mul(step.dtRatio);\n    this.m_angularImpulse *= step.dtRatio;\n\n    var P = Vec2.neo(this.m_linearImpulse.x, this.m_linearImpulse.y);\n\n    vA.subMul(mA, P);\n    wA -= iA * (Vec2.cross(this.m_rA, P) + this.m_angularImpulse);\n\n    vB.addMul(mB, P);\n    wB += iB * (Vec2.cross(this.m_rB, P) + this.m_angularImpulse);\n\n  } else {\n    this.m_linearImpulse.setZero();\n    this.m_angularImpulse = 0.0;\n  }\n\n  this.m_bodyA.c_velocity.v = vA;\n  this.m_bodyA.c_velocity.w = wA;\n  this.m_bodyB.c_velocity.v = vB;\n  this.m_bodyB.c_velocity.w = wB;\n}\n\nFrictionJoint.prototype.solveVelocityConstraints = function(step) {\n  var vA = this.m_bodyA.c_velocity.v;\n  var wA = this.m_bodyA.c_velocity.w;\n  var vB = this.m_bodyB.c_velocity.v;\n  var wB = this.m_bodyB.c_velocity.w;\n\n  var mA = this.m_invMassA, mB = this.m_invMassB; // float\n  var iA = this.m_invIA, iB = this.m_invIB; // float\n\n  var h = step.dt; // float\n\n  // Solve angular friction\n  {\n    var Cdot = wB - wA; // float\n    var impulse = -this.m_angularMass * Cdot; // float\n\n    var oldImpulse = this.m_angularImpulse; // float\n    var maxImpulse = h * this.m_maxTorque; // float\n    this.m_angularImpulse = Math.clamp(this.m_angularImpulse + impulse,\n        -maxImpulse, maxImpulse);\n    impulse = this.m_angularImpulse - oldImpulse;\n\n    wA -= iA * impulse;\n    wB += iB * impulse;\n  }\n\n  // Solve linear friction\n  {\n    var Cdot = Vec2.sub(Vec2.add(vB, Vec2.cross(wB, this.m_rB)), Vec2.add(vA,\n        Vec2.cross(wA, this.m_rA))); // Vec2\n\n    var impulse = Vec2.neg(Mat22.mulVec2(this.m_linearMass, Cdot)); // Vec2\n    var oldImpulse = this.m_linearImpulse; // Vec2\n    this.m_linearImpulse.add(impulse);\n\n    var maxImpulse = h * this.m_maxForce; // float\n\n    if (this.m_linearImpulse.lengthSquared() > maxImpulse * maxImpulse) {\n      this.m_linearImpulse.normalize();\n      this.m_linearImpulse.mul(maxImpulse);\n    }\n\n    impulse = Vec2.sub(this.m_linearImpulse, oldImpulse);\n\n    vA.subMul(mA, impulse);\n    wA -= iA * Vec2.cross(this.m_rA, impulse);\n\n    vB.addMul(mB, impulse);\n    wB += iB * Vec2.cross(this.m_rB, impulse);\n  }\n\n  this.m_bodyA.c_velocity.v = vA;\n  this.m_bodyA.c_velocity.w = wA;\n  this.m_bodyB.c_velocity.v = vB;\n  this.m_bodyB.c_velocity.w = wB;\n}\n\nFrictionJoint.prototype.solvePositionConstraints = function(step) {\n  return true;\n}\n","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nmodule.exports = GearJoint;\n\nvar common = require('../util/common');\nvar options = require('../util/options');\nvar create = require('../util/create');\nvar Settings = require('../Settings');\n\nvar Math = require('../common/Math');\nvar Vec2 = require('../common/Vec2');\nvar Vec3 = require('../common/Vec3');\nvar Mat22 = require('../common/Mat22');\nvar Mat33 = require('../common/Mat33');\nvar Rot = require('../common/Rot');\nvar Sweep = require('../common/Sweep');\nvar Transform = require('../common/Transform');\nvar Velocity = require('../common/Velocity');\nvar Position = require('../common/Position');\n\nvar Joint = require('../Joint');\n\nvar RevoluteJoint = require('./RevoluteJoint');\nvar PrismaticJoint = require('./PrismaticJoint');\n\nGearJoint.TYPE = 'gear-joint';\n\nGearJoint._super = Joint;\nGearJoint.prototype = create(GearJoint._super.prototype);\n\n/**\n * @typedef {Object} GearJointDef\n *\n * Gear joint definition.\n *\n * @prop {float} ratio The gear ratio. See GearJoint for explanation.\n *\n * @prop {RevoluteJoint|PrismaticJoint} joint1 The first revolute/prismatic\n *          joint attached to the gear joint.\n * @prop {PrismaticJoint|RevoluteJoint} joint2 The second prismatic/revolute\n *          joint attached to the gear joint.\n */\n\nvar DEFAULTS = {\n  ratio : 1.0\n};\n\n/**\n * A gear joint is used to connect two joints together. Either joint can be a\n * revolute or prismatic joint. You specify a gear ratio to bind the motions\n * together: coordinate1 + ratio * coordinate2 = constant\n * \n * The ratio can be negative or positive. If one joint is a revolute joint and\n * the other joint is a prismatic joint, then the ratio will have units of\n * length or units of 1/length. Warning: You have to manually destroy the gear\n * joint if joint1 or joint2 is destroyed.\n * \n * This definition requires two existing revolute or prismatic joints (any\n * combination will work).\n *\n * @param {GearJointDef} def\n * @param {Body} bodyA\n * @param {Body} bodyB\n */\nfunction GearJoint(def, bodyA, bodyB, joint1, joint2, ratio) {\n  if (!(this instanceof GearJoint)) {\n    return new GearJoint(def, bodyA, bodyB, joint1, joint2, ratio);\n  }\n\n  def = options(def, DEFAULTS);\n  Joint.call(this, def, bodyA, bodyB);\n  bodyA = this.m_bodyA;\n  bodyB = this.m_bodyB;\n\n  this.m_type = GearJoint.TYPE;\n\n  _ASSERT && common.assert(joint1.m_type === RevoluteJoint.TYPE\n      || joint1.m_type === PrismaticJoint.TYPE);\n  _ASSERT && common.assert(joint2.m_type === RevoluteJoint.TYPE\n      || joint2.m_type === PrismaticJoint.TYPE);\n\n  this.m_joint1 = joint1 ? joint1 : def.joint1;\n  this.m_joint2 = joint2 ? joint2 : def.joint2;\n  this.m_ratio = Math.isFinite(ratio) ? ratio : def.ratio;\n\n  this.m_type1 = this.m_joint1.getType();\n  this.m_type2 = this.m_joint2.getType();\n\n  // joint1 connects body A to body C\n  // joint2 connects body B to body D\n\n  var coordinateA, coordinateB; // float\n\n  // TODO_ERIN there might be some problem with the joint edges in Joint.\n\n  this.m_bodyC = this.m_joint1.getBodyA();\n  this.m_bodyA = this.m_joint1.getBodyB();\n\n  // Get geometry of joint1\n  var xfA = this.m_bodyA.m_xf;\n  var aA = this.m_bodyA.m_sweep.a;\n  var xfC = this.m_bodyC.m_xf;\n  var aC = this.m_bodyC.m_sweep.a;\n\n  if (this.m_type1 === RevoluteJoint.TYPE) {\n    var revolute = this.m_joint1;// RevoluteJoint\n    this.m_localAnchorC = revolute.m_localAnchorA;\n    this.m_localAnchorA = revolute.m_localAnchorB;\n    this.m_referenceAngleA = revolute.m_referenceAngle;\n    this.m_localAxisC = Vec2.zero();\n\n    coordinateA = aA - aC - this.m_referenceAngleA;\n  } else {\n    var prismatic = this.m_joint1; // PrismaticJoint\n    this.m_localAnchorC = prismatic.m_localAnchorA;\n    this.m_localAnchorA = prismatic.m_localAnchorB;\n    this.m_referenceAngleA = prismatic.m_referenceAngle;\n    this.m_localAxisC = prismatic.m_localXAxisA;\n\n    var pC = this.m_localAnchorC;\n    var pA = Rot.mulTVec2(xfC.q, Vec2.add(Rot.mul(xfA.q, this.m_localAnchorA), Vec2.sub(xfA.p, xfC.p)));\n    coordinateA = Vec2.dot(pA, this.m_localAxisC) - Vec2.dot(pC, this.m_localAxisC);\n  }\n\n  this.m_bodyD = this.m_joint2.getBodyA();\n  this.m_bodyB = this.m_joint2.getBodyB();\n\n  // Get geometry of joint2\n  var xfB = this.m_bodyB.m_xf;\n  var aB = this.m_bodyB.m_sweep.a;\n  var xfD = this.m_bodyD.m_xf;\n  var aD = this.m_bodyD.m_sweep.a;\n\n  if (this.m_type2 === RevoluteJoint.TYPE) {\n    var revolute = this.m_joint2; // RevoluteJoint\n    this.m_localAnchorD = revolute.m_localAnchorA;\n    this.m_localAnchorB = revolute.m_localAnchorB;\n    this.m_referenceAngleB = revolute.m_referenceAngle;\n    this.m_localAxisD = Vec2.zero();\n\n    coordinateB = aB - aD - this.m_referenceAngleB;\n  } else {\n    var prismatic = this.m_joint2; // PrismaticJoint\n    this.m_localAnchorD = prismatic.m_localAnchorA;\n    this.m_localAnchorB = prismatic.m_localAnchorB;\n    this.m_referenceAngleB = prismatic.m_referenceAngle;\n    this.m_localAxisD = prismatic.m_localXAxisA;\n\n    var pD = this.m_localAnchorD;\n    var pB = Rot.mulTVec2(xfD.q, Vec2.add(Rot.mul(xfB.q, this.m_localAnchorB), Vec2.sub(xfB.p, xfD.p)));\n    coordinateB = Vec2.dot(pB, this.m_localAxisD) - Vec2.dot(pD, this.m_localAxisD);\n  }\n\n  this.m_constant = coordinateA + this.m_ratio * coordinateB;\n\n  this.m_impulse = 0.0;\n\n  // Solver temp\n  this.m_lcA, this.m_lcB, this.m_lcC, this.m_lcD; // Vec2\n  this.m_mA, this.m_mB, this.m_mC, this.m_mD; // float\n  this.m_iA, this.m_iB, this.m_iC, this.m_iD; // float\n  this.m_JvAC, this.m_JvBD; // Vec2\n  this.m_JwA, this.m_JwB, this.m_JwC, this.m_JwD; // float\n  this.m_mass; // float\n\n  // Gear Joint:\n  // C0 = (coordinate1 + ratio * coordinate2)_initial\n  // C = (coordinate1 + ratio * coordinate2) - C0 = 0\n  // J = [J1 ratio * J2]\n  // K = J * invM * JT\n  // = J1 * invM1 * J1T + ratio * ratio * J2 * invM2 * J2T\n  //\n  // Revolute:\n  // coordinate = rotation\n  // Cdot = angularVelocity\n  // J = [0 0 1]\n  // K = J * invM * JT = invI\n  //\n  // Prismatic:\n  // coordinate = dot(p - pg, ug)\n  // Cdot = dot(v + cross(w, r), ug)\n  // J = [ug cross(r, ug)]\n  // K = J * invM * JT = invMass + invI * cross(r, ug)^2\n};\n\n/**\n * Get the first joint.\n */\nGearJoint.prototype.getJoint1 = function() {\n  return this.m_joint1;\n}\n\n/**\n * Get the second joint.\n */\nGearJoint.prototype.getJoint2 = function() {\n  return this.m_joint2;\n}\n\n/**\n * Set/Get the gear ratio.\n */\nGearJoint.prototype.setRatio = function(ratio) {\n  _ASSERT && common.assert(Math.isFinite(ratio));\n  this.m_ratio = ratio;\n}\n\nGearJoint.prototype.getRatio = function() {\n  return this.m_ratio;\n}\n\nGearJoint.prototype.getAnchorA = function() {\n  return this.m_bodyA.getWorldPoint(this.m_localAnchorA);\n}\n\nGearJoint.prototype.getAnchorB = function() {\n  return this.m_bodyB.getWorldPoint(this.m_localAnchorB);\n}\n\nGearJoint.prototype.getReactionForce = function(inv_dt) {\n  return Vec2.mul(this.m_impulse, this.m_JvAC).mul(inv_dt);\n}\n\nGearJoint.prototype.getReactionTorque = function(inv_dt) {\n  var L = this.m_impulse * this.m_JwA; // float\n  return inv_dt * L;\n}\n\nGearJoint.prototype.initVelocityConstraints = function(step) {\n  this.m_lcA = this.m_bodyA.m_sweep.localCenter;\n  this.m_lcB = this.m_bodyB.m_sweep.localCenter;\n  this.m_lcC = this.m_bodyC.m_sweep.localCenter;\n  this.m_lcD = this.m_bodyD.m_sweep.localCenter;\n  this.m_mA = this.m_bodyA.m_invMass;\n  this.m_mB = this.m_bodyB.m_invMass;\n  this.m_mC = this.m_bodyC.m_invMass;\n  this.m_mD = this.m_bodyD.m_invMass;\n  this.m_iA = this.m_bodyA.m_invI;\n  this.m_iB = this.m_bodyB.m_invI;\n  this.m_iC = this.m_bodyC.m_invI;\n  this.m_iD = this.m_bodyD.m_invI;\n\n  var aA = this.m_bodyA.c_position.a;\n  var vA = this.m_bodyA.c_velocity.v;\n  var wA = this.m_bodyA.c_velocity.w;\n\n  var aB = this.m_bodyB.c_position.a;\n  var vB = this.m_bodyB.c_velocity.v;\n  var wB = this.m_bodyB.c_velocity.w;\n\n  var aC = this.m_bodyC.c_position.a;\n  var vC = this.m_bodyC.c_velocity.v;\n  var wC = this.m_bodyC.c_velocity.w;\n\n  var aD = this.m_bodyD.c_position.a;\n  var vD = this.m_bodyD.c_velocity.v;\n  var wD = this.m_bodyD.c_velocity.w;\n\n  var qA = Rot.neo(aA);\n  var qB = Rot.neo(aB);\n  var qC = Rot.neo(aC);\n  var qD = Rot.neo(aD);\n\n  this.m_mass = 0.0;\n\n  if (this.m_type1 == RevoluteJoint.TYPE) {\n    this.m_JvAC = Vec2.zero();\n    this.m_JwA = 1.0;\n    this.m_JwC = 1.0;\n    this.m_mass += this.m_iA + this.m_iC;\n  } else {\n    var u = Rot.mulVec2(qC, this.m_localAxisC); // Vec2\n    var rC = Rot.mulSub(qC, this.m_localAnchorC, this.m_lcC); // Vec2\n    var rA = Rot.mulSub(qA, this.m_localAnchorA, this.m_lcA); // Vec2\n    this.m_JvAC = u;\n    this.m_JwC = Vec2.cross(rC, u);\n    this.m_JwA = Vec2.cross(rA, u);\n    this.m_mass += this.m_mC + this.m_mA + this.m_iC * this.m_JwC * this.m_JwC + this.m_iA * this.m_JwA * this.m_JwA;\n  }\n\n  if (this.m_type2 == RevoluteJoint.TYPE) {\n    this.m_JvBD = Vec2.zero();\n    this.m_JwB = this.m_ratio;\n    this.m_JwD = this.m_ratio;\n    this.m_mass += this.m_ratio * this.m_ratio * (this.m_iB + this.m_iD);\n  } else {\n    var u = Rot.mulVec2(qD, this.m_localAxisD); // Vec2\n    var rD = Rot.mulSub(qD, this.m_localAnchorD, this.m_lcD); // Vec2\n    var rB = Rot.mulSub(qB, this.m_localAnchorB, this.m_lcB); // Vec2\n    this.m_JvBD = Vec2.mul(this.m_ratio, u);\n    this.m_JwD = this.m_ratio * Vec2.cross(rD, u);\n    this.m_JwB = this.m_ratio * Vec2.cross(rB, u);\n    this.m_mass += this.m_ratio * this.m_ratio * (this.m_mD + this.m_mB) + this.m_iD * this.m_JwD * this.m_JwD + this.m_iB * this.m_JwB * this.m_JwB;\n  }\n\n  // Compute effective mass.\n  this.m_mass = this.m_mass > 0.0 ? 1.0 / this.m_mass : 0.0;\n\n  if (step.warmStarting) {\n    vA.addMul(this.m_mA * this.m_impulse, this.m_JvAC);\n    wA += this.m_iA * this.m_impulse * this.m_JwA;\n    \n    vB.addMul(this.m_mB * this.m_impulse, this.m_JvBD);\n    wB += this.m_iB * this.m_impulse * this.m_JwB;\n    \n    vC.subMul(this.m_mC * this.m_impulse, this.m_JvAC);\n    wC -= this.m_iC * this.m_impulse * this.m_JwC;\n  \n    vD.subMul(this.m_mD * this.m_impulse, this.m_JvBD);\n    wD -= this.m_iD * this.m_impulse * this.m_JwD;\n\n  } else {\n    this.m_impulse = 0.0;\n  }\n\n  this.m_bodyA.c_velocity.v.set(vA);\n  this.m_bodyA.c_velocity.w = wA;\n  this.m_bodyB.c_velocity.v.set(vB);\n  this.m_bodyB.c_velocity.w = wB;\n  this.m_bodyC.c_velocity.v.set(vC);\n  this.m_bodyC.c_velocity.w = wC;\n  this.m_bodyD.c_velocity.v.set(vD);\n  this.m_bodyD.c_velocity.w = wD;\n}\n\nGearJoint.prototype.solveVelocityConstraints = function(step) {\n  var vA = this.m_bodyA.c_velocity.v;\n  var wA = this.m_bodyA.c_velocity.w;\n  var vB = this.m_bodyB.c_velocity.v;\n  var wB = this.m_bodyB.c_velocity.w;\n  var vC = this.m_bodyC.c_velocity.v;\n  var wC = this.m_bodyC.c_velocity.w;\n  var vD = this.m_bodyD.c_velocity.v;\n  var wD = this.m_bodyD.c_velocity.w;\n\n  var Cdot = Vec2.dot(this.m_JvAC, vA) - Vec2.dot(this.m_JvAC, vC)\n      + Vec2.dot(this.m_JvBD, vB) - Vec2.dot(this.m_JvBD, vD); // float\n  Cdot += (this.m_JwA * wA - this.m_JwC * wC)\n      + (this.m_JwB * wB - this.m_JwD * wD);\n\n  var impulse = -this.m_mass * Cdot; // float\n  this.m_impulse += impulse;\n\n  vA.addMul(this.m_mA * impulse, this.m_JvAC);\n  wA += this.m_iA * impulse * this.m_JwA;\n  vB.addMul(this.m_mB * impulse, this.m_JvBD);\n  wB += this.m_iB * impulse * this.m_JwB;\n  vC.subMul(this.m_mC * impulse, this.m_JvAC);\n  wC -= this.m_iC * impulse * this.m_JwC;\n  vD.subMul(this.m_mD * impulse, this.m_JvBD);\n  wD -= this.m_iD * impulse * this.m_JwD;\n\n  this.m_bodyA.c_velocity.v.set(vA);\n  this.m_bodyA.c_velocity.w = wA;\n  this.m_bodyB.c_velocity.v.set(vB);\n  this.m_bodyB.c_velocity.w = wB;\n  this.m_bodyC.c_velocity.v.set(vC);\n  this.m_bodyC.c_velocity.w = wC;\n  this.m_bodyD.c_velocity.v.set(vD);\n  this.m_bodyD.c_velocity.w = wD;\n}\n\nGearJoint.prototype.solvePositionConstraints = function(step) {\n  var cA = this.m_bodyA.c_position.c;\n  var aA = this.m_bodyA.c_position.a;\n  var cB = this.m_bodyB.c_position.c;\n  var aB = this.m_bodyB.c_position.a;\n  var cC = this.m_bodyC.c_position.c;\n  var aC = this.m_bodyC.c_position.a;\n  var cD = this.m_bodyD.c_position.c;\n  var aD = this.m_bodyD.c_position.a;\n\n  var qA = Rot.neo(aA);\n  var qB = Rot.neo(aB);\n  var qC = Rot.neo(aC);\n  var qD = Rot.neo(aD);\n\n  var linearError = 0.0; // float\n\n  var coordinateA, coordinateB; // float\n\n  var JvAC, JvBD; // Vec2\n  var JwA, JwB, JwC, JwD; // float\n  var mass = 0.0; // float\n\n  if (this.m_type1 == RevoluteJoint.TYPE) {\n    JvAC = Vec2.zero();\n    JwA = 1.0;\n    JwC = 1.0;\n    mass += this.m_iA + this.m_iC;\n\n    coordinateA = aA - aC - this.m_referenceAngleA;\n  } else {\n    var u = Rot.mulVec2(qC, this.m_localAxisC); // Vec2\n    var rC = Rot.mulSub(qC, this.m_localAnchorC, this.m_lcC); // Vec2\n    var rA = Rot.mulSub(qA, this.m_localAnchorA, this.m_lcA); // Vec2\n    JvAC = u;\n    JwC = Vec2.cross(rC, u);\n    JwA = Vec2.cross(rA, u);\n    mass += this.m_mC + this.m_mA + this.m_iC * JwC * JwC + this.m_iA * JwA * JwA;\n\n    var pC = Vec2.sub(this.m_localAnchorC, this.m_lcC); // Vec2\n    var pA = Rot.mulTVec2(qC, Vec2.add(rA, Vec2.sub(cA, cC))); // Vec2\n    coordinateA = Vec2.dot(Vec2.sub(pA, pC), this.m_localAxisC);\n  }\n\n  if (this.m_type2 == RevoluteJoint.TYPE) {\n    JvBD = Vec2.zero();\n    JwB = this.m_ratio;\n    JwD = this.m_ratio;\n    mass += this.m_ratio * this.m_ratio * (this.m_iB + this.m_iD);\n\n    coordinateB = aB - aD - this.m_referenceAngleB;\n  } else {\n    var u = Rot.mulVec2(qD, this.m_localAxisD);\n    var rD = Rot.mulSub(qD, this.m_localAnchorD, this.m_lcD);\n    var rB = Rot.mulSub(qB, this.m_localAnchorB, this.m_lcB);\n    JvBD = Vec2.mul(this.m_ratio, u);\n    JwD = this.m_ratio * Vec2.cross(rD, u);\n    JwB = this.m_ratio * Vec2.cross(rB, u);\n    mass += this.m_ratio * this.m_ratio * (this.m_mD + this.m_mB) + this.m_iD\n        * JwD * JwD + this.m_iB * JwB * JwB;\n\n    var pD = Vec2.sub(this.m_localAnchorD, this.m_lcD); // Vec2\n    var pB = Rot.mulTVec2(qD, Vec2.add(rB, Vec2.sub(cB, cD))); // Vec2\n    coordinateB = Vec2.dot(pB, this.m_localAxisD)\n        - Vec2.dot(pD, this.m_localAxisD);\n  }\n\n  var C = (coordinateA + this.m_ratio * coordinateB) - this.m_constant; // float\n\n  var impulse = 0.0; // float\n  if (mass > 0.0) {\n    impulse = -C / mass;\n  }\n\n  cA.addMul(this.m_mA * impulse, JvAC);\n  aA += this.m_iA * impulse * JwA;\n  cB.addMul(this.m_mB * impulse, JvBD);\n  aB += this.m_iB * impulse * JwB;\n  cC.subMul(this.m_mC * impulse, JvAC);\n  aC -= this.m_iC * impulse * JwC;\n  cD.subMul(this.m_mD * impulse, JvBD);\n  aD -= this.m_iD * impulse * JwD;\n\n  this.m_bodyA.c_position.c.set(cA);\n  this.m_bodyA.c_position.a = aA;\n  this.m_bodyB.c_position.c.set(cB);\n  this.m_bodyB.c_position.a = aB;\n  this.m_bodyC.c_position.c.set(cC);\n  this.m_bodyC.c_position.a = aC;\n  this.m_bodyD.c_position.c.set(cD);\n  this.m_bodyD.c_position.a = aD;\n\n  // TODO_ERIN not implemented\n  return linearError < Settings.linearSlop;\n}\n","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nmodule.exports = MotorJoint;\n\nvar common = require('../util/common');\nvar options = require('../util/options');\nvar create = require('../util/create');\nvar Settings = require('../Settings');\n\nvar Math = require('../common/Math');\nvar Vec2 = require('../common/Vec2');\nvar Vec3 = require('../common/Vec3');\nvar Mat22 = require('../common/Mat22');\nvar Mat33 = require('../common/Mat33');\nvar Rot = require('../common/Rot');\nvar Sweep = require('../common/Sweep');\nvar Transform = require('../common/Transform');\nvar Velocity = require('../common/Velocity');\nvar Position = require('../common/Position');\n\nvar Joint = require('../Joint');\n\nMotorJoint.TYPE = 'motor-joint';\n\nMotorJoint._super = Joint;\nMotorJoint.prototype = create(MotorJoint._super.prototype);\n\n/**\n * @typedef {Object} MotorJointDef\n *\n * Motor joint definition.\n * \n * @prop {float} angularOffset The bodyB angle minus bodyA angle in radians.\n * @prop {float} maxForce The maximum motor force in N.\n * @prop {float} maxTorque The maximum motor torque in N-m.\n * @prop {float} correctionFactor Position correction factor in the range [0,1].\n * @prop {Vec2} linearOffset Position of bodyB minus the position of bodyA, in\n *       bodyA's frame, in meters.\n */\n\nvar DEFAULTS = {\n  maxForce : 1.0,\n  maxTorque : 1.0,\n  correctionFactor : 0.3\n};\n\n/**\n * A motor joint is used to control the relative motion between two bodies. A\n * typical usage is to control the movement of a dynamic body with respect to\n * the ground.\n *\n * @param {MotorJointDef} def\n * @param {Body} bodyA\n * @param {Body} bodyB\n */\nfunction MotorJoint(def, bodyA, bodyB) {\n  if (!(this instanceof MotorJoint)) {\n    return new MotorJoint(def, bodyA, bodyB);\n  }\n\n  def = options(def, DEFAULTS);\n  Joint.call(this, def, bodyA, bodyB);\n  bodyA = this.m_bodyA;\n  bodyB = this.m_bodyB;\n\n  this.m_type = MotorJoint.TYPE;\n\n  this.m_linearOffset = def.linearOffset ? def.linearOffset : bodyA.getLocalPoint(bodyB.getPosition());\n\n  var angleA = bodyA.getAngle();\n  var angleB = bodyB.getAngle();\n  this.m_angularOffset = angleB - angleA;\n\n  this.m_linearImpulse = Vec2.zero();\n  this.m_angularImpulse = 0.0;\n\n  this.m_maxForce = def.maxForce;\n  this.m_maxTorque = def.maxTorque;\n  this.m_correctionFactor = def.correctionFactor;\n\n  // Solver temp\n  this.m_rA; // Vec2\n  this.m_rB; // Vec2\n  this.m_localCenterA; // Vec2\n  this.m_localCenterB; // Vec2\n  this.m_linearError; // Vec2\n  this.m_angularError; // float\n  this.m_invMassA; // float\n  this.m_invMassB; // float\n  this.m_invIA; // float\n  this.m_invIB; // float\n  this.m_linearMass; // Mat22\n  this.m_angularMass; // float\n\n  // Point-to-point constraint\n  // Cdot = v2 - v1\n  // = v2 + cross(w2, r2) - v1 - cross(w1, r1)\n  // J = [-I -r1_skew I r2_skew ]\n  // Identity used:\n  // w k % (rx i + ry j) = w * (-ry i + rx j)\n\n  // Angle constraint\n  // Cdot = w2 - w1\n  // J = [0 0 -1 0 0 1]\n  // K = invI1 + invI2\n}\n\n/**\n * Set the maximum friction force in N.\n */\nMotorJoint.prototype.setMaxForce = function(force) {\n  _ASSERT && common.assert(Math.isFinite(force) && force >= 0.0);\n  this.m_maxForce = force;\n}\n\n/**\n * Get the maximum friction force in N.\n */\nMotorJoint.prototype.getMaxForce = function() {\n  return this.m_maxForce;\n}\n\n/**\n * Set the maximum friction torque in N*m.\n */\nMotorJoint.prototype.setMaxTorque = function(torque) {\n  _ASSERT && common.assert(Math.isFinite(torque) && torque >= 0.0);\n  this.m_maxTorque = torque;\n}\n\n/**\n * Get the maximum friction torque in N*m.\n */\nMotorJoint.prototype.getMaxTorque = function() {\n  return this.m_maxTorque;\n}\n\n/**\n * Set the position correction factor in the range [0,1].\n */\nMotorJoint.prototype.setCorrectionFactor = function(factor) {\n  _ASSERT && common.assert(Math.isFinite(factor) && 0.0 <= factor && factor <= 1.0);\n  this.m_correctionFactor = factor;\n}\n\n/**\n * Get the position correction factor in the range [0,1].\n */\nMotorJoint.prototype.getCorrectionFactor = function() {\n  return this.m_correctionFactor;\n}\n\n/**\n * Set/get the target linear offset, in frame A, in meters.\n */\nMotorJoint.prototype.setLinearOffset = function(linearOffset) {\n  if (linearOffset.x != this.m_linearOffset.x\n      || linearOffset.y != this.m_linearOffset.y) {\n    this.m_bodyA.setAwake(true);\n    this.m_bodyB.setAwake(true);\n    this.m_linearOffset = linearOffset;\n  }\n}\n\nMotorJoint.prototype.getLinearOffset = function() {\n  return this.m_linearOffset;\n}\n\n/**\n * Set/get the target angular offset, in radians.\n */\nMotorJoint.prototype.setAngularOffset = function(angularOffset) {\n  if (angularOffset != this.m_angularOffset) {\n    this.m_bodyA.setAwake(true);\n    this.m_bodyB.setAwake(true);\n    this.m_angularOffset = angularOffset;\n  }\n}\n\nMotorJoint.prototype.getAngularOffset = function() {\n  return this.m_angularOffset;\n}\n\nMotorJoint.prototype.getAnchorA = function() {\n  return this.m_bodyA.getPosition();\n}\n\nMotorJoint.prototype.getAnchorB = function() {\n  return this.m_bodyB.getPosition();\n}\n\nMotorJoint.prototype.getReactionForce = function(inv_dt) {\n  return Vec2.mul(inv_dt, this.m_linearImpulse);\n}\n\nMotorJoint.prototype.getReactionTorque = function(inv_dt) {\n  return inv_dt * this.m_angularImpulse;\n}\n\nMotorJoint.prototype.initVelocityConstraints = function(step) {\n  this.m_localCenterA = this.m_bodyA.m_sweep.localCenter;\n  this.m_localCenterB = this.m_bodyB.m_sweep.localCenter;\n  this.m_invMassA = this.m_bodyA.m_invMass;\n  this.m_invMassB = this.m_bodyB.m_invMass;\n  this.m_invIA = this.m_bodyA.m_invI;\n  this.m_invIB = this.m_bodyB.m_invI;\n\n  var cA = this.m_bodyA.c_position.c;\n  var aA = this.m_bodyA.c_position.a;\n  var vA = this.m_bodyA.c_velocity.v;\n  var wA = this.m_bodyA.c_velocity.w;\n\n  var cB = this.m_bodyB.c_position.c;\n  var aB = this.m_bodyB.c_position.a;\n  var vB = this.m_bodyB.c_velocity.v;\n  var wB = this.m_bodyB.c_velocity.w;\n\n  var qA = Rot.neo(aA), qB = Rot.neo(aB);\n\n  // Compute the effective mass matrix.\n  this.m_rA = Rot.mulVec2(qA, Vec2.neg(this.m_localCenterA));\n  this.m_rB = Rot.mulVec2(qB, Vec2.neg(this.m_localCenterB));\n\n  // J = [-I -r1_skew I r2_skew]\n  // [ 0 -1 0 1]\n  // r_skew = [-ry; rx]\n\n  // Matlab\n  // K = [ mA+r1y^2*iA+mB+r2y^2*iB, -r1y*iA*r1x-r2y*iB*r2x, -r1y*iA-r2y*iB]\n  // [ -r1y*iA*r1x-r2y*iB*r2x, mA+r1x^2*iA+mB+r2x^2*iB, r1x*iA+r2x*iB]\n  // [ -r1y*iA-r2y*iB, r1x*iA+r2x*iB, iA+iB]\n\n  var mA = this.m_invMassA;\n  var mB = this.m_invMassB;\n  var iA = this.m_invIA;\n  var iB = this.m_invIB;\n\n  var K = new Mat22();\n  K.ex.x = mA + mB + iA * this.m_rA.y * this.m_rA.y + iB * this.m_rB.y\n      * this.m_rB.y;\n  K.ex.y = -iA * this.m_rA.x * this.m_rA.y - iB * this.m_rB.x * this.m_rB.y;\n  K.ey.x = K.ex.y;\n  K.ey.y = mA + mB + iA * this.m_rA.x * this.m_rA.x + iB * this.m_rB.x\n      * this.m_rB.x;\n\n  this.m_linearMass = K.getInverse();\n\n  this.m_angularMass = iA + iB;\n  if (this.m_angularMass > 0.0) {\n    this.m_angularMass = 1.0 / this.m_angularMass;\n  }\n\n  this.m_linearError = Vec2.zero();\n  this.m_linearError.addCombine(1, cB, 1, this.m_rB);\n  this.m_linearError.subCombine(1, cA, 1, this.m_rA);\n  this.m_linearError.sub(Rot.mulVec2(qA, this.m_linearOffset));\n\n  this.m_angularError = aB - aA - this.m_angularOffset;\n\n  if (step.warmStarting) {\n    // Scale impulses to support a variable time step.\n    this.m_linearImpulse.mul(step.dtRatio);\n    this.m_angularImpulse *= step.dtRatio;\n\n    var P = Vec2.neo(this.m_linearImpulse.x, this.m_linearImpulse.y);\n\n    vA.subMul(mA, P);\n    wA -= iA * (Vec2.cross(this.m_rA, P) + this.m_angularImpulse);\n\n    vB.addMul(mB, P);\n    wB += iB * (Vec2.cross(this.m_rB, P) + this.m_angularImpulse);\n\n  } else {\n    this.m_linearImpulse.setZero();\n    this.m_angularImpulse = 0.0;\n  }\n\n  this.m_bodyA.c_velocity.v = vA;\n  this.m_bodyA.c_velocity.w = wA;\n  this.m_bodyB.c_velocity.v = vB;\n  this.m_bodyB.c_velocity.w = wB;\n}\n\nMotorJoint.prototype.solveVelocityConstraints = function(step) {\n  var vA = this.m_bodyA.c_velocity.v;\n  var wA = this.m_bodyA.c_velocity.w;\n  var vB = this.m_bodyB.c_velocity.v;\n  var wB = this.m_bodyB.c_velocity.w;\n\n  var mA = this.m_invMassA, mB = this.m_invMassB;\n  var iA = this.m_invIA, iB = this.m_invIB;\n\n  var h = step.dt;\n  var inv_h = step.inv_dt;\n\n  // Solve angular friction\n  {\n    var Cdot = wB - wA + inv_h * this.m_correctionFactor * this.m_angularError;\n    var impulse = -this.m_angularMass * Cdot;\n\n    var oldImpulse = this.m_angularImpulse;\n    var maxImpulse = h * this.m_maxTorque;\n    this.m_angularImpulse = Math.clamp(this.m_angularImpulse + impulse,\n        -maxImpulse, maxImpulse);\n    impulse = this.m_angularImpulse - oldImpulse;\n\n    wA -= iA * impulse;\n    wB += iB * impulse;\n  }\n\n  // Solve linear friction\n  {\n    var Cdot = Vec2.zero();\n    Cdot.addCombine(1, vB, 1, Vec2.cross(wB, this.m_rB));\n    Cdot.subCombine(1, vA, 1, Vec2.cross(wA, this.m_rA));\n    Cdot.addMul(inv_h * this.m_correctionFactor, this.m_linearError);\n\n    var impulse = Vec2.neg(Mat22.mulVec2(this.m_linearMass, Cdot));\n    var oldImpulse = Vec2.clone(this.m_linearImpulse);\n    this.m_linearImpulse.add(impulse);\n\n    var maxImpulse = h * this.m_maxForce;\n\n    this.m_linearImpulse.clamp(maxImpulse);\n\n    impulse = Vec2.sub(this.m_linearImpulse, oldImpulse);\n\n    vA.subMul(mA, impulse);\n    wA -= iA * Vec2.cross(this.m_rA, impulse);\n\n    vB.addMul(mB, impulse);\n    wB += iB * Vec2.cross(this.m_rB, impulse);\n  }\n\n  this.m_bodyA.c_velocity.v = vA;\n  this.m_bodyA.c_velocity.w = wA;\n  this.m_bodyB.c_velocity.v = vB;\n  this.m_bodyB.c_velocity.w = wB;\n}\n\nMotorJoint.prototype.solvePositionConstraints = function(step) {\n  return true;\n}\n","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nmodule.exports = MouseJoint;\n\nvar common = require('../util/common');\nvar options = require('../util/options');\nvar create = require('../util/create');\n\nvar Math = require('../common/Math');\nvar Vec2 = require('../common/Vec2');\nvar Vec3 = require('../common/Vec3');\nvar Mat22 = require('../common/Mat22');\nvar Mat33 = require('../common/Mat33');\nvar Rot = require('../common/Rot');\nvar Sweep = require('../common/Sweep');\nvar Transform = require('../common/Transform');\nvar Velocity = require('../common/Velocity');\nvar Position = require('../common/Position');\n\nvar Joint = require('../Joint');\n\nMouseJoint.TYPE = 'mouse-joint';\n\nMouseJoint._super = Joint;\nMouseJoint.prototype = create(MouseJoint._super.prototype);\n\n/**\n * @typedef {Object} MouseJointDef\n *\n * Mouse joint definition. This requires a world target point, tuning\n * parameters, and the time step.\n * \n * @prop [maxForce = 0.0] The maximum constraint force that can be exerted to\n *       move the candidate body. Usually you will express as some multiple of\n *       the weight (multiplier * mass * gravity).\n * @prop [frequencyHz = 5.0] The response speed.\n * @prop [dampingRatio = 0.7] The damping ratio. 0 = no damping, 1 = critical\n *       damping.\n *\n * @prop {Vec2} target The initial world target point. This is assumed to\n *       coincide with the body anchor initially.\n */\n\nvar DEFAULTS = {\n  maxForce : 0.0,\n  frequencyHz : 5.0,\n  dampingRatio : 0.7\n};\n\n/**\n * A mouse joint is used to make a point on a body track a specified world\n * point. This a soft constraint with a maximum force. This allows the\n * constraint to stretch and without applying huge forces.\n * \n * NOTE: this joint is not documented in the manual because it was developed to\n * be used in the testbed. If you want to learn how to use the mouse joint, look\n * at the testbed.\n *\n * @param {MouseJointDef} def\n * @param {Body} bodyA\n * @param {Body} bodyB\n */\nfunction MouseJoint(def, bodyA, bodyB, target) {\n  if (!(this instanceof MouseJoint)) {\n    return new MouseJoint(def, bodyA, bodyB, target);\n  }\n\n  def = options(def, DEFAULTS);\n  Joint.call(this, def, bodyA, bodyB);\n  bodyA = this.m_bodyA;\n  bodyB = this.m_bodyB;\n\n  this.m_type = MouseJoint.TYPE;\n\n  _ASSERT && common.assert(Math.isFinite(def.maxForce) && def.maxForce >= 0.0);\n  _ASSERT && common.assert(Math.isFinite(def.frequencyHz) && def.frequencyHz >= 0.0);\n  _ASSERT && common.assert(Math.isFinite(def.dampingRatio) && def.dampingRatio >= 0.0);\n\n  this.m_targetA = target ? Vec2.clone(target) : def.target || Vec2.zero();\n  this.m_localAnchorB = Transform.mulTVec2(bodyB.getTransform(), this.m_targetA);\n\n  this.m_maxForce = def.maxForce;\n  this.m_impulse = Vec2.zero();\n\n  this.m_frequencyHz = def.frequencyHz;\n  this.m_dampingRatio = def.dampingRatio;\n\n  this.m_beta = 0.0;\n  this.m_gamma = 0.0;\n\n  // Solver temp\n  this.m_rB = Vec2.zero();\n  this.m_localCenterB = Vec2.zero();\n  this.m_invMassB = 0.0;\n  this.m_invIB = 0.0;\n  this.mass = new Mat22()\n  this.m_C = Vec2.zero();\n\n  // p = attached point, m = mouse point\n  // C = p - m\n  // Cdot = v\n  // = v + cross(w, r)\n  // J = [I r_skew]\n  // Identity used:\n  // w k % (rx i + ry j) = w * (-ry i + rx j)\n}\n\n/**\n * Use this to update the target point.\n */\nMouseJoint.prototype.setTarget = function(target) {\n  if (this.m_bodyB.isAwake() == false) {\n    this.m_bodyB.setAwake(true);\n  }\n  this.m_targetA = Vec2.clone(target);\n}\n\nMouseJoint.prototype.getTarget = function() {\n  return this.m_targetA;\n}\n\n/**\n * Set/get the maximum force in Newtons.\n */\nMouseJoint.prototype.setMaxForce = function(force) {\n  this.m_maxForce = force;\n}\n\nMouseJoint.getMaxForce = function() {\n  return this.m_maxForce;\n}\n\n/**\n * Set/get the frequency in Hertz.\n */\nMouseJoint.prototype.setFrequency = function(hz) {\n  this.m_frequencyHz = hz;\n}\n\nMouseJoint.prototype.getFrequency = function() {\n  return this.m_frequencyHz;\n}\n\n/**\n * Set/get the damping ratio (dimensionless).\n */\nMouseJoint.prototype.setDampingRatio = function(ratio) {\n  this.m_dampingRatio = ratio;\n}\n\nMouseJoint.prototype.getDampingRatio = function() {\n  return this.m_dampingRatio;\n}\n\nMouseJoint.prototype.getAnchorA = function() {\n  return Vec2.clone(this.m_targetA);\n}\n\nMouseJoint.prototype.getAnchorB = function() {\n  return this.m_bodyB.getWorldPoint(this.m_localAnchorB);\n}\n\nMouseJoint.prototype.getReactionForce = function(inv_dt) {\n  return Vec2.mul(inv_dt, this.m_impulse);\n}\n\nMouseJoint.prototype.getReactionTorque = function(inv_dt) {\n  return inv_dt * 0.0;\n}\n\nMouseJoint.prototype.shiftOrigin = function(newOrigin) {\n  this.m_targetA.sub(newOrigin);\n}\n\nMouseJoint.prototype.initVelocityConstraints = function(step) {\n  this.m_localCenterB = this.m_bodyB.m_sweep.localCenter;\n  this.m_invMassB = this.m_bodyB.m_invMass;\n  this.m_invIB = this.m_bodyB.m_invI;\n\n  var position = this.m_bodyB.c_position;\n  var velocity = this.m_bodyB.c_velocity;\n\n  var cB = position.c;\n  var aB = position.a;\n  var vB = velocity.v;\n  var wB = velocity.w;\n\n  var qB = Rot.neo(aB);\n\n  var mass = this.m_bodyB.getMass();\n\n  // Frequency\n  var omega = 2.0 * Math.PI * this.m_frequencyHz;\n\n  // Damping coefficient\n  var d = 2.0 * mass * this.m_dampingRatio * omega;\n\n  // Spring stiffness\n  var k = mass * (omega * omega);\n\n  // magic formulas\n  // gamma has units of inverse mass.\n  // beta has units of inverse time.\n  var h = step.dt;\n  _ASSERT && common.assert(d + h * k > Math.EPSILON);\n  this.m_gamma = h * (d + h * k);\n  if (this.m_gamma != 0.0) {\n    this.m_gamma = 1.0 / this.m_gamma;\n  }\n  this.m_beta = h * k * this.m_gamma;\n\n  // Compute the effective mass matrix.\n  this.m_rB = Rot.mulVec2(qB, Vec2.sub(this.m_localAnchorB, this.m_localCenterB));\n\n  // K = [(1/m1 + 1/m2) * eye(2) - skew(r1) * invI1 * skew(r1) - skew(r2) *\n  // invI2 * skew(r2)]\n  // = [1/m1+1/m2 0 ] + invI1 * [r1.y*r1.y -r1.x*r1.y] + invI2 * [r1.y*r1.y\n  // -r1.x*r1.y]\n  // [ 0 1/m1+1/m2] [-r1.x*r1.y r1.x*r1.x] [-r1.x*r1.y r1.x*r1.x]\n  var K = new Mat22();\n  K.ex.x = this.m_invMassB + this.m_invIB * this.m_rB.y * this.m_rB.y\n      + this.m_gamma;\n  K.ex.y = -this.m_invIB * this.m_rB.x * this.m_rB.y;\n  K.ey.x = K.ex.y;\n  K.ey.y = this.m_invMassB + this.m_invIB * this.m_rB.x * this.m_rB.x\n      + this.m_gamma;\n\n  this.m_mass = K.getInverse();\n\n  this.m_C.set(cB);\n  this.m_C.addCombine(1, this.m_rB, -1, this.m_targetA);\n  this.m_C.mul(this.m_beta);\n\n  // Cheat with some damping\n  wB *= 0.98;\n\n  if (step.warmStarting) {\n    this.m_impulse.mul(step.dtRatio);\n    vB.addMul(this.m_invMassB, this.m_impulse);\n    wB += this.m_invIB * Vec2.cross(this.m_rB, this.m_impulse);\n\n  } else {\n    this.m_impulse.setZero();\n  }\n\n  velocity.v.set(vB);\n  velocity.w = wB;\n}\n\nMouseJoint.prototype.solveVelocityConstraints = function(step) {\n  var velocity = this.m_bodyB.c_velocity;\n  var vB = Vec2.clone(velocity.v);\n  var wB = velocity.w;\n\n  // Cdot = v + cross(w, r)\n\n  var Cdot = Vec2.cross(wB, this.m_rB);\n  Cdot.add(vB);\n\n  Cdot.addCombine(1, this.m_C, this.m_gamma, this.m_impulse);\n  Cdot.neg();\n\n  var impulse = Mat22.mulVec2(this.m_mass, Cdot);\n\n  var oldImpulse = Vec2.clone(this.m_impulse);\n  this.m_impulse.add(impulse);\n  var maxImpulse = step.dt * this.m_maxForce;\n  this.m_impulse.clamp(maxImpulse);\n  impulse = Vec2.sub(this.m_impulse, oldImpulse);\n\n  vB.addMul(this.m_invMassB, impulse);\n  wB += this.m_invIB * Vec2.cross(this.m_rB, impulse);\n\n  velocity.v.set(vB);\n  velocity.w = wB;\n}\n\nMouseJoint.prototype.solvePositionConstraints = function(step) {\n  return true;\n}\n","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nmodule.exports = PulleyJoint;\n\nvar common = require('../util/common');\nvar options = require('../util/options');\nvar create = require('../util/create');\nvar Settings = require('../Settings');\n\nvar Math = require('../common/Math');\nvar Vec2 = require('../common/Vec2');\nvar Vec3 = require('../common/Vec3');\nvar Mat22 = require('../common/Mat22');\nvar Mat33 = require('../common/Mat33');\nvar Rot = require('../common/Rot');\nvar Sweep = require('../common/Sweep');\nvar Transform = require('../common/Transform');\nvar Velocity = require('../common/Velocity');\nvar Position = require('../common/Position');\n\nvar Joint = require('../Joint');\n\nPulleyJoint.TYPE = 'pulley-joint';\nPulleyJoint.MIN_PULLEY_LENGTH = 2.0; // minPulleyLength\n\nPulleyJoint._super = Joint;\nPulleyJoint.prototype = create(PulleyJoint._super.prototype);\n\n/**\n * @typedef {Object} PulleyJointDef\n *\n * Pulley joint definition. This requires two ground anchors, two dynamic body\n * anchor points, and a pulley ratio.\n *\n * @prop {Vec2} groundAnchorA The first ground anchor in world coordinates.\n *          This point never moves.\n * @prop {Vec2} groundAnchorB The second ground anchor in world coordinates.\n *          This point never moves.\n * @prop {Vec2} localAnchorA The local anchor point relative to bodyA's origin.\n * @prop {Vec2} localAnchorB The local anchor point relative to bodyB's origin.\n * @prop {float} ratio The pulley ratio, used to simulate a block-and-tackle.\n * @prop {float} lengthA The reference length for the segment attached to bodyA.\n * @prop {float} lengthB The reference length for the segment attached to bodyB.\n */\nvar PulleyJointDef = {\n  collideConnected : true\n};\n\n/**\n * The pulley joint is connected to two bodies and two fixed ground points. The\n * pulley supports a ratio such that: length1 + ratio * length2 <= constant\n * \n * Yes, the force transmitted is scaled by the ratio.\n * \n * Warning: the pulley joint can get a bit squirrelly by itself. They often work\n * better when combined with prismatic joints. You should also cover the the\n * anchor points with static shapes to prevent one side from going to zero\n * length.\n *\n * @param {PulleyJointDef} def\n * @param {Body} bodyA\n * @param {Body} bodyB\n */\nfunction PulleyJoint(def, bodyA, bodyB, groundA, groundB, anchorA, anchorB, ratio) {\n  if (!(this instanceof PulleyJoint)) {\n    return new PulleyJoint(def, bodyA, bodyB, groundA, groundB, anchorA, anchorB, ratio);\n  }\n\n  def = options(def, PulleyJointDef);\n  Joint.call(this, def, bodyA, bodyB);\n  bodyA = this.m_bodyA;\n  bodyB = this.m_bodyB;\n\n  this.m_type = PulleyJoint.TYPE;\n  this.m_groundAnchorA = groundA ? groundA : def.groundAnchorA || Vec2.neo(-1.0, 1.0);\n  this.m_groundAnchorB = groundB ? groundB : def.groundAnchorB || Vec2.neo(1.0, 1.0);\n  this.m_localAnchorA = anchorA ? bodyA.getLocalPoint(anchorA) : def.localAnchorA || Vec2.neo(-1.0, 0.0);\n  this.m_localAnchorB = anchorB ? bodyB.getLocalPoint(anchorB) : def.localAnchorB || Vec2.neo(1.0, 0.0);\n  this.m_lengthA = Math.isFinite(def.lengthA) ? def.lengthA : Vec2.distance(anchorA, groundA);\n  this.m_lengthB = Math.isFinite(def.lengthB) ? def.lengthB : Vec2.distance(anchorB, groundB);\n  this.m_ratio = Math.isFinite(ratio) ? ratio : def.ratio;\n\n  _ASSERT && common.assert(ratio > Math.EPSILON);\n\n  this.m_constant = this.m_lengthA + this.m_ratio * this.m_lengthB;\n\n  this.m_impulse = 0.0;\n\n  // Solver temp\n  this.m_uA; // Vec2\n  this.m_uB; // Vec2\n  this.m_rA; // Vec2\n  this.m_rB; // Vec2\n  this.m_localCenterA; // Vec2\n  this.m_localCenterB; // Vec2\n  this.m_invMassA; // float\n  this.m_invMassB; // float\n  this.m_invIA; // float\n  this.m_invIB; // float\n  this.m_mass; // float\n\n  // Pulley:\n  // length1 = norm(p1 - s1)\n  // length2 = norm(p2 - s2)\n  // C0 = (length1 + ratio * length2)_initial\n  // C = C0 - (length1 + ratio * length2)\n  // u1 = (p1 - s1) / norm(p1 - s1)\n  // u2 = (p2 - s2) / norm(p2 - s2)\n  // Cdot = -dot(u1, v1 + cross(w1, r1)) - ratio * dot(u2, v2 + cross(w2, r2))\n  // J = -[u1 cross(r1, u1) ratio * u2 ratio * cross(r2, u2)]\n  // K = J * invM * JT\n  // = invMass1 + invI1 * cross(r1, u1)^2 + ratio^2 * (invMass2 + invI2 *\n  // cross(r2, u2)^2)\n}\n\n/**\n * Get the first ground anchor.\n */\nPulleyJoint.prototype.getGroundAnchorA = function() {\n  return this.m_groundAnchorA;\n}\n\n/**\n * Get the second ground anchor.\n */\nPulleyJoint.prototype.getGroundAnchorB = function() {\n  return this.m_groundAnchorB;\n}\n\n/**\n * Get the current length of the segment attached to bodyA.\n */\nPulleyJoint.prototype.getLengthA = function() {\n  return this.m_lengthA;\n}\n\n/**\n * Get the current length of the segment attached to bodyB.\n */\nPulleyJoint.prototype.getLengthB = function() {\n  return this.m_lengthB;\n}\n\n/**\n * Get the pulley ratio.\n */\nPulleyJoint.prototype.getRatio = function() {\n  return this.m_ratio;\n}\n\n/**\n * Get the current length of the segment attached to bodyA.\n */\nPulleyJoint.prototype.getCurrentLengthA = function() {\n  var p = this.m_bodyA.getWorldPoint(this.m_localAnchorA);\n  var s = this.m_groundAnchorA;\n  return Vec2.distance(p, s);\n}\n\n/**\n * Get the current length of the segment attached to bodyB.\n */\nPulleyJoint.prototype.getCurrentLengthB = function() {\n  var p = this.m_bodyB.getWorldPoint(this.m_localAnchorB);\n  var s = this.m_groundAnchorB;\n  return Vec2.distance(p, s);\n}\n\nPulleyJoint.prototype.shiftOrigin = function(newOrigin) {\n  this.m_groundAnchorA.sub(newOrigin);\n  this.m_groundAnchorB.sub(newOrigin);\n}\n\nPulleyJoint.prototype.getAnchorA = function() {\n  return this.m_bodyA.getWorldPoint(this.m_localAnchorA);\n}\n\nPulleyJoint.prototype.getAnchorB = function() {\n  return this.m_bodyB.getWorldPoint(this.m_localAnchorB);\n}\n\nPulleyJoint.prototype.getReactionForce = function(inv_dt) {\n  return Vec2.mul(this.m_impulse, this.m_uB).mul(inv_dt);\n}\n\nPulleyJoint.prototype.getReactionTorque = function(inv_dt) {\n  return 0.0;\n}\n\nPulleyJoint.prototype.initVelocityConstraints = function(step) {\n  this.m_localCenterA = this.m_bodyA.m_sweep.localCenter;\n  this.m_localCenterB = this.m_bodyB.m_sweep.localCenter;\n  this.m_invMassA = this.m_bodyA.m_invMass;\n  this.m_invMassB = this.m_bodyB.m_invMass;\n  this.m_invIA = this.m_bodyA.m_invI;\n  this.m_invIB = this.m_bodyB.m_invI;\n\n  var cA = this.m_bodyA.c_position.c;\n  var aA = this.m_bodyA.c_position.a;\n  var vA = this.m_bodyA.c_velocity.v;\n  var wA = this.m_bodyA.c_velocity.w;\n\n  var cB = this.m_bodyB.c_position.c;\n  var aB = this.m_bodyB.c_position.a;\n  var vB = this.m_bodyB.c_velocity.v;\n  var wB = this.m_bodyB.c_velocity.w;\n\n  var qA = Rot.neo(aA);\n  var qB = Rot.neo(aB);\n\n  this.m_rA = Rot.mulVec2(qA, Vec2.sub(this.m_localAnchorA, this.m_localCenterA));\n  this.m_rB = Rot.mulVec2(qB, Vec2.sub(this.m_localAnchorB, this.m_localCenterB));\n\n  // Get the pulley axes.\n  this.m_uA = Vec2.sub(Vec2.add(cA, this.m_rA), this.m_groundAnchorA);\n  this.m_uB = Vec2.sub(Vec2.add(cB, this.m_rB), this.m_groundAnchorB);\n\n  var lengthA = this.m_uA.length();\n  var lengthB = this.m_uB.length();\n\n  if (lengthA > 10.0 * Settings.linearSlop) {\n    this.m_uA.mul(1.0 / lengthA);\n  } else {\n    this.m_uA.setZero();\n  }\n\n  if (lengthB > 10.0 * Settings.linearSlop) {\n    this.m_uB.mul(1.0 / lengthB);\n  } else {\n    this.m_uB.setZero();\n  }\n\n  // Compute effective mass.\n  var ruA = Vec2.cross(this.m_rA, this.m_uA); // float\n  var ruB = Vec2.cross(this.m_rB, this.m_uB); // float\n\n  var mA = this.m_invMassA + this.m_invIA * ruA * ruA; // float\n  var mB = this.m_invMassB + this.m_invIB * ruB * ruB; // float\n\n  this.m_mass = mA + this.m_ratio * this.m_ratio * mB;\n\n  if (this.m_mass > 0.0) {\n    this.m_mass = 1.0 / this.m_mass;\n  }\n\n  if (step.warmStarting) {\n    // Scale impulses to support variable time steps.\n    this.m_impulse *= step.dtRatio;\n\n    // Warm starting.\n    var PA = Vec2.mul(-this.m_impulse, this.m_uA);\n    var PB = Vec2.mul(-this.m_ratio * this.m_impulse, this.m_uB);\n\n    vA.addMul(this.m_invMassA, PA);\n    wA += this.m_invIA * Vec2.cross(this.m_rA, PA);\n\n    vB.addMul(this.m_invMassB, PB);\n    wB += this.m_invIB * Vec2.cross(this.m_rB, PB);\n\n  } else {\n    this.m_impulse = 0.0;\n  }\n\n  this.m_bodyA.c_velocity.v = vA;\n  this.m_bodyA.c_velocity.w = wA;\n  this.m_bodyB.c_velocity.v = vB;\n  this.m_bodyB.c_velocity.w = wB;\n}\n\nPulleyJoint.prototype.solveVelocityConstraints = function(step) {\n  var vA = this.m_bodyA.c_velocity.v;\n  var wA = this.m_bodyA.c_velocity.w;\n  var vB = this.m_bodyB.c_velocity.v;\n  var wB = this.m_bodyB.c_velocity.w;\n\n  var vpA = Vec2.add(vA, Vec2.cross(wA, this.m_rA));\n  var vpB = Vec2.add(vB, Vec2.cross(wB, this.m_rB));\n\n  var Cdot = -Vec2.dot(this.m_uA, vpA) - this.m_ratio\n      * Vec2.dot(this.m_uB, vpB); // float\n  var impulse = -this.m_mass * Cdot; // float\n  this.m_impulse += impulse;\n\n  var PA = Vec2.mul(-impulse, this.m_uA); // Vec2\n  var PB = Vec2.mul(-this.m_ratio * impulse, this.m_uB); // Vec2\n  vA.addMul(this.m_invMassA, PA);\n  wA += this.m_invIA * Vec2.cross(this.m_rA, PA);\n  vB.addMul(this.m_invMassB, PB);\n  wB += this.m_invIB * Vec2.cross(this.m_rB, PB);\n\n  this.m_bodyA.c_velocity.v = vA;\n  this.m_bodyA.c_velocity.w = wA;\n  this.m_bodyB.c_velocity.v = vB;\n  this.m_bodyB.c_velocity.w = wB;\n}\n\nPulleyJoint.prototype.solvePositionConstraints = function(step) {\n  var cA = this.m_bodyA.c_position.c;\n  var aA = this.m_bodyA.c_position.a;\n  var cB = this.m_bodyB.c_position.c;\n  var aB = this.m_bodyB.c_position.a;\n\n  var qA = Rot.neo(aA), qB = Rot.neo(aB);\n\n  var rA = Rot.mulVec2(qA, Vec2.sub(this.m_localAnchorA, this.m_localCenterA));\n  var rB = Rot.mulVec2(qB, Vec2.sub(this.m_localAnchorB, this.m_localCenterB));\n\n  // Get the pulley axes.\n  var uA = Vec2.sub(Vec2.add(cA, this.m_rA), this.m_groundAnchorA);\n  var uB = Vec2.sub(Vec2.add(cB, this.m_rB), this.m_groundAnchorB);\n\n  var lengthA = uA.length();\n  var lengthB = uB.length();\n\n  if (lengthA > 10.0 * Settings.linearSlop) {\n    uA.mul(1.0 / lengthA);\n  } else {\n    uA.setZero();\n  }\n\n  if (lengthB > 10.0 * Settings.linearSlop) {\n    uB.mul(1.0 / lengthB);\n  } else {\n    uB.setZero();\n  }\n\n  // Compute effective mass.\n  var ruA = Vec2.cross(rA, uA);\n  var ruB = Vec2.cross(rB, uB);\n\n  var mA = this.m_invMassA + this.m_invIA * ruA * ruA; // float\n  var mB = this.m_invMassB + this.m_invIB * ruB * ruB; // float\n\n  var mass = mA + this.m_ratio * this.m_ratio * mB; // float\n\n  if (mass > 0.0) {\n    mass = 1.0 / mass;\n  }\n\n  var C = this.m_constant - lengthA - this.m_ratio * lengthB; // float\n  var linearError = Math.abs(C); // float\n\n  var impulse = -mass * C; // float\n\n  var PA = Vec2.mul(-impulse, uA); // Vec2\n  var PB = Vec2.mul(-this.m_ratio * impulse, uB); // Vec2\n\n  cA.addMul(this.m_invMassA, PA);\n  aA += this.m_invIA * Vec2.cross(rA, PA);\n  cB.addMul(this.m_invMassB, PB);\n  aB += this.m_invIB * Vec2.cross(rB, PB);\n\n  this.m_bodyA.c_position.c = cA;\n  this.m_bodyA.c_position.a = aA;\n  this.m_bodyB.c_position.c = cB;\n  this.m_bodyB.c_position.a = aB;\n\n  return linearError < Settings.linearSlop;\n}\n","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nmodule.exports = RopeJoint;\n\nvar options = require('../util/options');\nvar create = require('../util/create');\nvar Settings = require('../Settings');\n\nvar Math = require('../common/Math');\nvar Vec2 = require('../common/Vec2');\nvar Vec3 = require('../common/Vec3');\nvar Mat22 = require('../common/Mat22');\nvar Mat33 = require('../common/Mat33');\nvar Rot = require('../common/Rot');\nvar Sweep = require('../common/Sweep');\nvar Transform = require('../common/Transform');\nvar Velocity = require('../common/Velocity');\nvar Position = require('../common/Position');\n\nvar Joint = require('../Joint');\n\nvar inactiveLimit = 0;\nvar atLowerLimit = 1;\nvar atUpperLimit = 2;\nvar equalLimits = 3;\n\nRopeJoint.TYPE = 'rope-joint';\n\nRopeJoint._super = Joint;\nRopeJoint.prototype = create(RopeJoint._super.prototype);\n\n/**\n * @typedef {Object} RopeJointDef\n *\n * Rope joint definition. This requires two body anchor points and a maximum\n * lengths. Note: by default the connected objects will not collide. see\n * collideConnected in JointDef.\n *\n * @prop {float} maxLength The maximum length of the rope. Warning: this must be\n *       larger than linearSlop or the joint will have no effect.\n *\n * @prop {Vec2} def.localAnchorA The local anchor point relative to bodyA's origin.\n * @prop {Vec2} def.localAnchorB The local anchor point relative to bodyB's origin.\n */\n\nvar DEFAULTS = {\n  maxLength : 0.0,\n};\n\n/**\n * A rope joint enforces a maximum distance between two points on two bodies. It\n * has no other effect.\n * \n * Warning: if you attempt to change the maximum length during the simulation\n * you will get some non-physical behavior.\n * \n * A model that would allow you to dynamically modify the length would have some\n * sponginess, so I chose not to implement it that way. See DistanceJoint if you\n * want to dynamically control length.\n *\n * @param {RopeJointDef} def\n * @param {Body} bodyA\n * @param {Body} bodyB\n */\nfunction RopeJoint(def, bodyA, bodyB, anchor) {\n  if (!(this instanceof RopeJoint)) {\n    return new RopeJoint(def, bodyA, bodyB, anchor);\n  }\n\n  def = options(def, DEFAULTS);\n  Joint.call(this, def, bodyA, bodyB);\n  bodyA = this.m_bodyA;\n  bodyB = this.m_bodyB;\n\n  this.m_type = RopeJoint.TYPE;\n  this.m_localAnchorA = anchor ? bodyA.getLocalPoint(anchor) : def.localAnchorA || Vec2.neo(-1.0, 0.0);\n  this.m_localAnchorB = anchor ? bodyB.getLocalPoint(anchor) : def.localAnchorB || Vec2.neo(1.0, 0.0);\n\n  this.m_maxLength = def.maxLength;\n\n  this.m_mass = 0.0;\n  this.m_impulse = 0.0;\n  this.m_length = 0.0;\n  this.m_state = inactiveLimit;\n\n  // Solver temp\n  this.m_u; // Vec2\n  this.m_rA; // Vec2\n  this.m_rB; // Vec2\n  this.m_localCenterA; // Vec2\n  this.m_localCenterB; // Vec2\n  this.m_invMassA; // float\n  this.m_invMassB; // float\n  this.m_invIA; // float\n  this.m_invIB; // float\n  this.m_mass; // float\n\n  // Limit:\n  // C = norm(pB - pA) - L\n  // u = (pB - pA) / norm(pB - pA)\n  // Cdot = dot(u, vB + cross(wB, rB) - vA - cross(wA, rA))\n  // J = [-u -cross(rA, u) u cross(rB, u)]\n  // K = J * invM * JT\n  // = invMassA + invIA * cross(rA, u)^2 + invMassB + invIB * cross(rB, u)^2\n};\n\n/**\n * The local anchor point relative to bodyA's origin.\n */\nRopeJoint.prototype.getLocalAnchorA = function() {\n  return this.m_localAnchorA;\n}\n\n/**\n * The local anchor point relative to bodyB's origin.\n */\nRopeJoint.prototype.getLocalAnchorB = function() {\n  return this.m_localAnchorB;\n}\n\n/**\n * Set/Get the maximum length of the rope.\n */\nRopeJoint.prototype.setMaxLength = function(length) {\n  this.m_maxLength = length;\n}\n\nRopeJoint.prototype.getMaxLength = function() {\n  return this.m_maxLength;\n}\n\nRopeJoint.prototype.getLimitState = function() {\n  // TODO LimitState\n  return this.m_state;\n}\n\nRopeJoint.prototype.getAnchorA = function() {\n  return this.m_bodyA.getWorldPoint(this.m_localAnchorA);\n}\n\nRopeJoint.prototype.getAnchorB = function() {\n  return this.m_bodyB.getWorldPoint(this.m_localAnchorB);\n}\n\nRopeJoint.prototype.getReactionForce = function(inv_dt) {\n  return Vec2.mul(this.m_impulse, this.m_u).mul(inv_dt);\n}\n\nRopeJoint.prototype.getReactionTorque = function(inv_dt) {\n  return 0.0;\n}\n\nRopeJoint.prototype.initVelocityConstraints = function(step) {\n  this.m_localCenterA = this.m_bodyA.m_sweep.localCenter;\n  this.m_localCenterB = this.m_bodyB.m_sweep.localCenter;\n  this.m_invMassA = this.m_bodyA.m_invMass;\n  this.m_invMassB = this.m_bodyB.m_invMass;\n  this.m_invIA = this.m_bodyA.m_invI;\n  this.m_invIB = this.m_bodyB.m_invI;\n\n  var cA = this.m_bodyA.c_position.c;\n  var aA = this.m_bodyA.c_position.a;\n  var vA = this.m_bodyA.c_velocity.v;\n  var wA = this.m_bodyA.c_velocity.w;\n\n  var cB = this.m_bodyB.c_position.c;\n  var aB = this.m_bodyB.c_position.a;\n  var vB = this.m_bodyB.c_velocity.v;\n  var wB = this.m_bodyB.c_velocity.w;\n\n  var qA = Rot.neo(aA);\n  var qB = Rot.neo(aB);\n\n  this.m_rA = Rot.mulSub(qA, this.m_localAnchorA, this.m_localCenterA);\n  this.m_rB = Rot.mulSub(qB, this.m_localAnchorB, this.m_localCenterB);\n  this.m_u = Vec2.zero();\n  this.m_u.addCombine(1, cB, 1, this.m_rB);\n  this.m_u.subCombine(1, cA, 1, this.m_rA); // Vec2\n\n  this.m_length = this.m_u.length();\n\n  var C = this.m_length - this.m_maxLength; // float\n  if (C > 0.0) {\n    this.m_state = atUpperLimit;\n  } else {\n    this.m_state = inactiveLimit;\n  }\n\n  if (this.m_length > Settings.linearSlop) {\n    this.m_u.mul(1.0 / this.m_length);\n  } else {\n    this.m_u.setZero();\n    this.m_mass = 0.0;\n    this.m_impulse = 0.0;\n    return;\n  }\n\n  // Compute effective mass.\n  var crA = Vec2.cross(this.m_rA, this.m_u); // float\n  var crB = Vec2.cross(this.m_rB, this.m_u); // float\n  var invMass = this.m_invMassA + this.m_invIA * crA * crA + this.m_invMassB\n      + this.m_invIB * crB * crB; // float\n\n  this.m_mass = invMass != 0.0 ? 1.0 / invMass : 0.0;\n\n  if (step.warmStarting) {\n    // Scale the impulse to support a variable time step.\n    this.m_impulse *= step.dtRatio;\n\n    var P = Vec2.mul(this.m_impulse, this.m_u);\n    \n    vA.subMul(this.m_invMassA, P);\n    wA -= this.m_invIA * Vec2.cross(this.m_rA, P);\n    \n    vB.addMul(this.m_invMassB, P);\n    wB += this.m_invIB * Vec2.cross(this.m_rB, P);\n    \n  } else {\n    this.m_impulse = 0.0;\n  }\n\n  this.m_bodyA.c_velocity.v.set(vA);\n  this.m_bodyA.c_velocity.w = wA;\n  this.m_bodyB.c_velocity.v.set(vB);\n  this.m_bodyB.c_velocity.w = wB;\n}\n\nRopeJoint.prototype.solveVelocityConstraints = function(step) {\n  var vA = this.m_bodyA.c_velocity.v;\n  var wA = this.m_bodyA.c_velocity.w;\n  var vB = this.m_bodyB.c_velocity.v;\n  var wB = this.m_bodyB.c_velocity.w;\n\n  // Cdot = dot(u, v + cross(w, r))\n  var vpA = Vec2.addCross(vA, wA, this.m_rA); // Vec2\n  var vpB = Vec2.addCross(vB, wB, this.m_rB); // Vec2\n  var C = this.m_length - this.m_maxLength; // float\n  var Cdot = Vec2.dot(this.m_u, Vec2.sub(vpB, vpA)); // float\n\n  // Predictive constraint.\n  if (C < 0.0) {\n    Cdot += step.inv_dt * C;\n  }\n\n  var impulse = -this.m_mass * Cdot; // float\n  var oldImpulse = this.m_impulse; // float\n  this.m_impulse = Math.min(0.0, this.m_impulse + impulse);\n  impulse = this.m_impulse - oldImpulse;\n\n  var P = Vec2.mul(impulse, this.m_u); // Vec2\n  vA.subMul(this.m_invMassA, P);\n  wA -= this.m_invIA * Vec2.cross(this.m_rA, P);\n  vB.addMul(this.m_invMassB, P);\n  wB += this.m_invIB * Vec2.cross(this.m_rB, P);\n\n  this.m_bodyA.c_velocity.v = vA;\n  this.m_bodyA.c_velocity.w = wA;\n  this.m_bodyB.c_velocity.v = vB;\n  this.m_bodyB.c_velocity.w = wB;\n}\n\nRopeJoint.prototype.solvePositionConstraints = function(step) {\n  var cA = this.m_bodyA.c_position.c; // Vec2\n  var aA = this.m_bodyA.c_position.a; // float\n  var cB = this.m_bodyB.c_position.c; // Vec2\n  var aB = this.m_bodyB.c_position.a; // float\n\n  var qA = Rot.neo(aA);\n  var qB = Rot.neo(aB);\n\n  var rA = Rot.mulSub(qA, this.m_localAnchorA, this.m_localCenterA);\n  var rB = Rot.mulSub(qB, this.m_localAnchorB, this.m_localCenterB);\n  var u = Vec2.zero();\n  u.addCombine(1, cB, 1, rB);\n  u.subCombine(1, cA, 1, rA); // Vec2\n\n  var length = u.normalize(); // float\n  var C = length - this.m_maxLength; // float\n\n  C = Math.clamp(C, 0.0, Settings.maxLinearCorrection);\n\n  var impulse = -this.m_mass * C; // float\n  var P = Vec2.mul(impulse, u); // Vec2\n\n  cA.subMul(this.m_invMassA, P);\n  aA -= this.m_invIA * Vec2.cross(rA, P);\n  cB.addMul(this.m_invMassB, P);\n  aB += this.m_invIB * Vec2.cross(rB, P);\n\n  this.m_bodyA.c_position.c.set(cA);\n  this.m_bodyA.c_position.a = aA;\n  this.m_bodyB.c_position.c.set(cB);\n  this.m_bodyB.c_position.a = aB;\n\n  return length - this.m_maxLength < Settings.linearSlop;\n}\n","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nmodule.exports = WeldJoint;\n\nvar options = require('../util/options');\nvar create = require('../util/create');\nvar Settings = require('../Settings');\n\nvar Math = require('../common/Math');\nvar Vec2 = require('../common/Vec2');\nvar Vec3 = require('../common/Vec3');\nvar Mat22 = require('../common/Mat22');\nvar Mat33 = require('../common/Mat33');\nvar Rot = require('../common/Rot');\nvar Sweep = require('../common/Sweep');\nvar Transform = require('../common/Transform');\nvar Velocity = require('../common/Velocity');\nvar Position = require('../common/Position');\n\nvar Joint = require('../Joint');\n\nWeldJoint.TYPE = 'weld-joint';\n\nWeldJoint._super = Joint;\nWeldJoint.prototype = create(WeldJoint._super.prototype);\n\n/**\n * @typedef {Object} WeldJointDef\n *\n * Weld joint definition. You need to specify local anchor points where they are\n * attached and the relative body angle. The position of the anchor points is\n * important for computing the reaction torque.\n * \n * @prop {float} frequencyHz The mass-spring-damper frequency in Hertz. Rotation\n *       only. Disable softness with a value of 0.\n * @prop {float} dampingRatio The damping ratio. 0 = no damping, 1 = critical\n *       damping.\n *\n * @prop {Vec2} localAnchorA The local anchor point relative to bodyA's origin.\n * @prop {Vec2} localAnchorB The local anchor point relative to bodyB's origin.\n * @prop {float} referenceAngle The bodyB angle minus bodyA angle in the\n *       reference state (radians).\n */\nvar DEFAULTS = {\n  frequencyHz : 0.0,\n  dampingRatio : 0.0,\n}\n\n/**\n * A weld joint essentially glues two bodies together. A weld joint may distort\n * somewhat because the island constraint solver is approximate.\n *\n * @param {WeldJointDef} def\n * @param {Body} bodyA\n * @param {Body} bodyB\n */\nfunction WeldJoint(def, bodyA, bodyB, anchor) {\n  if (!(this instanceof WeldJoint)) {\n    return new WeldJoint(def, bodyA, bodyB, anchor);\n  }\n\n  def = options(def, DEFAULTS);\n  Joint.call(this, def, bodyA, bodyB);\n  bodyA = this.m_bodyA;\n  bodyB = this.m_bodyB;\n\n  this.m_type = WeldJoint.TYPE;\n\n  this.m_localAnchorA = anchor ? bodyA.getLocalPoint(anchor) : def.localAnchorA || Vec2.zero();\n  this.m_localAnchorB = anchor ? bodyB.getLocalPoint(anchor) : def.localAnchorB || Vec2.zero();\n  this.m_referenceAngle = Math.isFinite(def.referenceAngle) ? def.referenceAngle : bodyB.getAngle() - bodyA.getAngle();\n\n  this.m_frequencyHz = def.frequencyHz;\n  this.m_dampingRatio = def.dampingRatio;\n\n  this.m_impulse = Vec3();\n\n  this.m_bias = 0.0;\n  this.m_gamma = 0.0;\n\n  // Solver temp\n  this.m_rA; // Vec2\n  this.m_rB; // Vec2\n  this.m_localCenterA; // Vec2\n  this.m_localCenterB; // Vec2\n  this.m_invMassA; // float\n  this.m_invMassB; // float\n  this.m_invIA; // float\n  this.m_invIB; // float\n  this.m_mass = new Mat33();\n\n  // Point-to-point constraint\n  // C = p2 - p1\n  // Cdot = v2 - v1\n  // / = v2 + cross(w2, r2) - v1 - cross(w1, r1)\n  // J = [-I -r1_skew I r2_skew ]\n  // Identity used:\n  // w k % (rx i + ry j) = w * (-ry i + rx j)\n\n  // Angle constraint\n  // C = angle2 - angle1 - referenceAngle\n  // Cdot = w2 - w1\n  // J = [0 0 -1 0 0 1]\n  // K = invI1 + invI2\n}\n\n/**\n * The local anchor point relative to bodyA's origin.\n */\nWeldJoint.prototype.getLocalAnchorA = function() {\n  return this.m_localAnchorA;\n};\n\n/**\n * The local anchor point relative to bodyB's origin.\n */\nWeldJoint.prototype.getLocalAnchorB = function() {\n  return this.m_localAnchorB;\n};\n\n/**\n * Get the reference angle.\n */\nWeldJoint.prototype.getReferenceAngle = function() {\n  return this.m_referenceAngle;\n};\n\n/**\n * Set/get frequency in Hz.\n */\nWeldJoint.prototype.setFrequency = function(hz) {\n  this.m_frequencyHz = hz;\n};\n\nWeldJoint.prototype.getFrequency = function() {\n  return this.m_frequencyHz;\n};\n\n/**\n * Set/get damping ratio.\n */\nWeldJoint.prototype.setDampingRatio = function(ratio) {\n  this.m_dampingRatio = ratio;\n};\n\nWeldJoint.prototype.getDampingRatio = function() {\n  return this.m_dampingRatio;\n};\n\nWeldJoint.prototype.getAnchorA = function() {\n  return this.m_bodyA.getWorldPoint(this.m_localAnchorA);\n};\n\nWeldJoint.prototype.getAnchorB = function() {\n  return this.m_bodyB.getWorldPoint(this.m_localAnchorB);\n};\n\nWeldJoint.prototype.getReactionForce = function(inv_dt) {\n  return Vec2.neo(this.m_impulse.x, this.m_impulse.y).mul(inv_dt);\n};\n\nWeldJoint.prototype.getReactionTorque = function(inv_dt) {\n  return inv_dt * this.m_impulse.z;\n};\n\nWeldJoint.prototype.initVelocityConstraints = function(step) {\n  this.m_localCenterA = this.m_bodyA.m_sweep.localCenter;\n  this.m_localCenterB = this.m_bodyB.m_sweep.localCenter;\n  this.m_invMassA = this.m_bodyA.m_invMass;\n  this.m_invMassB = this.m_bodyB.m_invMass;\n  this.m_invIA = this.m_bodyA.m_invI;\n  this.m_invIB = this.m_bodyB.m_invI;\n\n  var aA = this.m_bodyA.c_position.a;\n  var vA = this.m_bodyA.c_velocity.v;\n  var wA = this.m_bodyA.c_velocity.w;\n\n  var aB = this.m_bodyB.c_position.a;\n  var vB = this.m_bodyB.c_velocity.v;\n  var wB = this.m_bodyB.c_velocity.w;\n\n  var qA = Rot.neo(aA), qB = Rot.neo(aB);\n\n  this.m_rA = Rot.mulVec2(qA, Vec2.sub(this.m_localAnchorA, this.m_localCenterA));\n  this.m_rB = Rot.mulVec2(qB, Vec2.sub(this.m_localAnchorB, this.m_localCenterB));\n\n  // J = [-I -r1_skew I r2_skew]\n  // [ 0 -1 0 1]\n  // r_skew = [-ry; rx]\n\n  // Matlab\n  // K = [ mA+r1y^2*iA+mB+r2y^2*iB, -r1y*iA*r1x-r2y*iB*r2x, -r1y*iA-r2y*iB]\n  // [ -r1y*iA*r1x-r2y*iB*r2x, mA+r1x^2*iA+mB+r2x^2*iB, r1x*iA+r2x*iB]\n  // [ -r1y*iA-r2y*iB, r1x*iA+r2x*iB, iA+iB]\n\n  var mA = this.m_invMassA;\n  var mB = this.m_invMassB; // float\n  var iA = this.m_invIA;\n  var iB = this.m_invIB; // float\n\n  var K = new Mat33();\n  K.ex.x = mA + mB + this.m_rA.y * this.m_rA.y * iA + this.m_rB.y * this.m_rB.y\n      * iB;\n  K.ey.x = -this.m_rA.y * this.m_rA.x * iA - this.m_rB.y * this.m_rB.x * iB;\n  K.ez.x = -this.m_rA.y * iA - this.m_rB.y * iB;\n  K.ex.y = K.ey.x;\n  K.ey.y = mA + mB + this.m_rA.x * this.m_rA.x * iA + this.m_rB.x * this.m_rB.x\n      * iB;\n  K.ez.y = this.m_rA.x * iA + this.m_rB.x * iB;\n  K.ex.z = K.ez.x;\n  K.ey.z = K.ez.y;\n  K.ez.z = iA + iB;\n\n  if (this.m_frequencyHz > 0.0) {\n    K.getInverse22(this.m_mass);\n\n    var invM = iA + iB; // float\n    var m = invM > 0.0 ? 1.0 / invM : 0.0; // float\n\n    var C = aB - aA - this.m_referenceAngle; // float\n\n    // Frequency\n    var omega = 2.0 * Math.PI * this.m_frequencyHz; // float\n\n    // Damping coefficient\n    var d = 2.0 * m * this.m_dampingRatio * omega; // float\n\n    // Spring stiffness\n    var k = m * omega * omega; // float\n\n    // magic formulas\n    var h = step.dt; // float\n    this.m_gamma = h * (d + h * k);\n    this.m_gamma = this.m_gamma != 0.0 ? 1.0 / this.m_gamma : 0.0;\n    this.m_bias = C * h * k * this.m_gamma;\n\n    invM += this.m_gamma;\n    this.m_mass.ez.z = invM != 0.0 ? 1.0 / invM : 0.0;\n  } else if (K.ez.z == 0.0) {\n    K.getInverse22(this.m_mass);\n    this.m_gamma = 0.0;\n    this.m_bias = 0.0;\n  } else {\n    K.getSymInverse33(this.m_mass);\n    this.m_gamma = 0.0;\n    this.m_bias = 0.0;\n  }\n\n  if (step.warmStarting) {\n    // Scale impulses to support a variable time step.\n    this.m_impulse.mul(step.dtRatio);\n\n    var P = Vec2.neo(this.m_impulse.x, this.m_impulse.y);\n\n    vA.subMul(mA, P);\n    wA -= iA * (Vec2.cross(this.m_rA, P) + this.m_impulse.z);\n\n    vB.addMul(mB, P);\n    wB += iB * (Vec2.cross(this.m_rB, P) + this.m_impulse.z);\n\n  } else {\n    this.m_impulse.setZero();\n  }\n\n  this.m_bodyA.c_velocity.v = vA;\n  this.m_bodyA.c_velocity.w = wA;\n  this.m_bodyB.c_velocity.v = vB;\n  this.m_bodyB.c_velocity.w = wB;\n}\n\nWeldJoint.prototype.solveVelocityConstraints = function(step) {\n  var vA = this.m_bodyA.c_velocity.v;\n  var wA = this.m_bodyA.c_velocity.w;\n  var vB = this.m_bodyB.c_velocity.v;\n  var wB = this.m_bodyB.c_velocity.w;\n\n  var mA = this.m_invMassA;\n  var mB = this.m_invMassB; // float\n  var iA = this.m_invIA;\n  var iB = this.m_invIB; // float\n\n  if (this.m_frequencyHz > 0.0) {\n    var Cdot2 = wB - wA; // float\n\n    var impulse2 = -this.m_mass.ez.z\n        * (Cdot2 + this.m_bias + this.m_gamma * this.m_impulse.z); // float\n    this.m_impulse.z += impulse2;\n\n    wA -= iA * impulse2;\n    wB += iB * impulse2;\n\n    var Cdot1 = Vec2.zero();\n    Cdot1.addCombine(1, vB, 1, Vec2.cross(wB, this.m_rB));\n    Cdot1.subCombine(1, vA, 1, Vec2.cross(wA, this.m_rA)); // Vec2\n\n    var impulse1 = Vec2.neg(Mat33.mulVec2(this.m_mass, Cdot1)); // Vec2\n    this.m_impulse.x += impulse1.x;\n    this.m_impulse.y += impulse1.y;\n\n    var P = Vec2.clone(impulse1); // Vec2\n\n    vA.subMul(mA, P);\n    wA -= iA * Vec2.cross(this.m_rA, P);\n\n    vB.addMul(mB, P);\n    wB += iB * Vec2.cross(this.m_rB, P);\n  } else {\n    var Cdot1 = Vec2.zero();\n    Cdot1.addCombine(1, vB, 1, Vec2.cross(wB, this.m_rB));\n    Cdot1.subCombine(1, vA, 1, Vec2.cross(wA, this.m_rA)); // Vec2\n    var Cdot2 = wB - wA; // float\n    var Cdot = Vec3(Cdot1.x, Cdot1.y, Cdot2); // Vec3\n\n    var impulse = Vec3.neg(Mat33.mulVec3(this.m_mass, Cdot)); // Vec3\n    this.m_impulse.add(impulse);\n\n    var P = Vec2.neo(impulse.x, impulse.y);\n\n    vA.subMul(mA, P);\n    wA -= iA * (Vec2.cross(this.m_rA, P) + impulse.z);\n\n    vB.addMul(mB, P);\n    wB += iB * (Vec2.cross(this.m_rB, P) + impulse.z);\n  }\n\n  this.m_bodyA.c_velocity.v = vA;\n  this.m_bodyA.c_velocity.w = wA;\n  this.m_bodyB.c_velocity.v = vB;\n  this.m_bodyB.c_velocity.w = wB;\n}\n\nWeldJoint.prototype.solvePositionConstraints = function(step) {\n  var cA = this.m_bodyA.c_position.c;\n  var aA = this.m_bodyA.c_position.a;\n  var cB = this.m_bodyB.c_position.c;\n  var aB = this.m_bodyB.c_position.a;\n\n  var qA = Rot.neo(aA), qB = Rot.neo(aB);\n\n  var mA = this.m_invMassA, mB = this.m_invMassB; // float\n  var iA = this.m_invIA, iB = this.m_invIB; // float\n\n  var rA = Rot.mulVec2(qA, Vec2.sub(this.m_localAnchorA, this.m_localCenterA));\n  var rB = Rot.mulVec2(qB, Vec2.sub(this.m_localAnchorB, this.m_localCenterB));\n\n  var positionError, angularError; // float\n\n  var K = new Mat33();\n  K.ex.x = mA + mB + rA.y * rA.y * iA + rB.y * rB.y * iB;\n  K.ey.x = -rA.y * rA.x * iA - rB.y * rB.x * iB;\n  K.ez.x = -rA.y * iA - rB.y * iB;\n  K.ex.y = K.ey.x;\n  K.ey.y = mA + mB + rA.x * rA.x * iA + rB.x * rB.x * iB;\n  K.ez.y = rA.x * iA + rB.x * iB;\n  K.ex.z = K.ez.x;\n  K.ey.z = K.ez.y;\n  K.ez.z = iA + iB;\n\n  if (this.m_frequencyHz > 0.0) {\n    var C1 = Vec2.zero();\n    C1.addCombine(1, cB, 1, rB);\n    C1.subCombine(1, cA, 1, rA); // Vec2\n\n    positionError = C1.length();\n    angularError = 0.0;\n\n    var P = Vec2.neg(K.solve22(C1)); // Vec2\n\n    cA.subMul(mA, P);\n    aA -= iA * Vec2.cross(rA, P);\n\n    cB.addMul(mB, P);\n    aB += iB * Vec2.cross(rB, P);\n  } else {\n    var C1 = Vec2.zero();\n    C1.addCombine(1, cB, 1, rB);\n    C1.subCombine(1, cA, 1, rA);\n\n    var C2 = aB - aA - this.m_referenceAngle; // float\n\n    positionError = C1.length();\n    angularError = Math.abs(C2);\n\n    var C = Vec3(C1.x, C1.y, C2);\n\n    var impulse = Vec3();\n    if (K.ez.z > 0.0) {\n      impulse = Vec3.neg(K.solve33(C));\n    } else {\n      var impulse2 = Vec2.neg(K.solve22(C1));\n      impulse.set(impulse2.x, impulse2.y, 0.0);\n    }\n\n    var P = Vec2.neo(impulse.x, impulse.y);\n\n    cA.subMul(mA, P);\n    aA -= iA * (Vec2.cross(rA, P) + impulse.z);\n\n    cB.addMul(mB, P);\n    aB += iB * (Vec2.cross(rB, P) + impulse.z);\n  }\n\n  this.m_bodyA.c_position.c = cA;\n  this.m_bodyA.c_position.a = aA;\n  this.m_bodyB.c_position.c = cB;\n  this.m_bodyB.c_position.a = aB;\n\n  return positionError <= Settings.linearSlop\n      && angularError <= Settings.angularSlop;\n}\n","/*\n * Copyright (c) 2016-2018 Ali Shakiba http://shakiba.me/planck.js\n * Copyright (c) 2006-2011 Erin Catto  http://www.box2d.org\n *\n * This software is provided 'as-is', without any express or implied\n * warranty.  In no event will the authors be held liable for any damages\n * arising from the use of this software.\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n * 1. The origin of this software must not be misrepresented; you must not\n * claim that you wrote the original software. If you use this software\n * in a product, an acknowledgment in the product documentation would be\n * appreciated but is not required.\n * 2. Altered source versions must be plainly marked as such, and must not be\n * misrepresented as being the original software.\n * 3. This notice may not be removed or altered from any source distribution.\n */\n\nvar _DEBUG = typeof DEBUG === 'undefined' ? false : DEBUG;\nvar _ASSERT = typeof ASSERT === 'undefined' ? false : ASSERT;\n\nmodule.exports = WheelJoint;\n\nvar options = require('../util/options');\nvar create = require('../util/create');\nvar Settings = require('../Settings');\n\nvar Math = require('../common/Math');\nvar Vec2 = require('../common/Vec2');\nvar Vec3 = require('../common/Vec3');\nvar Mat22 = require('../common/Mat22');\nvar Mat33 = require('../common/Mat33');\nvar Rot = require('../common/Rot');\nvar Sweep = require('../common/Sweep');\nvar Transform = require('../common/Transform');\nvar Velocity = require('../common/Velocity');\nvar Position = require('../common/Position');\n\nvar Joint = require('../Joint');\n\nWheelJoint.TYPE = 'wheel-joint';\n\nWheelJoint._super = Joint;\nWheelJoint.prototype = create(WheelJoint._super.prototype);\n\n/**\n * @typedef {Object} WheelJointDef\n *\n * Wheel joint definition. This requires defining a line of motion using an axis\n * and an anchor point. The definition uses local anchor points and a local axis\n * so that the initial configuration can violate the constraint slightly. The\n * joint translation is zero when the local anchor points coincide in world\n * space. Using local anchors and a local axis helps when saving and loading a\n * game.\n * \n * @prop {boolean} enableMotor Enable/disable the joint motor.\n * @prop {float} maxMotorTorque The maximum motor torque, usually in N-m.\n * @prop {float} motorSpeed The desired motor speed in radians per second.\n * @prop {float} frequencyHz Suspension frequency, zero indicates no suspension.\n * @prop {float} dampingRatio Suspension damping ratio, one indicates critical\n *       damping.\n *\n * @prop {Vec2} localAnchorA The local anchor point relative to bodyA's origin.\n * @prop {Vec2} localAnchorB The local anchor point relative to bodyB's origin.\n * @prop {Vec2} localAxisA The local translation axis in bodyA.\n */\nvar DEFAULTS = {\n  enableMotor : false,\n  maxMotorTorque : 0.0,\n  motorSpeed : 0.0,\n  frequencyHz : 2.0,\n  dampingRatio : 0.7,\n};\n\n/**\n * A wheel joint. This joint provides two degrees of freedom: translation along\n * an axis fixed in bodyA and rotation in the plane. In other words, it is a\n * point to line constraint with a rotational motor and a linear spring/damper.\n * This joint is designed for vehicle suspensions.\n *\n * @param {WheelJointDef} def\n * @param {Body} bodyA\n * @param {Body} bodyB\n */\nfunction WheelJoint(def, bodyA, bodyB, anchor, axis) {\n  if (!(this instanceof WheelJoint)) {\n    return new WheelJoint(def, bodyA, bodyB, anchor, axis);\n  }\n\n  def = options(def, DEFAULTS);\n  Joint.call(this, def, bodyA, bodyB);\n  bodyA = this.m_bodyA;\n  bodyB = this.m_bodyB;\n\n  this.m_type = WheelJoint.TYPE;\n\n  this.m_localAnchorA = anchor ? bodyA.getLocalPoint(anchor) : def.localAnchorA || Vec2.zero();\n  this.m_localAnchorB = anchor ? bodyB.getLocalPoint(anchor) : def.localAnchorB || Vec2.zero();\n  this.m_localAxis = axis ? bodyA.getLocalVector(axis) : def.localAxisA || Vec2.neo(1.0, 0.0);\n\n  this.m_localXAxisA = this.m_localAxis;\n  this.m_localYAxisA = Vec2.cross(1.0, this.m_localXAxisA);\n\n  this.m_mass = 0.0;\n  this.m_impulse = 0.0;\n  this.m_motorMass = 0.0;\n  this.m_motorImpulse = 0.0;\n  this.m_springMass = 0.0;\n  this.m_springImpulse = 0.0;\n\n  this.m_maxMotorTorque = def.maxMotorTorque;\n  this.m_motorSpeed = def.motorSpeed;\n  this.m_enableMotor = def.enableMotor;\n\n  this.m_frequencyHz = def.frequencyHz;\n  this.m_dampingRatio = def.dampingRatio;\n\n  this.m_bias = 0.0;\n  this.m_gamma = 0.0;\n\n  // Solver temp\n  this.m_localCenterA; // Vec2\n  this.m_localCenterB; // Vec2\n  this.m_invMassA; // float\n  this.m_invMassB; // float\n  this.m_invIA; // float\n  this.m_invIB; // float\n\n  this.m_ax = Vec2.zero();\n  this.m_ay = Vec2.zero(); // Vec2\n  this.m_sAx;\n  this.m_sBx; // float\n  this.m_sAy;\n  this.m_sBy; // float\n\n  // Linear constraint (point-to-line)\n  // d = pB - pA = xB + rB - xA - rA\n  // C = dot(ay, d)\n  // Cdot = dot(d, cross(wA, ay)) + dot(ay, vB + cross(wB, rB) - vA - cross(wA,\n  // rA))\n  // = -dot(ay, vA) - dot(cross(d + rA, ay), wA) + dot(ay, vB) + dot(cross(rB,\n  // ay), vB)\n  // J = [-ay, -cross(d + rA, ay), ay, cross(rB, ay)]\n\n  // Spring linear constraint\n  // C = dot(ax, d)\n  // Cdot = = -dot(ax, vA) - dot(cross(d + rA, ax), wA) + dot(ax, vB) +\n  // dot(cross(rB, ax), vB)\n  // J = [-ax -cross(d+rA, ax) ax cross(rB, ax)]\n\n  // Motor rotational constraint\n  // Cdot = wB - wA\n  // J = [0 0 -1 0 0 1]\n}\n\n/**\n * The local anchor point relative to bodyA's origin.\n */\nWheelJoint.prototype.getLocalAnchorA = function() {\n  return this.m_localAnchorA;\n}\n\n/**\n * The local anchor point relative to bodyB's origin.\n */\nWheelJoint.prototype.getLocalAnchorB = function() {\n  return this.m_localAnchorB;\n}\n\n/**\n * The local joint axis relative to bodyA.\n */\nWheelJoint.prototype.getLocalAxisA = function() {\n  return this.m_localXAxisA;\n}\n\n/**\n * Get the current joint translation, usually in meters.\n */\nWheelJoint.prototype.getJointTranslation = function() {\n  var bA = this.m_bodyA;\n  var bB = this.m_bodyB;\n\n  var pA = bA.getWorldPoint(this.m_localAnchorA); // Vec2\n  var pB = bB.getWorldPoint(this.m_localAnchorB); // Vec2\n  var d = Vec2.sub(pB, pA); // Vec2\n  var axis = bA.getWorldVector(this.m_localXAxisA); // Vec2\n\n  var translation = Vec2.dot(d, axis); // float\n  return translation;\n}\n\n/**\n * Get the current joint translation speed, usually in meters per second.\n */\nWheelJoint.prototype.getJointSpeed = function() {\n  var wA = this.m_bodyA.m_angularVelocity;\n  var wB = this.m_bodyB.m_angularVelocity;\n  return wB - wA;\n}\n\n/**\n * Is the joint motor enabled?\n */\nWheelJoint.prototype.isMotorEnabled = function() {\n  return this.m_enableMotor;\n}\n\n/**\n * Enable/disable the joint motor.\n */\nWheelJoint.prototype.enableMotor = function(flag) {\n  this.m_bodyA.setAwake(true);\n  this.m_bodyB.setAwake(true);\n  this.m_enableMotor = flag;\n}\n\n/**\n * Set the motor speed, usually in radians per second.\n */\nWheelJoint.prototype.setMotorSpeed = function(speed) {\n  this.m_bodyA.setAwake(true);\n  this.m_bodyB.setAwake(true);\n  this.m_motorSpeed = speed;\n}\n\n/**\n * Get the motor speed, usually in radians per second.\n */\nWheelJoint.prototype.getMotorSpeed = function() {\n  return this.m_motorSpeed;\n}\n\n/**\n * Set/Get the maximum motor force, usually in N-m.\n */\nWheelJoint.prototype.setMaxMotorTorque = function(torque) {\n  this.m_bodyA.setAwake(true);\n  this.m_bodyB.setAwake(true);\n  this.m_maxMotorTorque = torque;\n}\n\nWheelJoint.prototype.getMaxMotorTorque = function() {\n  return this.m_maxMotorTorque;\n}\n\n/**\n * Get the current motor torque given the inverse time step, usually in N-m.\n */\nWheelJoint.prototype.getMotorTorque = function(inv_dt) {\n  return inv_dt * this.m_motorImpulse;\n}\n\n/**\n * Set/Get the spring frequency in hertz. Setting the frequency to zero disables\n * the spring.\n */\nWheelJoint.prototype.setSpringFrequencyHz = function(hz) {\n  this.m_frequencyHz = hz;\n}\n\nWheelJoint.prototype.getSpringFrequencyHz = function() {\n  return this.m_frequencyHz;\n}\n\n/**\n * Set/Get the spring damping ratio\n */\nWheelJoint.prototype.setSpringDampingRatio = function(ratio) {\n  this.m_dampingRatio = ratio;\n}\n\nWheelJoint.prototype.getSpringDampingRatio = function() {\n  return this.m_dampingRatio;\n}\n\nWheelJoint.prototype.getAnchorA = function() {\n  return this.m_bodyA.getWorldPoint(this.m_localAnchorA);\n}\n\nWheelJoint.prototype.getAnchorB = function() {\n  return this.m_bodyB.getWorldPoint(this.m_localAnchorB);\n}\n\nWheelJoint.prototype.getReactionForce = function(inv_dt) {\n  return Vec2.combine(this.m_impulse, this.m_ay, this.m_springImpulse, this.m_ax).mul(inv_dt);\n}\n\nWheelJoint.prototype.getReactionTorque = function(inv_dt) {\n  return inv_dt * this.m_motorImpulse;\n}\n\nWheelJoint.prototype.initVelocityConstraints = function(step) {\n  this.m_localCenterA = this.m_bodyA.m_sweep.localCenter;\n  this.m_localCenterB = this.m_bodyB.m_sweep.localCenter;\n  this.m_invMassA = this.m_bodyA.m_invMass;\n  this.m_invMassB = this.m_bodyB.m_invMass;\n  this.m_invIA = this.m_bodyA.m_invI;\n  this.m_invIB = this.m_bodyB.m_invI;\n\n  var mA = this.m_invMassA;\n  var mB = this.m_invMassB; // float\n  var iA = this.m_invIA;\n  var iB = this.m_invIB; // float\n\n  var cA = this.m_bodyA.c_position.c;\n  var aA = this.m_bodyA.c_position.a;\n  var vA = this.m_bodyA.c_velocity.v;\n  var wA = this.m_bodyA.c_velocity.w;\n\n  var cB = this.m_bodyB.c_position.c;\n  var aB = this.m_bodyB.c_position.a;\n  var vB = this.m_bodyB.c_velocity.v;\n  var wB = this.m_bodyB.c_velocity.w;\n\n  var qA = Rot.neo(aA);\n  var qB = Rot.neo(aB);\n\n  // Compute the effective masses.\n  var rA = Rot.mulVec2(qA, Vec2.sub(this.m_localAnchorA, this.m_localCenterA));\n  var rB = Rot.mulVec2(qB, Vec2.sub(this.m_localAnchorB, this.m_localCenterB));\n  var d = Vec2.zero();\n  d.addCombine(1, cB, 1, rB);\n  d.subCombine(1, cA, 1, rA); // Vec2\n\n  // Point to line constraint\n  {\n    this.m_ay = Rot.mulVec2(qA, this.m_localYAxisA);\n    this.m_sAy = Vec2.cross(Vec2.add(d, rA), this.m_ay);\n    this.m_sBy = Vec2.cross(rB, this.m_ay);\n\n    this.m_mass = mA + mB + iA * this.m_sAy * this.m_sAy + iB * this.m_sBy\n        * this.m_sBy;\n\n    if (this.m_mass > 0.0) {\n      this.m_mass = 1.0 / this.m_mass;\n    }\n  }\n\n  // Spring constraint\n  this.m_springMass = 0.0;\n  this.m_bias = 0.0;\n  this.m_gamma = 0.0;\n  if (this.m_frequencyHz > 0.0) {\n    this.m_ax = Rot.mulVec2(qA, this.m_localXAxisA);\n    this.m_sAx = Vec2.cross(Vec2.add(d, rA), this.m_ax);\n    this.m_sBx = Vec2.cross(rB, this.m_ax);\n\n    var invMass = mA + mB + iA * this.m_sAx * this.m_sAx + iB * this.m_sBx\n        * this.m_sBx; // float\n\n    if (invMass > 0.0) {\n      this.m_springMass = 1.0 / invMass;\n\n      var C = Vec2.dot(d, this.m_ax); // float\n\n      // Frequency\n      var omega = 2.0 * Math.PI * this.m_frequencyHz; // float\n\n      // Damping coefficient\n      var d = 2.0 * this.m_springMass * this.m_dampingRatio * omega; // float\n\n      // Spring stiffness\n      var k = this.m_springMass * omega * omega; // float\n\n      // magic formulas\n      var h = step.dt; // float\n      this.m_gamma = h * (d + h * k);\n      if (this.m_gamma > 0.0) {\n        this.m_gamma = 1.0 / this.m_gamma;\n      }\n\n      this.m_bias = C * h * k * this.m_gamma;\n\n      this.m_springMass = invMass + this.m_gamma;\n      if (this.m_springMass > 0.0) {\n        this.m_springMass = 1.0 / this.m_springMass;\n      }\n    }\n  } else {\n    this.m_springImpulse = 0.0;\n  }\n\n  // Rotational motor\n  if (this.m_enableMotor) {\n    this.m_motorMass = iA + iB;\n    if (this.m_motorMass > 0.0) {\n      this.m_motorMass = 1.0 / this.m_motorMass;\n    }\n  } else {\n    this.m_motorMass = 0.0;\n    this.m_motorImpulse = 0.0;\n  }\n\n  if (step.warmStarting) {\n    // Account for variable time step.\n    this.m_impulse *= step.dtRatio;\n    this.m_springImpulse *= step.dtRatio;\n    this.m_motorImpulse *= step.dtRatio;\n\n    var P = Vec2.combine(this.m_impulse, this.m_ay, this.m_springImpulse, this.m_ax);\n    var LA = this.m_impulse * this.m_sAy + this.m_springImpulse * this.m_sAx + this.m_motorImpulse;\n    var LB = this.m_impulse * this.m_sBy + this.m_springImpulse * this.m_sBx + this.m_motorImpulse;\n\n    vA.subMul(this.m_invMassA, P);\n    wA -= this.m_invIA * LA;\n\n    vB.addMul(this.m_invMassB, P);\n    wB += this.m_invIB * LB;\n\n  } else {\n    this.m_impulse = 0.0;\n    this.m_springImpulse = 0.0;\n    this.m_motorImpulse = 0.0;\n  }\n\n  this.m_bodyA.c_velocity.v.set(vA);\n  this.m_bodyA.c_velocity.w = wA;\n  this.m_bodyB.c_velocity.v.set(vB);\n  this.m_bodyB.c_velocity.w = wB;\n}\n\nWheelJoint.prototype.solveVelocityConstraints = function(step) {\n  var mA = this.m_invMassA;\n  var mB = this.m_invMassB; // float\n  var iA = this.m_invIA;\n  var iB = this.m_invIB; // float\n\n  var vA = this.m_bodyA.c_velocity.v;\n  var wA = this.m_bodyA.c_velocity.w;\n  var vB = this.m_bodyB.c_velocity.v;\n  var wB = this.m_bodyB.c_velocity.w;\n\n  // Solve spring constraint\n  {\n    var Cdot = Vec2.dot(this.m_ax, vB) - Vec2.dot(this.m_ax, vA) + this.m_sBx\n        * wB - this.m_sAx * wA; // float\n    var impulse = -this.m_springMass\n        * (Cdot + this.m_bias + this.m_gamma * this.m_springImpulse); // float\n    this.m_springImpulse += impulse;\n\n    var P = Vec2.mul(impulse, this.m_ax); // Vec2\n    var LA = impulse * this.m_sAx; // float\n    var LB = impulse * this.m_sBx; // float\n\n    vA.subMul(mA, P);\n    wA -= iA * LA;\n\n    vB.addMul(mB, P);\n    wB += iB * LB;\n  }\n\n  // Solve rotational motor constraint\n  {\n    var Cdot = wB - wA - this.m_motorSpeed; // float\n    var impulse = -this.m_motorMass * Cdot; // float\n\n    var oldImpulse = this.m_motorImpulse; // float\n    var maxImpulse = step.dt * this.m_maxMotorTorque; // float\n    this.m_motorImpulse = Math.clamp(this.m_motorImpulse + impulse,\n        -maxImpulse, maxImpulse);\n    impulse = this.m_motorImpulse - oldImpulse;\n\n    wA -= iA * impulse;\n    wB += iB * impulse;\n  }\n\n  // Solve point to line constraint\n  {\n    var Cdot = Vec2.dot(this.m_ay, vB) - Vec2.dot(this.m_ay, vA) + this.m_sBy\n        * wB - this.m_sAy * wA; // float\n    var impulse = -this.m_mass * Cdot; // float\n    this.m_impulse += impulse;\n\n    var P = Vec2.mul(impulse, this.m_ay); // Vec2\n    var LA = impulse * this.m_sAy; // float\n    var LB = impulse * this.m_sBy; // float\n\n    vA.subMul(mA, P);\n    wA -= iA * LA;\n\n    vB.addMul(mB, P);\n    wB += iB * LB;\n  }\n\n  this.m_bodyA.c_velocity.v.set(vA);\n  this.m_bodyA.c_velocity.w = wA;\n  this.m_bodyB.c_velocity.v.set(vB);\n  this.m_bodyB.c_velocity.w = wB;\n}\n\nWheelJoint.prototype.solvePositionConstraints = function(step) {\n  var cA = this.m_bodyA.c_position.c;\n  var aA = this.m_bodyA.c_position.a;\n  var cB = this.m_bodyB.c_position.c;\n  var aB = this.m_bodyB.c_position.a;\n\n  var qA = Rot.neo(aA);\n  var qB = Rot.neo(aB);\n\n  var rA = Rot.mulVec2(qA, Vec2.sub(this.m_localAnchorA, this.m_localCenterA));\n  var rB = Rot.mulVec2(qB, Vec2.sub(this.m_localAnchorB, this.m_localCenterB));\n  var d = Vec2.zero();\n  d.addCombine(1, cB, 1, rB);\n  d.subCombine(1, cA, 1, rA);\n\n  var ay = Rot.mulVec2(qA, this.m_localYAxisA);\n\n  var sAy = Vec2.cross(Vec2.add(d, rA), ay); // float\n  var sBy = Vec2.cross(rB, ay); // float\n\n  var C = Vec2.dot(d, ay); // float\n\n  var k = this.m_invMassA + this.m_invMassB + this.m_invIA * this.m_sAy\n      * this.m_sAy + this.m_invIB * this.m_sBy * this.m_sBy; // float\n\n  var impulse; // float\n  if (k != 0.0) {\n    impulse = -C / k;\n  } else {\n    impulse = 0.0;\n  }\n\n  var P = Vec2.mul(impulse, ay); // Vec2\n  var LA = impulse * sAy; // float\n  var LB = impulse * sBy; // float\n\n  cA.subMul(this.m_invMassA, P);\n  aA -= this.m_invIA * LA;\n  cB.addMul(this.m_invMassB, P);\n  aB += this.m_invIB * LB;\n\n  this.m_bodyA.c_position.c.set(cA);\n  this.m_bodyA.c_position.a = aA;\n  this.m_bodyB.c_position.c.set(cB);\n  this.m_bodyB.c_position.a = aB;\n\n  return Math.abs(C) <= Settings.linearSlop;\n}\n"],"sourceRoot":""}