{"version":3,"sources":["webpack:///./node_modules/gatsby-link/index.js","webpack:///./node_modules/dom-helpers/query/scrollLeft.js","webpack:///./node_modules/core-js/modules/_function-to-string.js","webpack:///./src/contexts/tangrams.js","webpack:///./node_modules/core-js/modules/_html.js","webpack:///./node_modules/core-js/modules/es6.object.set-prototype-of.js","webpack:///./node_modules/core-js/modules/_is-object.js","webpack:///./node_modules/core-js/modules/_string-context.js","webpack:///./node_modules/prop-types/factoryWithThrowingShims.js","webpack:///./node_modules/prop-types/index.js","webpack:///./node_modules/core-js/modules/_enum-keys.js","webpack:///./node_modules/core-js/modules/_iter-step.js","webpack:///./node_modules/gatsby-react-router-scroll/StateStorage.js","webpack:///./node_modules/core-js/modules/es6.object.is.js","webpack:///./node_modules/core-js/modules/_a-function.js","webpack:///./node_modules/core-js/modules/_redefine-all.js","webpack:///./node_modules/gatsby-react-router-scroll/ScrollBehaviorContext.js","webpack:///./node_modules/core-js/modules/_collection.js","webpack:///./node_modules/core-js/modules/_enum-bug-keys.js","webpack:///./node_modules/mitt/dist/mitt.es.js","webpack:///./.cache/emitter.js","webpack:///./node_modules/core-js/modules/_species-constructor.js","webpack:///./node_modules/warning/browser.js","webpack:///./node_modules/core-js/modules/_array-species-constructor.js","webpack:///./node_modules/gatsby-react-router-scroll/index.js","webpack:///./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","webpack:///./node_modules/dom-helpers/query/isWindow.js","webpack:///./node_modules/core-js/modules/_create-property.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/core-js/modules/es6.object.assign.js","webpack:///./.cache/react-lifecycles-compat.js","webpack:///./node_modules/core-js/modules/es6.map.js","webpack:///./node_modules/core-js/modules/es6.string.starts-with.js","webpack:///./node_modules/@reach/router/es/lib/history.js","webpack:///./node_modules/core-js/modules/_an-instance.js","webpack:///./node_modules/gatsby-plugin-manifest/get-manifest-pathname.js","webpack:///./node_modules/core-js/modules/_advance-string-index.js","webpack:///./node_modules/core-js/modules/_iter-define.js","webpack:///./node_modules/core-js/modules/_string-at.js","webpack:///./node_modules/paper/dist/paper-core.js","webpack:///./node_modules/dom-helpers/util/inDOM.js","webpack:///./node_modules/core-js/modules/es6.object.to-string.js","webpack:///./node_modules/core-js/modules/_flags.js","webpack:///./node_modules/core-js/modules/_array-methods.js","webpack:///./node_modules/core-js/modules/_object-keys.js","webpack:///./node_modules/core-js/modules/es6.weak-map.js","webpack:///./node_modules/core-js/modules/_is-array.js","webpack:///./node_modules/core-js/modules/_object-gopd.js","webpack:///./node_modules/core-js/modules/_object-dps.js","webpack:///./node_modules/core-js/modules/_task.js","webpack:///./gatsby-browser.js","webpack:///./node_modules/core-js/modules/_iter-call.js","webpack:///./node_modules/core-js/modules/es6.array.from.js","webpack:///./node_modules/core-js/modules/_classof.js","webpack:///./node_modules/css-system/dist/index.es.js","webpack:///./.cache/page-renderer.js","webpack:///./node_modules/core-js/modules/_fix-re-wks.js","webpack:///./node_modules/gatsby-react-router-scroll/ScrollContainer.js","webpack:///./node_modules/core-js/modules/_dom-create.js","webpack:///./node_modules/core-js/modules/core.get-iterator-method.js","webpack:///./node_modules/core-js/modules/_object-gops.js","webpack:///./node_modules/core-js/modules/_wks.js","webpack:///./node_modules/core-js/modules/es6.regexp.split.js","webpack:///./node_modules/core-js/modules/_redefine.js","webpack:///./node_modules/core-js/modules/_object-create.js","webpack:///./node_modules/core-js/modules/es6.string.includes.js","webpack:///./node_modules/scroll-behavior/lib/index.js","webpack:///./node_modules/core-js/modules/_library.js","webpack:///./node_modules/@reach/router/es/lib/utils.js","webpack:///./node_modules/core-js/modules/_cof.js","webpack:///./.cache/api-runner-browser-plugins.js","webpack:///./node_modules/core-js/modules/_strict-method.js","webpack:///./node_modules/core-js/modules/_is-array-iter.js","webpack:///./node_modules/@mikaelkristiansson/domready/ready.js","webpack:///./node_modules/core-js/modules/_invoke.js","webpack:///./node_modules/object-assign/index.js","webpack:///./node_modules/core-js/modules/_hide.js","webpack:///./node_modules/core-js/modules/_wks-ext.js","webpack:///./.cache/register-service-worker.js","webpack:///./node_modules/core-js/modules/_array-fill.js","webpack:///./node_modules/core-js/modules/es6.regexp.flags.js","webpack:///./node_modules/core-js/modules/es6.regexp.search.js","webpack:///./node_modules/core-js/modules/_object-gpo.js","webpack:///./node_modules/core-js/modules/_wks-define.js","webpack:///./node_modules/scroll-behavior/lib/utils.js","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///./node_modules/invariant/browser.js","webpack:///./node_modules/core-js/modules/_iter-create.js","webpack:///./node_modules/core-js/modules/es6.object.keys.js","webpack:///./node_modules/core-js/modules/_to-integer.js","webpack:///./node_modules/core-js/modules/_property-desc.js","webpack:///./node_modules/core-js/modules/_to-object.js","webpack:///./node_modules/core-js/modules/es6.regexp.match.js","webpack:///./node_modules/core-js/modules/_for-of.js","webpack:///./node_modules/core-js/modules/es6.set.js","webpack:///./node_modules/@babel/runtime/helpers/interopRequireDefault.js","webpack:///./node_modules/core-js/modules/_object-to-array.js","webpack:///./node_modules/core-js/modules/_fails-is-regexp.js","webpack:///./node_modules/core-js/modules/_regexp-exec.js","webpack:///./node_modules/core-js/modules/_object-pie.js","webpack:///./.cache/navigation.js","webpack:///./node_modules/shallow-compare/es/index.js","webpack:///./.cache/ensure-resources.js","webpack:///./.cache/production-app.js","webpack:///./node_modules/core-js/modules/es6.promise.js","webpack:///./node_modules/core-js/modules/_shared.js","webpack:///./node_modules/@babel/runtime/helpers/inheritsLoose.js","webpack:///./node_modules/core-js/modules/es6.array.sort.js","webpack:///./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./node_modules/core-js/modules/_export.js","webpack:///./node_modules/core-js/modules/_iter-detect.js","webpack:///./node_modules/core-js/modules/_inherit-if-required.js","webpack:///./node_modules/core-js/modules/es6.string.iterator.js","webpack:///./node_modules/core-js/modules/_object-sap.js","webpack:///./node_modules/core-js/modules/_regexp-exec-abstract.js","webpack:///./node_modules/core-js/modules/_shared-key.js","webpack:///./node_modules/core-js/modules/_iobject.js","webpack:///./.cache/create-react-context.js","webpack:///./node_modules/@reach/router/es/index.js","webpack:///./node_modules/core-js/modules/es7.array.includes.js","webpack:///./node_modules/core-js/modules/_meta.js","webpack:///./node_modules/core-js/modules/_collection-weak.js","webpack:///./node_modules/dom-helpers/query/scrollTop.js","webpack:///./node_modules/core-js/modules/es6.regexp.to-string.js","webpack:///./node_modules/core-js/modules/_to-iobject.js","webpack:///./node_modules/core-js/modules/_has.js","webpack:///./node_modules/core-js/modules/_to-primitive.js","webpack:///./node_modules/core-js/modules/es6.array.fill.js","webpack:///./node_modules/dom-helpers/events/off.js","webpack:///./.cache/strip-prefix.js","webpack:///./node_modules/gatsby-link/parse-path.js","webpack:///./node_modules/core-js/modules/_object-assign.js","webpack:///./node_modules/core-js/modules/_to-absolute-index.js","webpack:///./node_modules/core-js/modules/es6.array.find.js","webpack:///./node_modules/@css-system/gatsby-plugin-css-system/gatsby-browser.js","webpack:///./node_modules/core-js/modules/_global.js","webpack:///./node_modules/gatsby-plugin-offline/gatsby-browser.js","webpack:///./node_modules/core-js/modules/_object-gopn-ext.js","webpack:///./node_modules/core-js/modules/_fails.js","webpack:///./node_modules/core-js/modules/_set-species.js","webpack:///./.cache/prefetch.js","webpack:///./.cache/normalize-page-path.js","webpack:///./.cache/find-path.js","webpack:///./.cache/loader.js","webpack:///./node_modules/@css-system/gatsby-plugin-css-system/index.js","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./node_modules/core-js/modules/_set-to-string-tag.js","webpack:///./node_modules/core-js/modules/_core.js","webpack:///./node_modules/core-js/modules/_same-value.js","webpack:///./node_modules/core-js/modules/_microtask.js","webpack:///./node_modules/core-js/modules/_iterators.js","webpack:///./node_modules/core-js/modules/es7.object.values.js","webpack:///./node_modules/core-js/modules/_object-dp.js","webpack:///./node_modules/core-js/modules/_set-proto.js","webpack:///./node_modules/core-js/modules/es6.symbol.js","webpack:///./node_modules/core-js/modules/_object-gopn.js","webpack:///./node_modules/@babel/runtime/helpers/defineProperty.js","webpack:///./.cache/public-page-renderer.js","webpack:///./node_modules/core-js/modules/_ctx.js","webpack:///./node_modules/core-js/modules/_add-to-unscopables.js","webpack:///./node_modules/core-js/modules/_perform.js","webpack:///./node_modules/core-js/modules/_to-length.js","webpack:///./node_modules/core-js/modules/_descriptors.js","webpack:///./node_modules/gatsby-plugin-manifest/gatsby-browser.js","webpack:///./node_modules/core-js/modules/_user-agent.js","webpack:///./.cache/async-requires.js","webpack:///./node_modules/core-js/modules/es6.regexp.replace.js","webpack:///./node_modules/@babel/runtime/helpers/extends.js","webpack:///./node_modules/gatsby-plugin-google-analytics/gatsby-browser.js","webpack:///./node_modules/core-js/modules/_new-promise-capability.js","webpack:///./node_modules/core-js/modules/es6.math.log2.js","webpack:///./node_modules/dom-helpers/util/requestAnimationFrame.js","webpack:///./node_modules/core-js/modules/_is-regexp.js","webpack:///./node_modules/core-js/modules/es7.symbol.async-iterator.js","webpack:///./node_modules/core-js/modules/web.dom.iterable.js","webpack:///./node_modules/dom-helpers/events/on.js","webpack:///./node_modules/core-js/modules/es6.string.ends-with.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./node_modules/core-js/modules/_validate-collection.js","webpack:///./node_modules/core-js/modules/es6.regexp.exec.js","webpack:///./node_modules/core-js/modules/_promise-resolve.js","webpack:///./node_modules/core-js/modules/_defined.js","webpack:///./node_modules/core-js/modules/_array-includes.js","webpack:///./node_modules/core-js/modules/es6.weak-set.js","webpack:///./node_modules/core-js/modules/_collection-strong.js","webpack:///./node_modules/core-js/modules/_ie8-dom-define.js","webpack:///./.cache/api-runner-browser.js","webpack:///./node_modules/core-js/modules/_an-object.js","webpack:///./node_modules/core-js/modules/_uid.js","webpack:///./node_modules/core-js/modules/es6.array.iterator.js","webpack:///./node_modules/core-js/modules/_array-species-create.js","webpack:///./node_modules/core-js/modules/_object-keys-internal.js"],"names":["_interopRequireDefault","exports","__esModule","withPrefix","withAssetPrefix","path","concat","replace","join","navigateTo","push","navigate","default","_objectWithoutPropertiesLoose2","_extends2","_assertThisInitialized2","_inheritsLoose2","_defineProperty2","_propTypes","_react","_router","_parsePath","normalizePath","parsePath","NavLinkPropTypes","activeClassName","string","activeStyle","object","partiallyActive","bool","GatsbyLink","_React$Component","props","_this","call","this","_ref","isPartiallyCurrent","isCurrent","className","filter","Boolean","style","IOSupported","window","IntersectionObserver","state","handleRef","bind","_proto","prototype","componentDidUpdate","prevProps","prevState","to","___loader","enqueue","pathname","componentDidMount","componentWillUnmount","io","_this$io","instance","el","unobserve","disconnect","ref","cb","_this2","innerRef","hasOwnProperty","current","entries","forEach","entry","target","isIntersecting","intersectionRatio","observe","render","_this3","_this$props","_this$props$getProps","getProps","defaultGetProps","_onClick","onClick","_onMouseEnter","onMouseEnter","rest","prefixedTo","createElement","Link","e","hovering","button","defaultPrevented","metaKey","altKey","ctrlKey","shiftKey","preventDefault","Component","propTypes","func","isRequired","showDeprecationWarning","functionName","altFunctionName","version","console","warn","_default","forwardRef","options","___navigate","___push","___replace","node","val","win","_isWindow","undefined","pageXOffset","document","documentElement","scrollLeft","scrollTo","pageYOffset","scrollTop","module","Function","toString","TangramsContext","createContext","TangramsProvider","children","useState","playlist","setPlaylist","saveRequestId","setSaveRequestId","completedTangramsEmoji","setCompletedTangramsEmoji","groups","data","group","tangramsByGroup","useMemo","project","paper","Project","fieldValue","nodes","percent","coumpoundPath","importSVG","applyMatrix","insert","log","length","parent","name","difficulty","tangram","sort","tangramA","tangramB","order","categories","Object","keys","requestSave","useCallback","prevRequestId","useEffect","newCompletedTangramsEmoji","category","id","localStorage","getItem","setCompletedTangramEmoji","emoji","setItem","prevCompletedTangrams","contextValue","Provider","value","$export","S","setPrototypeOf","set","it","isRegExp","defined","that","searchString","NAME","TypeError","String","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","propName","componentName","location","propFullName","secret","err","Error","getShim","ReactPropTypes","array","number","symbol","any","arrayOf","element","elementType","instanceOf","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","getKeys","gOPS","pIE","result","getSymbols","f","key","symbols","isEnum","i","done","SessionStorage","read","stateKey","getStateKey","sessionStorage","JSON","parse","save","storedValue","stringify","stateKeyBase","is","redefine","src","safe","_scrollBehavior","_history","_StateStorage","shouldUpdateScroll","childContextTypes","scrollBehavior","ScrollContext","context","prevRouterProps","routerProps","registerElement","getRouterProps","unregisterElement","addTransitionHook","globalHistory","listen","stateStorage","getCurrentLocation","getChildContext","__navigatingToLink","action","updateScroll","history","stop","Children","only","global","redefineAll","meta","forOf","anInstance","isObject","fails","$iterDetect","setToStringTag","inheritIfRequired","wrapper","methods","common","IS_MAP","IS_WEAK","Base","C","ADDER","proto","O","fixMethod","KEY","fn","a","b","next","HASNT_CHAINING","THROWS_ON_PRIMITIVES","has","ACCEPT_ITERABLES","iter","BUGGY_ZERO","$instance","index","iterable","constructor","clear","getConstructor","NEED","G","W","F","setStrong","split","emitter","all","create","on","type","handler","off","splice","indexOf","emit","evt","slice","map","mitt","anObject","aFunction","SPECIES","D","isArray","original","Array","_ScrollBehaviorContext","_ScrollContainer","ScrollContainer","source","excluded","sourceKeys","nodeType","defaultView","parentWindow","$defineProperty","createDesc","cachedSetTimeout","cachedClearTimeout","process","defaultSetTimout","defaultClearTimeout","runTimeout","fun","setTimeout","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","len","run","marker","runClearTimeout","Item","noop","nextTick","args","arguments","apply","title","browser","env","argv","versions","addListener","once","removeListener","removeAllListeners","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","assign","polyfill","strong","validate","get","getEntry","v","def","toLength","$startsWith","P","startsWith","Math","min","search","_extends","getLocation","_source$location","hash","href","origin","protocol","host","hostname","port","createHistory","transitioning","resolveTransition","_onTransitionComplete","listener","popstateListener","addEventListener","removeEventListener","_ref$replace","go","Date","now","replaceState","pushState","transition","Promise","res","createMemorySource","initialPath","searchIndex","initialLocation","substr","stack","states","_","uri","_uri$split","_uri$split$","_uri$split2","_uri$split2$","canUseDOM","Constructor","forbiddenField","localizedManifests","localizedManifest","find","app","start_url","lang","at","unicode","LIBRARY","hide","Iterators","$iterCreate","getPrototypeOf","ITERATOR","BUGGY","returnThis","DEFAULT","IS_SET","FORCED","IteratorPrototype","getMethod","kind","TAG","DEF_VALUES","VALUES_BUG","$native","$default","$entries","$anyNative","values","toInteger","TO_STRING","pos","s","l","charCodeAt","charAt","self","hidden","_slice","describe","getOwnPropertyDescriptor","define","defineProperty","forIn","dst","_each","obj","desc","_inject","dest","enumerable","beans","preserve","beansNames","field","substring","bean","isFunc","prev","base","match","toLowerCase","isPlainObject","writable","configurable","test","part","inject","statics","extend","ctor","initialize","each","clone","pick","list","begin","end","_id","_class","_name","Formatter","getClassName","importJSON","json","exportJSON","toJSON","serialize","exclude","_prioritize","equals","obj1","obj2","start","amount","peek","__index","readIndex","_readIndex","readNull","__read","filtered","__filtered","remain","readList","readNamed","getNamed","hasValue","getSource","__unfiltered","readSupported","__source","arg","hasNamed","prioritize","processed","handleKey","isPlainValue","asString","compact","dictionary","isRoot","formatter","precision","definitions","references","add","item","unshift","_serialize","_compactSerialize","deserialize","_data","_setDictionary","_isRoot","isFirst","hasDictionary","isDictionary","useTarget","Layer","items","itemsLength","startLength","remove","append","_index","removed","capitalize","str","toUpperCase","camelize","chr","hyphenate","Emitter","types","_eventTypes","handlers","_callbacks","install","uninstall","event","setTarget","currentTarget","responds","attach","detach","fire","_installEvents","events","_events","isString","PaperScope","settings","insertItems","handleSize","hitTolerance","projects","tools","_scopes","support","ctx","CanvasProvider","getContext","nativeDash","nativeBlendModes","BlendMode","nativeModes","release","agent","user","navigator","userAgent","os","exec","platform","n","v1","v2","rv","chrome","versionNumber","parseFloat","trident","jsdom","webkit","atom","getView","_view","getPaper","execute","code","scope","setup","createCanvas","width","height","getCanvas","activate","handleAttribute","attr","getAttribute","hasAttribute","PaperScopeItem","_scope","_list","_reference","isActive","CollisionDetection","findItemBoundsCollisions","items1","items2","tolerance","getBounds","bounds","rect","left","top","right","bottom","bounds1","bounds2","findBoundsCollisions","findCurveBoundsCollisions","curves1","curves2","bothAxis","curves","max","hor","ver","boundsA","boundsB","sweepVertical","onlySweepAxisCollisions","allBounds","lengthA","lengthAll","binarySearch","indices","coord","lo","hi","mid","pri0","pri1","sec0","sec1","allIndicesByPri0","i1","i2","activeIndicesByPri1","allCollisions","curIndex","curBounds","origIndex","isCurrentA","isCurrentB","curCollisions","pruneCount","j","activeIndex","curSec1","curSec0","activeBounds","isActiveA","isActiveB","collisions","multiplier","pow","round","pair","val1","val2","separator","point","x","y","size","rectangle","Numerical","abscissas","weights","abs","sqrt","log2","LOG2E","clamp","getDiscriminant","c","E","ad","bd","cd","p","q","getNormalizationFactor","norm","EPSILON","MACHINE_EPSILON","CURVETIME_EPSILON","GEOMETRIC_EPSILON","TRIGONOMETRIC_EPSILON","KAPPA","isZero","isMachineZero","integrate","w","A","B","m","sum","Ax","findRoot","df","fx","dx","nx","solveQuadratic","roots","x1","x2","Infinity","Q","R","count","boundless","minB","maxB","isFinite","solveCubic","d","b1","c2","qd","evaluate","x0","tmp","t","r","td","rd","UID","_pools","pool","Point","arg0","arg1","reading","hasY","_set","setAngle","angle","getLength","setLength","_angle","cos","sin","scale","getAngle","getAngleInRadians","PI","setAngleInRadians","getAngleInDegrees","setAngleInDegrees","div","NaN","dot","acos","atan2","getQuadrant","getDirectedAngle","cross","getDistance","squared","normalize","rotate","center","subtract","transform","matrix","_transformPoint","multiply","divide","modulo","negate","isInside","_Rectangle","contains","isClose","isCollinear","isColinear","isOrthogonal","isNaN","_isNaN","isInQuadrant","point1","point2","random","y1","y2","op","LinkedPoint","owner","setter","_x","_y","_owner","_setter","_dontNotify","getX","setX","getY","setY","isSelected","_selection","_getSelection","setSelected","selected","_changeSelection","Size","hasHeight","_isNaN2","size1","size2","LinkedSize","_width","_height","getWidth","setWidth","getHeight","setHeight","arg2","arg3","from","frm","rt","getPoint","_dontLink","setPoint","getSize","_fw","_fh","setSize","sx","_sx","sy","_sy","h","getLeft","setLeft","getTop","setTop","getRight","setRight","getBottom","setBottom","getCenterX","setCenterX","getCenterY","setCenterY","getCenter","setCenter","getArea","isEmpty","_containsRectangle","_containsPoint","intersects","epsilon","intersect","unite","include","expand","parts","xFirst","LinkedRectangle","internal","Matrix","ok","_a","_b","_c","_d","_tx","_ty","reset","tx","ty","_changed","getValues","_applyMatrix","mx","recursively","_setApplyMatrix","isIdentity","translate","shear","skew","toRadians","tan","a1","c1","d1","a2","b2","d2","tx2","ty2","prepend","tx1","ty1","appended","prepended","invert","det","inverted","concatenate","preConcatenate","chain","_shiftless","_orNullIfIdentity","isInvertible","isSingular","_transformCoordinates","_transformCorners","coords","_transformBounds","inverseTransform","_inverseTransform","decompose","degrees","asin","translation","getTranslation","rotation","scaling","skewing","getScaling","getRotation","applyToContext","prop","Line","arg4","asVector","_px","_py","_vx","_vy","getVector","line","isInfinite","getSide","getSignedDistance","p1x","p1y","v1x","v1y","p2x","p2y","v2x","v2y","dy","u1","u2","px","py","vx","vy","ccw","_children","_namedChildren","_activeLayer","_currentStyle","Style","View","_selectionItems","_selectionCount","_updateVersion","flags","view","_needsUpdate","_requested","_autoUpdate","requestUpdate","changes","_changes","changesById","_changesById","getCurrentStyle","setCurrentStyle","getIndex","getOptions","getLayers","getActiveLayer","getSymbolDefinitions","ids","getItems","class","SymbolItem","definition","_definition","getSelectedItems","selectionItems","selection","isInserted","_updateSelection","selectAll","setFullySelected","deselectAll","addLayer","layer","insertLayer","_remove","_setProject","setName","_insertItem","_created","NO_INSERT","insertChild","_getItems","removeOn","sets","_removeSets","mousedrag","other","draw","pixelRatio","param","offset","viewMatrix","matrices","updateMatrix","restore","strokeWidth","_drawSelection","_serializeFields","_canApplyMatrix","_canScaleStroke","_pivot","_visible","_blendMode","_opacity","_locked","_guide","_clipMask","_selectBounds","_selectChildren","pivot","visible","blendMode","opacity","locked","guide","clipMask","_countItemEvent","onFrame","_animateItem","onLoad","onError","_itemHandlers","_initialize","hasProps","_matrix","_parent","_style","fields","fontSize","Group","_defaults","_symbol","cacheParent","_project","_bounds","_position","_decomposed","_globalMatrix","_clearBoundsCache","getId","getName","_removeNamed","_getOwner","namedChildren","getStyle","setStyle","getSelection","setSelection","flag","isFullySelected","isClipMask","setClipMask","setFillColor","setStrokeColor","getData","setData","getPosition","position","_getPositionFromBounds","setPosition","getPivot","setPivot","getStrokeBounds","stroke","getHandleBounds","handle","getInternalBounds","hasMatrix","opts","_boundsOptions","getStrokeScaling","cacheItem","_getCachedBounds","setBounds","_backup","_getBounds","_updateBoundsCache","_getBoundsCacheKey","noInternal","cacheKey","cached","nonscaling","hasStroke","_getStrokeMatrix","_item","getViewMatrix","_boundsCache","cache","_decompose","decomposed","setRotation","setScaling","getMatrix","setMatrix","getGlobalMatrix","_dontClone","parents","getApplyMatrix","setApplyMatrix","getTransformContent","setTransformContent","getProject","installEvents","getLayer","getParent","setParent","addChild","getChildren","setChildren","removeChildren","addChildren","getFirstChild","getLastChild","getNextSibling","getPreviousSibling","_equals","copy","deep","copyAttributes","copyContent","insertAbove","orig","excludeMatrix","rasterize","resolution","getResolution","topLeft","getTopLeft","floor","bottomRight","getBottomRight","ceil","raster","Raster","canvas","setCanvas","_contains","_asPathItem","Path","Rectangle","getIntersections","hitTest","_hitTest","HitResult","hitTestAll","hitTestChildren","_exclude","child","_hitTestChildren","parentViewMatrix","guides","tolerancePadding","_tolerancePadding","_getStrokePadding","checkSelf","hit","checkPoint","pt","checkPosition","checkCenter","checkBounds","points","_hitTestSelf","fill","hasFill","matches","compare","matchObject","firstOnly","overlapping","inside","recursive","childMatrix","insertChildren","inserted","notifySelf","_insertAt","insertBelow","sendToBack","bringToFront","appendTop","appendBottom","moveAbove","moveBelow","addTo","copyTo","reduce","namedArray","notifyParent","_dispose","replaceWith","reverseChildren","reverse","numChildren","isEditable","hasShadow","_getOrder","getList","list1","list2","hasChildren","isAbove","isBelow","isParent","isChild","isDescendant","isAncestor","isSibling","isGroupedWith","_applyRecursively","transformMatrix","fillColor","getFillColor","strokeColor","getStrokeColor","_transformContent","decomp","applyRecursively","globalToLocal","localToGlobal","parentToLocal","localToParent","fitBounds","itemRatio","rectRatio","newBounds","_setStyles","fillStyle","toCanvasStyle","strokeStyle","lineWidth","getStrokeWidth","strokeJoin","getStrokeJoin","strokeCap","getStrokeCap","miterLimit","getMiterLimit","lineJoin","lineCap","dashArray","getDashArray","dashOffset","getDashOffset","setLineDash","lineDashOffset","mozDash","mozDashOffset","blur","getShadowBlur","getShadowOffset","shadowColor","getShadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","parentStrokeMatrix","globalMatrix","mainCtx","itemOffset","prevOffset","normalBlend","nativeBlend","direct","dontStart","clip","_canComposite","pop","strokeMatrix","clipItem","globalAlpha","globalCompositeOperation","setTransform","_draw","dontFinish","getFillRule","_isUpdated","updateVersion","CompoundPath","updated","itemSelected","boundsSelected","positionSelected","_drawSelected","color","getSelectedColor","half","beginPath","arc","deltas","delta","moveTo","lineTo","closePath","fillRect","tween","easing","duration","Tween","_handleFrame","time","running","tweenTo","tweenFrom","_clipItem","_getClipItem","isClipped","setClipped","clipped","Shape","radius","_type","_size","_radius","setType","setRadius","getType","getShape","setShape","getRadius","rad","toPath","toShape","dontPaint","untransformed","isCircle","rx","ry","kappa","cx","cy","bezierCurveTo","getCornerCenter","halfSize","corner","quadrant","isOnEllipseStroke","padding","vector","hitStroke","hitFill","strokeRadius","strokePadding","outer","inner","createShape","Circle","Ellipse","ellipse","_readEllipse","crossOrigin","_smoothing","image","getElementById","getContent","naturalHeight","setImage","setSource","_loaded","_image","_canvas","_setImage","copyCanvas","drawImage","_crossOrigin","getElement","getLoaded","u","getPpi","getImage","Event","DomEvent","load","error","complete","naturalWidth","_context","_change","setContext","toDataURL","Image","getCrossOrigin","setCrossOrigin","getSmoothing","setSmoothing","smoothing","getSubCanvas","getSubRaster","getAverageColor","PathItem","_sampleContext","clearRect","sampleSize","pixels","getImageData","channels","total","alpha","Color","getPixel","setPixel","components","_convert","_alpha","imageData","createImageData","putImageData","setImageData","DomElement","setPrefixed","setDefinition","SymbolDefinition","getDefinition","getSymbol","setSymbol","dontCenter","_dontCenter","place","segments","handles","ends","Segment","arg5","handleIn","handleOut","SegmentPoint","_point","hasHandles","_handleIn","_handleOut","_path","curve","_curves","_closed","getHandleIn","setHandleIn","getHandleOut","setHandleOut","isSmooth","clearHandles","oldSelection","getPath","getCurve","_segments","getCurves","CurveLocation","_segment1","getNext","smooth","_first","_last","factor","getPrevious","p0","p1","p2","k","d1_a","d1_2a","d2_a","d2_2a","N","isLast","reversed","removeSegment","segment","interpolate","handleIn1","handleIn2","handleOut2","handleOut1","change","Curve","arg6","arg7","seg1","seg2","handle1","handle2","segment1","segment2","_segment2","getPoint1","getHandle1","getHandle2","getPoint2","_length","classify","setPoint1","setPoint2","setHandle1","setHandle2","getSegment1","getSegment2","getPoints","getLine","getPart","getPartLength","divideAt","divideAtTime","getTimeAt","_setHandles","subdivide","setHandles","splitAt","splitAtTime","getLocationAtTime","isTime","straight","h1","h2","y0","x3","y3","x4","y4","x5","y5","x6","y6","x7","y7","x8","y8","x9","y9","getMonoCurves","o0","o1","o2","o3","isStraight","v0","v3","getTimeOf","p3","getNearestTime","minDist","minT","refine","dist","step","flip","isFlatEnough","flatness","ux","uy","_addBounds","minPad","maxPad","s1","s2","isLinear","third","hasLength","isHorizontal","getTangentAtTime","isVertical","getLocationAt","_isTime","getParameterAt","getTimesWithTangent","tangent","getOffsetAtTime","getLocationOf","getOffsetOf","loc","getOffset","getParameterOf","getNearestLocation","getNearestPoint","_evaluateMethods","getLengthIntegrand","ax","bx","ay","by","getIterations","normalized","d3","t1","t2","hasRoots","t1Ok","t2Ok","f1","f2","ds","forward","rangeLength","diff","guess","getTangent","getWeightedTangent","getNormal","getWeightedNormal","getCurvature","getPeaks","addLocation","locations","overlap","excludeStart","excludeEnd","loc1","loc2","_intersection","addCurveIntersections","recursion","calls","tMin","tMax","uMin","uMax","tMinClip","tMaxClip","q0x","q0y","q3x","q3y","dMin","dMax","dp0","dp1","dp2","dp3","hull","dq0","dq1","dq2","dq3","dist1","dist2","distRatio","getConvexHull","clipConvexHull","tMinNew","tMaxNew","uDiff","hullTop","hullBottom","clipConvexHullPart","threshold","qx","qy","getCurveLineIntersections","addCurveLineIntersections","addLineIntersection","getCurveIntersections","overlaps","getOverlaps","straight1","straight2","before","getSelfIntersection","info","getSquaredLineLength","straightBoth","l1","l2","pairs","matrix1","matrix2","_returnFirst","length1","length2","values1","values2","boundsCollisions","index1","curve1","collisions1","index2","curve2","den","times","t0","_overlap","_distance","_setCurve","_time","getPointAtTime","_next","_previous","_version","_curve","_segment","_setSegment","getSegment","getTime","trySegment","_offset","_curveOffset","getParameter","getCurveOffset","getIntersection","getLastSegment","_ignoreOther","isTouching","inter","isCrossing","t1Inside","t2Inside","c4","c3","offsets","addOffsets","isInRange","getPointAt","v4","a3","a4","hasOverlap","merge","found","path1","path2","expanded","compound","pathData","first","isClockwise","setClockwise","clockwise","setPathData","previous","control","relative","getCoord","command","lower","move","cubicCurveTo","quadraticCurveTo","arcTo","winding","_getWinding","onPath","windingL","windingR","getCrossings","minLoc","isPath","itemsFrom","itemsTo","setClosed","paths1","paths2","matched","boundsOverlaps","findBoundsOverlaps","pathBoundsOverlaps","closed","setSegments","_segmentSelection","_area","getSegments","fullySelected","last","_add","getFirstSegment","_countCurves","getFirstCurve","getLastCurve","isClosed","getPathData","_precision","curX","curY","prevX","prevY","inX","inY","outX","outY","addSegment","skipLine","segs","_adjustCurves","insertSegment","addSegments","insertSegments","removeSegments","_includeCurves","area","_selectSegments","newSelection","last1","last2","first2","first1","simplify","flatten","PathFlattener","PathFitter","fit","loop","asymmetric","paddingLeft","paddingRight","knots","n_1","rf","hx","hy","topCenter","seg3","seg4","isArc","pt1","pt2","pos2","end2","pos1","end1","start2","cap","numSegments","hitCurves","isCloseEnough","checkSegmentPoint","seg","anchor","checkSegmentPoints","addToArea","checkSegmentStroke","isJoin","_addBevelJoin","_addSquareCap","getOffsetsWithTangent","curveStart","curveTimes","drawSegments","drawSegment","dashLength","flattener","drawPart","pX","pY","miniSize","miniHalf","drawHandle","hX","hY","drawHandles","getCurrentSegment","moveBy","curveTo","through","extent","middle","large","rxSq","rySq","xSq","ySq","throughSide","centerSide","ext","inc","z","out","_in","lineBy","curveBy","parameter","cubicCurveBy","quadraticCurveBy","arcBy","method","prevCoords","processSegment","joinBounds","addPoint","addRound","addJoin","addCap","phi","isArea","normal1","getNormalAtTime","normal2","normal","joinPadding","joinRadius","SQRT2","paddingX","paddingY","xn","xx","yn","yx","ellipseSegments","createPath","createEllipse","bl","getBottomLeft","tl","tr","getTopRight","br","RoundRectangle","Oval","Arc","RegularPolygon","sides","three","Star","radius1","radius2","paths","getCurrentPath","check","operators","getPaths","preparePath","resolve","resolveCrossings","reorient","createResult","filterIntersection","traceBoolean","operation","trace","splitBoolean","_path1","_path2","operator","crossings","divideLocations","collectPaths","_overlapsOnly","curvesValues","curveCollisions","curveCollisionsMap","propagateWinding","_winding","tracePaths","reorientPaths","added","addPath","linkIntersections","clearCurveHandles","lookup","container","sorted","entry1","containerWinding","getInteriorPoint","entry2","clearLater","renormalizeLocs","prevCurve","prevTime","results","clearCurves","clearLookup","origTime","newCurve","getWinding","dontFlip","vPrev","vClose","curvesList","ia","pv","pa","po","qualityEpsilon","paL","paR","pathWindingL","pathWindingR","onAnyPath","quality","addWinding","a0","windingPrev","a3Prev","handleCurve","monoCurves","totalLength","curveLength","operand","SQRT1_2","wind","pathWinding","starts","isValid","_visited","isStart","visitPath","getCrossingSegments","collectStarts","collect","nextInter","_prev","inter1","inter2","over1","over2","branch","visited","valid","finished","branches","shift","hasOverlaps","hasCrossings","intersections","nonZero","intercepts","mv","mo0","mo3","maxRecursion","ignoreStraight","minSpan","addCurve","computeParts","halves","tMid","_get","fitCubic","tan1","tan2","uPrime","chordLengthParameterize","maxError","parametersInOrder","generateBezier","findMaxError","reparameterize","tanCenter","X","b0","b3","alpha1","alpha2","detC0C1","detC0X","c0","segLength","eps","degree","maxDist","TextItem","content","_content","_lines","setContent","getCharacterStyle","setCharacterStyle","getParagraphStyle","setParagraphStyle","PointText","lines","leading","getLeading","font","getFontStyle","textAlign","getJustification","fillText","strokeText","numLines","justification","getTextWidth","colorCtx","gray","rgb","hsb","hsl","gradient","componentParsers","namedColors","transparent","fromCSS","parseInt","trim","isHSL","component","unit","turn","grad","hsbIndices","converters","g","achromatic","t3s","t3","properties","parser","_components","Gradient","_removeOwner","_addOwner","_properties","argType","converted","parsers","stops","radial","getComponents","_canvasStyle","converter","convert","getAlpha","setAlpha","hasAlpha","col","isGradient","toCSS","hex","canvasGradient","_stops","destination","highlight","inverse","_radial","createRadialGradient","createLinearGradient","addColorStop","_color","_types","_setOwner","components1","components2","setStops","setRadial","_owners","getStops","GradientStop","getRadial","stops1","stops2","rampPoint","setColor","setOffset","getRampPoint","setRampPoint","getColor","itemDefaults","fillRule","strokeScaling","shadowOffset","selectedColor","groupDefaults","fontFamily","fontWeight","textDefaults","_values","isColor","isPoint","applyToChildren","old","_dontMerge","childValue","Font","WindingRule","isStyle","style1","style2","secondary","defaults2","value1","value2","getFontSize","getFontWeight","getFontFamily","getFont","setFont","getPixelSize","handlePrefix","prefixes","suffix","prefix","getStyles","doc","ownerDocument","getComputedStyle","viewport","body","html","getBoundingClientRect","clientLeft","clientTop","getViewportBounds","innerWidth","clientWidth","innerHeight","clientHeight","isInvisible","isInView","getPrefixed","passive","targetTouches","changedTouches","pageX","clientX","pageY","clientY","getTarget","srcElement","getRelatedTarget","relatedTarget","toElement","requestAnimationFrame","timer","nativeRequest","requested","callbacks","handleCallbacks","functions","callback","setInterval","getCanvasSize","setAttribute","_viewEvents","userDrag","userSelect","touchCallout","contentZooming","tapHighlightColor","_windowEvents","resize","setViewSize","Stats","_stats","stats","domElement","appendChild","_element","_pixelRatio","devicePixelRatio","_setElementSize","_viewSize","_views","_viewsById","_focused","_frameItems","_frameItemCount","_itemEvents","native","virtual","_animate","play","pause","_count","getAutoUpdate","setAutoUpdate","autoUpdate","update","animate","_handleFrameItems","getPixelRatio","getViewSize","isVisible","parentNode","temp","removeChild","getZoom","setZoom","zoom","scrollBy","projectToView","viewToProject","getEventPoint","CanvasView","prevFocus","tempFocus","mousedown","mousemove","mouseup","dragging","mouseDown","pointerEnabled","msPointerEnabled","viewEvents","docEvents","mouseout","nodeName","handleMouseMove","scroll","updateFocus","_handleMouseEvent","downPoint","lastPoint","downItem","overItem","dragItem","clickItem","clickTime","dblClick","called","prevented","fallbacks","doubleclick","wasInView","itemEventsMap","click","mouseenter","mouseleave","itemEvents","hitItems","nativeMove","tool","inView","hitItem","mouse","emitMouseEvent","drag","emitMouseEvents","down","up","cancelable","_handleKeyEvent","character","keyEvent","KeyEvent","sign","_resetState","prevPoint","stopItem","mouseEvent","stopped","MouseEvent","fallback","HTMLCanvasElement","deviceRatio","backingStoreRatio","firefox","prevFont","measureText","stopPropagation","getTimeStamp","timeStamp","getModifiers","Key","modifiers","metaFixMap","downKey","keyLookup","charLookup","keyMap","charMap","alt","capsLock","space","option","mac","getKey","keyIdentifier","fromCharCode","keyCode","keydown","keypress","charCode","keyup","isDown","ToolEvent","_choosePoint","toolPoint","getLastPoint","_lastPoint","setLastPoint","getDownPoint","_downPoint","setDownPoint","getMiddlePoint","_middlePoint","setMiddlePoint","middlePoint","getDelta","_delta","setDelta","getCount","setCount","_moveCount","_downCount","getMinDistance","_minDistance","setMinDistance","minDistance","_maxDistance","getMaxDistance","setMaxDistance","maxDistance","getFixedDistance","setFixedDistance","distance","easings","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","isFunction","_then","_startTime","_keys","_parsedKeys","_parseKeys","_from","_getState","_to","then","progress","getValue","__add","__subtract","__multiply","_setProperty","onUpdate","startTime","_getProperty","resolved","_resolveValue","_calculate","parsed","PaperScript","calculateBinary","Http","request","xhr","XMLHttpRequest","open","url","async","mimeType","overrideMimeType","onload","status","responseText","onerror","message","send","canvases","sr","sg","sb","sa","bg","bb","ba","dr","dg","db","getLum","setLum","mn","lmn","ln","mxl","getSat","setSat","md","modes","screen","overlay","darken","lighten","difference","exclusion","hue","saturation","luminosity","average","negation","mode","srcContext","dstContext","srcCanvas","dstData","SvgElement","svg","xmlns","xlink","attributeNamespace","attributes","namespace","setAttributeNS","tag","createElementNS","getAttributeNS","SvgStyles","true","false","property","attribute","toSVG","fromSVG","exportFilter","getTransform","coordinates","attrs","trans","exportGroup","childNode","_exportSVG","exportShape","exporters","embedImages","matchShapes","definitionItem","viewBox","overflow","textContent","applyStyle","gradientNode","getGradient","getOrigin","getDestination","getHighlight","fy","gradientUnits","stopColor","exportGradient","visibility","svgs","__id","typeId","exportDefinitions","defs","insertBefore","firstChild","XMLSerializer","serializeToString","exporter","onExport","setOptions","exportSVG","rootSize","allowNull","allowPercent","defaultValue","defaultX","defaultY","convertValue","importGroup","childNodes","isClip","isDefs","currentStyle","applyAttributes","querySelectorAll","importNode","importPoly","importGradient","scaleToBounds","_scaleToBounds","importers","clippath","polygon","polyline","lineargradient","radialgradient","use","circle","text","switch","applyTransform","transforms","applyOpacity","gradientTransform","setVisible","display","styles","tagName","isElement","nextSibling","importer","onImport","expandShapes","_importSVG","DOMParser","parseFromString","File","reader","FileReader","readAsText","Symbol","PlacedSymbol","classof","ignoreCase","multiline","sticky","IObject","toObject","asc","TYPE","$create","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","$this","callbackfn","$keys","enumBugKeys","InternalMap","weak","NATIVE_WEAK_MAP","IS_IE11","ActiveXObject","getWeak","isExtensible","uncaughtFrozenStore","ufstore","_i","$WeakMap","_f","cof","toIObject","toPrimitive","IE8_DOM_DEFINE","gOPD","dP","defineProperties","Properties","defer","channel","invoke","cel","setTask","setImmediate","clearTask","clearImmediate","MessageChannel","Dispatch","counter","port2","port1","onmessage","postMessage","importScripts","React","require","wrapPageElement","onServiceWorkerUpdateFound","confirm","reload","iterator","ret","isArrayIter","createProperty","getIterFn","arrayLike","aLen","mapfn","mapping","iterFn","ARG","T","tryGet","callee","_extendStatics","__proto__","__extends","__","_assign","__spreadArrays","il","jl","fold","foldValue","input","seen","o","objHash","foldObject","valueOf","hashSum","pad","EMPTY_ARRAY","unitlessCssProperties","animationIterationCount","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","msGridRow","msGridRowSpan","msGridColumn","msGridColumnSpan","lineHeight","orphans","tabSize","widows","zIndex","WebkitLineClamp","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","aliases","mt","mr","mb","ml","my","pr","pb","pl","multiples","marginX","marginY","scales","backgroundColor","borderColor","margin","marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingBottom","gridGap","gridColumnGap","gridRowGap","gap","columnGap","rowGap","letterSpacing","border","borderTop","borderRight","borderBottom","borderLeft","borderWidth","borderStyle","borderRadius","borderTopRightRadius","borderTopLeftRadius","borderBottomRightRadius","borderBottomLeftRadius","borderTopWidth","borderTopColor","borderTopStyle","borderBottomWidth","borderBottomColor","borderBottomStyle","borderLeftWidth","borderLeftColor","borderLeftStyle","borderRightWidth","borderRightColor","borderRightStyle","outlineColor","boxShadow","textShadow","minWidth","maxWidth","minHeight","maxHeight","flexBasis","keys_1","positiveOrNegative","absolute","acc","curr","addUnitIfNeeded","camelCaseToSnakeCase","computeCssObject","systemObject","theme","breakpoints","mediaQueries","breakpointKey","includes","breakpointKeys_1","media","responsive","scaleName","dirs","variant","GLOBAL_ID","ID_ATTRIBUTE","CREATED_CLASS_NAMES_ATTRIBUTES","CREATED_CLASS_NAMES_SEPARATOR","isDev","ClientStyleSheet","createdClassNames","querySelector","head","sheet","insertRule","rule","cssRules","DevClientStyleSheet","_super","styleNode","ownerNode","ClientStyleSheetManager","styleSheets","getGlobalStyleSheet","createStyleSheet","removeStyleSheet","DevClientStyleSheetManager","ServerStyleSheet","rules","getStyleTag","getStyleComponent","dangerouslySetInnerHTML","__html","ServerStyleSheetManager","getStyleTags","styleSheet","getStyleComponents","isBrowser","StyleSheetManagerContext","ThemeContext","fontSizes","computeRulesObject","cssObject","rulesObject","populateRulesObject","useCss","deps","styleSheetManager","rulesKeys_1","ruleKeyA","ruleKeyB","ruleKey","selector","declaration","identifier","ruleObject","ruleContent","ruleObjectKey","useGlobalCss","globalSelector","computeRules","useKeyframes","keyframesObject","frames","PageRenderer","pathContext","pageContext","pageElement","apiRunner","loader","publicLoader","pageResources","page","wks","regexpExec","REPLACE_SUPPORTS_NAMED_GROUPS","re","SPLIT_WORKS_WITH_OVERWRITTEN_EXEC","originalExec","SYMBOL","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","nativeRegExpMethod","fns","nativeMethod","regexp","forceStringMethod","strfn","rxfn","RegExp","_reactDom","_warning","scrollKey","contextTypes","findDOMNode","getIteratorMethod","getOwnPropertySymbols","store","uid","USE_SYMBOL","speciesConstructor","advanceStringIndex","callRegExpExec","$min","$push","SUPPORTS_Y","SPLIT","$split","maybeCallNative","internalSplit","limit","lastIndex","lastLength","output","lastLastIndex","splitLimit","separatorCopy","splitter","unicodeMatching","lim","SRC","$toString","TPL","inspectSource","dPs","IE_PROTO","Empty","createDict","iframeDocument","iframe","contentWindow","write","lt","close","_off","_on","_scrollLeft","_scrollTop","_requestAnimationFrame","_utils","MAX_SCROLL_ATTEMPTS","ScrollBehavior","_restoreScrollRestoration","_oldScrollRestoration","scrollRestoration","_onWindowScroll","_ignoreScrollEvents","_saveWindowPositionHandle","_saveWindowPosition","_windowScrollTarget","_this$_windowScrollTa","xTarget","yTarget","_cancelCheckWindowScroll","_savePosition","_checkWindowScrollPosition","_checkWindowScrollHandle","scrollToTarget","_numWindowScrollAttempts","_stateStorage","_getCurrentLocation","_shouldUpdateScroll","isMobileSafari","_scrollElements","_removeTransitionHook","cancel","scrollElement","savePositionHandle","_saveElementPosition","invariant","saveElementPosition","onScroll","_updateElementScroll","_this$_scrollElements","prevContext","_updateWindowScroll","startIgnoringScrollEvents","stopIgnoringScrollEvents","_getScrollTarget","_this$_scrollElements2","scrollTarget","_getDefaultScrollTarget","_getSavedScrollTarget","targetElement","getElementsByName","scrollIntoView","_target","routes","default_","uriPathname","uriSegments","segmentize","isRootUri","ranked","rankRoutes","missed","route","params","routeSegments","routeSegment","uriSegment","isSplat","decodeURIComponent","dynamicMatch","paramRe","reservedNames","_to$split","toPathname","toQuery","basePathname","toSegments","baseSegments","addQuery","allSegments","insertParams","validateRedirect","isDynamic","rankRoute","score","isRootSegment","SEGMENT_POINTS","query","shallowCompare","obj1Keys","every","plugin","ArrayProto","ie10","appVersion","_listener","hack","doScroll","loaded","readyState","un","propIsEnumerable","propertyIsEnumerable","test1","getOwnPropertyNames","test2","test3","letter","shouldUseNative","serviceWorker","register","reg","installingWorker","installing","controller","___swUpdated","___failedResources","catch","toAbsoluteIndex","endPos","sameValue","regExpExec","SEARCH","$search","previousLastIndex","ObjectProto","core","wksExt","$Symbol","ReferenceError","condition","format","argIndex","framesToPop","descriptor","bitmap","MATCH","$match","fullUnicode","matchStr","BREAK","RETURN","DESCRIPTORS","isEntries","re1","re2","regexpFlags","nativeExec","nativeReplace","patchedExec","UPDATES_LAST_INDEX_WRONG","NPCG_INCLUDED","reCopy","redirectMap","redirects","redirect","fromPath","maybeRedirect","onPreRouteUpdate","prevLocation","onRouteUpdate","timeoutId","loadPage","webpackCompilationHash","___webpackCompilationHash","gatsbyApi","reachNavigate","getSavedScrollPosition","decodeURI","RouteAnnouncer","announcementRef","createRef","nextProps","pageName","pageHeadings","getElementsByTagName","newAnnouncement","innerText","whiteSpace","aria-live","aria-atomic","RouteUpdates","shouldFireRouteUpdate","getSnapshotBeforeUpdate","Fragment","shallowDiffers","EnsureResources","loadPageSync","getDerivedStateFromProps","loadResources","rawPath","setState","shouldComponentUpdate","nextState","matchPath","ProdLoader","asyncRequires","matchPaths","setLoader","setApiRunner","___emitter","apiRunnerAsync","RouteHandler","baseuri","basepath","LocationHandler","__BASE_PATH__","stripPrefix","encodeURI","pagePath","browserLoc","findMatchPath","Root","locationContext","WrappedRoot","NewRoot","renderer","ReactDOM","hydrate","domReady","Internal","newGenericPromiseCapability","OwnPromiseCapability","Wrapper","task","microtask","newPromiseCapabilityModule","perform","promiseResolve","v8","$Promise","isNode","empty","newPromiseCapability","USE_NATIVE","promise","FakePromise","PromiseRejectionEvent","isThenable","notify","isReject","_n","_v","_s","reaction","exited","fail","reject","domain","_h","onHandleUnhandled","enter","exit","onUnhandled","unhandled","isUnhandled","onunhandledrejection","reason","onrejectionhandled","$reject","_w","$resolve","executor","onFulfilled","onRejected","capability","$$reject","remaining","$index","alreadyCalled","race","copyright","subClass","superClass","$sort","comparefn","prefetchPathname","StaticQueryContext","StaticQueryDataRenderer","staticQueryData","finalData","StaticQuery","Consumer","useStaticQuery","useContext","graphql","own","exp","IS_FORCED","IS_GLOBAL","IS_STATIC","IS_PROTO","IS_BIND","expProto","U","SAFE_CLOSING","riter","skipClosing","arr","$at","iterated","_t","builtinExec","shared","_objectWithoutProperties","_classCallCheck","_possibleConstructorReturn","_inherits","Ctx","displayName","LocationContext","LocationProvider","_temp","_len","_key","refs","unlisten","_props$history","componentDidCatch","isRedirect","_navigate","unmounted","defaultProps","_ref2","BaseContext","baseContext","_React$PureComponent","RouterImpl","_props","_navigate2","primary","_props$component","domProps","toArray","cloneElement","FocusWrapper","wrapperProps","PureComponent","FocusContext","_ref3","requestFocus","initialRender","focusHandlerCount","_React$Component2","FocusHandlerImpl","_temp2","_this4","_len2","_key2","shouldFocus","focus","myURIChanged","navigatedUpToMe","activeElement","_this5","_props2","_props2$component","Comp","outline","tabIndex","_ref4","_ref5","_ref6","_props$getProps","anchorProps","encodedHref","shouldNavigate","shouldReplace","_location$state","restState","RedirectRequest","redirectTo","_React$Component3","RedirectImpl","_props3","_props3$replace","noThrow","resolvedTo","_props4","_ref7","_ref8","_ref9","_ref10","resolvedPath","stripSlashes","createRoute","elementPath","$includes","META","setDesc","FREEZE","preventExtensions","setMeta","fastKey","onFreeze","createArrayMethod","$has","arrayFind","arrayFindIndex","_l","UncaughtFrozenStore","findUncaughtFrozen","$flags","eventName","capture","attachEvent","detachEvent","hashIndex","$assign","K","$find","forced","SwitchThemeProvider","wrapRootElement","pluginOptions","themes","defaultTheme","__g","registerServiceWorker","whiteListLinkRels","prefetchedPathnames","setPathResources","getResourceURLsForPathname","resources","onServiceWorkerActive","active","headerResources","prefetchedResources","resource","link","rel","onPostPrefetchPathname","gOPN","windowNames","getWindowNames","supportedPrefetchStrategy","feature","fakeLink","relList","supports","req","preFetched","prefetch","pathCache","Map","trimPathname","rawPathname","setMatchPaths","trimmedPathname","cleanPath","normalizePagePath","findPath","foundPath","preferDefault","createPageDataUrl","endsWith","doFetch","onreadystatechange","loadPageDataJson","loadObj","retries","jsonPayload","payload","notFound","toPageResources","pageData","componentChunkName","BaseLoader","loadComponent","pageDb","inFlightDb","pageDataDb","prefetchTriggered","Set","prefetchCompleted","prefetchDisabled","some","inFlight","loadAppData","allData","finalResult","createdAt","response","delete","shouldPrefetch","connection","effectiveType","saveData","doesConnectionSupportPrefetch","realPath","doPrefetch","createComponentUrls","isPageNotFound","appData","___chunkMapping","chunk","__PATH_PREFIX__","chunkName","pageDataUrl","prefetchHelper","as","componentUrls","_loader","getResourcesForPathname","getResourcesForPathnameSync","SwitchThemeContext","useSwitchTheme","themeKey","setThemeKey","storedTheme","switchTheme","newThemeKey","FProto","nameRE","stat","__e","macrotask","Observer","MutationObserver","WebKitMutationObserver","flush","standalone","toggle","createTextNode","characterData","$values","Attributes","buggy","$fails","wksDefine","enumKeys","_create","gOPNExt","$GOPD","$GOPS","$DP","$JSON","_stringify","HIDDEN","TO_PRIMITIVE","SymbolRegistry","AllSymbols","OPSymbols","QObject","findChild","setSymbolDesc","protoDesc","wrap","sym","_k","isSymbol","$defineProperties","$propertyIsEnumerable","$getOwnPropertyDescriptor","$getOwnPropertyNames","names","$getOwnPropertySymbols","IS_OP","$set","es6Symbols","wellKnownSymbols","keyFor","useSetter","useSimple","FAILS_ON_PRIMITIVES","replacer","$replacer","hiddenKeys","UNSCOPABLES","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","REPLACE","$replace","searchValue","replaceValue","functionalReplace","accumulatedResult","nextSourcePosition","captures","namedCaptures","replacerArgs","replacement","getSubstitution","tailPos","ch","ga","excludeGAPaths","delay","pageTransitionDelay","PromiseCapability","$$resolve","LN2","compatRaf","_inDOM","raf","ms","vendor","rafKey","$iterators","TO_STRING_TAG","ArrayValues","DOMIterables","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","collections","explicit","Collection","$endsWith","endPosition","ProdPageRenderer","InternalPageRenderer","promiseCapability","IS_INCLUDES","fromIndex","$iterDefine","setSpecies","SIZE","plugins","api","defaultReturn","argTransform","addToUnscopables","Arguments","arrayIndexOf"],"mappings":"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","file":"app-30298a2f5a95ebaf9b0e.js","sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.withPrefix = withPrefix;\nexports.withAssetPrefix = withAssetPrefix;\nexports.navigateTo = exports.replace = exports.push = exports.navigate = exports.default = void 0;\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _router = require(\"@reach/router\");\n\nvar _parsePath = require(\"./parse-path\");\n\nexports.parsePath = _parsePath.parsePath;\n\nfunction withPrefix(path) {\n  return normalizePath([typeof __BASE_PATH__ !== \"undefined\" ? __BASE_PATH__ : __PATH_PREFIX__, path].join(\"/\"));\n}\n\nfunction withAssetPrefix(path) {\n  return [__PATH_PREFIX__].concat([path.replace(/^\\//, \"\")]).join(\"/\");\n}\n\nfunction normalizePath(path) {\n  return path.replace(/\\/+/g, \"/\");\n}\n\nvar NavLinkPropTypes = {\n  activeClassName: _propTypes.default.string,\n  activeStyle: _propTypes.default.object,\n  partiallyActive: _propTypes.default.bool\n}; // Set up IntersectionObserver\n\nvar createIntersectionObserver = function createIntersectionObserver(el, cb) {\n  var io = new window.IntersectionObserver(function (entries) {\n    entries.forEach(function (entry) {\n      if (el === entry.target) {\n        // Check if element is within viewport, remove listener, destroy observer, and run link callback.\n        // MSEdge doesn't currently support isIntersecting, so also test for  an intersectionRatio > 0\n        if (entry.isIntersecting || entry.intersectionRatio > 0) {\n          io.unobserve(el);\n          io.disconnect();\n          cb();\n        }\n      }\n    });\n  }); // Add element to the observer\n\n  io.observe(el);\n  return {\n    instance: io,\n    el: el\n  };\n};\n\nvar GatsbyLink =\n/*#__PURE__*/\nfunction (_React$Component) {\n  (0, _inheritsLoose2.default)(GatsbyLink, _React$Component);\n\n  function GatsbyLink(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this; // Default to no support for IntersectionObserver\n\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"defaultGetProps\", function (_ref) {\n      var isPartiallyCurrent = _ref.isPartiallyCurrent,\n          isCurrent = _ref.isCurrent;\n\n      if (_this.props.partiallyActive ? isPartiallyCurrent : isCurrent) {\n        return {\n          className: [_this.props.className, _this.props.activeClassName].filter(Boolean).join(\" \"),\n          style: (0, _extends2.default)({}, _this.props.style, {}, _this.props.activeStyle)\n        };\n      }\n\n      return null;\n    });\n    var IOSupported = false;\n\n    if (typeof window !== \"undefined\" && window.IntersectionObserver) {\n      IOSupported = true;\n    }\n\n    _this.state = {\n      IOSupported: IOSupported\n    };\n    _this.handleRef = _this.handleRef.bind((0, _assertThisInitialized2.default)(_this));\n    return _this;\n  }\n\n  var _proto = GatsbyLink.prototype;\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    // Preserve non IO functionality if no support\n    if (this.props.to !== prevProps.to && !this.state.IOSupported) {\n      ___loader.enqueue((0, _parsePath.parsePath)(this.props.to).pathname);\n    }\n  };\n\n  _proto.componentDidMount = function componentDidMount() {\n    // Preserve non IO functionality if no support\n    if (!this.state.IOSupported) {\n      ___loader.enqueue((0, _parsePath.parsePath)(this.props.to).pathname);\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (!this.io) {\n      return;\n    }\n\n    var _this$io = this.io,\n        instance = _this$io.instance,\n        el = _this$io.el;\n    instance.unobserve(el);\n    instance.disconnect();\n  };\n\n  _proto.handleRef = function handleRef(ref) {\n    var _this2 = this;\n\n    if (this.props.innerRef && this.props.innerRef.hasOwnProperty(\"current\")) {\n      this.props.innerRef.current = ref;\n    } else if (this.props.innerRef) {\n      this.props.innerRef(ref);\n    }\n\n    if (this.state.IOSupported && ref) {\n      // If IO supported and element reference found, setup Observer functionality\n      this.io = createIntersectionObserver(ref, function () {\n        ___loader.enqueue((0, _parsePath.parsePath)(_this2.props.to).pathname);\n      });\n    }\n  };\n\n  _proto.render = function render() {\n    var _this3 = this;\n\n    var _this$props = this.props,\n        to = _this$props.to,\n        _this$props$getProps = _this$props.getProps,\n        getProps = _this$props$getProps === void 0 ? this.defaultGetProps : _this$props$getProps,\n        _onClick = _this$props.onClick,\n        _onMouseEnter = _this$props.onMouseEnter,\n        $activeClassName = _this$props.activeClassName,\n        $activeStyle = _this$props.activeStyle,\n        $innerRef = _this$props.innerRef,\n        partiallyActive = _this$props.partiallyActive,\n        state = _this$props.state,\n        replace = _this$props.replace,\n        rest = (0, _objectWithoutPropertiesLoose2.default)(_this$props, [\"to\", \"getProps\", \"onClick\", \"onMouseEnter\", \"activeClassName\", \"activeStyle\", \"innerRef\", \"partiallyActive\", \"state\", \"replace\"]);\n    var LOCAL_URL = /^\\/(?!\\/)/;\n\n    if (process.env.NODE_ENV !== \"production\" && !LOCAL_URL.test(to)) {\n      console.warn(\"External link \" + to + \" was detected in a Link component. Use the Link component only for internal links. See: https://gatsby.dev/internal-links\");\n    }\n\n    var prefixedTo = withPrefix(to);\n    return _react.default.createElement(_router.Link, (0, _extends2.default)({\n      to: prefixedTo,\n      state: state,\n      getProps: getProps,\n      innerRef: this.handleRef,\n      onMouseEnter: function onMouseEnter(e) {\n        if (_onMouseEnter) {\n          _onMouseEnter(e);\n        }\n\n        ___loader.hovering((0, _parsePath.parsePath)(to).pathname);\n      },\n      onClick: function onClick(e) {\n        if (_onClick) {\n          _onClick(e);\n        }\n\n        if (e.button === 0 && // ignore right clicks\n        !_this3.props.target && // let browser handle \"target=_blank\"\n        !e.defaultPrevented && // onClick prevented default\n        !e.metaKey && // ignore clicks with modifier keys...\n        !e.altKey && !e.ctrlKey && !e.shiftKey) {\n          e.preventDefault(); // Make sure the necessary scripts and data are\n          // loaded before continuing.\n\n          navigate(to, {\n            state: state,\n            replace: replace\n          });\n        }\n\n        return true;\n      }\n    }, rest));\n  };\n\n  return GatsbyLink;\n}(_react.default.Component);\n\nGatsbyLink.propTypes = (0, _extends2.default)({}, NavLinkPropTypes, {\n  onClick: _propTypes.default.func,\n  to: _propTypes.default.string.isRequired,\n  replace: _propTypes.default.bool,\n  state: _propTypes.default.object\n});\n\nvar showDeprecationWarning = function showDeprecationWarning(functionName, altFunctionName, version) {\n  return console.warn(\"The \\\"\" + functionName + \"\\\" method is now deprecated and will be removed in Gatsby v\" + version + \". Please use \\\"\" + altFunctionName + \"\\\" instead.\");\n};\n\nvar _default = _react.default.forwardRef(function (props, ref) {\n  return _react.default.createElement(GatsbyLink, (0, _extends2.default)({\n    innerRef: ref\n  }, props));\n});\n\nexports.default = _default;\n\nvar navigate = function navigate(to, options) {\n  window.___navigate(withPrefix(to), options);\n};\n\nexports.navigate = navigate;\n\nvar push = function push(to) {\n  showDeprecationWarning(\"push\", \"navigate\", 3);\n\n  window.___push(withPrefix(to));\n};\n\nexports.push = push;\n\nvar replace = function replace(to) {\n  showDeprecationWarning(\"replace\", \"navigate\", 3);\n\n  window.___replace(withPrefix(to));\n}; // TODO: Remove navigateTo for Gatsby v3\n\n\nexports.replace = replace;\n\nvar navigateTo = function navigateTo(to) {\n  showDeprecationWarning(\"navigateTo\", \"navigate\", 3);\n  return push(to);\n};\n\nexports.navigateTo = navigateTo;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = scrollTop;\n\nvar _isWindow = _interopRequireDefault(require(\"./isWindow\"));\n\nfunction scrollTop(node, val) {\n  var win = (0, _isWindow.default)(node);\n  if (val === undefined) return win ? 'pageXOffset' in win ? win.pageXOffset : win.document.documentElement.scrollLeft : node.scrollLeft;\n  if (win) win.scrollTo(val, 'pageYOffset' in win ? win.pageYOffset : win.document.documentElement.scrollTop);else node.scrollLeft = val;\n}\n\nmodule.exports = exports[\"default\"];","module.exports = require('./_shared')('native-function-to-string', Function.toString);\n","import paper from \"paper/dist/paper-core\"\nimport { graphql, useStaticQuery } from \"gatsby\"\nimport React, {\n  createContext,\n  useCallback,\n  useEffect,\n  useMemo,\n  useState,\n} from \"react\"\n\nexport const TangramsContext = createContext({})\n\nexport const TangramsProvider = ({ children }) => {\n  const [playlist, setPlaylist] = useState(null)\n  const [saveRequestId, setSaveRequestId] = useState(0)\n  const [completedTangramsEmoji, setCompletedTangramsEmoji] = useState({})\n\n  const {\n    data: { group: groups },\n  } = useStaticQuery(graphql`\n    fragment TangramFragment on TangramsJson {\n      id\n      emoji\n      height\n      order\n      path\n      percent\n      width\n      parent {\n        ... on File {\n          name\n        }\n      }\n    }\n\n    query GalleryQuery {\n      data: allTangramsJson {\n        group(field: category) {\n          fieldValue\n          nodes {\n            ...TangramFragment\n          }\n        }\n      }\n    }\n  `)\n\n  const tangramsByGroup = useMemo(() => {\n    const tangramsByGroup = {}\n\n    const project = new paper.Project()\n\n    for (const { fieldValue, nodes } of groups) {\n      tangramsByGroup[fieldValue] = []\n\n      for (const { percent, ...node } of nodes) {\n        const coumpoundPath = project.importSVG(`<path d=\"${node.path}\" />`, {\n          applyMatrix: true,\n          insert: false,\n        })\n\n        console.log(coumpoundPath.length, node.parent.name)\n\n        const difficulty = percent > 50 ? 0 : percent > 20 ? 1 : 2\n\n        const tangram = {\n          ...node,\n          difficulty,\n        }\n        tangramsByGroup[fieldValue].push(tangram)\n      }\n\n      tangramsByGroup[fieldValue].sort((tangramA, tangramB) => {\n        return tangramA.order && tangramB.order\n          ? tangramA.order - tangramB.order\n          : tangramA.difficulty - tangramB.difficulty\n      })\n    }\n    return tangramsByGroup\n  }, [groups])\n\n  const categories = useMemo(\n    () => Object.keys(tangramsByGroup),\n    // Do not add tangrams.group to deps because it change when a tangram is created\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  )\n\n  const requestSave = useCallback(() => {\n    setSaveRequestId(prevRequestId => prevRequestId + 1)\n  }, [])\n\n  useEffect(() => {\n    const newCompletedTangramsEmoji = {}\n    for (const category in tangramsByGroup) {\n      const tangrams = tangramsByGroup[category]\n      for (const { id } of tangrams) {\n        newCompletedTangramsEmoji[id] = localStorage.getItem(id)\n      }\n    }\n    setCompletedTangramsEmoji(newCompletedTangramsEmoji)\n  }, [tangramsByGroup])\n\n  const setCompletedTangramEmoji = useCallback((tangram, emoji) => {\n    localStorage.setItem(tangram.id, emoji)\n    setCompletedTangramsEmoji(prevCompletedTangrams => ({\n      ...prevCompletedTangrams,\n      [tangram.id]: emoji,\n    }))\n  }, [])\n\n  const contextValue = useMemo(() => {\n    return {\n      completedTangramsEmoji,\n      requestSave,\n      saveRequestId,\n      playlist,\n      setCompletedTangramEmoji,\n      setPlaylist,\n      tangramsByGroup,\n      categories,\n    }\n  }, [\n    completedTangramsEmoji,\n    requestSave,\n    saveRequestId,\n    playlist,\n    setCompletedTangramEmoji,\n    tangramsByGroup,\n    categories,\n  ])\n\n  return (\n    <TangramsContext.Provider value={contextValue}>\n      {children}\n    </TangramsContext.Provider>\n  )\n}\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","// 19.1.3.19 Object.setPrototypeOf(O, proto)\nvar $export = require('./_export');\n$export($export.S, 'Object', { setPrototypeOf: require('./_set-proto').set });\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","// helper for String#{startsWith, endsWith, includes}\nvar isRegExp = require('./_is-regexp');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, searchString, NAME) {\n  if (isRegExp(searchString)) throw TypeError('String#' + NAME + \" doesn't accept regex!\");\n  return String(defined(that));\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';\n\nrequire(\"core-js/modules/es6.function.name\");\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\n\nfunction emptyFunctionWithReset() {}\n\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function () {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n\n    var err = new Error('Calling PropTypes validators directly is not supported by the `prop-types` package. ' + 'Use PropTypes.checkPropTypes() to call them. ' + 'Read more at http://fb.me/use-check-prop-types');\n    err.name = 'Invariant Violation';\n    throw err;\n  }\n\n  ;\n  shim.isRequired = shim;\n\n  function getShim() {\n    return shim;\n  }\n\n  ; // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n  ReactPropTypes.PropTypes = ReactPropTypes;\n  return ReactPropTypes;\n};","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is'); // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n\n\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\nvar STATE_KEY_PREFIX = \"@@scroll|\";\nvar GATSBY_ROUTER_SCROLL_STATE = \"___GATSBY_REACT_ROUTER_SCROLL\";\n\nvar SessionStorage =\n/*#__PURE__*/\nfunction () {\n  function SessionStorage() {}\n\n  var _proto = SessionStorage.prototype;\n\n  _proto.read = function read(location, key) {\n    var stateKey = this.getStateKey(location, key);\n\n    try {\n      var value = window.sessionStorage.getItem(stateKey);\n      return JSON.parse(value);\n    } catch (e) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.warn(\"[gatsby-react-router-scroll] Unable to access sessionStorage; sessionStorage is not available.\");\n      }\n\n      if (window && window[GATSBY_ROUTER_SCROLL_STATE] && window[GATSBY_ROUTER_SCROLL_STATE][stateKey]) {\n        return window[GATSBY_ROUTER_SCROLL_STATE][stateKey];\n      }\n\n      return {};\n    }\n  };\n\n  _proto.save = function save(location, key, value) {\n    var stateKey = this.getStateKey(location, key);\n    var storedValue = JSON.stringify(value);\n\n    try {\n      window.sessionStorage.setItem(stateKey, storedValue);\n    } catch (e) {\n      if (window && window[GATSBY_ROUTER_SCROLL_STATE]) {\n        window[GATSBY_ROUTER_SCROLL_STATE][stateKey] = JSON.parse(storedValue);\n      } else {\n        window[GATSBY_ROUTER_SCROLL_STATE] = {};\n        window[GATSBY_ROUTER_SCROLL_STATE][stateKey] = JSON.parse(storedValue);\n      }\n\n      if (process.env.NODE_ENV !== \"production\") {\n        console.warn(\"[gatsby-react-router-scroll] Unable to save state in sessionStorage; sessionStorage is not available.\");\n      }\n    }\n  };\n\n  _proto.getStateKey = function getStateKey(location, key) {\n    var locationKey = location.key || location.pathname;\n    var stateKeyBase = \"\" + STATE_KEY_PREFIX + locationKey;\n    return key === null || typeof key === \"undefined\" ? stateKeyBase : stateKeyBase + \"|\" + key;\n  };\n\n  return SessionStorage;\n}();\n\nexports.default = SessionStorage;","// 19.1.3.10 Object.is(value1, value2)\nvar $export = require('./_export');\n$export($export.S, 'Object', { is: require('./_same-value') });\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","var redefine = require('./_redefine');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) redefine(target, key, src[key], safe);\n  return target;\n};\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _scrollBehavior = _interopRequireDefault(require(\"scroll-behavior\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _history = require(\"@reach/router/lib/history\");\n\nvar _StateStorage = _interopRequireDefault(require(\"./StateStorage\"));\n\nvar propTypes = {\n  shouldUpdateScroll: _propTypes.default.func,\n  children: _propTypes.default.element.isRequired,\n  location: _propTypes.default.object.isRequired\n};\nvar childContextTypes = {\n  scrollBehavior: _propTypes.default.object.isRequired\n};\n\nvar ScrollContext =\n/*#__PURE__*/\nfunction (_React$Component) {\n  (0, _inheritsLoose2.default)(ScrollContext, _React$Component);\n\n  function ScrollContext(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"shouldUpdateScroll\", function (prevRouterProps, routerProps) {\n      var shouldUpdateScroll = _this.props.shouldUpdateScroll;\n\n      if (!shouldUpdateScroll) {\n        return true;\n      } // Hack to allow accessing scrollBehavior._stateStorage.\n\n\n      return shouldUpdateScroll.call(_this.scrollBehavior, prevRouterProps, routerProps);\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"registerElement\", function (key, element, shouldUpdateScroll) {\n      _this.scrollBehavior.registerElement(key, element, shouldUpdateScroll, _this.getRouterProps());\n    });\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"unregisterElement\", function (key) {\n      _this.scrollBehavior.unregisterElement(key);\n    });\n    _this.scrollBehavior = new _scrollBehavior.default({\n      addTransitionHook: _history.globalHistory.listen,\n      stateStorage: new _StateStorage.default(),\n      getCurrentLocation: function getCurrentLocation() {\n        return _this.props.location;\n      },\n      shouldUpdateScroll: _this.shouldUpdateScroll\n    });\n    return _this;\n  }\n\n  var _proto = ScrollContext.prototype;\n\n  _proto.getChildContext = function getChildContext() {\n    return {\n      scrollBehavior: this\n    };\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var location = this.props.location;\n    var prevLocation = prevProps.location;\n\n    if (location === prevLocation) {\n      return;\n    }\n\n    var prevRouterProps = {\n      location: prevProps.location\n    }; // The \"scroll-behavior\" package expects the \"action\" to be on the location\n    // object so let's copy it over.\n    // Temp hack while awaiting https://github.com/reach/router/issues/119\n\n    if (window.__navigatingToLink) {\n      location.action = \"PUSH\";\n    } else {\n      location.action = \"POP\";\n    }\n\n    this.scrollBehavior.updateScroll(prevRouterProps, {\n      history: _history.globalHistory,\n      location: location\n    });\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.scrollBehavior.stop();\n  };\n\n  _proto.getRouterProps = function getRouterProps() {\n    var location = this.props.location;\n    return {\n      location: location,\n      history: _history.globalHistory\n    };\n  };\n\n  _proto.render = function render() {\n    return _react.default.Children.only(this.props.children);\n  };\n\n  return ScrollContext;\n}(_react.default.Component);\n\nScrollContext.propTypes = propTypes;\nScrollContext.childContextTypes = childContextTypes;\nvar _default = ScrollContext;\nexports.default = _default;","'use strict';\nvar global = require('./_global');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar redefineAll = require('./_redefine-all');\nvar meta = require('./_meta');\nvar forOf = require('./_for-of');\nvar anInstance = require('./_an-instance');\nvar isObject = require('./_is-object');\nvar fails = require('./_fails');\nvar $iterDetect = require('./_iter-detect');\nvar setToStringTag = require('./_set-to-string-tag');\nvar inheritIfRequired = require('./_inherit-if-required');\n\nmodule.exports = function (NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {\n  var Base = global[NAME];\n  var C = Base;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var proto = C && C.prototype;\n  var O = {};\n  var fixMethod = function (KEY) {\n    var fn = proto[KEY];\n    redefine(proto, KEY,\n      KEY == 'delete' ? function (a) {\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'has' ? function has(a) {\n        return IS_WEAK && !isObject(a) ? false : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'get' ? function get(a) {\n        return IS_WEAK && !isObject(a) ? undefined : fn.call(this, a === 0 ? 0 : a);\n      } : KEY == 'add' ? function add(a) { fn.call(this, a === 0 ? 0 : a); return this; }\n        : function set(a, b) { fn.call(this, a === 0 ? 0 : a, b); return this; }\n    );\n  };\n  if (typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function () {\n    new C().entries().next();\n  }))) {\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    var instance = new C();\n    // early implementations not supports chaining\n    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;\n    // V8 ~  Chromium 40- weak-collections throws on primitives, but should return false\n    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });\n    // most early implementations doesn't supports iterables, most modern - not close it correctly\n    var ACCEPT_ITERABLES = $iterDetect(function (iter) { new C(iter); }); // eslint-disable-line no-new\n    // for early implementations -0 and +0 not the same\n    var BUGGY_ZERO = !IS_WEAK && fails(function () {\n      // V8 ~ Chromium 42- fails only with 5+ elements\n      var $instance = new C();\n      var index = 5;\n      while (index--) $instance[ADDER](index, index);\n      return !$instance.has(-0);\n    });\n    if (!ACCEPT_ITERABLES) {\n      C = wrapper(function (target, iterable) {\n        anInstance(target, C, NAME);\n        var that = inheritIfRequired(new Base(), target, C);\n        if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n        return that;\n      });\n      C.prototype = proto;\n      proto.constructor = C;\n    }\n    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {\n      fixMethod('delete');\n      fixMethod('has');\n      IS_MAP && fixMethod('get');\n    }\n    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);\n    // weak collections should not contains .clear method\n    if (IS_WEAK && proto.clear) delete proto.clear;\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F * (C != Base), O);\n\n  if (!IS_WEAK) common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","//      \n// An event handler can take an optional event argument\n// and should not return a value\n// An array of all currently registered event handlers for a type\n// A map of event types and their corresponding event handlers.\n\n/** Mitt: Tiny (~200b) functional event emitter / pubsub.\n *  @name mitt\n *  @returns {Mitt}\n */\nfunction mitt(all) {\n  all = all || Object.create(null);\n  return {\n    /**\n     * Register an event handler for the given type.\n     *\n     * @param  {String} type\tType of event to listen for, or `\"*\"` for all events\n     * @param  {Function} handler Function to call in response to given event\n     * @memberOf mitt\n     */\n    on: function on(type, handler) {\n      (all[type] || (all[type] = [])).push(handler);\n    },\n\n    /**\n     * Remove an event handler for the given type.\n     *\n     * @param  {String} type\tType of event to unregister `handler` from, or `\"*\"`\n     * @param  {Function} handler Handler function to remove\n     * @memberOf mitt\n     */\n    off: function off(type, handler) {\n      if (all[type]) {\n        all[type].splice(all[type].indexOf(handler) >>> 0, 1);\n      }\n    },\n\n    /**\n     * Invoke all handlers for the given type.\n     * If present, `\"*\"` handlers are invoked after type-matched handlers.\n     *\n     * @param {String} type  The event type to invoke\n     * @param {Any} [evt]  Any value (object is recommended and powerful), passed to each handler\n     * @memberOf mitt\n     */\n    emit: function emit(type, evt) {\n      (all[type] || []).slice().map(function (handler) {\n        handler(evt);\n      });\n      (all['*'] || []).slice().map(function (handler) {\n        handler(type, evt);\n      });\n    }\n  };\n}\n\nexport default mitt;","import mitt from \"mitt\"\n\nconst emitter = mitt()\nexport default emitter\n","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n","/**\n * Copyright 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n'use strict';\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nvar warning = function warning() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  warning = function warning(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n\n    if (format === undefined) {\n      throw new Error('`warning(condition, format, ...args)` requires a warning ' + 'message argument');\n    }\n\n    if (format.length < 10 || /^[s\\W]*$/.test(format)) {\n      throw new Error('The warning format should be able to uniquely identify this ' + 'warning. Please, use a more descriptive format than: ' + format);\n    }\n\n    if (!condition) {\n      var argIndex = 0;\n      var message = 'Warning: ' + format.replace(/%s/g, function () {\n        return args[argIndex++];\n      });\n\n      if (typeof console !== 'undefined') {\n        console.error(message);\n      }\n\n      try {\n        // This error was thrown as a convenience so that you can use this stack\n        // to find the callsite that caused this warning to fire.\n        throw new Error(message);\n      } catch (x) {}\n    }\n  };\n}\n\nmodule.exports = warning;","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _ScrollBehaviorContext = _interopRequireDefault(require(\"./ScrollBehaviorContext\"));\n\nvar _ScrollContainer = _interopRequireDefault(require(\"./ScrollContainer\"));\n\nexports.ScrollContainer = _ScrollContainer.default;\nexports.ScrollContext = _ScrollBehaviorContext.default;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;","\"use strict\";\n\nexports.__esModule = true;\nexports.default = getWindow;\n\nfunction getWindow(node) {\n  return node === node.window ? node : node.nodeType === 9 ? node.defaultView || node.parentWindow : false;\n}\n\nmodule.exports = exports[\"default\"];","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n","// shim for using process in browser\nvar process = module.exports = {}; // cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n  throw new Error('setTimeout has not been defined');\n}\n\nfunction defaultClearTimeout() {\n  throw new Error('clearTimeout has not been defined');\n}\n\n(function () {\n  try {\n    if (typeof setTimeout === 'function') {\n      cachedSetTimeout = setTimeout;\n    } else {\n      cachedSetTimeout = defaultSetTimout;\n    }\n  } catch (e) {\n    cachedSetTimeout = defaultSetTimout;\n  }\n\n  try {\n    if (typeof clearTimeout === 'function') {\n      cachedClearTimeout = clearTimeout;\n    } else {\n      cachedClearTimeout = defaultClearTimeout;\n    }\n  } catch (e) {\n    cachedClearTimeout = defaultClearTimeout;\n  }\n})();\n\nfunction runTimeout(fun) {\n  if (cachedSetTimeout === setTimeout) {\n    //normal enviroments in sane situations\n    return setTimeout(fun, 0);\n  } // if setTimeout wasn't available but was latter defined\n\n\n  if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n    cachedSetTimeout = setTimeout;\n    return setTimeout(fun, 0);\n  }\n\n  try {\n    // when when somebody has screwed with setTimeout but no I.E. maddness\n    return cachedSetTimeout(fun, 0);\n  } catch (e) {\n    try {\n      // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n      return cachedSetTimeout.call(null, fun, 0);\n    } catch (e) {\n      // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n      return cachedSetTimeout.call(this, fun, 0);\n    }\n  }\n}\n\nfunction runClearTimeout(marker) {\n  if (cachedClearTimeout === clearTimeout) {\n    //normal enviroments in sane situations\n    return clearTimeout(marker);\n  } // if clearTimeout wasn't available but was latter defined\n\n\n  if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n    cachedClearTimeout = clearTimeout;\n    return clearTimeout(marker);\n  }\n\n  try {\n    // when when somebody has screwed with setTimeout but no I.E. maddness\n    return cachedClearTimeout(marker);\n  } catch (e) {\n    try {\n      // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n      return cachedClearTimeout.call(null, marker);\n    } catch (e) {\n      // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n      // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n      return cachedClearTimeout.call(this, marker);\n    }\n  }\n}\n\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n  if (!draining || !currentQueue) {\n    return;\n  }\n\n  draining = false;\n\n  if (currentQueue.length) {\n    queue = currentQueue.concat(queue);\n  } else {\n    queueIndex = -1;\n  }\n\n  if (queue.length) {\n    drainQueue();\n  }\n}\n\nfunction drainQueue() {\n  if (draining) {\n    return;\n  }\n\n  var timeout = runTimeout(cleanUpNextTick);\n  draining = true;\n  var len = queue.length;\n\n  while (len) {\n    currentQueue = queue;\n    queue = [];\n\n    while (++queueIndex < len) {\n      if (currentQueue) {\n        currentQueue[queueIndex].run();\n      }\n    }\n\n    queueIndex = -1;\n    len = queue.length;\n  }\n\n  currentQueue = null;\n  draining = false;\n  runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n  var args = new Array(arguments.length - 1);\n\n  if (arguments.length > 1) {\n    for (var i = 1; i < arguments.length; i++) {\n      args[i - 1] = arguments[i];\n    }\n  }\n\n  queue.push(new Item(fun, args));\n\n  if (queue.length === 1 && !draining) {\n    runTimeout(drainQueue);\n  }\n}; // v8 likes predictible objects\n\n\nfunction Item(fun, array) {\n  this.fun = fun;\n  this.array = array;\n}\n\nItem.prototype.run = function () {\n  this.fun.apply(null, this.array);\n};\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\n\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) {\n  return [];\n};\n\nprocess.binding = function (name) {\n  throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () {\n  return '/';\n};\n\nprocess.chdir = function (dir) {\n  throw new Error('process.chdir is not supported');\n};\n\nprocess.umask = function () {\n  return 0;\n};","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n","exports.polyfill = Component => Component\n","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar MAP = 'Map';\n\n// 23.1 Map Objects\nmodule.exports = require('./_collection')(MAP, function (get) {\n  return function Map() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.1.3.6 Map.prototype.get(key)\n  get: function get(key) {\n    var entry = strong.getEntry(validate(this, MAP), key);\n    return entry && entry.v;\n  },\n  // 23.1.3.9 Map.prototype.set(key, value)\n  set: function set(key, value) {\n    return strong.def(validate(this, MAP), key === 0 ? 0 : key, value);\n  }\n}, strong, true);\n","// 21.1.3.18 String.prototype.startsWith(searchString [, position ])\n'use strict';\nvar $export = require('./_export');\nvar toLength = require('./_to-length');\nvar context = require('./_string-context');\nvar STARTS_WITH = 'startsWith';\nvar $startsWith = ''[STARTS_WITH];\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(STARTS_WITH), 'String', {\n  startsWith: function startsWith(searchString /* , position = 0 */) {\n    var that = context(this, searchString, STARTS_WITH);\n    var index = toLength(Math.min(arguments.length > 1 ? arguments[1] : undefined, that.length));\n    var search = String(searchString);\n    return $startsWith\n      ? $startsWith.call(that, search, index)\n      : that.slice(index, index + search.length) === search;\n  }\n});\n","import \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.regexp.search\";\nimport \"core-js/modules/es6.object.assign\";\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar getLocation = function getLocation(source) {\n  var _source$location = source.location,\n      pathname = _source$location.pathname,\n      search = _source$location.search,\n      hash = _source$location.hash,\n      href = _source$location.href,\n      origin = _source$location.origin,\n      protocol = _source$location.protocol,\n      host = _source$location.host,\n      hostname = _source$location.hostname,\n      port = _source$location.port;\n  return {\n    pathname: pathname,\n    search: search,\n    hash: hash,\n    href: href,\n    origin: origin,\n    protocol: protocol,\n    host: host,\n    hostname: hostname,\n    port: port,\n    state: source.history.state,\n    key: source.history.state && source.history.state.key || \"initial\"\n  };\n};\n\nvar createHistory = function createHistory(source, options) {\n  var listeners = [];\n  var location = getLocation(source);\n  var transitioning = false;\n\n  var resolveTransition = function resolveTransition() {};\n\n  return {\n    get location() {\n      return location;\n    },\n\n    get transitioning() {\n      return transitioning;\n    },\n\n    _onTransitionComplete: function _onTransitionComplete() {\n      transitioning = false;\n      resolveTransition();\n    },\n    listen: function listen(listener) {\n      listeners.push(listener);\n\n      var popstateListener = function popstateListener() {\n        location = getLocation(source);\n        listener({\n          location: location,\n          action: \"POP\"\n        });\n      };\n\n      source.addEventListener(\"popstate\", popstateListener);\n      return function () {\n        source.removeEventListener(\"popstate\", popstateListener);\n        listeners = listeners.filter(function (fn) {\n          return fn !== listener;\n        });\n      };\n    },\n    navigate: function navigate(to) {\n      var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n          state = _ref.state,\n          _ref$replace = _ref.replace,\n          replace = _ref$replace === undefined ? false : _ref$replace;\n\n      if (typeof to === \"number\") {\n        source.history.go(to);\n      } else {\n        state = _extends({}, state, {\n          key: Date.now() + \"\"\n        }); // try...catch iOS Safari limits to 100 pushState calls\n\n        try {\n          if (transitioning || replace) {\n            source.history.replaceState(state, null, to);\n          } else {\n            source.history.pushState(state, null, to);\n          }\n        } catch (e) {\n          source.location[replace ? \"replace\" : \"assign\"](to);\n        }\n      }\n\n      location = getLocation(source);\n      transitioning = true;\n      var transition = new Promise(function (res) {\n        return resolveTransition = res;\n      });\n      listeners.forEach(function (listener) {\n        return listener({\n          location: location,\n          action: \"PUSH\"\n        });\n      });\n      return transition;\n    }\n  };\n}; ////////////////////////////////////////////////////////////////////////////////\n// Stores history entries in memory for testing or other platforms like Native\n\n\nvar createMemorySource = function createMemorySource() {\n  var initialPath = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"/\";\n  var searchIndex = initialPath.indexOf(\"?\");\n  var initialLocation = {\n    pathname: searchIndex > -1 ? initialPath.substr(0, searchIndex) : initialPath,\n    search: searchIndex > -1 ? initialPath.substr(searchIndex) : \"\"\n  };\n  var index = 0;\n  var stack = [initialLocation];\n  var states = [null];\n  return {\n    get location() {\n      return stack[index];\n    },\n\n    addEventListener: function addEventListener(name, fn) {},\n    removeEventListener: function removeEventListener(name, fn) {},\n    history: {\n      get entries() {\n        return stack;\n      },\n\n      get index() {\n        return index;\n      },\n\n      get state() {\n        return states[index];\n      },\n\n      pushState: function pushState(state, _, uri) {\n        var _uri$split = uri.split(\"?\"),\n            pathname = _uri$split[0],\n            _uri$split$ = _uri$split[1],\n            search = _uri$split$ === undefined ? \"\" : _uri$split$;\n\n        index++;\n        stack.push({\n          pathname: pathname,\n          search: search.length ? \"?\" + search : search\n        });\n        states.push(state);\n      },\n      replaceState: function replaceState(state, _, uri) {\n        var _uri$split2 = uri.split(\"?\"),\n            pathname = _uri$split2[0],\n            _uri$split2$ = _uri$split2[1],\n            search = _uri$split2$ === undefined ? \"\" : _uri$split2$;\n\n        stack[index] = {\n          pathname: pathname,\n          search: search\n        };\n        states[index] = state;\n      }\n    }\n  };\n}; ////////////////////////////////////////////////////////////////////////////////\n// global history - uses window.history as the source if available, otherwise a\n// memory history\n\n\nvar canUseDOM = !!(typeof window !== \"undefined\" && window.document && window.document.createElement);\n\nvar getSource = function getSource() {\n  return canUseDOM ? window : createMemorySource();\n};\n\nvar globalHistory = createHistory(getSource());\nvar navigate = globalHistory.navigate; ////////////////////////////////////////////////////////////////////////////////\n\nexport { globalHistory, navigate, createHistory, createMemorySource };","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n","\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\n/**\n * Get a manifest filename depending on localized pathname\n *\n * @param {string} pathname\n * @param {Array<{start_url: string, lang: string}>} localizedManifests\n * @return string\n */\nvar _default = function _default(pathname, localizedManifests) {\n  var defaultFilename = \"manifest.webmanifest\";\n\n  if (!Array.isArray(localizedManifests)) {\n    return defaultFilename;\n  }\n\n  var localizedManifest = localizedManifests.find(function (app) {\n    return pathname.startsWith(app.start_url);\n  });\n\n  if (!localizedManifest) {\n    return defaultFilename;\n  }\n\n  return \"manifest_\" + localizedManifest.lang + \".webmanifest\";\n};\n\nexports.default = _default;","'use strict';\nvar at = require('./_string-at')(true);\n\n // `AdvanceStringIndex` abstract operation\n// https://tc39.github.io/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? at(S, index).length : 1);\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","require(\"core-js/modules/es6.array.fill\");\n\nrequire(\"core-js/modules/es6.regexp.flags\");\n\nrequire(\"core-js/modules/es6.regexp.to-string\");\n\nrequire(\"core-js/modules/es6.regexp.split\");\n\nrequire(\"core-js/modules/es6.math.log2\");\n\nrequire(\"core-js/modules/es6.array.sort\");\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/es6.regexp.match\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\n/*!\n * Paper.js v0.12.4 - The Swiss Army Knife of Vector Graphics Scripting.\n * http://paperjs.org/\n *\n * Copyright (c) 2011 - 2019, Juerg Lehni & Jonathan Puckey\n * http://scratchdisk.com/ & https://puckey.studio/\n *\n * Distributed under the MIT license. See LICENSE file for details.\n *\n * All rights reserved.\n *\n * Date: Sun Dec 15 21:25:00 2019 +0100\n *\n ***\n *\n * Straps.js - Class inheritance library with support for bean-style accessors\n *\n * Copyright (c) 2006 - 2019 Juerg Lehni\n * http://scratchdisk.com/\n *\n * Distributed under the MIT license.\n *\n ***\n *\n * Acorn.js\n * https://marijnhaverbeke.nl/acorn/\n *\n * Acorn is a tiny, fast JavaScript parser written in JavaScript,\n * created by Marijn Haverbeke and released under an MIT license.\n *\n */\nvar paper = function (self, undefined) {\n  self = self || require('./node/self.js');\n  var window = self.window,\n      document = self.document;\n  var Base = new function () {\n    var hidden = /^(statics|enumerable|beans|preserve)$/,\n        array = [],\n        _slice = array.slice,\n        create = Object.create,\n        describe = Object.getOwnPropertyDescriptor,\n        define = Object.defineProperty,\n        forEach = array.forEach || function (iter, bind) {\n      for (var i = 0, l = this.length; i < l; i++) {\n        iter.call(bind, this[i], i, this);\n      }\n    },\n        forIn = function forIn(iter, bind) {\n      for (var i in this) {\n        if (this.hasOwnProperty(i)) iter.call(bind, this[i], i, this);\n      }\n    },\n        set = Object.assign || function (dst) {\n      for (var i = 1, l = arguments.length; i < l; i++) {\n        var src = arguments[i];\n\n        for (var key in src) {\n          if (src.hasOwnProperty(key)) dst[key] = src[key];\n        }\n      }\n\n      return dst;\n    },\n        _each = function each(obj, iter, bind) {\n      if (obj) {\n        var desc = describe(obj, 'length');\n        (desc && typeof desc.value === 'number' ? forEach : forIn).call(obj, iter, bind = bind || obj);\n      }\n\n      return bind;\n    };\n\n    function _inject(dest, src, enumerable, beans, preserve) {\n      var beansNames = {};\n\n      function field(name, val) {\n        val = val || (val = describe(src, name)) && (val.get ? val : val.value);\n        if (typeof val === 'string' && val[0] === '#') val = dest[val.substring(1)] || val;\n        var isFunc = typeof val === 'function',\n            res = val,\n            prev = preserve || isFunc && !val.base ? val && val.get ? name in dest : dest[name] : null,\n            bean;\n\n        if (!preserve || !prev) {\n          if (isFunc && prev) val.base = prev;\n          if (isFunc && beans !== false && (bean = name.match(/^([gs]et|is)(([A-Z])(.*))$/))) beansNames[bean[3].toLowerCase() + bean[4]] = bean[2];\n\n          if (!res || isFunc || !res.get || typeof res.get !== 'function' || !Base.isPlainObject(res)) {\n            res = {\n              value: res,\n              writable: true\n            };\n          }\n\n          if ((describe(dest, name) || {\n            configurable: true\n          }).configurable) {\n            res.configurable = true;\n            res.enumerable = enumerable != null ? enumerable : !bean;\n          }\n\n          define(dest, name, res);\n        }\n      }\n\n      if (src) {\n        for (var name in src) {\n          if (src.hasOwnProperty(name) && !hidden.test(name)) field(name);\n        }\n\n        for (var name in beansNames) {\n          var part = beansNames[name],\n              set = dest['set' + part],\n              get = dest['get' + part] || set && dest['is' + part];\n          if (get && (beans === true || get.length === 0)) field(name, {\n            get: get,\n            set: set\n          });\n        }\n      }\n\n      return dest;\n    }\n\n    function Base() {\n      for (var i = 0, l = arguments.length; i < l; i++) {\n        var src = arguments[i];\n        if (src) set(this, src);\n      }\n\n      return this;\n    }\n\n    return _inject(Base, {\n      inject: function inject(src) {\n        if (src) {\n          var statics = src.statics === true ? src : src.statics,\n              beans = src.beans,\n              preserve = src.preserve;\n          if (statics !== src) _inject(this.prototype, src, src.enumerable, beans, preserve);\n\n          _inject(this, statics, null, beans, preserve);\n        }\n\n        for (var i = 1, l = arguments.length; i < l; i++) {\n          this.inject(arguments[i]);\n        }\n\n        return this;\n      },\n      extend: function extend() {\n        var base = this,\n            ctor,\n            proto;\n\n        for (var i = 0, obj, l = arguments.length; i < l && !(ctor && proto); i++) {\n          obj = arguments[i];\n          ctor = ctor || obj.initialize;\n          proto = proto || obj.prototype;\n        }\n\n        ctor = ctor || function () {\n          base.apply(this, arguments);\n        };\n\n        proto = ctor.prototype = proto || create(this.prototype);\n        define(proto, 'constructor', {\n          value: ctor,\n          writable: true,\n          configurable: true\n        });\n\n        _inject(ctor, this);\n\n        if (arguments.length) this.inject.apply(ctor, arguments);\n        ctor.base = base;\n        return ctor;\n      }\n    }).inject({\n      enumerable: false,\n      initialize: Base,\n      set: Base,\n      inject: function inject() {\n        for (var i = 0, l = arguments.length; i < l; i++) {\n          var src = arguments[i];\n\n          if (src) {\n            _inject(this, src, src.enumerable, src.beans, src.preserve);\n          }\n        }\n\n        return this;\n      },\n      extend: function extend() {\n        var res = create(this);\n        return res.inject.apply(res, arguments);\n      },\n      each: function each(iter, bind) {\n        return _each(this, iter, bind);\n      },\n      clone: function clone() {\n        return new this.constructor(this);\n      },\n      statics: {\n        set: set,\n        each: _each,\n        create: create,\n        define: define,\n        describe: describe,\n        clone: function clone(obj) {\n          return set(new obj.constructor(), obj);\n        },\n        isPlainObject: function isPlainObject(obj) {\n          var ctor = obj != null && obj.constructor;\n          return ctor && (ctor === Object || ctor === Base || ctor.name === 'Object');\n        },\n        pick: function pick(a, b) {\n          return a !== undefined ? a : b;\n        },\n        slice: function slice(list, begin, end) {\n          return _slice.call(list, begin, end);\n        }\n      }\n    });\n  }();\n  if (typeof module !== 'undefined') module.exports = Base;\n  Base.inject({\n    enumerable: false,\n    toString: function toString() {\n      return this._id != null ? (this._class || 'Object') + (this._name ? \" '\" + this._name + \"'\" : ' @' + this._id) : '{ ' + Base.each(this, function (value, key) {\n        if (!/^_/.test(key)) {\n          var type = typeof value;\n          this.push(key + ': ' + (type === 'number' ? Formatter.instance.number(value) : type === 'string' ? \"'\" + value + \"'\" : value));\n        }\n      }, []).join(', ') + ' }';\n    },\n    getClassName: function getClassName() {\n      return this._class || '';\n    },\n    importJSON: function importJSON(json) {\n      return Base.importJSON(json, this);\n    },\n    exportJSON: function exportJSON(options) {\n      return Base.exportJSON(this, options);\n    },\n    toJSON: function toJSON() {\n      return Base.serialize(this);\n    },\n    set: function set(props, exclude) {\n      if (props) Base.filter(this, props, exclude, this._prioritize);\n      return this;\n    }\n  }, {\n    beans: false,\n    statics: {\n      exports: {},\n      extend: function extend() {\n        var res = extend.base.apply(this, arguments),\n            name = res.prototype._class;\n        if (name && !Base.exports[name]) Base.exports[name] = res;\n        return res;\n      },\n      equals: function equals(obj1, obj2) {\n        if (obj1 === obj2) return true;\n        if (obj1 && obj1.equals) return obj1.equals(obj2);\n        if (obj2 && obj2.equals) return obj2.equals(obj1);\n\n        if (obj1 && obj2 && typeof obj1 === 'object' && typeof obj2 === 'object') {\n          if (Array.isArray(obj1) && Array.isArray(obj2)) {\n            var length = obj1.length;\n            if (length !== obj2.length) return false;\n\n            while (length--) {\n              if (!Base.equals(obj1[length], obj2[length])) return false;\n            }\n          } else {\n            var keys = Object.keys(obj1),\n                length = keys.length;\n            if (length !== Object.keys(obj2).length) return false;\n\n            while (length--) {\n              var key = keys[length];\n              if (!(obj2.hasOwnProperty(key) && Base.equals(obj1[key], obj2[key]))) return false;\n            }\n          }\n\n          return true;\n        }\n\n        return false;\n      },\n      read: function read(list, start, options, amount) {\n        if (this === Base) {\n          var value = this.peek(list, start);\n          list.__index++;\n          return value;\n        }\n\n        var proto = this.prototype,\n            readIndex = proto._readIndex,\n            begin = start || readIndex && list.__index || 0,\n            length = list.length,\n            obj = list[begin];\n        amount = amount || length - begin;\n\n        if (obj instanceof this || options && options.readNull && obj == null && amount <= 1) {\n          if (readIndex) list.__index = begin + 1;\n          return obj && options && options.clone ? obj.clone() : obj;\n        }\n\n        obj = Base.create(proto);\n        if (readIndex) obj.__read = true;\n        obj = obj.initialize.apply(obj, begin > 0 || begin + amount < length ? Base.slice(list, begin, begin + amount) : list) || obj;\n\n        if (readIndex) {\n          list.__index = begin + obj.__read;\n          var filtered = obj.__filtered;\n\n          if (filtered) {\n            list.__filtered = filtered;\n            obj.__filtered = undefined;\n          }\n\n          obj.__read = undefined;\n        }\n\n        return obj;\n      },\n      peek: function peek(list, start) {\n        return list[list.__index = start || list.__index || 0];\n      },\n      remain: function remain(list) {\n        return list.length - (list.__index || 0);\n      },\n      readList: function readList(list, start, options, amount) {\n        var res = [],\n            entry,\n            begin = start || 0,\n            end = amount ? begin + amount : list.length;\n\n        for (var i = begin; i < end; i++) {\n          res.push(Array.isArray(entry = list[i]) ? this.read(entry, 0, options) : this.read(list, i, options, 1));\n        }\n\n        return res;\n      },\n      readNamed: function readNamed(list, name, start, options, amount) {\n        var value = this.getNamed(list, name),\n            hasValue = value !== undefined;\n\n        if (hasValue) {\n          var filtered = list.__filtered;\n\n          if (!filtered) {\n            var source = this.getSource(list);\n            filtered = list.__filtered = Base.create(source);\n            filtered.__unfiltered = source;\n          }\n\n          filtered[name] = undefined;\n        }\n\n        return this.read(hasValue ? [value] : list, start, options, amount);\n      },\n      readSupported: function readSupported(list, dest) {\n        var source = this.getSource(list),\n            that = this,\n            read = false;\n\n        if (source) {\n          Object.keys(source).forEach(function (key) {\n            if (key in dest) {\n              var value = that.readNamed(list, key);\n\n              if (value !== undefined) {\n                dest[key] = value;\n              }\n\n              read = true;\n            }\n          });\n        }\n\n        return read;\n      },\n      getSource: function getSource(list) {\n        var source = list.__source;\n\n        if (source === undefined) {\n          var arg = list.length === 1 && list[0];\n          source = list.__source = arg && Base.isPlainObject(arg) ? arg : null;\n        }\n\n        return source;\n      },\n      getNamed: function getNamed(list, name) {\n        var source = this.getSource(list);\n\n        if (source) {\n          return name ? source[name] : list.__filtered || source;\n        }\n      },\n      hasNamed: function hasNamed(list, name) {\n        return !!this.getNamed(list, name);\n      },\n      filter: function filter(dest, source, exclude, prioritize) {\n        var processed;\n\n        function handleKey(key) {\n          if (!(exclude && key in exclude) && !(processed && key in processed)) {\n            var value = source[key];\n            if (value !== undefined) dest[key] = value;\n          }\n        }\n\n        if (prioritize) {\n          var keys = {};\n\n          for (var i = 0, key, l = prioritize.length; i < l; i++) {\n            if ((key = prioritize[i]) in source) {\n              handleKey(key);\n              keys[key] = true;\n            }\n          }\n\n          processed = keys;\n        }\n\n        Object.keys(source.__unfiltered || source).forEach(handleKey);\n        return dest;\n      },\n      isPlainValue: function isPlainValue(obj, asString) {\n        return Base.isPlainObject(obj) || Array.isArray(obj) || asString && typeof obj === 'string';\n      },\n      serialize: function serialize(obj, options, compact, dictionary) {\n        options = options || {};\n        var isRoot = !dictionary,\n            res;\n\n        if (isRoot) {\n          options.formatter = new Formatter(options.precision);\n          dictionary = {\n            length: 0,\n            definitions: {},\n            references: {},\n            add: function add(item, create) {\n              var id = '#' + item._id,\n                  ref = this.references[id];\n\n              if (!ref) {\n                this.length++;\n                var res = create.call(item),\n                    name = item._class;\n                if (name && res[0] !== name) res.unshift(name);\n                this.definitions[id] = res;\n                ref = this.references[id] = [id];\n              }\n\n              return ref;\n            }\n          };\n        }\n\n        if (obj && obj._serialize) {\n          res = obj._serialize(options, dictionary);\n          var name = obj._class;\n\n          if (name && !obj._compactSerialize && (isRoot || !compact) && res[0] !== name) {\n            res.unshift(name);\n          }\n        } else if (Array.isArray(obj)) {\n          res = [];\n\n          for (var i = 0, l = obj.length; i < l; i++) {\n            res[i] = Base.serialize(obj[i], options, compact, dictionary);\n          }\n        } else if (Base.isPlainObject(obj)) {\n          res = {};\n          var keys = Object.keys(obj);\n\n          for (var i = 0, l = keys.length; i < l; i++) {\n            var key = keys[i];\n            res[key] = Base.serialize(obj[key], options, compact, dictionary);\n          }\n        } else if (typeof obj === 'number') {\n          res = options.formatter.number(obj, options.precision);\n        } else {\n          res = obj;\n        }\n\n        return isRoot && dictionary.length > 0 ? [['dictionary', dictionary.definitions], res] : res;\n      },\n      deserialize: function deserialize(json, create, _data, _setDictionary, _isRoot) {\n        var res = json,\n            isFirst = !_data,\n            hasDictionary = isFirst && json && json.length && json[0][0] === 'dictionary';\n        _data = _data || {};\n\n        if (Array.isArray(json)) {\n          var type = json[0],\n              isDictionary = type === 'dictionary';\n\n          if (json.length == 1 && /^#/.test(type)) {\n            return _data.dictionary[type];\n          }\n\n          type = Base.exports[type];\n          res = [];\n\n          for (var i = type ? 1 : 0, l = json.length; i < l; i++) {\n            res.push(Base.deserialize(json[i], create, _data, isDictionary, hasDictionary));\n          }\n\n          if (type) {\n            var args = res;\n\n            if (create) {\n              res = create(type, args, isFirst || _isRoot);\n            } else {\n              res = new type(args);\n            }\n          }\n        } else if (Base.isPlainObject(json)) {\n          res = {};\n          if (_setDictionary) _data.dictionary = res;\n\n          for (var key in json) {\n            res[key] = Base.deserialize(json[key], create, _data);\n          }\n        }\n\n        return hasDictionary ? res[1] : res;\n      },\n      exportJSON: function exportJSON(obj, options) {\n        var json = Base.serialize(obj, options);\n        return options && options.asString == false ? json : JSON.stringify(json);\n      },\n      importJSON: function importJSON(json, target) {\n        return Base.deserialize(typeof json === 'string' ? JSON.parse(json) : json, function (ctor, args, isRoot) {\n          var useTarget = isRoot && target && target.constructor === ctor,\n              obj = useTarget ? target : Base.create(ctor.prototype);\n\n          if (args.length === 1 && obj instanceof Item && (useTarget || !(obj instanceof Layer))) {\n            var arg = args[0];\n\n            if (Base.isPlainObject(arg)) {\n              arg.insert = false;\n\n              if (useTarget) {\n                args = args.concat([{\n                  insert: true\n                }]);\n              }\n            }\n          }\n\n          (useTarget ? obj.set : ctor).apply(obj, args);\n          if (useTarget) target = null;\n          return obj;\n        });\n      },\n      push: function push(list, items) {\n        var itemsLength = items.length;\n\n        if (itemsLength < 4096) {\n          list.push.apply(list, items);\n        } else {\n          var startLength = list.length;\n          list.length += itemsLength;\n\n          for (var i = 0; i < itemsLength; i++) {\n            list[startLength + i] = items[i];\n          }\n        }\n\n        return list;\n      },\n      splice: function splice(list, items, index, remove) {\n        var amount = items && items.length,\n            append = index === undefined;\n        index = append ? list.length : index;\n        if (index > list.length) index = list.length;\n\n        for (var i = 0; i < amount; i++) {\n          items[i]._index = index + i;\n        }\n\n        if (append) {\n          Base.push(list, items);\n          return [];\n        } else {\n          var args = [index, remove];\n          if (items) Base.push(args, items);\n          var removed = list.splice.apply(list, args);\n\n          for (var i = 0, l = removed.length; i < l; i++) {\n            removed[i]._index = undefined;\n          }\n\n          for (var i = index + amount, l = list.length; i < l; i++) {\n            list[i]._index = i;\n          }\n\n          return removed;\n        }\n      },\n      capitalize: function capitalize(str) {\n        return str.replace(/\\b[a-z]/g, function (match) {\n          return match.toUpperCase();\n        });\n      },\n      camelize: function camelize(str) {\n        return str.replace(/-(.)/g, function (match, chr) {\n          return chr.toUpperCase();\n        });\n      },\n      hyphenate: function hyphenate(str) {\n        return str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n      }\n    }\n  });\n  var Emitter = {\n    on: function on(type, func) {\n      if (typeof type !== 'string') {\n        Base.each(type, function (value, key) {\n          this.on(key, value);\n        }, this);\n      } else {\n        var types = this._eventTypes,\n            entry = types && types[type],\n            handlers = this._callbacks = this._callbacks || {};\n        handlers = handlers[type] = handlers[type] || [];\n\n        if (handlers.indexOf(func) === -1) {\n          handlers.push(func);\n          if (entry && entry.install && handlers.length === 1) entry.install.call(this, type);\n        }\n      }\n\n      return this;\n    },\n    off: function off(type, func) {\n      if (typeof type !== 'string') {\n        Base.each(type, function (value, key) {\n          this.off(key, value);\n        }, this);\n        return;\n      }\n\n      var types = this._eventTypes,\n          entry = types && types[type],\n          handlers = this._callbacks && this._callbacks[type],\n          index;\n\n      if (handlers) {\n        if (!func || (index = handlers.indexOf(func)) !== -1 && handlers.length === 1) {\n          if (entry && entry.uninstall) entry.uninstall.call(this, type);\n          delete this._callbacks[type];\n        } else if (index !== -1) {\n          handlers.splice(index, 1);\n        }\n      }\n\n      return this;\n    },\n    once: function once(type, func) {\n      return this.on(type, function handler() {\n        func.apply(this, arguments);\n        this.off(type, handler);\n      });\n    },\n    emit: function emit(type, event) {\n      var handlers = this._callbacks && this._callbacks[type];\n      if (!handlers) return false;\n      var args = Base.slice(arguments, 1),\n          setTarget = event && event.target && !event.currentTarget;\n      handlers = handlers.slice();\n      if (setTarget) event.currentTarget = this;\n\n      for (var i = 0, l = handlers.length; i < l; i++) {\n        if (handlers[i].apply(this, args) == false) {\n          if (event && event.stop) event.stop();\n          break;\n        }\n      }\n\n      if (setTarget) delete event.currentTarget;\n      return true;\n    },\n    responds: function responds(type) {\n      return !!(this._callbacks && this._callbacks[type]);\n    },\n    attach: '#on',\n    detach: '#off',\n    fire: '#emit',\n    _installEvents: function _installEvents(install) {\n      var types = this._eventTypes,\n          handlers = this._callbacks,\n          key = install ? 'install' : 'uninstall';\n\n      if (types) {\n        for (var type in handlers) {\n          if (handlers[type].length > 0) {\n            var entry = types[type],\n                func = entry && entry[key];\n            if (func) func.call(this, type);\n          }\n        }\n      }\n    },\n    statics: {\n      inject: function inject(src) {\n        var events = src._events;\n\n        if (events) {\n          var types = {};\n          Base.each(events, function (entry, key) {\n            var isString = typeof entry === 'string',\n                name = isString ? entry : key,\n                part = Base.capitalize(name),\n                type = name.substring(2).toLowerCase();\n            types[type] = isString ? {} : entry;\n            name = '_' + name;\n\n            src['get' + part] = function () {\n              return this[name];\n            };\n\n            src['set' + part] = function (func) {\n              var prev = this[name];\n              if (prev) this.off(type, prev);\n              if (func) this.on(type, func);\n              this[name] = func;\n            };\n          });\n          src._eventTypes = types;\n        }\n\n        return inject.base.apply(this, arguments);\n      }\n    }\n  };\n  var PaperScope = Base.extend({\n    _class: 'PaperScope',\n    initialize: function PaperScope() {\n      paper = this;\n      this.settings = new Base({\n        applyMatrix: true,\n        insertItems: true,\n        handleSize: 4,\n        hitTolerance: 0\n      });\n      this.project = null;\n      this.projects = [];\n      this.tools = [];\n      this._id = PaperScope._id++;\n      PaperScope._scopes[this._id] = this;\n      var proto = PaperScope.prototype;\n\n      if (!this.support) {\n        var ctx = CanvasProvider.getContext(1, 1) || {};\n        proto.support = {\n          nativeDash: 'setLineDash' in ctx || 'mozDash' in ctx,\n          nativeBlendModes: BlendMode.nativeModes\n        };\n        CanvasProvider.release(ctx);\n      }\n\n      if (!this.agent) {\n        var user = self.navigator.userAgent.toLowerCase(),\n            os = (/(darwin|win|mac|linux|freebsd|sunos)/.exec(user) || [])[0],\n            platform = os === 'darwin' ? 'mac' : os,\n            agent = proto.agent = proto.browser = {\n          platform: platform\n        };\n        if (platform) agent[platform] = true;\n        user.replace(/(opera|chrome|safari|webkit|firefox|msie|trident|atom|node|jsdom)\\/?\\s*([.\\d]+)(?:.*version\\/([.\\d]+))?(?:.*rv\\:v?([.\\d]+))?/g, function (match, n, v1, v2, rv) {\n          if (!agent.chrome) {\n            var v = n === 'opera' ? v2 : /^(node|trident)$/.test(n) ? rv : v1;\n            agent.version = v;\n            agent.versionNumber = parseFloat(v);\n            n = {\n              trident: 'msie',\n              jsdom: 'node'\n            }[n] || n;\n            agent.name = n;\n            agent[n] = true;\n          }\n        });\n        if (agent.chrome) delete agent.webkit;\n        if (agent.atom) delete agent.chrome;\n      }\n    },\n    version: \"0.12.4\",\n    getView: function getView() {\n      var project = this.project;\n      return project && project._view;\n    },\n    getPaper: function getPaper() {\n      return this;\n    },\n    execute: function execute(code, options) {},\n    install: function install(scope) {\n      var that = this;\n      Base.each(['project', 'view', 'tool'], function (key) {\n        Base.define(scope, key, {\n          configurable: true,\n          get: function get() {\n            return that[key];\n          }\n        });\n      });\n\n      for (var key in this) {\n        if (!/^_/.test(key) && this[key]) scope[key] = this[key];\n      }\n    },\n    setup: function setup(element) {\n      paper = this;\n      this.project = new Project(element);\n      return this;\n    },\n    createCanvas: function createCanvas(width, height) {\n      return CanvasProvider.getCanvas(width, height);\n    },\n    activate: function activate() {\n      paper = this;\n    },\n    clear: function clear() {\n      var projects = this.projects,\n          tools = this.tools;\n\n      for (var i = projects.length - 1; i >= 0; i--) {\n        projects[i].remove();\n      }\n\n      for (var i = tools.length - 1; i >= 0; i--) {\n        tools[i].remove();\n      }\n    },\n    remove: function remove() {\n      this.clear();\n      delete PaperScope._scopes[this._id];\n    },\n    statics: new function () {\n      function handleAttribute(name) {\n        name += 'Attribute';\n        return function (el, attr) {\n          return el[name](attr) || el[name]('data-paper-' + attr);\n        };\n      }\n\n      return {\n        _scopes: {},\n        _id: 0,\n        get: function get(id) {\n          return this._scopes[id] || null;\n        },\n        getAttribute: handleAttribute('get'),\n        hasAttribute: handleAttribute('has')\n      };\n    }()\n  });\n  var PaperScopeItem = Base.extend(Emitter, {\n    initialize: function initialize(activate) {\n      this._scope = paper;\n      this._index = this._scope[this._list].push(this) - 1;\n      if (activate || !this._scope[this._reference]) this.activate();\n    },\n    activate: function activate() {\n      if (!this._scope) return false;\n      var prev = this._scope[this._reference];\n      if (prev && prev !== this) prev.emit('deactivate');\n      this._scope[this._reference] = this;\n      this.emit('activate', prev);\n      return true;\n    },\n    isActive: function isActive() {\n      return this._scope[this._reference] === this;\n    },\n    remove: function remove() {\n      if (this._index == null) return false;\n      Base.splice(this._scope[this._list], null, this._index, 1);\n      if (this._scope[this._reference] == this) this._scope[this._reference] = null;\n      this._scope = null;\n      return true;\n    },\n    getView: function getView() {\n      return this._scope.getView();\n    }\n  });\n  var CollisionDetection = {\n    findItemBoundsCollisions: function findItemBoundsCollisions(items1, items2, tolerance) {\n      function getBounds(items) {\n        var bounds = new Array(items.length);\n\n        for (var i = 0; i < items.length; i++) {\n          var rect = items[i].getBounds();\n          bounds[i] = [rect.left, rect.top, rect.right, rect.bottom];\n        }\n\n        return bounds;\n      }\n\n      var bounds1 = getBounds(items1),\n          bounds2 = !items2 || items2 === items1 ? bounds1 : getBounds(items2);\n      return this.findBoundsCollisions(bounds1, bounds2, tolerance || 0);\n    },\n    findCurveBoundsCollisions: function findCurveBoundsCollisions(curves1, curves2, tolerance, bothAxis) {\n      function getBounds(curves) {\n        var min = Math.min,\n            max = Math.max,\n            bounds = new Array(curves.length);\n\n        for (var i = 0; i < curves.length; i++) {\n          var v = curves[i];\n          bounds[i] = [min(v[0], v[2], v[4], v[6]), min(v[1], v[3], v[5], v[7]), max(v[0], v[2], v[4], v[6]), max(v[1], v[3], v[5], v[7])];\n        }\n\n        return bounds;\n      }\n\n      var bounds1 = getBounds(curves1),\n          bounds2 = !curves2 || curves2 === curves1 ? bounds1 : getBounds(curves2);\n\n      if (bothAxis) {\n        var hor = this.findBoundsCollisions(bounds1, bounds2, tolerance || 0, false, true),\n            ver = this.findBoundsCollisions(bounds1, bounds2, tolerance || 0, true, true),\n            list = [];\n\n        for (var i = 0, l = hor.length; i < l; i++) {\n          list[i] = {\n            hor: hor[i],\n            ver: ver[i]\n          };\n        }\n\n        return list;\n      }\n\n      return this.findBoundsCollisions(bounds1, bounds2, tolerance || 0);\n    },\n    findBoundsCollisions: function findBoundsCollisions(boundsA, boundsB, tolerance, sweepVertical, onlySweepAxisCollisions) {\n      var self = !boundsB || boundsA === boundsB,\n          allBounds = self ? boundsA : boundsA.concat(boundsB),\n          lengthA = boundsA.length,\n          lengthAll = allBounds.length;\n\n      function binarySearch(indices, coord, value) {\n        var lo = 0,\n            hi = indices.length;\n\n        while (lo < hi) {\n          var mid = hi + lo >>> 1;\n\n          if (allBounds[indices[mid]][coord] < value) {\n            lo = mid + 1;\n          } else {\n            hi = mid;\n          }\n        }\n\n        return lo - 1;\n      }\n\n      var pri0 = sweepVertical ? 1 : 0,\n          pri1 = pri0 + 2,\n          sec0 = sweepVertical ? 0 : 1,\n          sec1 = sec0 + 2;\n      var allIndicesByPri0 = new Array(lengthAll);\n\n      for (var i = 0; i < lengthAll; i++) {\n        allIndicesByPri0[i] = i;\n      }\n\n      allIndicesByPri0.sort(function (i1, i2) {\n        return allBounds[i1][pri0] - allBounds[i2][pri0];\n      });\n      var activeIndicesByPri1 = [],\n          allCollisions = new Array(lengthA);\n\n      for (var i = 0; i < lengthAll; i++) {\n        var curIndex = allIndicesByPri0[i],\n            curBounds = allBounds[curIndex],\n            origIndex = self ? curIndex : curIndex - lengthA,\n            isCurrentA = curIndex < lengthA,\n            isCurrentB = self || !isCurrentA,\n            curCollisions = isCurrentA ? [] : null;\n\n        if (activeIndicesByPri1.length) {\n          var pruneCount = binarySearch(activeIndicesByPri1, pri1, curBounds[pri0] - tolerance) + 1;\n          activeIndicesByPri1.splice(0, pruneCount);\n\n          if (self && onlySweepAxisCollisions) {\n            curCollisions = curCollisions.concat(activeIndicesByPri1);\n\n            for (var j = 0; j < activeIndicesByPri1.length; j++) {\n              var activeIndex = activeIndicesByPri1[j];\n              allCollisions[activeIndex].push(origIndex);\n            }\n          } else {\n            var curSec1 = curBounds[sec1],\n                curSec0 = curBounds[sec0];\n\n            for (var j = 0; j < activeIndicesByPri1.length; j++) {\n              var activeIndex = activeIndicesByPri1[j],\n                  activeBounds = allBounds[activeIndex],\n                  isActiveA = activeIndex < lengthA,\n                  isActiveB = self || activeIndex >= lengthA;\n\n              if (onlySweepAxisCollisions || (isCurrentA && isActiveB || isCurrentB && isActiveA) && curSec1 >= activeBounds[sec0] - tolerance && curSec0 <= activeBounds[sec1] + tolerance) {\n                if (isCurrentA && isActiveB) {\n                  curCollisions.push(self ? activeIndex : activeIndex - lengthA);\n                }\n\n                if (isCurrentB && isActiveA) {\n                  allCollisions[activeIndex].push(origIndex);\n                }\n              }\n            }\n          }\n        }\n\n        if (isCurrentA) {\n          if (boundsA === boundsB) {\n            curCollisions.push(curIndex);\n          }\n\n          allCollisions[curIndex] = curCollisions;\n        }\n\n        if (activeIndicesByPri1.length) {\n          var curPri1 = curBounds[pri1],\n              index = binarySearch(activeIndicesByPri1, pri1, curPri1);\n          activeIndicesByPri1.splice(index + 1, 0, curIndex);\n        } else {\n          activeIndicesByPri1.push(curIndex);\n        }\n      }\n\n      for (var i = 0; i < allCollisions.length; i++) {\n        var collisions = allCollisions[i];\n\n        if (collisions) {\n          collisions.sort(function (i1, i2) {\n            return i1 - i2;\n          });\n        }\n      }\n\n      return allCollisions;\n    }\n  };\n  var Formatter = Base.extend({\n    initialize: function initialize(precision) {\n      this.precision = Base.pick(precision, 5);\n      this.multiplier = Math.pow(10, this.precision);\n    },\n    number: function number(val) {\n      return this.precision < 16 ? Math.round(val * this.multiplier) / this.multiplier : val;\n    },\n    pair: function pair(val1, val2, separator) {\n      return this.number(val1) + (separator || ',') + this.number(val2);\n    },\n    point: function point(val, separator) {\n      return this.number(val.x) + (separator || ',') + this.number(val.y);\n    },\n    size: function size(val, separator) {\n      return this.number(val.width) + (separator || ',') + this.number(val.height);\n    },\n    rectangle: function rectangle(val, separator) {\n      return this.point(val, separator) + (separator || ',') + this.size(val, separator);\n    }\n  });\n  Formatter.instance = new Formatter();\n  var Numerical = new function () {\n    var abscissas = [[0.5773502691896257645091488], [0, 0.7745966692414833770358531], [0.3399810435848562648026658, 0.8611363115940525752239465], [0, 0.5384693101056830910363144, 0.9061798459386639927976269], [0.2386191860831969086305017, 0.6612093864662645136613996, 0.9324695142031520278123016], [0, 0.4058451513773971669066064, 0.7415311855993944398638648, 0.9491079123427585245261897], [0.1834346424956498049394761, 0.5255324099163289858177390, 0.7966664774136267395915539, 0.9602898564975362316835609], [0, 0.3242534234038089290385380, 0.6133714327005903973087020, 0.8360311073266357942994298, 0.9681602395076260898355762], [0.1488743389816312108848260, 0.4333953941292471907992659, 0.6794095682990244062343274, 0.8650633666889845107320967, 0.9739065285171717200779640], [0, 0.2695431559523449723315320, 0.5190961292068118159257257, 0.7301520055740493240934163, 0.8870625997680952990751578, 0.9782286581460569928039380], [0.1252334085114689154724414, 0.3678314989981801937526915, 0.5873179542866174472967024, 0.7699026741943046870368938, 0.9041172563704748566784659, 0.9815606342467192506905491], [0, 0.2304583159551347940655281, 0.4484927510364468528779129, 0.6423493394403402206439846, 0.8015780907333099127942065, 0.9175983992229779652065478, 0.9841830547185881494728294], [0.1080549487073436620662447, 0.3191123689278897604356718, 0.5152486363581540919652907, 0.6872929048116854701480198, 0.8272013150697649931897947, 0.9284348836635735173363911, 0.9862838086968123388415973], [0, 0.2011940939974345223006283, 0.3941513470775633698972074, 0.5709721726085388475372267, 0.7244177313601700474161861, 0.8482065834104272162006483, 0.9372733924007059043077589, 0.9879925180204854284895657], [0.0950125098376374401853193, 0.2816035507792589132304605, 0.4580167776572273863424194, 0.6178762444026437484466718, 0.7554044083550030338951012, 0.8656312023878317438804679, 0.9445750230732325760779884, 0.9894009349916499325961542]];\n    var weights = [[1], [0.8888888888888888888888889, 0.5555555555555555555555556], [0.6521451548625461426269361, 0.3478548451374538573730639], [0.5688888888888888888888889, 0.4786286704993664680412915, 0.2369268850561890875142640], [0.4679139345726910473898703, 0.3607615730481386075698335, 0.1713244923791703450402961], [0.4179591836734693877551020, 0.3818300505051189449503698, 0.2797053914892766679014678, 0.1294849661688696932706114], [0.3626837833783619829651504, 0.3137066458778872873379622, 0.2223810344533744705443560, 0.1012285362903762591525314], [0.3302393550012597631645251, 0.3123470770400028400686304, 0.2606106964029354623187429, 0.1806481606948574040584720, 0.0812743883615744119718922], [0.2955242247147528701738930, 0.2692667193099963550912269, 0.2190863625159820439955349, 0.1494513491505805931457763, 0.0666713443086881375935688], [0.2729250867779006307144835, 0.2628045445102466621806889, 0.2331937645919904799185237, 0.1862902109277342514260976, 0.1255803694649046246346943, 0.0556685671161736664827537], [0.2491470458134027850005624, 0.2334925365383548087608499, 0.2031674267230659217490645, 0.1600783285433462263346525, 0.1069393259953184309602547, 0.0471753363865118271946160], [0.2325515532308739101945895, 0.2262831802628972384120902, 0.2078160475368885023125232, 0.1781459807619457382800467, 0.1388735102197872384636018, 0.0921214998377284479144218, 0.0404840047653158795200216], [0.2152638534631577901958764, 0.2051984637212956039659241, 0.1855383974779378137417166, 0.1572031671581935345696019, 0.1215185706879031846894148, 0.0801580871597602098056333, 0.0351194603317518630318329], [0.2025782419255612728806202, 0.1984314853271115764561183, 0.1861610000155622110268006, 0.1662692058169939335532009, 0.1395706779261543144478048, 0.1071592204671719350118695, 0.0703660474881081247092674, 0.0307532419961172683546284], [0.1894506104550684962853967, 0.1826034150449235888667637, 0.1691565193950025381893121, 0.1495959888165767320815017, 0.1246289712555338720524763, 0.0951585116824927848099251, 0.0622535239386478928628438, 0.0271524594117540948517806]];\n\n    var abs = Math.abs,\n        sqrt = Math.sqrt,\n        pow = Math.pow,\n        log2 = Math.log2 || function (x) {\n      return Math.log(x) * Math.LOG2E;\n    },\n        EPSILON = 1e-12,\n        MACHINE_EPSILON = 1.12e-16;\n\n    function clamp(value, min, max) {\n      return value < min ? min : value > max ? max : value;\n    }\n\n    function getDiscriminant(a, b, c) {\n      function split(v) {\n        var x = v * 134217729,\n            y = v - x,\n            hi = y + x,\n            lo = v - hi;\n        return [hi, lo];\n      }\n\n      var D = b * b - a * c,\n          E = b * b + a * c;\n\n      if (abs(D) * 3 < E) {\n        var ad = split(a),\n            bd = split(b),\n            cd = split(c),\n            p = b * b,\n            dp = bd[0] * bd[0] - p + 2 * bd[0] * bd[1] + bd[1] * bd[1],\n            q = a * c,\n            dq = ad[0] * cd[0] - q + ad[0] * cd[1] + ad[1] * cd[0] + ad[1] * cd[1];\n        D = p - q + (dp - dq);\n      }\n\n      return D;\n    }\n\n    function getNormalizationFactor() {\n      var norm = Math.max.apply(Math, arguments);\n      return norm && (norm < 1e-8 || norm > 1e8) ? pow(2, -Math.round(log2(norm))) : 0;\n    }\n\n    return {\n      EPSILON: EPSILON,\n      MACHINE_EPSILON: MACHINE_EPSILON,\n      CURVETIME_EPSILON: 1e-8,\n      GEOMETRIC_EPSILON: 1e-7,\n      TRIGONOMETRIC_EPSILON: 1e-8,\n      KAPPA: 4 * (sqrt(2) - 1) / 3,\n      isZero: function isZero(val) {\n        return val >= -EPSILON && val <= EPSILON;\n      },\n      isMachineZero: function isMachineZero(val) {\n        return val >= -MACHINE_EPSILON && val <= MACHINE_EPSILON;\n      },\n      clamp: clamp,\n      integrate: function integrate(f, a, b, n) {\n        var x = abscissas[n - 2],\n            w = weights[n - 2],\n            A = (b - a) * 0.5,\n            B = A + a,\n            i = 0,\n            m = n + 1 >> 1,\n            sum = n & 1 ? w[i++] * f(B) : 0;\n\n        while (i < m) {\n          var Ax = A * x[i];\n          sum += w[i++] * (f(B + Ax) + f(B - Ax));\n        }\n\n        return A * sum;\n      },\n      findRoot: function findRoot(f, df, x, a, b, n, tolerance) {\n        for (var i = 0; i < n; i++) {\n          var fx = f(x),\n              dx = fx / df(x),\n              nx = x - dx;\n\n          if (abs(dx) < tolerance) {\n            x = nx;\n            break;\n          }\n\n          if (fx > 0) {\n            b = x;\n            x = nx <= a ? (a + b) * 0.5 : nx;\n          } else {\n            a = x;\n            x = nx >= b ? (a + b) * 0.5 : nx;\n          }\n        }\n\n        return clamp(x, a, b);\n      },\n      solveQuadratic: function solveQuadratic(a, b, c, roots, min, max) {\n        var x1,\n            x2 = Infinity;\n\n        if (abs(a) < EPSILON) {\n          if (abs(b) < EPSILON) return abs(c) < EPSILON ? -1 : 0;\n          x1 = -c / b;\n        } else {\n          b *= -0.5;\n          var D = getDiscriminant(a, b, c);\n\n          if (D && abs(D) < MACHINE_EPSILON) {\n            var f = getNormalizationFactor(abs(a), abs(b), abs(c));\n\n            if (f) {\n              a *= f;\n              b *= f;\n              c *= f;\n              D = getDiscriminant(a, b, c);\n            }\n          }\n\n          if (D >= -MACHINE_EPSILON) {\n            var Q = D < 0 ? 0 : sqrt(D),\n                R = b + (b < 0 ? -Q : Q);\n\n            if (R === 0) {\n              x1 = c / a;\n              x2 = -x1;\n            } else {\n              x1 = R / a;\n              x2 = c / R;\n            }\n          }\n        }\n\n        var count = 0,\n            boundless = min == null,\n            minB = min - EPSILON,\n            maxB = max + EPSILON;\n        if (isFinite(x1) && (boundless || x1 > minB && x1 < maxB)) roots[count++] = boundless ? x1 : clamp(x1, min, max);\n        if (x2 !== x1 && isFinite(x2) && (boundless || x2 > minB && x2 < maxB)) roots[count++] = boundless ? x2 : clamp(x2, min, max);\n        return count;\n      },\n      solveCubic: function solveCubic(a, b, c, d, roots, min, max) {\n        var f = getNormalizationFactor(abs(a), abs(b), abs(c), abs(d)),\n            x,\n            b1,\n            c2,\n            qd,\n            q;\n\n        if (f) {\n          a *= f;\n          b *= f;\n          c *= f;\n          d *= f;\n        }\n\n        function evaluate(x0) {\n          x = x0;\n          var tmp = a * x;\n          b1 = tmp + b;\n          c2 = b1 * x + c;\n          qd = (tmp + b1) * x + c2;\n          q = c2 * x + d;\n        }\n\n        if (abs(a) < EPSILON) {\n          a = b;\n          b1 = c;\n          c2 = d;\n          x = Infinity;\n        } else if (abs(d) < EPSILON) {\n          b1 = b;\n          c2 = c;\n          x = 0;\n        } else {\n          evaluate(-(b / a) / 3);\n          var t = q / a,\n              r = pow(abs(t), 1 / 3),\n              s = t < 0 ? -1 : 1,\n              td = -qd / a,\n              rd = td > 0 ? 1.324717957244746 * Math.max(r, sqrt(td)) : r,\n              x0 = x - s * rd;\n\n          if (x0 !== x) {\n            do {\n              evaluate(x0);\n              x0 = qd === 0 ? x : x - q / qd / (1 + MACHINE_EPSILON);\n            } while (s * x0 > s * x);\n\n            if (abs(a) * x * x > abs(d / x)) {\n              c2 = -d / x;\n              b1 = (c2 - c) / x;\n            }\n          }\n        }\n\n        var count = Numerical.solveQuadratic(a, b1, c2, roots, min, max),\n            boundless = min == null;\n        if (isFinite(x) && (count === 0 || count > 0 && x !== roots[0] && x !== roots[1]) && (boundless || x > min - EPSILON && x < max + EPSILON)) roots[count++] = boundless ? x : clamp(x, min, max);\n        return count;\n      }\n    };\n  }();\n  var UID = {\n    _id: 1,\n    _pools: {},\n    get: function get(name) {\n      if (name) {\n        var pool = this._pools[name];\n        if (!pool) pool = this._pools[name] = {\n          _id: 1\n        };\n        return pool._id++;\n      } else {\n        return this._id++;\n      }\n    }\n  };\n  var Point = Base.extend({\n    _class: 'Point',\n    _readIndex: true,\n    initialize: function Point(arg0, arg1) {\n      var type = typeof arg0,\n          reading = this.__read,\n          read = 0;\n\n      if (type === 'number') {\n        var hasY = typeof arg1 === 'number';\n\n        this._set(arg0, hasY ? arg1 : arg0);\n\n        if (reading) read = hasY ? 2 : 1;\n      } else if (type === 'undefined' || arg0 === null) {\n        this._set(0, 0);\n\n        if (reading) read = arg0 === null ? 1 : 0;\n      } else {\n        var obj = type === 'string' ? arg0.split(/[\\s,]+/) || [] : arg0;\n        read = 1;\n\n        if (Array.isArray(obj)) {\n          this._set(+obj[0], +(obj.length > 1 ? obj[1] : obj[0]));\n        } else if ('x' in obj) {\n          this._set(obj.x || 0, obj.y || 0);\n        } else if ('width' in obj) {\n          this._set(obj.width || 0, obj.height || 0);\n        } else if ('angle' in obj) {\n          this._set(obj.length || 0, 0);\n\n          this.setAngle(obj.angle || 0);\n        } else {\n          this._set(0, 0);\n\n          read = 0;\n        }\n      }\n\n      if (reading) this.__read = read;\n      return this;\n    },\n    set: '#initialize',\n    _set: function _set(x, y) {\n      this.x = x;\n      this.y = y;\n      return this;\n    },\n    equals: function equals(point) {\n      return this === point || point && (this.x === point.x && this.y === point.y || Array.isArray(point) && this.x === point[0] && this.y === point[1]) || false;\n    },\n    clone: function clone() {\n      return new Point(this.x, this.y);\n    },\n    toString: function toString() {\n      var f = Formatter.instance;\n      return '{ x: ' + f.number(this.x) + ', y: ' + f.number(this.y) + ' }';\n    },\n    _serialize: function _serialize(options) {\n      var f = options.formatter;\n      return [f.number(this.x), f.number(this.y)];\n    },\n    getLength: function getLength() {\n      return Math.sqrt(this.x * this.x + this.y * this.y);\n    },\n    setLength: function setLength(length) {\n      if (this.isZero()) {\n        var angle = this._angle || 0;\n\n        this._set(Math.cos(angle) * length, Math.sin(angle) * length);\n      } else {\n        var scale = length / this.getLength();\n        if (Numerical.isZero(scale)) this.getAngle();\n\n        this._set(this.x * scale, this.y * scale);\n      }\n    },\n    getAngle: function getAngle() {\n      return this.getAngleInRadians.apply(this, arguments) * 180 / Math.PI;\n    },\n    setAngle: function setAngle(angle) {\n      this.setAngleInRadians.call(this, angle * Math.PI / 180);\n    },\n    getAngleInDegrees: '#getAngle',\n    setAngleInDegrees: '#setAngle',\n    getAngleInRadians: function getAngleInRadians() {\n      if (!arguments.length) {\n        return this.isZero() ? this._angle || 0 : this._angle = Math.atan2(this.y, this.x);\n      } else {\n        var point = Point.read(arguments),\n            div = this.getLength() * point.getLength();\n\n        if (Numerical.isZero(div)) {\n          return NaN;\n        } else {\n          var a = this.dot(point) / div;\n          return Math.acos(a < -1 ? -1 : a > 1 ? 1 : a);\n        }\n      }\n    },\n    setAngleInRadians: function setAngleInRadians(angle) {\n      this._angle = angle;\n\n      if (!this.isZero()) {\n        var length = this.getLength();\n\n        this._set(Math.cos(angle) * length, Math.sin(angle) * length);\n      }\n    },\n    getQuadrant: function getQuadrant() {\n      return this.x >= 0 ? this.y >= 0 ? 1 : 4 : this.y >= 0 ? 2 : 3;\n    }\n  }, {\n    beans: false,\n    getDirectedAngle: function getDirectedAngle() {\n      var point = Point.read(arguments);\n      return Math.atan2(this.cross(point), this.dot(point)) * 180 / Math.PI;\n    },\n    getDistance: function getDistance() {\n      var args = arguments,\n          point = Point.read(args),\n          x = point.x - this.x,\n          y = point.y - this.y,\n          d = x * x + y * y,\n          squared = Base.read(args);\n      return squared ? d : Math.sqrt(d);\n    },\n    normalize: function normalize(length) {\n      if (length === undefined) length = 1;\n      var current = this.getLength(),\n          scale = current !== 0 ? length / current : 0,\n          point = new Point(this.x * scale, this.y * scale);\n      if (scale >= 0) point._angle = this._angle;\n      return point;\n    },\n    rotate: function rotate(angle, center) {\n      if (angle === 0) return this.clone();\n      angle = angle * Math.PI / 180;\n      var point = center ? this.subtract(center) : this,\n          sin = Math.sin(angle),\n          cos = Math.cos(angle);\n      point = new Point(point.x * cos - point.y * sin, point.x * sin + point.y * cos);\n      return center ? point.add(center) : point;\n    },\n    transform: function transform(matrix) {\n      return matrix ? matrix._transformPoint(this) : this;\n    },\n    add: function add() {\n      var point = Point.read(arguments);\n      return new Point(this.x + point.x, this.y + point.y);\n    },\n    subtract: function subtract() {\n      var point = Point.read(arguments);\n      return new Point(this.x - point.x, this.y - point.y);\n    },\n    multiply: function multiply() {\n      var point = Point.read(arguments);\n      return new Point(this.x * point.x, this.y * point.y);\n    },\n    divide: function divide() {\n      var point = Point.read(arguments);\n      return new Point(this.x / point.x, this.y / point.y);\n    },\n    modulo: function modulo() {\n      var point = Point.read(arguments);\n      return new Point(this.x % point.x, this.y % point.y);\n    },\n    negate: function negate() {\n      return new Point(-this.x, -this.y);\n    },\n    isInside: function isInside() {\n      return _Rectangle.read(arguments).contains(this);\n    },\n    isClose: function isClose() {\n      var args = arguments,\n          point = Point.read(args),\n          tolerance = Base.read(args);\n      return this.getDistance(point) <= tolerance;\n    },\n    isCollinear: function isCollinear() {\n      var point = Point.read(arguments);\n      return Point.isCollinear(this.x, this.y, point.x, point.y);\n    },\n    isColinear: '#isCollinear',\n    isOrthogonal: function isOrthogonal() {\n      var point = Point.read(arguments);\n      return Point.isOrthogonal(this.x, this.y, point.x, point.y);\n    },\n    isZero: function isZero() {\n      var isZero = Numerical.isZero;\n      return isZero(this.x) && isZero(this.y);\n    },\n    isNaN: function (_isNaN) {\n      function isNaN() {\n        return _isNaN.apply(this, arguments);\n      }\n\n      isNaN.toString = function () {\n        return _isNaN.toString();\n      };\n\n      return isNaN;\n    }(function () {\n      return isNaN(this.x) || isNaN(this.y);\n    }),\n    isInQuadrant: function isInQuadrant(q) {\n      return this.x * (q > 1 && q < 4 ? -1 : 1) >= 0 && this.y * (q > 2 ? -1 : 1) >= 0;\n    },\n    dot: function dot() {\n      var point = Point.read(arguments);\n      return this.x * point.x + this.y * point.y;\n    },\n    cross: function cross() {\n      var point = Point.read(arguments);\n      return this.x * point.y - this.y * point.x;\n    },\n    project: function project() {\n      var point = Point.read(arguments),\n          scale = point.isZero() ? 0 : this.dot(point) / point.dot(point);\n      return new Point(point.x * scale, point.y * scale);\n    },\n    statics: {\n      min: function min() {\n        var args = arguments,\n            point1 = Point.read(args),\n            point2 = Point.read(args);\n        return new Point(Math.min(point1.x, point2.x), Math.min(point1.y, point2.y));\n      },\n      max: function max() {\n        var args = arguments,\n            point1 = Point.read(args),\n            point2 = Point.read(args);\n        return new Point(Math.max(point1.x, point2.x), Math.max(point1.y, point2.y));\n      },\n      random: function random() {\n        return new Point(Math.random(), Math.random());\n      },\n      isCollinear: function isCollinear(x1, y1, x2, y2) {\n        return Math.abs(x1 * y2 - y1 * x2) <= Math.sqrt((x1 * x1 + y1 * y1) * (x2 * x2 + y2 * y2)) * 1e-8;\n      },\n      isOrthogonal: function isOrthogonal(x1, y1, x2, y2) {\n        return Math.abs(x1 * x2 + y1 * y2) <= Math.sqrt((x1 * x1 + y1 * y1) * (x2 * x2 + y2 * y2)) * 1e-8;\n      }\n    }\n  }, Base.each(['round', 'ceil', 'floor', 'abs'], function (key) {\n    var op = Math[key];\n\n    this[key] = function () {\n      return new Point(op(this.x), op(this.y));\n    };\n  }, {}));\n  var LinkedPoint = Point.extend({\n    initialize: function Point(x, y, owner, setter) {\n      this._x = x;\n      this._y = y;\n      this._owner = owner;\n      this._setter = setter;\n    },\n    _set: function _set(x, y, _dontNotify) {\n      this._x = x;\n      this._y = y;\n      if (!_dontNotify) this._owner[this._setter](this);\n      return this;\n    },\n    getX: function getX() {\n      return this._x;\n    },\n    setX: function setX(x) {\n      this._x = x;\n\n      this._owner[this._setter](this);\n    },\n    getY: function getY() {\n      return this._y;\n    },\n    setY: function setY(y) {\n      this._y = y;\n\n      this._owner[this._setter](this);\n    },\n    isSelected: function isSelected() {\n      return !!(this._owner._selection & this._getSelection());\n    },\n    setSelected: function setSelected(selected) {\n      this._owner._changeSelection(this._getSelection(), selected);\n    },\n    _getSelection: function _getSelection() {\n      return this._setter === 'setPosition' ? 4 : 0;\n    }\n  });\n  var Size = Base.extend({\n    _class: 'Size',\n    _readIndex: true,\n    initialize: function Size(arg0, arg1) {\n      var type = typeof arg0,\n          reading = this.__read,\n          read = 0;\n\n      if (type === 'number') {\n        var hasHeight = typeof arg1 === 'number';\n\n        this._set(arg0, hasHeight ? arg1 : arg0);\n\n        if (reading) read = hasHeight ? 2 : 1;\n      } else if (type === 'undefined' || arg0 === null) {\n        this._set(0, 0);\n\n        if (reading) read = arg0 === null ? 1 : 0;\n      } else {\n        var obj = type === 'string' ? arg0.split(/[\\s,]+/) || [] : arg0;\n        read = 1;\n\n        if (Array.isArray(obj)) {\n          this._set(+obj[0], +(obj.length > 1 ? obj[1] : obj[0]));\n        } else if ('width' in obj) {\n          this._set(obj.width || 0, obj.height || 0);\n        } else if ('x' in obj) {\n          this._set(obj.x || 0, obj.y || 0);\n        } else {\n          this._set(0, 0);\n\n          read = 0;\n        }\n      }\n\n      if (reading) this.__read = read;\n      return this;\n    },\n    set: '#initialize',\n    _set: function _set(width, height) {\n      this.width = width;\n      this.height = height;\n      return this;\n    },\n    equals: function equals(size) {\n      return size === this || size && (this.width === size.width && this.height === size.height || Array.isArray(size) && this.width === size[0] && this.height === size[1]) || false;\n    },\n    clone: function clone() {\n      return new Size(this.width, this.height);\n    },\n    toString: function toString() {\n      var f = Formatter.instance;\n      return '{ width: ' + f.number(this.width) + ', height: ' + f.number(this.height) + ' }';\n    },\n    _serialize: function _serialize(options) {\n      var f = options.formatter;\n      return [f.number(this.width), f.number(this.height)];\n    },\n    add: function add() {\n      var size = Size.read(arguments);\n      return new Size(this.width + size.width, this.height + size.height);\n    },\n    subtract: function subtract() {\n      var size = Size.read(arguments);\n      return new Size(this.width - size.width, this.height - size.height);\n    },\n    multiply: function multiply() {\n      var size = Size.read(arguments);\n      return new Size(this.width * size.width, this.height * size.height);\n    },\n    divide: function divide() {\n      var size = Size.read(arguments);\n      return new Size(this.width / size.width, this.height / size.height);\n    },\n    modulo: function modulo() {\n      var size = Size.read(arguments);\n      return new Size(this.width % size.width, this.height % size.height);\n    },\n    negate: function negate() {\n      return new Size(-this.width, -this.height);\n    },\n    isZero: function isZero() {\n      var isZero = Numerical.isZero;\n      return isZero(this.width) && isZero(this.height);\n    },\n    isNaN: function (_isNaN2) {\n      function isNaN() {\n        return _isNaN2.apply(this, arguments);\n      }\n\n      isNaN.toString = function () {\n        return _isNaN2.toString();\n      };\n\n      return isNaN;\n    }(function () {\n      return isNaN(this.width) || isNaN(this.height);\n    }),\n    statics: {\n      min: function min(size1, size2) {\n        return new Size(Math.min(size1.width, size2.width), Math.min(size1.height, size2.height));\n      },\n      max: function max(size1, size2) {\n        return new Size(Math.max(size1.width, size2.width), Math.max(size1.height, size2.height));\n      },\n      random: function random() {\n        return new Size(Math.random(), Math.random());\n      }\n    }\n  }, Base.each(['round', 'ceil', 'floor', 'abs'], function (key) {\n    var op = Math[key];\n\n    this[key] = function () {\n      return new Size(op(this.width), op(this.height));\n    };\n  }, {}));\n  var LinkedSize = Size.extend({\n    initialize: function Size(width, height, owner, setter) {\n      this._width = width;\n      this._height = height;\n      this._owner = owner;\n      this._setter = setter;\n    },\n    _set: function _set(width, height, _dontNotify) {\n      this._width = width;\n      this._height = height;\n      if (!_dontNotify) this._owner[this._setter](this);\n      return this;\n    },\n    getWidth: function getWidth() {\n      return this._width;\n    },\n    setWidth: function setWidth(width) {\n      this._width = width;\n\n      this._owner[this._setter](this);\n    },\n    getHeight: function getHeight() {\n      return this._height;\n    },\n    setHeight: function setHeight(height) {\n      this._height = height;\n\n      this._owner[this._setter](this);\n    }\n  });\n\n  var _Rectangle = Base.extend({\n    _class: 'Rectangle',\n    _readIndex: true,\n    beans: true,\n    initialize: function Rectangle(arg0, arg1, arg2, arg3) {\n      var args = arguments,\n          type = typeof arg0,\n          read;\n\n      if (type === 'number') {\n        this._set(arg0, arg1, arg2, arg3);\n\n        read = 4;\n      } else if (type === 'undefined' || arg0 === null) {\n        this._set(0, 0, 0, 0);\n\n        read = arg0 === null ? 1 : 0;\n      } else if (args.length === 1) {\n        if (Array.isArray(arg0)) {\n          this._set.apply(this, arg0);\n\n          read = 1;\n        } else if (arg0.x !== undefined || arg0.width !== undefined) {\n          this._set(arg0.x || 0, arg0.y || 0, arg0.width || 0, arg0.height || 0);\n\n          read = 1;\n        } else if (arg0.from === undefined && arg0.to === undefined) {\n          this._set(0, 0, 0, 0);\n\n          if (Base.readSupported(args, this)) {\n            read = 1;\n          }\n        }\n      }\n\n      if (read === undefined) {\n        var frm = Point.readNamed(args, 'from'),\n            next = Base.peek(args),\n            x = frm.x,\n            y = frm.y,\n            width,\n            height;\n\n        if (next && next.x !== undefined || Base.hasNamed(args, 'to')) {\n          var to = Point.readNamed(args, 'to');\n          width = to.x - x;\n          height = to.y - y;\n\n          if (width < 0) {\n            x = to.x;\n            width = -width;\n          }\n\n          if (height < 0) {\n            y = to.y;\n            height = -height;\n          }\n        } else {\n          var size = Size.read(args);\n          width = size.width;\n          height = size.height;\n        }\n\n        this._set(x, y, width, height);\n\n        read = args.__index;\n      }\n\n      var filtered = args.__filtered;\n      if (filtered) this.__filtered = filtered;\n      if (this.__read) this.__read = read;\n      return this;\n    },\n    set: '#initialize',\n    _set: function _set(x, y, width, height) {\n      this.x = x;\n      this.y = y;\n      this.width = width;\n      this.height = height;\n      return this;\n    },\n    clone: function clone() {\n      return new _Rectangle(this.x, this.y, this.width, this.height);\n    },\n    equals: function equals(rect) {\n      var rt = Base.isPlainValue(rect) ? _Rectangle.read(arguments) : rect;\n      return rt === this || rt && this.x === rt.x && this.y === rt.y && this.width === rt.width && this.height === rt.height || false;\n    },\n    toString: function toString() {\n      var f = Formatter.instance;\n      return '{ x: ' + f.number(this.x) + ', y: ' + f.number(this.y) + ', width: ' + f.number(this.width) + ', height: ' + f.number(this.height) + ' }';\n    },\n    _serialize: function _serialize(options) {\n      var f = options.formatter;\n      return [f.number(this.x), f.number(this.y), f.number(this.width), f.number(this.height)];\n    },\n    getPoint: function getPoint(_dontLink) {\n      var ctor = _dontLink ? Point : LinkedPoint;\n      return new ctor(this.x, this.y, this, 'setPoint');\n    },\n    setPoint: function setPoint() {\n      var point = Point.read(arguments);\n      this.x = point.x;\n      this.y = point.y;\n    },\n    getSize: function getSize(_dontLink) {\n      var ctor = _dontLink ? Size : LinkedSize;\n      return new ctor(this.width, this.height, this, 'setSize');\n    },\n    _fw: 1,\n    _fh: 1,\n    setSize: function setSize() {\n      var size = Size.read(arguments),\n          sx = this._sx,\n          sy = this._sy,\n          w = size.width,\n          h = size.height;\n\n      if (sx) {\n        this.x += (this.width - w) * sx;\n      }\n\n      if (sy) {\n        this.y += (this.height - h) * sy;\n      }\n\n      this.width = w;\n      this.height = h;\n      this._fw = this._fh = 1;\n    },\n    getLeft: function getLeft() {\n      return this.x;\n    },\n    setLeft: function setLeft(left) {\n      if (!this._fw) {\n        var amount = left - this.x;\n        this.width -= this._sx === 0.5 ? amount * 2 : amount;\n      }\n\n      this.x = left;\n      this._sx = this._fw = 0;\n    },\n    getTop: function getTop() {\n      return this.y;\n    },\n    setTop: function setTop(top) {\n      if (!this._fh) {\n        var amount = top - this.y;\n        this.height -= this._sy === 0.5 ? amount * 2 : amount;\n      }\n\n      this.y = top;\n      this._sy = this._fh = 0;\n    },\n    getRight: function getRight() {\n      return this.x + this.width;\n    },\n    setRight: function setRight(right) {\n      if (!this._fw) {\n        var amount = right - this.x;\n        this.width = this._sx === 0.5 ? amount * 2 : amount;\n      }\n\n      this.x = right - this.width;\n      this._sx = 1;\n      this._fw = 0;\n    },\n    getBottom: function getBottom() {\n      return this.y + this.height;\n    },\n    setBottom: function setBottom(bottom) {\n      if (!this._fh) {\n        var amount = bottom - this.y;\n        this.height = this._sy === 0.5 ? amount * 2 : amount;\n      }\n\n      this.y = bottom - this.height;\n      this._sy = 1;\n      this._fh = 0;\n    },\n    getCenterX: function getCenterX() {\n      return this.x + this.width / 2;\n    },\n    setCenterX: function setCenterX(x) {\n      if (this._fw || this._sx === 0.5) {\n        this.x = x - this.width / 2;\n      } else {\n        if (this._sx) {\n          this.x += (x - this.x) * 2 * this._sx;\n        }\n\n        this.width = (x - this.x) * 2;\n      }\n\n      this._sx = 0.5;\n      this._fw = 0;\n    },\n    getCenterY: function getCenterY() {\n      return this.y + this.height / 2;\n    },\n    setCenterY: function setCenterY(y) {\n      if (this._fh || this._sy === 0.5) {\n        this.y = y - this.height / 2;\n      } else {\n        if (this._sy) {\n          this.y += (y - this.y) * 2 * this._sy;\n        }\n\n        this.height = (y - this.y) * 2;\n      }\n\n      this._sy = 0.5;\n      this._fh = 0;\n    },\n    getCenter: function getCenter(_dontLink) {\n      var ctor = _dontLink ? Point : LinkedPoint;\n      return new ctor(this.getCenterX(), this.getCenterY(), this, 'setCenter');\n    },\n    setCenter: function setCenter() {\n      var point = Point.read(arguments);\n      this.setCenterX(point.x);\n      this.setCenterY(point.y);\n      return this;\n    },\n    getArea: function getArea() {\n      return this.width * this.height;\n    },\n    isEmpty: function isEmpty() {\n      return this.width === 0 || this.height === 0;\n    },\n    contains: function contains(arg) {\n      return arg && arg.width !== undefined || (Array.isArray(arg) ? arg : arguments).length === 4 ? this._containsRectangle(_Rectangle.read(arguments)) : this._containsPoint(Point.read(arguments));\n    },\n    _containsPoint: function _containsPoint(point) {\n      var x = point.x,\n          y = point.y;\n      return x >= this.x && y >= this.y && x <= this.x + this.width && y <= this.y + this.height;\n    },\n    _containsRectangle: function _containsRectangle(rect) {\n      var x = rect.x,\n          y = rect.y;\n      return x >= this.x && y >= this.y && x + rect.width <= this.x + this.width && y + rect.height <= this.y + this.height;\n    },\n    intersects: function intersects() {\n      var rect = _Rectangle.read(arguments),\n          epsilon = Base.read(arguments) || 0;\n\n      return rect.x + rect.width > this.x - epsilon && rect.y + rect.height > this.y - epsilon && rect.x < this.x + this.width + epsilon && rect.y < this.y + this.height + epsilon;\n    },\n    intersect: function intersect() {\n      var rect = _Rectangle.read(arguments),\n          x1 = Math.max(this.x, rect.x),\n          y1 = Math.max(this.y, rect.y),\n          x2 = Math.min(this.x + this.width, rect.x + rect.width),\n          y2 = Math.min(this.y + this.height, rect.y + rect.height);\n\n      return new _Rectangle(x1, y1, x2 - x1, y2 - y1);\n    },\n    unite: function unite() {\n      var rect = _Rectangle.read(arguments),\n          x1 = Math.min(this.x, rect.x),\n          y1 = Math.min(this.y, rect.y),\n          x2 = Math.max(this.x + this.width, rect.x + rect.width),\n          y2 = Math.max(this.y + this.height, rect.y + rect.height);\n\n      return new _Rectangle(x1, y1, x2 - x1, y2 - y1);\n    },\n    include: function include() {\n      var point = Point.read(arguments);\n      var x1 = Math.min(this.x, point.x),\n          y1 = Math.min(this.y, point.y),\n          x2 = Math.max(this.x + this.width, point.x),\n          y2 = Math.max(this.y + this.height, point.y);\n      return new _Rectangle(x1, y1, x2 - x1, y2 - y1);\n    },\n    expand: function expand() {\n      var amount = Size.read(arguments),\n          hor = amount.width,\n          ver = amount.height;\n      return new _Rectangle(this.x - hor / 2, this.y - ver / 2, this.width + hor, this.height + ver);\n    },\n    scale: function scale(hor, ver) {\n      return this.expand(this.width * hor - this.width, this.height * (ver === undefined ? hor : ver) - this.height);\n    }\n  }, Base.each([['Top', 'Left'], ['Top', 'Right'], ['Bottom', 'Left'], ['Bottom', 'Right'], ['Left', 'Center'], ['Top', 'Center'], ['Right', 'Center'], ['Bottom', 'Center']], function (parts, index) {\n    var part = parts.join(''),\n        xFirst = /^[RL]/.test(part);\n    if (index >= 4) parts[1] += xFirst ? 'Y' : 'X';\n    var x = parts[xFirst ? 0 : 1],\n        y = parts[xFirst ? 1 : 0],\n        getX = 'get' + x,\n        getY = 'get' + y,\n        setX = 'set' + x,\n        setY = 'set' + y,\n        get = 'get' + part,\n        set = 'set' + part;\n\n    this[get] = function (_dontLink) {\n      var ctor = _dontLink ? Point : LinkedPoint;\n      return new ctor(this[getX](), this[getY](), this, set);\n    };\n\n    this[set] = function () {\n      var point = Point.read(arguments);\n      this[setX](point.x);\n      this[setY](point.y);\n    };\n  }, {\n    beans: true\n  }));\n\n  var LinkedRectangle = _Rectangle.extend({\n    initialize: function Rectangle(x, y, width, height, owner, setter) {\n      this._set(x, y, width, height, true);\n\n      this._owner = owner;\n      this._setter = setter;\n    },\n    _set: function _set(x, y, width, height, _dontNotify) {\n      this._x = x;\n      this._y = y;\n      this._width = width;\n      this._height = height;\n      if (!_dontNotify) this._owner[this._setter](this);\n      return this;\n    }\n  }, new function () {\n    var proto = _Rectangle.prototype;\n    return Base.each(['x', 'y', 'width', 'height'], function (key) {\n      var part = Base.capitalize(key),\n          internal = '_' + key;\n\n      this['get' + part] = function () {\n        return this[internal];\n      };\n\n      this['set' + part] = function (value) {\n        this[internal] = value;\n        if (!this._dontNotify) this._owner[this._setter](this);\n      };\n    }, Base.each(['Point', 'Size', 'Center', 'Left', 'Top', 'Right', 'Bottom', 'CenterX', 'CenterY', 'TopLeft', 'TopRight', 'BottomLeft', 'BottomRight', 'LeftCenter', 'TopCenter', 'RightCenter', 'BottomCenter'], function (key) {\n      var name = 'set' + key;\n\n      this[name] = function () {\n        this._dontNotify = true;\n        proto[name].apply(this, arguments);\n        this._dontNotify = false;\n\n        this._owner[this._setter](this);\n      };\n    }, {\n      isSelected: function isSelected() {\n        return !!(this._owner._selection & 2);\n      },\n      setSelected: function setSelected(selected) {\n        var owner = this._owner;\n\n        if (owner._changeSelection) {\n          owner._changeSelection(2, selected);\n        }\n      }\n    }));\n  }());\n\n  var Matrix = Base.extend({\n    _class: 'Matrix',\n    initialize: function Matrix(arg, _dontNotify) {\n      var args = arguments,\n          count = args.length,\n          ok = true;\n\n      if (count >= 6) {\n        this._set.apply(this, args);\n      } else if (count === 1 || count === 2) {\n        if (arg instanceof Matrix) {\n          this._set(arg._a, arg._b, arg._c, arg._d, arg._tx, arg._ty, _dontNotify);\n        } else if (Array.isArray(arg)) {\n          this._set.apply(this, _dontNotify ? arg.concat([_dontNotify]) : arg);\n        } else {\n          ok = false;\n        }\n      } else if (!count) {\n        this.reset();\n      } else {\n        ok = false;\n      }\n\n      if (!ok) {\n        throw new Error('Unsupported matrix parameters');\n      }\n\n      return this;\n    },\n    set: '#initialize',\n    _set: function _set(a, b, c, d, tx, ty, _dontNotify) {\n      this._a = a;\n      this._b = b;\n      this._c = c;\n      this._d = d;\n      this._tx = tx;\n      this._ty = ty;\n      if (!_dontNotify) this._changed();\n      return this;\n    },\n    _serialize: function _serialize(options, dictionary) {\n      return Base.serialize(this.getValues(), options, true, dictionary);\n    },\n    _changed: function _changed() {\n      var owner = this._owner;\n\n      if (owner) {\n        if (owner._applyMatrix) {\n          owner.transform(null, true);\n        } else {\n          owner._changed(25);\n        }\n      }\n    },\n    clone: function clone() {\n      return new Matrix(this._a, this._b, this._c, this._d, this._tx, this._ty);\n    },\n    equals: function equals(mx) {\n      return mx === this || mx && this._a === mx._a && this._b === mx._b && this._c === mx._c && this._d === mx._d && this._tx === mx._tx && this._ty === mx._ty;\n    },\n    toString: function toString() {\n      var f = Formatter.instance;\n      return '[[' + [f.number(this._a), f.number(this._c), f.number(this._tx)].join(', ') + '], [' + [f.number(this._b), f.number(this._d), f.number(this._ty)].join(', ') + ']]';\n    },\n    reset: function reset(_dontNotify) {\n      this._a = this._d = 1;\n      this._b = this._c = this._tx = this._ty = 0;\n      if (!_dontNotify) this._changed();\n      return this;\n    },\n    apply: function apply(recursively, _setApplyMatrix) {\n      var owner = this._owner;\n\n      if (owner) {\n        owner.transform(null, Base.pick(recursively, true), _setApplyMatrix);\n        return this.isIdentity();\n      }\n\n      return false;\n    },\n    translate: function translate() {\n      var point = Point.read(arguments),\n          x = point.x,\n          y = point.y;\n      this._tx += x * this._a + y * this._c;\n      this._ty += x * this._b + y * this._d;\n\n      this._changed();\n\n      return this;\n    },\n    scale: function scale() {\n      var args = arguments,\n          scale = Point.read(args),\n          center = Point.read(args, 0, {\n        readNull: true\n      });\n      if (center) this.translate(center);\n      this._a *= scale.x;\n      this._b *= scale.x;\n      this._c *= scale.y;\n      this._d *= scale.y;\n      if (center) this.translate(center.negate());\n\n      this._changed();\n\n      return this;\n    },\n    rotate: function rotate(angle) {\n      angle *= Math.PI / 180;\n      var center = Point.read(arguments, 1),\n          x = center.x,\n          y = center.y,\n          cos = Math.cos(angle),\n          sin = Math.sin(angle),\n          tx = x - x * cos + y * sin,\n          ty = y - x * sin - y * cos,\n          a = this._a,\n          b = this._b,\n          c = this._c,\n          d = this._d;\n      this._a = cos * a + sin * c;\n      this._b = cos * b + sin * d;\n      this._c = -sin * a + cos * c;\n      this._d = -sin * b + cos * d;\n      this._tx += tx * a + ty * c;\n      this._ty += tx * b + ty * d;\n\n      this._changed();\n\n      return this;\n    },\n    shear: function shear() {\n      var args = arguments,\n          shear = Point.read(args),\n          center = Point.read(args, 0, {\n        readNull: true\n      });\n      if (center) this.translate(center);\n      var a = this._a,\n          b = this._b;\n      this._a += shear.y * this._c;\n      this._b += shear.y * this._d;\n      this._c += shear.x * a;\n      this._d += shear.x * b;\n      if (center) this.translate(center.negate());\n\n      this._changed();\n\n      return this;\n    },\n    skew: function skew() {\n      var args = arguments,\n          skew = Point.read(args),\n          center = Point.read(args, 0, {\n        readNull: true\n      }),\n          toRadians = Math.PI / 180,\n          shear = new Point(Math.tan(skew.x * toRadians), Math.tan(skew.y * toRadians));\n      return this.shear(shear, center);\n    },\n    append: function append(mx, _dontNotify) {\n      if (mx) {\n        var a1 = this._a,\n            b1 = this._b,\n            c1 = this._c,\n            d1 = this._d,\n            a2 = mx._a,\n            b2 = mx._c,\n            c2 = mx._b,\n            d2 = mx._d,\n            tx2 = mx._tx,\n            ty2 = mx._ty;\n        this._a = a2 * a1 + c2 * c1;\n        this._c = b2 * a1 + d2 * c1;\n        this._b = a2 * b1 + c2 * d1;\n        this._d = b2 * b1 + d2 * d1;\n        this._tx += tx2 * a1 + ty2 * c1;\n        this._ty += tx2 * b1 + ty2 * d1;\n        if (!_dontNotify) this._changed();\n      }\n\n      return this;\n    },\n    prepend: function prepend(mx, _dontNotify) {\n      if (mx) {\n        var a1 = this._a,\n            b1 = this._b,\n            c1 = this._c,\n            d1 = this._d,\n            tx1 = this._tx,\n            ty1 = this._ty,\n            a2 = mx._a,\n            b2 = mx._c,\n            c2 = mx._b,\n            d2 = mx._d,\n            tx2 = mx._tx,\n            ty2 = mx._ty;\n        this._a = a2 * a1 + b2 * b1;\n        this._c = a2 * c1 + b2 * d1;\n        this._b = c2 * a1 + d2 * b1;\n        this._d = c2 * c1 + d2 * d1;\n        this._tx = a2 * tx1 + b2 * ty1 + tx2;\n        this._ty = c2 * tx1 + d2 * ty1 + ty2;\n        if (!_dontNotify) this._changed();\n      }\n\n      return this;\n    },\n    appended: function appended(mx) {\n      return this.clone().append(mx);\n    },\n    prepended: function prepended(mx) {\n      return this.clone().prepend(mx);\n    },\n    invert: function invert() {\n      var a = this._a,\n          b = this._b,\n          c = this._c,\n          d = this._d,\n          tx = this._tx,\n          ty = this._ty,\n          det = a * d - b * c,\n          res = null;\n\n      if (det && !isNaN(det) && isFinite(tx) && isFinite(ty)) {\n        this._a = d / det;\n        this._b = -b / det;\n        this._c = -c / det;\n        this._d = a / det;\n        this._tx = (c * ty - d * tx) / det;\n        this._ty = (b * tx - a * ty) / det;\n        res = this;\n      }\n\n      return res;\n    },\n    inverted: function inverted() {\n      return this.clone().invert();\n    },\n    concatenate: '#append',\n    preConcatenate: '#prepend',\n    chain: '#appended',\n    _shiftless: function _shiftless() {\n      return new Matrix(this._a, this._b, this._c, this._d, 0, 0);\n    },\n    _orNullIfIdentity: function _orNullIfIdentity() {\n      return this.isIdentity() ? null : this;\n    },\n    isIdentity: function isIdentity() {\n      return this._a === 1 && this._b === 0 && this._c === 0 && this._d === 1 && this._tx === 0 && this._ty === 0;\n    },\n    isInvertible: function isInvertible() {\n      var det = this._a * this._d - this._c * this._b;\n      return det && !isNaN(det) && isFinite(this._tx) && isFinite(this._ty);\n    },\n    isSingular: function isSingular() {\n      return !this.isInvertible();\n    },\n    transform: function transform(src, dst, count) {\n      return arguments.length < 3 ? this._transformPoint(Point.read(arguments)) : this._transformCoordinates(src, dst, count);\n    },\n    _transformPoint: function _transformPoint(point, dest, _dontNotify) {\n      var x = point.x,\n          y = point.y;\n      if (!dest) dest = new Point();\n      return dest._set(x * this._a + y * this._c + this._tx, x * this._b + y * this._d + this._ty, _dontNotify);\n    },\n    _transformCoordinates: function _transformCoordinates(src, dst, count) {\n      for (var i = 0, max = 2 * count; i < max; i += 2) {\n        var x = src[i],\n            y = src[i + 1];\n        dst[i] = x * this._a + y * this._c + this._tx;\n        dst[i + 1] = x * this._b + y * this._d + this._ty;\n      }\n\n      return dst;\n    },\n    _transformCorners: function _transformCorners(rect) {\n      var x1 = rect.x,\n          y1 = rect.y,\n          x2 = x1 + rect.width,\n          y2 = y1 + rect.height,\n          coords = [x1, y1, x2, y1, x2, y2, x1, y2];\n      return this._transformCoordinates(coords, coords, 4);\n    },\n    _transformBounds: function _transformBounds(bounds, dest, _dontNotify) {\n      var coords = this._transformCorners(bounds),\n          min = coords.slice(0, 2),\n          max = min.slice();\n\n      for (var i = 2; i < 8; i++) {\n        var val = coords[i],\n            j = i & 1;\n\n        if (val < min[j]) {\n          min[j] = val;\n        } else if (val > max[j]) {\n          max[j] = val;\n        }\n      }\n\n      if (!dest) dest = new _Rectangle();\n      return dest._set(min[0], min[1], max[0] - min[0], max[1] - min[1], _dontNotify);\n    },\n    inverseTransform: function inverseTransform() {\n      return this._inverseTransform(Point.read(arguments));\n    },\n    _inverseTransform: function _inverseTransform(point, dest, _dontNotify) {\n      var a = this._a,\n          b = this._b,\n          c = this._c,\n          d = this._d,\n          tx = this._tx,\n          ty = this._ty,\n          det = a * d - b * c,\n          res = null;\n\n      if (det && !isNaN(det) && isFinite(tx) && isFinite(ty)) {\n        var x = point.x - this._tx,\n            y = point.y - this._ty;\n        if (!dest) dest = new Point();\n        res = dest._set((x * d - y * c) / det, (y * a - x * b) / det, _dontNotify);\n      }\n\n      return res;\n    },\n    decompose: function decompose() {\n      var a = this._a,\n          b = this._b,\n          c = this._c,\n          d = this._d,\n          det = a * d - b * c,\n          sqrt = Math.sqrt,\n          atan2 = Math.atan2,\n          degrees = 180 / Math.PI,\n          rotate,\n          scale,\n          skew;\n\n      if (a !== 0 || b !== 0) {\n        var r = sqrt(a * a + b * b);\n        rotate = Math.acos(a / r) * (b > 0 ? 1 : -1);\n        scale = [r, det / r];\n        skew = [atan2(a * c + b * d, r * r), 0];\n      } else if (c !== 0 || d !== 0) {\n        var s = sqrt(c * c + d * d);\n        rotate = Math.asin(c / s) * (d > 0 ? 1 : -1);\n        scale = [det / s, s];\n        skew = [0, atan2(a * c + b * d, s * s)];\n      } else {\n        rotate = 0;\n        skew = scale = [0, 0];\n      }\n\n      return {\n        translation: this.getTranslation(),\n        rotation: rotate * degrees,\n        scaling: new Point(scale),\n        skewing: new Point(skew[0] * degrees, skew[1] * degrees)\n      };\n    },\n    getValues: function getValues() {\n      return [this._a, this._b, this._c, this._d, this._tx, this._ty];\n    },\n    getTranslation: function getTranslation() {\n      return new Point(this._tx, this._ty);\n    },\n    getScaling: function getScaling() {\n      return this.decompose().scaling;\n    },\n    getRotation: function getRotation() {\n      return this.decompose().rotation;\n    },\n    applyToContext: function applyToContext(ctx) {\n      if (!this.isIdentity()) {\n        ctx.transform(this._a, this._b, this._c, this._d, this._tx, this._ty);\n      }\n    }\n  }, Base.each(['a', 'b', 'c', 'd', 'tx', 'ty'], function (key) {\n    var part = Base.capitalize(key),\n        prop = '_' + key;\n\n    this['get' + part] = function () {\n      return this[prop];\n    };\n\n    this['set' + part] = function (value) {\n      this[prop] = value;\n\n      this._changed();\n    };\n  }, {}));\n  var Line = Base.extend({\n    _class: 'Line',\n    initialize: function Line(arg0, arg1, arg2, arg3, arg4) {\n      var asVector = false;\n\n      if (arguments.length >= 4) {\n        this._px = arg0;\n        this._py = arg1;\n        this._vx = arg2;\n        this._vy = arg3;\n        asVector = arg4;\n      } else {\n        this._px = arg0.x;\n        this._py = arg0.y;\n        this._vx = arg1.x;\n        this._vy = arg1.y;\n        asVector = arg2;\n      }\n\n      if (!asVector) {\n        this._vx -= this._px;\n        this._vy -= this._py;\n      }\n    },\n    getPoint: function getPoint() {\n      return new Point(this._px, this._py);\n    },\n    getVector: function getVector() {\n      return new Point(this._vx, this._vy);\n    },\n    getLength: function getLength() {\n      return this.getVector().getLength();\n    },\n    intersect: function intersect(line, isInfinite) {\n      return Line.intersect(this._px, this._py, this._vx, this._vy, line._px, line._py, line._vx, line._vy, true, isInfinite);\n    },\n    getSide: function getSide(point, isInfinite) {\n      return Line.getSide(this._px, this._py, this._vx, this._vy, point.x, point.y, true, isInfinite);\n    },\n    getDistance: function getDistance(point) {\n      return Math.abs(this.getSignedDistance(point));\n    },\n    getSignedDistance: function getSignedDistance(point) {\n      return Line.getSignedDistance(this._px, this._py, this._vx, this._vy, point.x, point.y, true);\n    },\n    isCollinear: function isCollinear(line) {\n      return Point.isCollinear(this._vx, this._vy, line._vx, line._vy);\n    },\n    isOrthogonal: function isOrthogonal(line) {\n      return Point.isOrthogonal(this._vx, this._vy, line._vx, line._vy);\n    },\n    statics: {\n      intersect: function intersect(p1x, p1y, v1x, v1y, p2x, p2y, v2x, v2y, asVector, isInfinite) {\n        if (!asVector) {\n          v1x -= p1x;\n          v1y -= p1y;\n          v2x -= p2x;\n          v2y -= p2y;\n        }\n\n        var cross = v1x * v2y - v1y * v2x;\n\n        if (!Numerical.isMachineZero(cross)) {\n          var dx = p1x - p2x,\n              dy = p1y - p2y,\n              u1 = (v2x * dy - v2y * dx) / cross,\n              u2 = (v1x * dy - v1y * dx) / cross,\n              epsilon = 1e-12,\n              uMin = -epsilon,\n              uMax = 1 + epsilon;\n\n          if (isInfinite || uMin < u1 && u1 < uMax && uMin < u2 && u2 < uMax) {\n            if (!isInfinite) {\n              u1 = u1 <= 0 ? 0 : u1 >= 1 ? 1 : u1;\n            }\n\n            return new Point(p1x + u1 * v1x, p1y + u1 * v1y);\n          }\n        }\n      },\n      getSide: function getSide(px, py, vx, vy, x, y, asVector, isInfinite) {\n        if (!asVector) {\n          vx -= px;\n          vy -= py;\n        }\n\n        var v2x = x - px,\n            v2y = y - py,\n            ccw = v2x * vy - v2y * vx;\n\n        if (!isInfinite && Numerical.isMachineZero(ccw)) {\n          ccw = (v2x * vx + v2x * vx) / (vx * vx + vy * vy);\n          if (ccw >= 0 && ccw <= 1) ccw = 0;\n        }\n\n        return ccw < 0 ? -1 : ccw > 0 ? 1 : 0;\n      },\n      getSignedDistance: function getSignedDistance(px, py, vx, vy, x, y, asVector) {\n        if (!asVector) {\n          vx -= px;\n          vy -= py;\n        }\n\n        return vx === 0 ? vy > 0 ? x - px : px - x : vy === 0 ? vx < 0 ? y - py : py - y : ((x - px) * vy - (y - py) * vx) / (vy > vx ? vy * Math.sqrt(1 + vx * vx / (vy * vy)) : vx * Math.sqrt(1 + vy * vy / (vx * vx)));\n      },\n      getDistance: function getDistance(px, py, vx, vy, x, y, asVector) {\n        return Math.abs(Line.getSignedDistance(px, py, vx, vy, x, y, asVector));\n      }\n    }\n  });\n  var Project = PaperScopeItem.extend({\n    _class: 'Project',\n    _list: 'projects',\n    _reference: 'project',\n    _compactSerialize: true,\n    initialize: function Project(element) {\n      PaperScopeItem.call(this, true);\n      this._children = [];\n      this._namedChildren = {};\n      this._activeLayer = null;\n      this._currentStyle = new Style(null, null, this);\n      this._view = View.create(this, element || CanvasProvider.getCanvas(1, 1));\n      this._selectionItems = {};\n      this._selectionCount = 0;\n      this._updateVersion = 0;\n    },\n    _serialize: function _serialize(options, dictionary) {\n      return Base.serialize(this._children, options, true, dictionary);\n    },\n    _changed: function _changed(flags, item) {\n      if (flags & 1) {\n        var view = this._view;\n\n        if (view) {\n          view._needsUpdate = true;\n          if (!view._requested && view._autoUpdate) view.requestUpdate();\n        }\n      }\n\n      var changes = this._changes;\n\n      if (changes && item) {\n        var changesById = this._changesById,\n            id = item._id,\n            entry = changesById[id];\n\n        if (entry) {\n          entry.flags |= flags;\n        } else {\n          changes.push(changesById[id] = {\n            item: item,\n            flags: flags\n          });\n        }\n      }\n    },\n    clear: function clear() {\n      var children = this._children;\n\n      for (var i = children.length - 1; i >= 0; i--) {\n        children[i].remove();\n      }\n    },\n    isEmpty: function isEmpty() {\n      return !this._children.length;\n    },\n    remove: function remove() {\n      if (!remove.base.call(this)) return false;\n      if (this._view) this._view.remove();\n      return true;\n    },\n    getView: function getView() {\n      return this._view;\n    },\n    getCurrentStyle: function getCurrentStyle() {\n      return this._currentStyle;\n    },\n    setCurrentStyle: function setCurrentStyle(style) {\n      this._currentStyle.set(style);\n    },\n    getIndex: function getIndex() {\n      return this._index;\n    },\n    getOptions: function getOptions() {\n      return this._scope.settings;\n    },\n    getLayers: function getLayers() {\n      return this._children;\n    },\n    getActiveLayer: function getActiveLayer() {\n      return this._activeLayer || new Layer({\n        project: this,\n        insert: true\n      });\n    },\n    getSymbolDefinitions: function getSymbolDefinitions() {\n      var definitions = [],\n          ids = {};\n      this.getItems({\n        class: SymbolItem,\n        match: function match(item) {\n          var definition = item._definition,\n              id = definition._id;\n\n          if (!ids[id]) {\n            ids[id] = true;\n            definitions.push(definition);\n          }\n\n          return false;\n        }\n      });\n      return definitions;\n    },\n    getSymbols: 'getSymbolDefinitions',\n    getSelectedItems: function getSelectedItems() {\n      var selectionItems = this._selectionItems,\n          items = [];\n\n      for (var id in selectionItems) {\n        var item = selectionItems[id],\n            selection = item._selection;\n\n        if (selection & 1 && item.isInserted()) {\n          items.push(item);\n        } else if (!selection) {\n          this._updateSelection(item);\n        }\n      }\n\n      return items;\n    },\n    _updateSelection: function _updateSelection(item) {\n      var id = item._id,\n          selectionItems = this._selectionItems;\n\n      if (item._selection) {\n        if (selectionItems[id] !== item) {\n          this._selectionCount++;\n          selectionItems[id] = item;\n        }\n      } else if (selectionItems[id] === item) {\n        this._selectionCount--;\n        delete selectionItems[id];\n      }\n    },\n    selectAll: function selectAll() {\n      var children = this._children;\n\n      for (var i = 0, l = children.length; i < l; i++) {\n        children[i].setFullySelected(true);\n      }\n    },\n    deselectAll: function deselectAll() {\n      var selectionItems = this._selectionItems;\n\n      for (var i in selectionItems) {\n        selectionItems[i].setFullySelected(false);\n      }\n    },\n    addLayer: function addLayer(layer) {\n      return this.insertLayer(undefined, layer);\n    },\n    insertLayer: function insertLayer(index, layer) {\n      if (layer instanceof Layer) {\n        layer._remove(false, true);\n\n        Base.splice(this._children, [layer], index, 0);\n\n        layer._setProject(this, true);\n\n        var name = layer._name;\n        if (name) layer.setName(name);\n        if (this._changes) layer._changed(5);\n        if (!this._activeLayer) this._activeLayer = layer;\n      } else {\n        layer = null;\n      }\n\n      return layer;\n    },\n    _insertItem: function _insertItem(index, item, _created) {\n      item = this.insertLayer(index, item) || (this._activeLayer || this._insertItem(undefined, new Layer(Item.NO_INSERT), true)).insertChild(index, item);\n      if (_created && item.activate) item.activate();\n      return item;\n    },\n    getItems: function getItems(options) {\n      return Item._getItems(this, options);\n    },\n    getItem: function getItem(options) {\n      return Item._getItems(this, options, null, null, true)[0] || null;\n    },\n    importJSON: function importJSON(json) {\n      this.activate();\n      var layer = this._activeLayer;\n      return Base.importJSON(json, layer && layer.isEmpty() && layer);\n    },\n    removeOn: function removeOn(type) {\n      var sets = this._removeSets;\n\n      if (sets) {\n        if (type === 'mouseup') sets.mousedrag = null;\n        var set = sets[type];\n\n        if (set) {\n          for (var id in set) {\n            var item = set[id];\n\n            for (var key in sets) {\n              var other = sets[key];\n              if (other && other != set) delete other[item._id];\n            }\n\n            item.remove();\n          }\n\n          sets[type] = null;\n        }\n      }\n    },\n    draw: function draw(ctx, matrix, pixelRatio) {\n      this._updateVersion++;\n      ctx.save();\n      matrix.applyToContext(ctx);\n      var children = this._children,\n          param = new Base({\n        offset: new Point(0, 0),\n        pixelRatio: pixelRatio,\n        viewMatrix: matrix.isIdentity() ? null : matrix,\n        matrices: [new Matrix()],\n        updateMatrix: true\n      });\n\n      for (var i = 0, l = children.length; i < l; i++) {\n        children[i].draw(ctx, param);\n      }\n\n      ctx.restore();\n\n      if (this._selectionCount > 0) {\n        ctx.save();\n        ctx.strokeWidth = 1;\n        var items = this._selectionItems,\n            size = this._scope.settings.handleSize,\n            version = this._updateVersion;\n\n        for (var id in items) {\n          items[id]._drawSelection(ctx, matrix, size, items, version);\n        }\n\n        ctx.restore();\n      }\n    }\n  });\n  var Item = Base.extend(Emitter, {\n    statics: {\n      extend: function extend(src) {\n        if (src._serializeFields) src._serializeFields = Base.set({}, this.prototype._serializeFields, src._serializeFields);\n        return extend.base.apply(this, arguments);\n      },\n      NO_INSERT: {\n        insert: false\n      }\n    },\n    _class: 'Item',\n    _name: null,\n    _applyMatrix: true,\n    _canApplyMatrix: true,\n    _canScaleStroke: false,\n    _pivot: null,\n    _visible: true,\n    _blendMode: 'normal',\n    _opacity: 1,\n    _locked: false,\n    _guide: false,\n    _clipMask: false,\n    _selection: 0,\n    _selectBounds: true,\n    _selectChildren: false,\n    _serializeFields: {\n      name: null,\n      applyMatrix: null,\n      matrix: new Matrix(),\n      pivot: null,\n      visible: true,\n      blendMode: 'normal',\n      opacity: 1,\n      locked: false,\n      guide: false,\n      clipMask: false,\n      selected: false,\n      data: {}\n    },\n    _prioritize: ['applyMatrix']\n  }, new function () {\n    var handlers = ['onMouseDown', 'onMouseUp', 'onMouseDrag', 'onClick', 'onDoubleClick', 'onMouseMove', 'onMouseEnter', 'onMouseLeave'];\n    return Base.each(handlers, function (name) {\n      this._events[name] = {\n        install: function install(type) {\n          this.getView()._countItemEvent(type, 1);\n        },\n        uninstall: function uninstall(type) {\n          this.getView()._countItemEvent(type, -1);\n        }\n      };\n    }, {\n      _events: {\n        onFrame: {\n          install: function install() {\n            this.getView()._animateItem(this, true);\n          },\n          uninstall: function uninstall() {\n            this.getView()._animateItem(this, false);\n          }\n        },\n        onLoad: {},\n        onError: {}\n      },\n      statics: {\n        _itemHandlers: handlers\n      }\n    });\n  }(), {\n    initialize: function Item() {},\n    _initialize: function _initialize(props, point) {\n      var hasProps = props && Base.isPlainObject(props),\n          internal = hasProps && props.internal === true,\n          matrix = this._matrix = new Matrix(),\n          project = hasProps && props.project || paper.project,\n          settings = paper.settings;\n      this._id = internal ? null : UID.get();\n      this._parent = this._index = null;\n      this._applyMatrix = this._canApplyMatrix && settings.applyMatrix;\n      if (point) matrix.translate(point);\n      matrix._owner = this;\n      this._style = new Style(project._currentStyle, this, project);\n\n      if (internal || hasProps && props.insert == false || !settings.insertItems && !(hasProps && props.insert === true)) {\n        this._setProject(project);\n      } else {\n        (hasProps && props.parent || project)._insertItem(undefined, this, true);\n      }\n\n      if (hasProps && props !== Item.NO_INSERT) {\n        this.set(props, {\n          internal: true,\n          insert: true,\n          project: true,\n          parent: true\n        });\n      }\n\n      return hasProps;\n    },\n    _serialize: function _serialize(options, dictionary) {\n      var props = {},\n          that = this;\n\n      function serialize(fields) {\n        for (var key in fields) {\n          var value = that[key];\n\n          if (!Base.equals(value, key === 'leading' ? fields.fontSize * 1.2 : fields[key])) {\n            props[key] = Base.serialize(value, options, key !== 'data', dictionary);\n          }\n        }\n      }\n\n      serialize(this._serializeFields);\n      if (!(this instanceof Group)) serialize(this._style._defaults);\n      return [this._class, props];\n    },\n    _changed: function _changed(flags) {\n      var symbol = this._symbol,\n          cacheParent = this._parent || symbol,\n          project = this._project;\n\n      if (flags & 8) {\n        this._bounds = this._position = this._decomposed = undefined;\n      }\n\n      if (flags & 16) {\n        this._globalMatrix = undefined;\n      }\n\n      if (cacheParent && flags & 72) {\n        Item._clearBoundsCache(cacheParent);\n      }\n\n      if (flags & 2) {\n        Item._clearBoundsCache(this);\n      }\n\n      if (project) project._changed(flags, this);\n      if (symbol) symbol._changed(flags);\n    },\n    getId: function getId() {\n      return this._id;\n    },\n    getName: function getName() {\n      return this._name;\n    },\n    setName: function setName(name) {\n      if (this._name) this._removeNamed();\n      if (name === +name + '') throw new Error('Names consisting only of numbers are not supported.');\n\n      var owner = this._getOwner();\n\n      if (name && owner) {\n        var children = owner._children,\n            namedChildren = owner._namedChildren;\n        (namedChildren[name] = namedChildren[name] || []).push(this);\n        if (!(name in children)) children[name] = this;\n      }\n\n      this._name = name || undefined;\n\n      this._changed(256);\n    },\n    getStyle: function getStyle() {\n      return this._style;\n    },\n    setStyle: function setStyle(style) {\n      this.getStyle().set(style);\n    }\n  }, Base.each(['locked', 'visible', 'blendMode', 'opacity', 'guide'], function (name) {\n    var part = Base.capitalize(name),\n        key = '_' + name,\n        flags = {\n      locked: 256,\n      visible: 265\n    };\n\n    this['get' + part] = function () {\n      return this[key];\n    };\n\n    this['set' + part] = function (value) {\n      if (value != this[key]) {\n        this[key] = value;\n\n        this._changed(flags[name] || 257);\n      }\n    };\n  }, {}), {\n    beans: true,\n    getSelection: function getSelection() {\n      return this._selection;\n    },\n    setSelection: function setSelection(selection) {\n      if (selection !== this._selection) {\n        this._selection = selection;\n        var project = this._project;\n\n        if (project) {\n          project._updateSelection(this);\n\n          this._changed(257);\n        }\n      }\n    },\n    _changeSelection: function _changeSelection(flag, selected) {\n      var selection = this._selection;\n      this.setSelection(selected ? selection | flag : selection & ~flag);\n    },\n    isSelected: function isSelected() {\n      if (this._selectChildren) {\n        var children = this._children;\n\n        for (var i = 0, l = children.length; i < l; i++) {\n          if (children[i].isSelected()) return true;\n        }\n      }\n\n      return !!(this._selection & 1);\n    },\n    setSelected: function setSelected(selected) {\n      if (this._selectChildren) {\n        var children = this._children;\n\n        for (var i = 0, l = children.length; i < l; i++) {\n          children[i].setSelected(selected);\n        }\n      }\n\n      this._changeSelection(1, selected);\n    },\n    isFullySelected: function isFullySelected() {\n      var children = this._children,\n          selected = !!(this._selection & 1);\n\n      if (children && selected) {\n        for (var i = 0, l = children.length; i < l; i++) {\n          if (!children[i].isFullySelected()) return false;\n        }\n\n        return true;\n      }\n\n      return selected;\n    },\n    setFullySelected: function setFullySelected(selected) {\n      var children = this._children;\n\n      if (children) {\n        for (var i = 0, l = children.length; i < l; i++) {\n          children[i].setFullySelected(selected);\n        }\n      }\n\n      this._changeSelection(1, selected);\n    },\n    isClipMask: function isClipMask() {\n      return this._clipMask;\n    },\n    setClipMask: function setClipMask(clipMask) {\n      if (this._clipMask != (clipMask = !!clipMask)) {\n        this._clipMask = clipMask;\n\n        if (clipMask) {\n          this.setFillColor(null);\n          this.setStrokeColor(null);\n        }\n\n        this._changed(257);\n\n        if (this._parent) this._parent._changed(2048);\n      }\n    },\n    getData: function getData() {\n      if (!this._data) this._data = {};\n      return this._data;\n    },\n    setData: function setData(data) {\n      this._data = data;\n    },\n    getPosition: function getPosition(_dontLink) {\n      var ctor = _dontLink ? Point : LinkedPoint;\n\n      var position = this._position || (this._position = this._getPositionFromBounds());\n\n      return new ctor(position.x, position.y, this, 'setPosition');\n    },\n    setPosition: function setPosition() {\n      this.translate(Point.read(arguments).subtract(this.getPosition(true)));\n    },\n    _getPositionFromBounds: function _getPositionFromBounds(bounds) {\n      return this._pivot ? this._matrix._transformPoint(this._pivot) : (bounds || this.getBounds()).getCenter(true);\n    },\n    getPivot: function getPivot() {\n      var pivot = this._pivot;\n      return pivot ? new LinkedPoint(pivot.x, pivot.y, this, 'setPivot') : null;\n    },\n    setPivot: function setPivot() {\n      this._pivot = Point.read(arguments, 0, {\n        clone: true,\n        readNull: true\n      });\n      this._position = undefined;\n    }\n  }, Base.each({\n    getStrokeBounds: {\n      stroke: true\n    },\n    getHandleBounds: {\n      handle: true\n    },\n    getInternalBounds: {\n      internal: true\n    }\n  }, function (options, key) {\n    this[key] = function (matrix) {\n      return this.getBounds(matrix, options);\n    };\n  }, {\n    beans: true,\n    getBounds: function getBounds(matrix, options) {\n      var hasMatrix = options || matrix instanceof Matrix,\n          opts = Base.set({}, hasMatrix ? options : matrix, this._boundsOptions);\n      if (!opts.stroke || this.getStrokeScaling()) opts.cacheItem = this;\n\n      var rect = this._getCachedBounds(hasMatrix && matrix, opts).rect;\n\n      return !arguments.length ? new LinkedRectangle(rect.x, rect.y, rect.width, rect.height, this, 'setBounds') : rect;\n    },\n    setBounds: function setBounds() {\n      var rect = _Rectangle.read(arguments),\n          bounds = this.getBounds(),\n          _matrix = this._matrix,\n          matrix = new Matrix(),\n          center = rect.getCenter();\n\n      matrix.translate(center);\n\n      if (rect.width != bounds.width || rect.height != bounds.height) {\n        if (!_matrix.isInvertible()) {\n          _matrix.set(_matrix._backup || new Matrix().translate(_matrix.getTranslation()));\n\n          bounds = this.getBounds();\n        }\n\n        matrix.scale(bounds.width !== 0 ? rect.width / bounds.width : 0, bounds.height !== 0 ? rect.height / bounds.height : 0);\n      }\n\n      center = bounds.getCenter();\n      matrix.translate(-center.x, -center.y);\n      this.transform(matrix);\n    },\n    _getBounds: function _getBounds(matrix, options) {\n      var children = this._children;\n      if (!children || !children.length) return new _Rectangle();\n\n      Item._updateBoundsCache(this, options.cacheItem);\n\n      return Item._getBounds(children, matrix, options);\n    },\n    _getBoundsCacheKey: function _getBoundsCacheKey(options, internal) {\n      return [options.stroke ? 1 : 0, options.handle ? 1 : 0, internal ? 1 : 0].join('');\n    },\n    _getCachedBounds: function _getCachedBounds(matrix, options, noInternal) {\n      matrix = matrix && matrix._orNullIfIdentity();\n\n      var internal = options.internal && !noInternal,\n          cacheItem = options.cacheItem,\n          _matrix = internal ? null : this._matrix._orNullIfIdentity(),\n          cacheKey = cacheItem && (!matrix || matrix.equals(_matrix)) && this._getBoundsCacheKey(options, internal),\n          bounds = this._bounds;\n\n      Item._updateBoundsCache(this._parent || this._symbol, cacheItem);\n\n      if (cacheKey && bounds && cacheKey in bounds) {\n        var cached = bounds[cacheKey];\n        return {\n          rect: cached.rect.clone(),\n          nonscaling: cached.nonscaling\n        };\n      }\n\n      var res = this._getBounds(matrix || _matrix, options),\n          rect = res.rect || res,\n          style = this._style,\n          nonscaling = res.nonscaling || style.hasStroke() && !style.getStrokeScaling();\n\n      if (cacheKey) {\n        if (!bounds) {\n          this._bounds = bounds = {};\n        }\n\n        var cached = bounds[cacheKey] = {\n          rect: rect.clone(),\n          nonscaling: nonscaling,\n          internal: internal\n        };\n      }\n\n      return {\n        rect: rect,\n        nonscaling: nonscaling\n      };\n    },\n    _getStrokeMatrix: function _getStrokeMatrix(matrix, options) {\n      var parent = this.getStrokeScaling() ? null : options && options.internal ? this : this._parent || this._symbol && this._symbol._item,\n          mx = parent ? parent.getViewMatrix().invert() : matrix;\n      return mx && mx._shiftless();\n    },\n    statics: {\n      _updateBoundsCache: function _updateBoundsCache(parent, item) {\n        if (parent && item) {\n          var id = item._id,\n              ref = parent._boundsCache = parent._boundsCache || {\n            ids: {},\n            list: []\n          };\n\n          if (!ref.ids[id]) {\n            ref.list.push(item);\n            ref.ids[id] = item;\n          }\n        }\n      },\n      _clearBoundsCache: function _clearBoundsCache(item) {\n        var cache = item._boundsCache;\n\n        if (cache) {\n          item._bounds = item._position = item._boundsCache = undefined;\n\n          for (var i = 0, list = cache.list, l = list.length; i < l; i++) {\n            var other = list[i];\n\n            if (other !== item) {\n              other._bounds = other._position = undefined;\n              if (other._boundsCache) Item._clearBoundsCache(other);\n            }\n          }\n        }\n      },\n      _getBounds: function _getBounds(items, matrix, options) {\n        var x1 = Infinity,\n            x2 = -x1,\n            y1 = x1,\n            y2 = x2,\n            nonscaling = false;\n        options = options || {};\n\n        for (var i = 0, l = items.length; i < l; i++) {\n          var item = items[i];\n\n          if (item._visible && !item.isEmpty(true)) {\n            var bounds = item._getCachedBounds(matrix && matrix.appended(item._matrix), options, true),\n                rect = bounds.rect;\n\n            x1 = Math.min(rect.x, x1);\n            y1 = Math.min(rect.y, y1);\n            x2 = Math.max(rect.x + rect.width, x2);\n            y2 = Math.max(rect.y + rect.height, y2);\n            if (bounds.nonscaling) nonscaling = true;\n          }\n        }\n\n        return {\n          rect: isFinite(x1) ? new _Rectangle(x1, y1, x2 - x1, y2 - y1) : new _Rectangle(),\n          nonscaling: nonscaling\n        };\n      }\n    }\n  }), {\n    beans: true,\n    _decompose: function _decompose() {\n      return this._applyMatrix ? null : this._decomposed || (this._decomposed = this._matrix.decompose());\n    },\n    getRotation: function getRotation() {\n      var decomposed = this._decompose();\n\n      return decomposed ? decomposed.rotation : 0;\n    },\n    setRotation: function setRotation(rotation) {\n      var current = this.getRotation();\n\n      if (current != null && rotation != null) {\n        var decomposed = this._decomposed;\n        this.rotate(rotation - current);\n\n        if (decomposed) {\n          decomposed.rotation = rotation;\n          this._decomposed = decomposed;\n        }\n      }\n    },\n    getScaling: function getScaling() {\n      var decomposed = this._decompose(),\n          s = decomposed && decomposed.scaling;\n\n      return new LinkedPoint(s ? s.x : 1, s ? s.y : 1, this, 'setScaling');\n    },\n    setScaling: function setScaling() {\n      var current = this.getScaling(),\n          scaling = Point.read(arguments, 0, {\n        clone: true,\n        readNull: true\n      });\n\n      if (current && scaling && !current.equals(scaling)) {\n        var rotation = this.getRotation(),\n            decomposed = this._decomposed,\n            matrix = new Matrix(),\n            center = this.getPosition(true);\n        matrix.translate(center);\n        if (rotation) matrix.rotate(rotation);\n        matrix.scale(scaling.x / current.x, scaling.y / current.y);\n        if (rotation) matrix.rotate(-rotation);\n        matrix.translate(center.negate());\n        this.transform(matrix);\n\n        if (decomposed) {\n          decomposed.scaling = scaling;\n          this._decomposed = decomposed;\n        }\n      }\n    },\n    getMatrix: function getMatrix() {\n      return this._matrix;\n    },\n    setMatrix: function setMatrix() {\n      var matrix = this._matrix;\n      matrix.initialize.apply(matrix, arguments);\n    },\n    getGlobalMatrix: function getGlobalMatrix(_dontClone) {\n      var matrix = this._globalMatrix;\n\n      if (matrix) {\n        var parent = this._parent;\n        var parents = [];\n\n        while (parent) {\n          if (!parent._globalMatrix) {\n            matrix = null;\n\n            for (var i = 0, l = parents.length; i < l; i++) {\n              parents[i]._globalMatrix = null;\n            }\n\n            break;\n          }\n\n          parents.push(parent);\n          parent = parent._parent;\n        }\n      }\n\n      if (!matrix) {\n        matrix = this._globalMatrix = this._matrix.clone();\n        var parent = this._parent;\n        if (parent) matrix.prepend(parent.getGlobalMatrix(true));\n      }\n\n      return _dontClone ? matrix : matrix.clone();\n    },\n    getViewMatrix: function getViewMatrix() {\n      return this.getGlobalMatrix().prepend(this.getView()._matrix);\n    },\n    getApplyMatrix: function getApplyMatrix() {\n      return this._applyMatrix;\n    },\n    setApplyMatrix: function setApplyMatrix(apply) {\n      if (this._applyMatrix = this._canApplyMatrix && !!apply) this.transform(null, true);\n    },\n    getTransformContent: '#getApplyMatrix',\n    setTransformContent: '#setApplyMatrix'\n  }, {\n    getProject: function getProject() {\n      return this._project;\n    },\n    _setProject: function _setProject(project, installEvents) {\n      if (this._project !== project) {\n        if (this._project) this._installEvents(false);\n        this._project = project;\n        var children = this._children;\n\n        for (var i = 0, l = children && children.length; i < l; i++) {\n          children[i]._setProject(project);\n        }\n\n        installEvents = true;\n      }\n\n      if (installEvents) this._installEvents(true);\n    },\n    getView: function getView() {\n      return this._project._view;\n    },\n    _installEvents: function _installEvents(install) {\n      _installEvents.base.call(this, install);\n\n      var children = this._children;\n\n      for (var i = 0, l = children && children.length; i < l; i++) {\n        children[i]._installEvents(install);\n      }\n    },\n    getLayer: function getLayer() {\n      var parent = this;\n\n      while (parent = parent._parent) {\n        if (parent instanceof Layer) return parent;\n      }\n\n      return null;\n    },\n    getParent: function getParent() {\n      return this._parent;\n    },\n    setParent: function setParent(item) {\n      return item.addChild(this);\n    },\n    _getOwner: '#getParent',\n    getChildren: function getChildren() {\n      return this._children;\n    },\n    setChildren: function setChildren(items) {\n      this.removeChildren();\n      this.addChildren(items);\n    },\n    getFirstChild: function getFirstChild() {\n      return this._children && this._children[0] || null;\n    },\n    getLastChild: function getLastChild() {\n      return this._children && this._children[this._children.length - 1] || null;\n    },\n    getNextSibling: function getNextSibling() {\n      var owner = this._getOwner();\n\n      return owner && owner._children[this._index + 1] || null;\n    },\n    getPreviousSibling: function getPreviousSibling() {\n      var owner = this._getOwner();\n\n      return owner && owner._children[this._index - 1] || null;\n    },\n    getIndex: function getIndex() {\n      return this._index;\n    },\n    equals: function equals(item) {\n      return item === this || item && this._class === item._class && this._style.equals(item._style) && this._matrix.equals(item._matrix) && this._locked === item._locked && this._visible === item._visible && this._blendMode === item._blendMode && this._opacity === item._opacity && this._clipMask === item._clipMask && this._guide === item._guide && this._equals(item) || false;\n    },\n    _equals: function _equals(item) {\n      return Base.equals(this._children, item._children);\n    },\n    clone: function clone(options) {\n      var copy = new this.constructor(Item.NO_INSERT),\n          children = this._children,\n          insert = Base.pick(options ? options.insert : undefined, options === undefined || options === true),\n          deep = Base.pick(options ? options.deep : undefined, true);\n      if (children) copy.copyAttributes(this);\n      if (!children || deep) copy.copyContent(this);\n      if (!children) copy.copyAttributes(this);\n      if (insert) copy.insertAbove(this);\n      var name = this._name,\n          parent = this._parent;\n\n      if (name && parent) {\n        var children = parent._children,\n            orig = name,\n            i = 1;\n\n        while (children[name]) {\n          name = orig + ' ' + i++;\n        }\n\n        if (name !== orig) copy.setName(name);\n      }\n\n      return copy;\n    },\n    copyContent: function copyContent(source) {\n      var children = source._children;\n\n      for (var i = 0, l = children && children.length; i < l; i++) {\n        this.addChild(children[i].clone(false), true);\n      }\n    },\n    copyAttributes: function copyAttributes(source, excludeMatrix) {\n      this.setStyle(source._style);\n      var keys = ['_locked', '_visible', '_blendMode', '_opacity', '_clipMask', '_guide'];\n\n      for (var i = 0, l = keys.length; i < l; i++) {\n        var key = keys[i];\n        if (source.hasOwnProperty(key)) this[key] = source[key];\n      }\n\n      if (!excludeMatrix) this._matrix.set(source._matrix, true);\n      this.setApplyMatrix(source._applyMatrix);\n      this.setPivot(source._pivot);\n      this.setSelection(source._selection);\n      var data = source._data,\n          name = source._name;\n      this._data = data ? Base.clone(data) : null;\n      if (name) this.setName(name);\n    },\n    rasterize: function rasterize(resolution, insert) {\n      var bounds = this.getStrokeBounds(),\n          scale = (resolution || this.getView().getResolution()) / 72,\n          topLeft = bounds.getTopLeft().floor(),\n          bottomRight = bounds.getBottomRight().ceil(),\n          size = new Size(bottomRight.subtract(topLeft)),\n          raster = new Raster(Item.NO_INSERT);\n\n      if (!size.isZero()) {\n        var canvas = CanvasProvider.getCanvas(size.multiply(scale)),\n            ctx = canvas.getContext('2d'),\n            matrix = new Matrix().scale(scale).translate(topLeft.negate());\n        ctx.save();\n        matrix.applyToContext(ctx);\n        this.draw(ctx, new Base({\n          matrices: [matrix]\n        }));\n        ctx.restore();\n        raster.setCanvas(canvas);\n      }\n\n      raster.transform(new Matrix().translate(topLeft.add(size.divide(2))).scale(1 / scale));\n      if (insert === undefined || insert) raster.insertAbove(this);\n      return raster;\n    },\n    contains: function contains() {\n      var matrix = this._matrix;\n      return matrix.isInvertible() && !!this._contains(matrix._inverseTransform(Point.read(arguments)));\n    },\n    _contains: function _contains(point) {\n      var children = this._children;\n\n      if (children) {\n        for (var i = children.length - 1; i >= 0; i--) {\n          if (children[i].contains(point)) return true;\n        }\n\n        return false;\n      }\n\n      return point.isInside(this.getInternalBounds());\n    },\n    isInside: function isInside() {\n      return _Rectangle.read(arguments).contains(this.getBounds());\n    },\n    _asPathItem: function _asPathItem() {\n      return new Path.Rectangle({\n        rectangle: this.getInternalBounds(),\n        matrix: this._matrix,\n        insert: false\n      });\n    },\n    intersects: function intersects(item, _matrix) {\n      if (!(item instanceof Item)) return false;\n      return this._asPathItem().getIntersections(item._asPathItem(), null, _matrix, true).length > 0;\n    }\n  }, new function () {\n    function hitTest() {\n      var args = arguments;\n      return this._hitTest(Point.read(args), HitResult.getOptions(args));\n    }\n\n    function hitTestAll() {\n      var args = arguments,\n          point = Point.read(args),\n          options = HitResult.getOptions(args),\n          all = [];\n\n      this._hitTest(point, new Base({\n        all: all\n      }, options));\n\n      return all;\n    }\n\n    function hitTestChildren(point, options, viewMatrix, _exclude) {\n      var children = this._children;\n\n      if (children) {\n        for (var i = children.length - 1; i >= 0; i--) {\n          var child = children[i];\n\n          var res = child !== _exclude && child._hitTest(point, options, viewMatrix);\n\n          if (res && !options.all) return res;\n        }\n      }\n\n      return null;\n    }\n\n    Project.inject({\n      hitTest: hitTest,\n      hitTestAll: hitTestAll,\n      _hitTest: hitTestChildren\n    });\n    return {\n      hitTest: hitTest,\n      hitTestAll: hitTestAll,\n      _hitTestChildren: hitTestChildren\n    };\n  }(), {\n    _hitTest: function _hitTest(point, options, parentViewMatrix) {\n      if (this._locked || !this._visible || this._guide && !options.guides || this.isEmpty()) {\n        return null;\n      }\n\n      var matrix = this._matrix,\n          viewMatrix = parentViewMatrix ? parentViewMatrix.appended(matrix) : this.getGlobalMatrix().prepend(this.getView()._matrix),\n          tolerance = Math.max(options.tolerance, 1e-12),\n          tolerancePadding = options._tolerancePadding = new Size(Path._getStrokePadding(tolerance, matrix._shiftless().invert()));\n      point = matrix._inverseTransform(point);\n\n      if (!point || !this._children && !this.getBounds({\n        internal: true,\n        stroke: true,\n        handle: true\n      }).expand(tolerancePadding.multiply(2))._containsPoint(point)) {\n        return null;\n      }\n\n      var checkSelf = !(options.guides && !this._guide || options.selected && !this.isSelected() || options.type && options.type !== Base.hyphenate(this._class) || options.class && !(this instanceof options.class)),\n          match = options.match,\n          that = this,\n          bounds,\n          res;\n\n      function filter(hit) {\n        if (hit && match && !match(hit)) hit = null;\n        if (hit && options.all) options.all.push(hit);\n        return hit;\n      }\n\n      function checkPoint(type, part) {\n        var pt = part ? bounds['get' + part]() : that.getPosition();\n\n        if (point.subtract(pt).divide(tolerancePadding).length <= 1) {\n          return new HitResult(type, that, {\n            name: part ? Base.hyphenate(part) : type,\n            point: pt\n          });\n        }\n      }\n\n      var checkPosition = options.position,\n          checkCenter = options.center,\n          checkBounds = options.bounds;\n\n      if (checkSelf && this._parent && (checkPosition || checkCenter || checkBounds)) {\n        if (checkCenter || checkBounds) {\n          bounds = this.getInternalBounds();\n        }\n\n        res = checkPosition && checkPoint('position') || checkCenter && checkPoint('center', 'Center');\n\n        if (!res && checkBounds) {\n          var points = ['TopLeft', 'TopRight', 'BottomLeft', 'BottomRight', 'LeftCenter', 'TopCenter', 'RightCenter', 'BottomCenter'];\n\n          for (var i = 0; i < 8 && !res; i++) {\n            res = checkPoint('bounds', points[i]);\n          }\n        }\n\n        res = filter(res);\n      }\n\n      if (!res) {\n        res = this._hitTestChildren(point, options, viewMatrix) || checkSelf && filter(this._hitTestSelf(point, options, viewMatrix, this.getStrokeScaling() ? null : viewMatrix._shiftless().invert())) || null;\n      }\n\n      if (res && res.point) {\n        res.point = matrix.transform(res.point);\n      }\n\n      return res;\n    },\n    _hitTestSelf: function _hitTestSelf(point, options) {\n      if (options.fill && this.hasFill() && this._contains(point)) return new HitResult('fill', this);\n    },\n    matches: function matches(name, compare) {\n      function matchObject(obj1, obj2) {\n        for (var i in obj1) {\n          if (obj1.hasOwnProperty(i)) {\n            var val1 = obj1[i],\n                val2 = obj2[i];\n\n            if (Base.isPlainObject(val1) && Base.isPlainObject(val2)) {\n              if (!matchObject(val1, val2)) return false;\n            } else if (!Base.equals(val1, val2)) {\n              return false;\n            }\n          }\n        }\n\n        return true;\n      }\n\n      var type = typeof name;\n\n      if (type === 'object') {\n        for (var key in name) {\n          if (name.hasOwnProperty(key) && !this.matches(key, name[key])) return false;\n        }\n\n        return true;\n      } else if (type === 'function') {\n        return name(this);\n      } else if (name === 'match') {\n        return compare(this);\n      } else {\n        var value = /^(empty|editable)$/.test(name) ? this['is' + Base.capitalize(name)]() : name === 'type' ? Base.hyphenate(this._class) : this[name];\n\n        if (name === 'class') {\n          if (typeof compare === 'function') return this instanceof compare;\n          value = this._class;\n        }\n\n        if (typeof compare === 'function') {\n          return !!compare(value);\n        } else if (compare) {\n          if (compare.test) {\n            return compare.test(value);\n          } else if (Base.isPlainObject(compare)) {\n            return matchObject(compare, value);\n          }\n        }\n\n        return Base.equals(value, compare);\n      }\n    },\n    getItems: function getItems(options) {\n      return Item._getItems(this, options, this._matrix);\n    },\n    getItem: function getItem(options) {\n      return Item._getItems(this, options, this._matrix, null, true)[0] || null;\n    },\n    statics: {\n      _getItems: function _getItems(item, options, matrix, param, firstOnly) {\n        if (!param) {\n          var obj = typeof options === 'object' && options,\n              overlapping = obj && obj.overlapping,\n              inside = obj && obj.inside,\n              bounds = overlapping || inside,\n              rect = bounds && _Rectangle.read([bounds]);\n\n          param = {\n            items: [],\n            recursive: obj && obj.recursive !== false,\n            inside: !!inside,\n            overlapping: !!overlapping,\n            rect: rect,\n            path: overlapping && new Path.Rectangle({\n              rectangle: rect,\n              insert: false\n            })\n          };\n\n          if (obj) {\n            options = Base.filter({}, options, {\n              recursive: true,\n              inside: true,\n              overlapping: true\n            });\n          }\n        }\n\n        var children = item._children,\n            items = param.items,\n            rect = param.rect;\n        matrix = rect && (matrix || new Matrix());\n\n        for (var i = 0, l = children && children.length; i < l; i++) {\n          var child = children[i],\n              childMatrix = matrix && matrix.appended(child._matrix),\n              add = true;\n\n          if (rect) {\n            var bounds = child.getBounds(childMatrix);\n            if (!rect.intersects(bounds)) continue;\n            if (!(rect.contains(bounds) || param.overlapping && (bounds.contains(rect) || param.path.intersects(child, childMatrix)))) add = false;\n          }\n\n          if (add && child.matches(options)) {\n            items.push(child);\n            if (firstOnly) break;\n          }\n\n          if (param.recursive !== false) {\n            _getItems(child, options, childMatrix, param, firstOnly);\n          }\n\n          if (firstOnly && items.length > 0) break;\n        }\n\n        return items;\n      }\n    }\n  }, {\n    importJSON: function importJSON(json) {\n      var res = Base.importJSON(json, this);\n      return res !== this ? this.addChild(res) : res;\n    },\n    addChild: function addChild(item) {\n      return this.insertChild(undefined, item);\n    },\n    insertChild: function insertChild(index, item) {\n      var res = item ? this.insertChildren(index, [item]) : null;\n      return res && res[0];\n    },\n    addChildren: function addChildren(items) {\n      return this.insertChildren(this._children.length, items);\n    },\n    insertChildren: function insertChildren(index, items) {\n      var children = this._children;\n\n      if (children && items && items.length > 0) {\n        items = Base.slice(items);\n        var inserted = {};\n\n        for (var i = items.length - 1; i >= 0; i--) {\n          var item = items[i],\n              id = item && item._id;\n\n          if (!item || inserted[id]) {\n            items.splice(i, 1);\n          } else {\n            item._remove(false, true);\n\n            inserted[id] = true;\n          }\n        }\n\n        Base.splice(children, items, index, 0);\n        var project = this._project,\n            notifySelf = project._changes;\n\n        for (var i = 0, l = items.length; i < l; i++) {\n          var item = items[i],\n              name = item._name;\n          item._parent = this;\n\n          item._setProject(project, true);\n\n          if (name) item.setName(name);\n          if (notifySelf) item._changed(5);\n        }\n\n        this._changed(11);\n      } else {\n        items = null;\n      }\n\n      return items;\n    },\n    _insertItem: '#insertChild',\n    _insertAt: function _insertAt(item, offset) {\n      var owner = item && item._getOwner(),\n          res = item !== this && owner ? this : null;\n\n      if (res) {\n        res._remove(false, true);\n\n        owner._insertItem(item._index + offset, res);\n      }\n\n      return res;\n    },\n    insertAbove: function insertAbove(item) {\n      return this._insertAt(item, 1);\n    },\n    insertBelow: function insertBelow(item) {\n      return this._insertAt(item, 0);\n    },\n    sendToBack: function sendToBack() {\n      var owner = this._getOwner();\n\n      return owner ? owner._insertItem(0, this) : null;\n    },\n    bringToFront: function bringToFront() {\n      var owner = this._getOwner();\n\n      return owner ? owner._insertItem(undefined, this) : null;\n    },\n    appendTop: '#addChild',\n    appendBottom: function appendBottom(item) {\n      return this.insertChild(0, item);\n    },\n    moveAbove: '#insertAbove',\n    moveBelow: '#insertBelow',\n    addTo: function addTo(owner) {\n      return owner._insertItem(undefined, this);\n    },\n    copyTo: function copyTo(owner) {\n      return this.clone(false).addTo(owner);\n    },\n    reduce: function reduce(options) {\n      var children = this._children;\n\n      if (children && children.length === 1) {\n        var child = children[0].reduce(options);\n\n        if (this._parent) {\n          child.insertAbove(this);\n          this.remove();\n        } else {\n          child.remove();\n        }\n\n        return child;\n      }\n\n      return this;\n    },\n    _removeNamed: function _removeNamed() {\n      var owner = this._getOwner();\n\n      if (owner) {\n        var children = owner._children,\n            namedChildren = owner._namedChildren,\n            name = this._name,\n            namedArray = namedChildren[name],\n            index = namedArray ? namedArray.indexOf(this) : -1;\n\n        if (index !== -1) {\n          if (children[name] == this) delete children[name];\n          namedArray.splice(index, 1);\n\n          if (namedArray.length) {\n            children[name] = namedArray[0];\n          } else {\n            delete namedChildren[name];\n          }\n        }\n      }\n    },\n    _remove: function _remove(notifySelf, notifyParent) {\n      var owner = this._getOwner(),\n          project = this._project,\n          index = this._index;\n\n      if (this._style) this._style._dispose();\n\n      if (owner) {\n        if (this._name) this._removeNamed();\n\n        if (index != null) {\n          if (project._activeLayer === this) project._activeLayer = this.getNextSibling() || this.getPreviousSibling();\n          Base.splice(owner._children, null, index, 1);\n        }\n\n        this._installEvents(false);\n\n        if (notifySelf && project._changes) this._changed(5);\n        if (notifyParent) owner._changed(11, this);\n        this._parent = null;\n        return true;\n      }\n\n      return false;\n    },\n    remove: function remove() {\n      return this._remove(true, true);\n    },\n    replaceWith: function replaceWith(item) {\n      var ok = item && item.insertBelow(this);\n      if (ok) this.remove();\n      return ok;\n    },\n    removeChildren: function removeChildren(start, end) {\n      if (!this._children) return null;\n      start = start || 0;\n      end = Base.pick(end, this._children.length);\n      var removed = Base.splice(this._children, null, start, end - start);\n\n      for (var i = removed.length - 1; i >= 0; i--) {\n        removed[i]._remove(true, false);\n      }\n\n      if (removed.length > 0) this._changed(11);\n      return removed;\n    },\n    clear: '#removeChildren',\n    reverseChildren: function reverseChildren() {\n      if (this._children) {\n        this._children.reverse();\n\n        for (var i = 0, l = this._children.length; i < l; i++) {\n          this._children[i]._index = i;\n        }\n\n        this._changed(11);\n      }\n    },\n    isEmpty: function isEmpty(recursively) {\n      var children = this._children;\n      var numChildren = children ? children.length : 0;\n\n      if (recursively) {\n        for (var i = 0; i < numChildren; i++) {\n          if (!children[i].isEmpty(recursively)) {\n            return false;\n          }\n        }\n\n        return true;\n      }\n\n      return !numChildren;\n    },\n    isEditable: function isEditable() {\n      var item = this;\n\n      while (item) {\n        if (!item._visible || item._locked) return false;\n        item = item._parent;\n      }\n\n      return true;\n    },\n    hasFill: function hasFill() {\n      return this.getStyle().hasFill();\n    },\n    hasStroke: function hasStroke() {\n      return this.getStyle().hasStroke();\n    },\n    hasShadow: function hasShadow() {\n      return this.getStyle().hasShadow();\n    },\n    _getOrder: function _getOrder(item) {\n      function getList(item) {\n        var list = [];\n\n        do {\n          list.unshift(item);\n        } while (item = item._parent);\n\n        return list;\n      }\n\n      var list1 = getList(this),\n          list2 = getList(item);\n\n      for (var i = 0, l = Math.min(list1.length, list2.length); i < l; i++) {\n        if (list1[i] != list2[i]) {\n          return list1[i]._index < list2[i]._index ? 1 : -1;\n        }\n      }\n\n      return 0;\n    },\n    hasChildren: function hasChildren() {\n      return this._children && this._children.length > 0;\n    },\n    isInserted: function isInserted() {\n      return this._parent ? this._parent.isInserted() : false;\n    },\n    isAbove: function isAbove(item) {\n      return this._getOrder(item) === -1;\n    },\n    isBelow: function isBelow(item) {\n      return this._getOrder(item) === 1;\n    },\n    isParent: function isParent(item) {\n      return this._parent === item;\n    },\n    isChild: function isChild(item) {\n      return item && item._parent === this;\n    },\n    isDescendant: function isDescendant(item) {\n      var parent = this;\n\n      while (parent = parent._parent) {\n        if (parent === item) return true;\n      }\n\n      return false;\n    },\n    isAncestor: function isAncestor(item) {\n      return item ? item.isDescendant(this) : false;\n    },\n    isSibling: function isSibling(item) {\n      return this._parent === item._parent;\n    },\n    isGroupedWith: function isGroupedWith(item) {\n      var parent = this._parent;\n\n      while (parent) {\n        if (parent._parent && /^(Group|Layer|CompoundPath)$/.test(parent._class) && item.isDescendant(parent)) return true;\n        parent = parent._parent;\n      }\n\n      return false;\n    }\n  }, Base.each(['rotate', 'scale', 'shear', 'skew'], function (key) {\n    var rotate = key === 'rotate';\n\n    this[key] = function () {\n      var args = arguments,\n          value = (rotate ? Base : Point).read(args),\n          center = Point.read(args, 0, {\n        readNull: true\n      });\n      return this.transform(new Matrix()[key](value, center || this.getPosition(true)));\n    };\n  }, {\n    translate: function translate() {\n      var mx = new Matrix();\n      return this.transform(mx.translate.apply(mx, arguments));\n    },\n    transform: function transform(matrix, _applyRecursively, _setApplyMatrix) {\n      var _matrix = this._matrix,\n          transformMatrix = matrix && !matrix.isIdentity(),\n          applyMatrix = _setApplyMatrix && this._canApplyMatrix || this._applyMatrix && (transformMatrix || !_matrix.isIdentity() || _applyRecursively && this._children);\n      if (!transformMatrix && !applyMatrix) return this;\n\n      if (transformMatrix) {\n        if (!matrix.isInvertible() && _matrix.isInvertible()) _matrix._backup = _matrix.getValues();\n\n        _matrix.prepend(matrix, true);\n\n        var style = this._style,\n            fillColor = style.getFillColor(true),\n            strokeColor = style.getStrokeColor(true);\n        if (fillColor) fillColor.transform(matrix);\n        if (strokeColor) strokeColor.transform(matrix);\n      }\n\n      if (applyMatrix && (applyMatrix = this._transformContent(_matrix, _applyRecursively, _setApplyMatrix))) {\n        var pivot = this._pivot;\n        if (pivot) _matrix._transformPoint(pivot, pivot, true);\n\n        _matrix.reset(true);\n\n        if (_setApplyMatrix && this._canApplyMatrix) this._applyMatrix = true;\n      }\n\n      var bounds = this._bounds,\n          position = this._position;\n\n      if (transformMatrix || applyMatrix) {\n        this._changed(25);\n      }\n\n      var decomp = transformMatrix && bounds && matrix.decompose();\n\n      if (decomp && decomp.skewing.isZero() && decomp.rotation % 90 === 0) {\n        for (var key in bounds) {\n          var cache = bounds[key];\n\n          if (cache.nonscaling) {\n            delete bounds[key];\n          } else if (applyMatrix || !cache.internal) {\n            var rect = cache.rect;\n\n            matrix._transformBounds(rect, rect);\n          }\n        }\n\n        this._bounds = bounds;\n\n        var cached = bounds[this._getBoundsCacheKey(this._boundsOptions || {})];\n\n        if (cached) {\n          this._position = this._getPositionFromBounds(cached.rect);\n        }\n      } else if (transformMatrix && position && this._pivot) {\n        this._position = matrix._transformPoint(position, position);\n      }\n\n      return this;\n    },\n    _transformContent: function _transformContent(matrix, applyRecursively, setApplyMatrix) {\n      var children = this._children;\n\n      if (children) {\n        for (var i = 0, l = children.length; i < l; i++) {\n          children[i].transform(matrix, applyRecursively, setApplyMatrix);\n        }\n\n        return true;\n      }\n    },\n    globalToLocal: function globalToLocal() {\n      return this.getGlobalMatrix(true)._inverseTransform(Point.read(arguments));\n    },\n    localToGlobal: function localToGlobal() {\n      return this.getGlobalMatrix(true)._transformPoint(Point.read(arguments));\n    },\n    parentToLocal: function parentToLocal() {\n      return this._matrix._inverseTransform(Point.read(arguments));\n    },\n    localToParent: function localToParent() {\n      return this._matrix._transformPoint(Point.read(arguments));\n    },\n    fitBounds: function fitBounds(rectangle, fill) {\n      rectangle = _Rectangle.read(arguments);\n      var bounds = this.getBounds(),\n          itemRatio = bounds.height / bounds.width,\n          rectRatio = rectangle.height / rectangle.width,\n          scale = (fill ? itemRatio > rectRatio : itemRatio < rectRatio) ? rectangle.width / bounds.width : rectangle.height / bounds.height,\n          newBounds = new _Rectangle(new Point(), new Size(bounds.width * scale, bounds.height * scale));\n      newBounds.setCenter(rectangle.getCenter());\n      this.setBounds(newBounds);\n    }\n  }), {\n    _setStyles: function _setStyles(ctx, param, viewMatrix) {\n      var style = this._style,\n          matrix = this._matrix;\n\n      if (style.hasFill()) {\n        ctx.fillStyle = style.getFillColor().toCanvasStyle(ctx, matrix);\n      }\n\n      if (style.hasStroke()) {\n        ctx.strokeStyle = style.getStrokeColor().toCanvasStyle(ctx, matrix);\n        ctx.lineWidth = style.getStrokeWidth();\n        var strokeJoin = style.getStrokeJoin(),\n            strokeCap = style.getStrokeCap(),\n            miterLimit = style.getMiterLimit();\n        if (strokeJoin) ctx.lineJoin = strokeJoin;\n        if (strokeCap) ctx.lineCap = strokeCap;\n        if (miterLimit) ctx.miterLimit = miterLimit;\n\n        if (paper.support.nativeDash) {\n          var dashArray = style.getDashArray(),\n              dashOffset = style.getDashOffset();\n\n          if (dashArray && dashArray.length) {\n            if ('setLineDash' in ctx) {\n              ctx.setLineDash(dashArray);\n              ctx.lineDashOffset = dashOffset;\n            } else {\n              ctx.mozDash = dashArray;\n              ctx.mozDashOffset = dashOffset;\n            }\n          }\n        }\n      }\n\n      if (style.hasShadow()) {\n        var pixelRatio = param.pixelRatio || 1,\n            mx = viewMatrix._shiftless().prepend(new Matrix().scale(pixelRatio, pixelRatio)),\n            blur = mx.transform(new Point(style.getShadowBlur(), 0)),\n            offset = mx.transform(this.getShadowOffset());\n\n        ctx.shadowColor = style.getShadowColor().toCanvasStyle(ctx);\n        ctx.shadowBlur = blur.getLength();\n        ctx.shadowOffsetX = offset.x;\n        ctx.shadowOffsetY = offset.y;\n      }\n    },\n    draw: function draw(ctx, param, parentStrokeMatrix) {\n      var updateVersion = this._updateVersion = this._project._updateVersion;\n      if (!this._visible || this._opacity === 0) return;\n      var matrices = param.matrices,\n          viewMatrix = param.viewMatrix,\n          matrix = this._matrix,\n          globalMatrix = matrices[matrices.length - 1].appended(matrix);\n      if (!globalMatrix.isInvertible()) return;\n      viewMatrix = viewMatrix ? viewMatrix.appended(globalMatrix) : globalMatrix;\n      matrices.push(globalMatrix);\n\n      if (param.updateMatrix) {\n        this._globalMatrix = globalMatrix;\n      }\n\n      var blendMode = this._blendMode,\n          opacity = this._opacity,\n          normalBlend = blendMode === 'normal',\n          nativeBlend = BlendMode.nativeModes[blendMode],\n          direct = normalBlend && opacity === 1 || param.dontStart || param.clip || (nativeBlend || normalBlend && opacity < 1) && this._canComposite(),\n          pixelRatio = param.pixelRatio || 1,\n          mainCtx,\n          itemOffset,\n          prevOffset;\n\n      if (!direct) {\n        var bounds = this.getStrokeBounds(viewMatrix);\n\n        if (!bounds.width || !bounds.height) {\n          matrices.pop();\n          return;\n        }\n\n        prevOffset = param.offset;\n        itemOffset = param.offset = bounds.getTopLeft().floor();\n        mainCtx = ctx;\n        ctx = CanvasProvider.getContext(bounds.getSize().ceil().add(1).multiply(pixelRatio));\n        if (pixelRatio !== 1) ctx.scale(pixelRatio, pixelRatio);\n      }\n\n      ctx.save();\n      var strokeMatrix = parentStrokeMatrix ? parentStrokeMatrix.appended(matrix) : this._canScaleStroke && !this.getStrokeScaling(true) && viewMatrix,\n          clip = !direct && param.clipItem,\n          transform = !strokeMatrix || clip;\n\n      if (direct) {\n        ctx.globalAlpha = opacity;\n        if (nativeBlend) ctx.globalCompositeOperation = blendMode;\n      } else if (transform) {\n        ctx.translate(-itemOffset.x, -itemOffset.y);\n      }\n\n      if (transform) {\n        (direct ? matrix : viewMatrix).applyToContext(ctx);\n      }\n\n      if (clip) {\n        param.clipItem.draw(ctx, param.extend({\n          clip: true\n        }));\n      }\n\n      if (strokeMatrix) {\n        ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n        var offset = param.offset;\n        if (offset) ctx.translate(-offset.x, -offset.y);\n      }\n\n      this._draw(ctx, param, viewMatrix, strokeMatrix);\n\n      ctx.restore();\n      matrices.pop();\n\n      if (param.clip && !param.dontFinish) {\n        ctx.clip(this.getFillRule());\n      }\n\n      if (!direct) {\n        BlendMode.process(blendMode, ctx, mainCtx, opacity, itemOffset.subtract(prevOffset).multiply(pixelRatio));\n        CanvasProvider.release(ctx);\n        param.offset = prevOffset;\n      }\n    },\n    _isUpdated: function _isUpdated(updateVersion) {\n      var parent = this._parent;\n      if (parent instanceof CompoundPath) return parent._isUpdated(updateVersion);\n      var updated = this._updateVersion === updateVersion;\n\n      if (!updated && parent && parent._visible && parent._isUpdated(updateVersion)) {\n        this._updateVersion = updateVersion;\n        updated = true;\n      }\n\n      return updated;\n    },\n    _drawSelection: function _drawSelection(ctx, matrix, size, selectionItems, updateVersion) {\n      var selection = this._selection,\n          itemSelected = selection & 1,\n          boundsSelected = selection & 2 || itemSelected && this._selectBounds,\n          positionSelected = selection & 4;\n      if (!this._drawSelected) itemSelected = false;\n\n      if ((itemSelected || boundsSelected || positionSelected) && this._isUpdated(updateVersion)) {\n        var layer,\n            color = this.getSelectedColor(true) || (layer = this.getLayer()) && layer.getSelectedColor(true),\n            mx = matrix.appended(this.getGlobalMatrix(true)),\n            half = size / 2;\n        ctx.strokeStyle = ctx.fillStyle = color ? color.toCanvasStyle(ctx) : '#009dec';\n        if (itemSelected) this._drawSelected(ctx, mx, selectionItems);\n\n        if (positionSelected) {\n          var pos = this.getPosition(true),\n              parent = this._parent,\n              point = parent ? parent.localToGlobal(pos) : pos,\n              x = point.x,\n              y = point.y;\n          ctx.beginPath();\n          ctx.arc(x, y, half, 0, Math.PI * 2, true);\n          ctx.stroke();\n          var deltas = [[0, -1], [1, 0], [0, 1], [-1, 0]],\n              start = half,\n              end = size + 1;\n\n          for (var i = 0; i < 4; i++) {\n            var delta = deltas[i],\n                dx = delta[0],\n                dy = delta[1];\n            ctx.moveTo(x + dx * start, y + dy * start);\n            ctx.lineTo(x + dx * end, y + dy * end);\n            ctx.stroke();\n          }\n        }\n\n        if (boundsSelected) {\n          var coords = mx._transformCorners(this.getInternalBounds());\n\n          ctx.beginPath();\n\n          for (var i = 0; i < 8; i++) {\n            ctx[!i ? 'moveTo' : 'lineTo'](coords[i], coords[++i]);\n          }\n\n          ctx.closePath();\n          ctx.stroke();\n\n          for (var i = 0; i < 8; i++) {\n            ctx.fillRect(coords[i] - half, coords[++i] - half, size, size);\n          }\n        }\n      }\n    },\n    _canComposite: function _canComposite() {\n      return false;\n    }\n  }, Base.each(['down', 'drag', 'up', 'move'], function (key) {\n    this['removeOn' + Base.capitalize(key)] = function () {\n      var hash = {};\n      hash[key] = true;\n      return this.removeOn(hash);\n    };\n  }, {\n    removeOn: function removeOn(obj) {\n      for (var name in obj) {\n        if (obj[name]) {\n          var key = 'mouse' + name,\n              project = this._project,\n              sets = project._removeSets = project._removeSets || {};\n          sets[key] = sets[key] || {};\n          sets[key][this._id] = this;\n        }\n      }\n\n      return this;\n    }\n  }), {\n    tween: function tween(from, to, options) {\n      if (!options) {\n        options = to;\n        to = from;\n        from = null;\n\n        if (!options) {\n          options = to;\n          to = null;\n        }\n      }\n\n      var easing = options && options.easing,\n          start = options && options.start,\n          duration = options != null && (typeof options === 'number' ? options : options.duration),\n          tween = new Tween(this, from, to, duration, easing, start);\n\n      function onFrame(event) {\n        tween._handleFrame(event.time * 1000);\n\n        if (!tween.running) {\n          this.off('frame', onFrame);\n        }\n      }\n\n      if (duration) {\n        this.on('frame', onFrame);\n      }\n\n      return tween;\n    },\n    tweenTo: function tweenTo(to, options) {\n      return this.tween(null, to, options);\n    },\n    tweenFrom: function tweenFrom(from, options) {\n      return this.tween(from, null, options);\n    }\n  });\n  var Group = Item.extend({\n    _class: 'Group',\n    _selectBounds: false,\n    _selectChildren: true,\n    _serializeFields: {\n      children: []\n    },\n    initialize: function Group(arg) {\n      this._children = [];\n      this._namedChildren = {};\n      if (!this._initialize(arg)) this.addChildren(Array.isArray(arg) ? arg : arguments);\n    },\n    _changed: function _changed(flags) {\n      _changed.base.call(this, flags);\n\n      if (flags & 2050) {\n        this._clipItem = undefined;\n      }\n    },\n    _getClipItem: function _getClipItem() {\n      var clipItem = this._clipItem;\n\n      if (clipItem === undefined) {\n        clipItem = null;\n        var children = this._children;\n\n        for (var i = 0, l = children.length; i < l; i++) {\n          if (children[i]._clipMask) {\n            clipItem = children[i];\n            break;\n          }\n        }\n\n        this._clipItem = clipItem;\n      }\n\n      return clipItem;\n    },\n    isClipped: function isClipped() {\n      return !!this._getClipItem();\n    },\n    setClipped: function setClipped(clipped) {\n      var child = this.getFirstChild();\n      if (child) child.setClipMask(clipped);\n    },\n    _getBounds: function _getBounds(matrix, options) {\n      var clipItem = this._getClipItem();\n\n      return clipItem ? clipItem._getCachedBounds(clipItem._matrix.prepended(matrix), Base.set({}, options, {\n        stroke: false\n      })) : _getBounds.base.call(this, matrix, options);\n    },\n    _hitTestChildren: function _hitTestChildren(point, options, viewMatrix) {\n      var clipItem = this._getClipItem();\n\n      return (!clipItem || clipItem.contains(point)) && _hitTestChildren.base.call(this, point, options, viewMatrix, clipItem);\n    },\n    _draw: function _draw(ctx, param) {\n      var clip = param.clip,\n          clipItem = !clip && this._getClipItem();\n\n      param = param.extend({\n        clipItem: clipItem,\n        clip: false\n      });\n\n      if (clip) {\n        ctx.beginPath();\n        param.dontStart = param.dontFinish = true;\n      } else if (clipItem) {\n        clipItem.draw(ctx, param.extend({\n          clip: true\n        }));\n      }\n\n      var children = this._children;\n\n      for (var i = 0, l = children.length; i < l; i++) {\n        var item = children[i];\n        if (item !== clipItem) item.draw(ctx, param);\n      }\n    }\n  });\n  var Layer = Group.extend({\n    _class: 'Layer',\n    initialize: function Layer() {\n      Group.apply(this, arguments);\n    },\n    _getOwner: function _getOwner() {\n      return this._parent || this._index != null && this._project;\n    },\n    isInserted: function isInserted() {\n      return this._parent ? isInserted.base.call(this) : this._index != null;\n    },\n    activate: function activate() {\n      this._project._activeLayer = this;\n    },\n    _hitTestSelf: function _hitTestSelf() {}\n  });\n  var Shape = Item.extend({\n    _class: 'Shape',\n    _applyMatrix: false,\n    _canApplyMatrix: false,\n    _canScaleStroke: true,\n    _serializeFields: {\n      type: null,\n      size: null,\n      radius: null\n    },\n    initialize: function Shape(props, point) {\n      this._initialize(props, point);\n    },\n    _equals: function _equals(item) {\n      return this._type === item._type && this._size.equals(item._size) && Base.equals(this._radius, item._radius);\n    },\n    copyContent: function copyContent(source) {\n      this.setType(source._type);\n      this.setSize(source._size);\n      this.setRadius(source._radius);\n    },\n    getType: function getType() {\n      return this._type;\n    },\n    setType: function setType(type) {\n      this._type = type;\n    },\n    getShape: '#getType',\n    setShape: '#setType',\n    getSize: function getSize() {\n      var size = this._size;\n      return new LinkedSize(size.width, size.height, this, 'setSize');\n    },\n    setSize: function setSize() {\n      var size = Size.read(arguments);\n\n      if (!this._size) {\n        this._size = size.clone();\n      } else if (!this._size.equals(size)) {\n        var type = this._type,\n            width = size.width,\n            height = size.height;\n\n        if (type === 'rectangle') {\n          this._radius.set(Size.min(this._radius, size.divide(2).abs()));\n        } else if (type === 'circle') {\n          width = height = (width + height) / 2;\n          this._radius = width / 2;\n        } else if (type === 'ellipse') {\n          this._radius._set(width / 2, height / 2);\n        }\n\n        this._size._set(width, height);\n\n        this._changed(9);\n      }\n    },\n    getRadius: function getRadius() {\n      var rad = this._radius;\n      return this._type === 'circle' ? rad : new LinkedSize(rad.width, rad.height, this, 'setRadius');\n    },\n    setRadius: function setRadius(radius) {\n      var type = this._type;\n\n      if (type === 'circle') {\n        if (radius === this._radius) return;\n        var size = radius * 2;\n        this._radius = radius;\n\n        this._size._set(size, size);\n      } else {\n        radius = Size.read(arguments);\n\n        if (!this._radius) {\n          this._radius = radius.clone();\n        } else {\n          if (this._radius.equals(radius)) return;\n\n          this._radius.set(radius);\n\n          if (type === 'rectangle') {\n            var size = Size.max(this._size, radius.multiply(2));\n\n            this._size.set(size);\n          } else if (type === 'ellipse') {\n            this._size._set(radius.width * 2, radius.height * 2);\n          }\n        }\n      }\n\n      this._changed(9);\n    },\n    isEmpty: function isEmpty() {\n      return false;\n    },\n    toPath: function toPath(insert) {\n      var path = new Path[Base.capitalize(this._type)]({\n        center: new Point(),\n        size: this._size,\n        radius: this._radius,\n        insert: false\n      });\n      path.copyAttributes(this);\n      if (paper.settings.applyMatrix) path.setApplyMatrix(true);\n      if (insert === undefined || insert) path.insertAbove(this);\n      return path;\n    },\n    toShape: '#clone',\n    _asPathItem: function _asPathItem() {\n      return this.toPath(false);\n    },\n    _draw: function _draw(ctx, param, viewMatrix, strokeMatrix) {\n      var style = this._style,\n          hasFill = style.hasFill(),\n          hasStroke = style.hasStroke(),\n          dontPaint = param.dontFinish || param.clip,\n          untransformed = !strokeMatrix;\n\n      if (hasFill || hasStroke || dontPaint) {\n        var type = this._type,\n            radius = this._radius,\n            isCircle = type === 'circle';\n        if (!param.dontStart) ctx.beginPath();\n\n        if (untransformed && isCircle) {\n          ctx.arc(0, 0, radius, 0, Math.PI * 2, true);\n        } else {\n          var rx = isCircle ? radius : radius.width,\n              ry = isCircle ? radius : radius.height,\n              size = this._size,\n              width = size.width,\n              height = size.height;\n\n          if (untransformed && type === 'rectangle' && rx === 0 && ry === 0) {\n            ctx.rect(-width / 2, -height / 2, width, height);\n          } else {\n            var x = width / 2,\n                y = height / 2,\n                kappa = 1 - 0.5522847498307936,\n                cx = rx * kappa,\n                cy = ry * kappa,\n                c = [-x, -y + ry, -x, -y + cy, -x + cx, -y, -x + rx, -y, x - rx, -y, x - cx, -y, x, -y + cy, x, -y + ry, x, y - ry, x, y - cy, x - cx, y, x - rx, y, -x + rx, y, -x + cx, y, -x, y - cy, -x, y - ry];\n            if (strokeMatrix) strokeMatrix.transform(c, c, 32);\n            ctx.moveTo(c[0], c[1]);\n            ctx.bezierCurveTo(c[2], c[3], c[4], c[5], c[6], c[7]);\n            if (x !== rx) ctx.lineTo(c[8], c[9]);\n            ctx.bezierCurveTo(c[10], c[11], c[12], c[13], c[14], c[15]);\n            if (y !== ry) ctx.lineTo(c[16], c[17]);\n            ctx.bezierCurveTo(c[18], c[19], c[20], c[21], c[22], c[23]);\n            if (x !== rx) ctx.lineTo(c[24], c[25]);\n            ctx.bezierCurveTo(c[26], c[27], c[28], c[29], c[30], c[31]);\n          }\n        }\n\n        ctx.closePath();\n      }\n\n      if (!dontPaint && (hasFill || hasStroke)) {\n        this._setStyles(ctx, param, viewMatrix);\n\n        if (hasFill) {\n          ctx.fill(style.getFillRule());\n          ctx.shadowColor = 'rgba(0,0,0,0)';\n        }\n\n        if (hasStroke) ctx.stroke();\n      }\n    },\n    _canComposite: function _canComposite() {\n      return !(this.hasFill() && this.hasStroke());\n    },\n    _getBounds: function _getBounds(matrix, options) {\n      var rect = new _Rectangle(this._size).setCenter(0, 0),\n          style = this._style,\n          strokeWidth = options.stroke && style.hasStroke() && style.getStrokeWidth();\n      if (matrix) rect = matrix._transformBounds(rect);\n      return strokeWidth ? rect.expand(Path._getStrokePadding(strokeWidth, this._getStrokeMatrix(matrix, options))) : rect;\n    }\n  }, new function () {\n    function getCornerCenter(that, point, expand) {\n      var radius = that._radius;\n\n      if (!radius.isZero()) {\n        var halfSize = that._size.divide(2);\n\n        for (var q = 1; q <= 4; q++) {\n          var dir = new Point(q > 1 && q < 4 ? -1 : 1, q > 2 ? -1 : 1),\n              corner = dir.multiply(halfSize),\n              center = corner.subtract(dir.multiply(radius)),\n              rect = new _Rectangle(expand ? corner.add(dir.multiply(expand)) : corner, center);\n          if (rect.contains(point)) return {\n            point: center,\n            quadrant: q\n          };\n        }\n      }\n    }\n\n    function isOnEllipseStroke(point, radius, padding, quadrant) {\n      var vector = point.divide(radius);\n      return (!quadrant || vector.isInQuadrant(quadrant)) && vector.subtract(vector.normalize()).multiply(radius).divide(padding).length <= 1;\n    }\n\n    return {\n      _contains: function _contains(point) {\n        if (this._type === 'rectangle') {\n          var center = getCornerCenter(this, point);\n          return center ? point.subtract(center.point).divide(this._radius).getLength() <= 1 : _contains.base.call(this, point);\n        } else {\n          return point.divide(this.size).getLength() <= 0.5;\n        }\n      },\n      _hitTestSelf: function _hitTestSelf(point, options, viewMatrix, strokeMatrix) {\n        var hit = false,\n            style = this._style,\n            hitStroke = options.stroke && style.hasStroke(),\n            hitFill = options.fill && style.hasFill();\n\n        if (hitStroke || hitFill) {\n          var type = this._type,\n              radius = this._radius,\n              strokeRadius = hitStroke ? style.getStrokeWidth() / 2 : 0,\n              strokePadding = options._tolerancePadding.add(Path._getStrokePadding(strokeRadius, !style.getStrokeScaling() && strokeMatrix));\n\n          if (type === 'rectangle') {\n            var padding = strokePadding.multiply(2),\n                center = getCornerCenter(this, point, padding);\n\n            if (center) {\n              hit = isOnEllipseStroke(point.subtract(center.point), radius, strokePadding, center.quadrant);\n            } else {\n              var rect = new _Rectangle(this._size).setCenter(0, 0),\n                  outer = rect.expand(padding),\n                  inner = rect.expand(padding.negate());\n              hit = outer._containsPoint(point) && !inner._containsPoint(point);\n            }\n          } else {\n            hit = isOnEllipseStroke(point, radius, strokePadding);\n          }\n        }\n\n        return hit ? new HitResult(hitStroke ? 'stroke' : 'fill', this) : _hitTestSelf.base.apply(this, arguments);\n      }\n    };\n  }(), {\n    statics: new function () {\n      function createShape(type, point, size, radius, args) {\n        var item = Base.create(Shape.prototype);\n        item._type = type;\n        item._size = size;\n        item._radius = radius;\n\n        item._initialize(Base.getNamed(args), point);\n\n        return item;\n      }\n\n      return {\n        Circle: function Circle() {\n          var args = arguments,\n              center = Point.readNamed(args, 'center'),\n              radius = Base.readNamed(args, 'radius');\n          return createShape('circle', center, new Size(radius * 2), radius, args);\n        },\n        Rectangle: function Rectangle() {\n          var args = arguments,\n              rect = _Rectangle.readNamed(args, 'rectangle'),\n              radius = Size.min(Size.readNamed(args, 'radius'), rect.getSize(true).divide(2));\n\n          return createShape('rectangle', rect.getCenter(true), rect.getSize(true), radius, args);\n        },\n        Ellipse: function Ellipse() {\n          var args = arguments,\n              ellipse = Shape._readEllipse(args),\n              radius = ellipse.radius;\n\n          return createShape('ellipse', ellipse.center, radius.multiply(2), radius, args);\n        },\n        _readEllipse: function _readEllipse(args) {\n          var center, radius;\n\n          if (Base.hasNamed(args, 'radius')) {\n            center = Point.readNamed(args, 'center');\n            radius = Size.readNamed(args, 'radius');\n          } else {\n            var rect = _Rectangle.readNamed(args, 'rectangle');\n\n            center = rect.getCenter(true);\n            radius = rect.getSize(true).divide(2);\n          }\n\n          return {\n            center: center,\n            radius: radius\n          };\n        }\n      };\n    }()\n  });\n  var Raster = Item.extend({\n    _class: 'Raster',\n    _applyMatrix: false,\n    _canApplyMatrix: false,\n    _boundsOptions: {\n      stroke: false,\n      handle: false\n    },\n    _serializeFields: {\n      crossOrigin: null,\n      source: null\n    },\n    _prioritize: ['crossOrigin'],\n    _smoothing: true,\n    beans: true,\n    initialize: function Raster(source, position) {\n      if (!this._initialize(source, position !== undefined && Point.read(arguments))) {\n        var image,\n            type = typeof source,\n            object = type === 'string' ? document.getElementById(source) : type === 'object' ? source : null;\n\n        if (object && object !== Item.NO_INSERT) {\n          if (object.getContent || object.naturalHeight != null) {\n            image = object;\n          } else if (object) {\n            var size = Size.read(arguments);\n\n            if (!size.isZero()) {\n              image = CanvasProvider.getCanvas(size);\n            }\n          }\n        }\n\n        if (image) {\n          this.setImage(image);\n        } else {\n          this.setSource(source);\n        }\n      }\n\n      if (!this._size) {\n        this._size = new Size();\n        this._loaded = false;\n      }\n    },\n    _equals: function _equals(item) {\n      return this.getSource() === item.getSource();\n    },\n    copyContent: function copyContent(source) {\n      var image = source._image,\n          canvas = source._canvas;\n\n      if (image) {\n        this._setImage(image);\n      } else if (canvas) {\n        var copyCanvas = CanvasProvider.getCanvas(source._size);\n        copyCanvas.getContext('2d').drawImage(canvas, 0, 0);\n\n        this._setImage(copyCanvas);\n      }\n\n      this._crossOrigin = source._crossOrigin;\n    },\n    getSize: function getSize() {\n      var size = this._size;\n      return new LinkedSize(size ? size.width : 0, size ? size.height : 0, this, 'setSize');\n    },\n    setSize: function setSize() {\n      var size = Size.read(arguments);\n\n      if (!size.equals(this._size)) {\n        if (size.width > 0 && size.height > 0) {\n          var element = this.getElement();\n\n          this._setImage(CanvasProvider.getCanvas(size));\n\n          if (element) this.getContext(true).drawImage(element, 0, 0, size.width, size.height);\n        } else {\n          if (this._canvas) CanvasProvider.release(this._canvas);\n          this._size = size.clone();\n        }\n      }\n    },\n    getWidth: function getWidth() {\n      return this._size ? this._size.width : 0;\n    },\n    setWidth: function setWidth(width) {\n      this.setSize(width, this.getHeight());\n    },\n    getHeight: function getHeight() {\n      return this._size ? this._size.height : 0;\n    },\n    setHeight: function setHeight(height) {\n      this.setSize(this.getWidth(), height);\n    },\n    getLoaded: function getLoaded() {\n      return this._loaded;\n    },\n    isEmpty: function isEmpty() {\n      var size = this._size;\n      return !size || size.width === 0 && size.height === 0;\n    },\n    getResolution: function getResolution() {\n      var matrix = this._matrix,\n          orig = new Point(0, 0).transform(matrix),\n          u = new Point(1, 0).transform(matrix).subtract(orig),\n          v = new Point(0, 1).transform(matrix).subtract(orig);\n      return new Size(72 / u.getLength(), 72 / v.getLength());\n    },\n    getPpi: '#getResolution',\n    getImage: function getImage() {\n      return this._image;\n    },\n    setImage: function setImage(image) {\n      var that = this;\n\n      function emit(event) {\n        var view = that.getView(),\n            type = event && event.type || 'load';\n\n        if (view && that.responds(type)) {\n          paper = view._scope;\n          that.emit(type, new Event(event));\n        }\n      }\n\n      this._setImage(image);\n\n      if (this._loaded) {\n        setTimeout(emit, 0);\n      } else if (image) {\n        DomEvent.add(image, {\n          load: function load(event) {\n            that._setImage(image);\n\n            emit(event);\n          },\n          error: emit\n        });\n      }\n    },\n    _setImage: function _setImage(image) {\n      if (this._canvas) CanvasProvider.release(this._canvas);\n\n      if (image && image.getContext) {\n        this._image = null;\n        this._canvas = image;\n        this._loaded = true;\n      } else {\n        this._image = image;\n        this._canvas = null;\n        this._loaded = !!(image && image.src && image.complete);\n      }\n\n      this._size = new Size(image ? image.naturalWidth || image.width : 0, image ? image.naturalHeight || image.height : 0);\n      this._context = null;\n\n      this._changed(1033);\n    },\n    getCanvas: function getCanvas() {\n      if (!this._canvas) {\n        var ctx = CanvasProvider.getContext(this._size);\n\n        try {\n          if (this._image) ctx.drawImage(this._image, 0, 0);\n          this._canvas = ctx.canvas;\n        } catch (e) {\n          CanvasProvider.release(ctx);\n        }\n      }\n\n      return this._canvas;\n    },\n    setCanvas: '#setImage',\n    getContext: function getContext(_change) {\n      if (!this._context) this._context = this.getCanvas().getContext('2d');\n\n      if (_change) {\n        this._image = null;\n\n        this._changed(1025);\n      }\n\n      return this._context;\n    },\n    setContext: function setContext(context) {\n      this._context = context;\n    },\n    getSource: function getSource() {\n      var image = this._image;\n      return image && image.src || this.toDataURL();\n    },\n    setSource: function setSource(src) {\n      var image = new self.Image(),\n          crossOrigin = this._crossOrigin;\n      if (crossOrigin) image.crossOrigin = crossOrigin;\n      if (src) image.src = src;\n      this.setImage(image);\n    },\n    getCrossOrigin: function getCrossOrigin() {\n      var image = this._image;\n      return image && image.crossOrigin || this._crossOrigin || '';\n    },\n    setCrossOrigin: function setCrossOrigin(crossOrigin) {\n      this._crossOrigin = crossOrigin;\n      var image = this._image;\n      if (image) image.crossOrigin = crossOrigin;\n    },\n    getSmoothing: function getSmoothing() {\n      return this._smoothing;\n    },\n    setSmoothing: function setSmoothing(smoothing) {\n      this._smoothing = smoothing;\n\n      this._changed(257);\n    },\n    getElement: function getElement() {\n      return this._canvas || this._loaded && this._image;\n    }\n  }, {\n    beans: false,\n    getSubCanvas: function getSubCanvas() {\n      var rect = _Rectangle.read(arguments),\n          ctx = CanvasProvider.getContext(rect.getSize());\n\n      ctx.drawImage(this.getCanvas(), rect.x, rect.y, rect.width, rect.height, 0, 0, rect.width, rect.height);\n      return ctx.canvas;\n    },\n    getSubRaster: function getSubRaster() {\n      var rect = _Rectangle.read(arguments),\n          raster = new Raster(Item.NO_INSERT);\n\n      raster._setImage(this.getSubCanvas(rect));\n\n      raster.translate(rect.getCenter().subtract(this.getSize().divide(2)));\n\n      raster._matrix.prepend(this._matrix);\n\n      raster.insertAbove(this);\n      return raster;\n    },\n    toDataURL: function toDataURL() {\n      var image = this._image,\n          src = image && image.src;\n      if (/^data:/.test(src)) return src;\n      var canvas = this.getCanvas();\n      return canvas ? canvas.toDataURL.apply(canvas, arguments) : null;\n    },\n    drawImage: function drawImage(image) {\n      var point = Point.read(arguments, 1);\n      this.getContext(true).drawImage(image, point.x, point.y);\n    },\n    getAverageColor: function getAverageColor(object) {\n      var bounds, path;\n\n      if (!object) {\n        bounds = this.getBounds();\n      } else if (object instanceof PathItem) {\n        path = object;\n        bounds = object.getBounds();\n      } else if (typeof object === 'object') {\n        if ('width' in object) {\n          bounds = new _Rectangle(object);\n        } else if ('x' in object) {\n          bounds = new _Rectangle(object.x - 0.5, object.y - 0.5, 1, 1);\n        }\n      }\n\n      if (!bounds) return null;\n      var sampleSize = 32,\n          width = Math.min(bounds.width, sampleSize),\n          height = Math.min(bounds.height, sampleSize);\n      var ctx = Raster._sampleContext;\n\n      if (!ctx) {\n        ctx = Raster._sampleContext = CanvasProvider.getContext(new Size(sampleSize));\n      } else {\n        ctx.clearRect(0, 0, sampleSize + 1, sampleSize + 1);\n      }\n\n      ctx.save();\n      var matrix = new Matrix().scale(width / bounds.width, height / bounds.height).translate(-bounds.x, -bounds.y);\n      matrix.applyToContext(ctx);\n      if (path) path.draw(ctx, new Base({\n        clip: true,\n        matrices: [matrix]\n      }));\n\n      this._matrix.applyToContext(ctx);\n\n      var element = this.getElement(),\n          size = this._size;\n      if (element) ctx.drawImage(element, -size.width / 2, -size.height / 2);\n      ctx.restore();\n      var pixels = ctx.getImageData(0.5, 0.5, Math.ceil(width), Math.ceil(height)).data,\n          channels = [0, 0, 0],\n          total = 0;\n\n      for (var i = 0, l = pixels.length; i < l; i += 4) {\n        var alpha = pixels[i + 3];\n        total += alpha;\n        alpha /= 255;\n        channels[0] += pixels[i] * alpha;\n        channels[1] += pixels[i + 1] * alpha;\n        channels[2] += pixels[i + 2] * alpha;\n      }\n\n      for (var i = 0; i < 3; i++) {\n        channels[i] /= total;\n      }\n\n      return total ? Color.read(channels) : null;\n    },\n    getPixel: function getPixel() {\n      var point = Point.read(arguments);\n      var data = this.getContext().getImageData(point.x, point.y, 1, 1).data;\n      return new Color('rgb', [data[0] / 255, data[1] / 255, data[2] / 255], data[3] / 255);\n    },\n    setPixel: function setPixel() {\n      var args = arguments,\n          point = Point.read(args),\n          color = Color.read(args),\n          components = color._convert('rgb'),\n          alpha = color._alpha,\n          ctx = this.getContext(true),\n          imageData = ctx.createImageData(1, 1),\n          data = imageData.data;\n\n      data[0] = components[0] * 255;\n      data[1] = components[1] * 255;\n      data[2] = components[2] * 255;\n      data[3] = alpha != null ? alpha * 255 : 255;\n      ctx.putImageData(imageData, point.x, point.y);\n    },\n    clear: function clear() {\n      var size = this._size;\n      this.getContext(true).clearRect(0, 0, size.width + 1, size.height + 1);\n    },\n    createImageData: function createImageData() {\n      var size = Size.read(arguments);\n      return this.getContext().createImageData(size.width, size.height);\n    },\n    getImageData: function getImageData() {\n      var rect = _Rectangle.read(arguments);\n\n      if (rect.isEmpty()) rect = new _Rectangle(this._size);\n      return this.getContext().getImageData(rect.x, rect.y, rect.width, rect.height);\n    },\n    setImageData: function setImageData(data) {\n      var point = Point.read(arguments, 1);\n      this.getContext(true).putImageData(data, point.x, point.y);\n    },\n    _getBounds: function _getBounds(matrix, options) {\n      var rect = new _Rectangle(this._size).setCenter(0, 0);\n      return matrix ? matrix._transformBounds(rect) : rect;\n    },\n    _hitTestSelf: function _hitTestSelf(point) {\n      if (this._contains(point)) {\n        var that = this;\n        return new HitResult('pixel', that, {\n          offset: point.add(that._size.divide(2)).round(),\n          color: {\n            get: function get() {\n              return that.getPixel(this.offset);\n            }\n          }\n        });\n      }\n    },\n    _draw: function _draw(ctx, param, viewMatrix) {\n      var element = this.getElement();\n\n      if (element && element.width > 0 && element.height > 0) {\n        ctx.globalAlpha = this._opacity;\n\n        this._setStyles(ctx, param, viewMatrix);\n\n        DomElement.setPrefixed(ctx, 'imageSmoothingEnabled', this._smoothing);\n        ctx.drawImage(element, -this._size.width / 2, -this._size.height / 2);\n      }\n    },\n    _canComposite: function _canComposite() {\n      return true;\n    }\n  });\n  var SymbolItem = Item.extend({\n    _class: 'SymbolItem',\n    _applyMatrix: false,\n    _canApplyMatrix: false,\n    _boundsOptions: {\n      stroke: true\n    },\n    _serializeFields: {\n      symbol: null\n    },\n    initialize: function SymbolItem(arg0, arg1) {\n      if (!this._initialize(arg0, arg1 !== undefined && Point.read(arguments, 1))) this.setDefinition(arg0 instanceof SymbolDefinition ? arg0 : new SymbolDefinition(arg0));\n    },\n    _equals: function _equals(item) {\n      return this._definition === item._definition;\n    },\n    copyContent: function copyContent(source) {\n      this.setDefinition(source._definition);\n    },\n    getDefinition: function getDefinition() {\n      return this._definition;\n    },\n    setDefinition: function setDefinition(definition) {\n      this._definition = definition;\n\n      this._changed(9);\n    },\n    getSymbol: '#getDefinition',\n    setSymbol: '#setDefinition',\n    isEmpty: function isEmpty() {\n      return this._definition._item.isEmpty();\n    },\n    _getBounds: function _getBounds(matrix, options) {\n      var item = this._definition._item;\n      return item._getCachedBounds(item._matrix.prepended(matrix), options);\n    },\n    _hitTestSelf: function _hitTestSelf(point, options, viewMatrix) {\n      var opts = options.extend({\n        all: false\n      });\n\n      var res = this._definition._item._hitTest(point, opts, viewMatrix);\n\n      if (res) res.item = this;\n      return res;\n    },\n    _draw: function _draw(ctx, param) {\n      this._definition._item.draw(ctx, param);\n    }\n  });\n  var SymbolDefinition = Base.extend({\n    _class: 'SymbolDefinition',\n    initialize: function SymbolDefinition(item, dontCenter) {\n      this._id = UID.get();\n      this.project = paper.project;\n      if (item) this.setItem(item, dontCenter);\n    },\n    _serialize: function _serialize(options, dictionary) {\n      return dictionary.add(this, function () {\n        return Base.serialize([this._class, this._item], options, false, dictionary);\n      });\n    },\n    _changed: function _changed(flags) {\n      if (flags & 8) Item._clearBoundsCache(this);\n      if (flags & 1) this.project._changed(flags);\n    },\n    getItem: function getItem() {\n      return this._item;\n    },\n    setItem: function setItem(item, _dontCenter) {\n      if (item._symbol) item = item.clone();\n      if (this._item) this._item._symbol = null;\n      this._item = item;\n      item.remove();\n      item.setSelected(false);\n      if (!_dontCenter) item.setPosition(new Point());\n      item._symbol = this;\n\n      this._changed(9);\n    },\n    getDefinition: '#getItem',\n    setDefinition: '#setItem',\n    place: function place(position) {\n      return new SymbolItem(this, position);\n    },\n    clone: function clone() {\n      return new SymbolDefinition(this._item.clone(false));\n    },\n    equals: function equals(symbol) {\n      return symbol === this || symbol && this._item.equals(symbol._item) || false;\n    }\n  });\n  var HitResult = Base.extend({\n    _class: 'HitResult',\n    initialize: function HitResult(type, item, values) {\n      this.type = type;\n      this.item = item;\n      if (values) this.inject(values);\n    },\n    statics: {\n      getOptions: function getOptions(args) {\n        var options = args && Base.read(args);\n        return new Base({\n          type: null,\n          tolerance: paper.settings.hitTolerance,\n          fill: !options,\n          stroke: !options,\n          segments: !options,\n          handles: false,\n          ends: false,\n          position: false,\n          center: false,\n          bounds: false,\n          guides: false,\n          selected: false\n        }, options);\n      }\n    }\n  });\n  var Segment = Base.extend({\n    _class: 'Segment',\n    beans: true,\n    _selection: 0,\n    initialize: function Segment(arg0, arg1, arg2, arg3, arg4, arg5) {\n      var count = arguments.length,\n          point,\n          handleIn,\n          handleOut,\n          selection;\n\n      if (count > 0) {\n        if (arg0 == null || typeof arg0 === 'object') {\n          if (count === 1 && arg0 && 'point' in arg0) {\n            point = arg0.point;\n            handleIn = arg0.handleIn;\n            handleOut = arg0.handleOut;\n            selection = arg0.selection;\n          } else {\n            point = arg0;\n            handleIn = arg1;\n            handleOut = arg2;\n            selection = arg3;\n          }\n        } else {\n          point = [arg0, arg1];\n          handleIn = arg2 !== undefined ? [arg2, arg3] : null;\n          handleOut = arg4 !== undefined ? [arg4, arg5] : null;\n        }\n      }\n\n      new SegmentPoint(point, this, '_point');\n      new SegmentPoint(handleIn, this, '_handleIn');\n      new SegmentPoint(handleOut, this, '_handleOut');\n      if (selection) this.setSelection(selection);\n    },\n    _serialize: function _serialize(options, dictionary) {\n      var point = this._point,\n          selection = this._selection,\n          obj = selection || this.hasHandles() ? [point, this._handleIn, this._handleOut] : point;\n      if (selection) obj.push(selection);\n      return Base.serialize(obj, options, true, dictionary);\n    },\n    _changed: function _changed(point) {\n      var path = this._path;\n      if (!path) return;\n      var curves = path._curves,\n          index = this._index,\n          curve;\n\n      if (curves) {\n        if ((!point || point === this._point || point === this._handleIn) && (curve = index > 0 ? curves[index - 1] : path._closed ? curves[curves.length - 1] : null)) curve._changed();\n        if ((!point || point === this._point || point === this._handleOut) && (curve = curves[index])) curve._changed();\n      }\n\n      path._changed(41);\n    },\n    getPoint: function getPoint() {\n      return this._point;\n    },\n    setPoint: function setPoint() {\n      this._point.set(Point.read(arguments));\n    },\n    getHandleIn: function getHandleIn() {\n      return this._handleIn;\n    },\n    setHandleIn: function setHandleIn() {\n      this._handleIn.set(Point.read(arguments));\n    },\n    getHandleOut: function getHandleOut() {\n      return this._handleOut;\n    },\n    setHandleOut: function setHandleOut() {\n      this._handleOut.set(Point.read(arguments));\n    },\n    hasHandles: function hasHandles() {\n      return !this._handleIn.isZero() || !this._handleOut.isZero();\n    },\n    isSmooth: function isSmooth() {\n      var handleIn = this._handleIn,\n          handleOut = this._handleOut;\n      return !handleIn.isZero() && !handleOut.isZero() && handleIn.isCollinear(handleOut);\n    },\n    clearHandles: function clearHandles() {\n      this._handleIn._set(0, 0);\n\n      this._handleOut._set(0, 0);\n    },\n    getSelection: function getSelection() {\n      return this._selection;\n    },\n    setSelection: function setSelection(selection) {\n      var oldSelection = this._selection,\n          path = this._path;\n      this._selection = selection = selection || 0;\n\n      if (path && selection !== oldSelection) {\n        path._updateSelection(this, oldSelection, selection);\n\n        path._changed(257);\n      }\n    },\n    _changeSelection: function _changeSelection(flag, selected) {\n      var selection = this._selection;\n      this.setSelection(selected ? selection | flag : selection & ~flag);\n    },\n    isSelected: function isSelected() {\n      return !!(this._selection & 7);\n    },\n    setSelected: function setSelected(selected) {\n      this._changeSelection(7, selected);\n    },\n    getIndex: function getIndex() {\n      return this._index !== undefined ? this._index : null;\n    },\n    getPath: function getPath() {\n      return this._path || null;\n    },\n    getCurve: function getCurve() {\n      var path = this._path,\n          index = this._index;\n\n      if (path) {\n        if (index > 0 && !path._closed && index === path._segments.length - 1) index--;\n        return path.getCurves()[index] || null;\n      }\n\n      return null;\n    },\n    getLocation: function getLocation() {\n      var curve = this.getCurve();\n      return curve ? new CurveLocation(curve, this === curve._segment1 ? 0 : 1) : null;\n    },\n    getNext: function getNext() {\n      var segments = this._path && this._path._segments;\n      return segments && (segments[this._index + 1] || this._path._closed && segments[0]) || null;\n    },\n    smooth: function smooth(options, _first, _last) {\n      var opts = options || {},\n          type = opts.type,\n          factor = opts.factor,\n          prev = this.getPrevious(),\n          next = this.getNext(),\n          p0 = (prev || this)._point,\n          p1 = this._point,\n          p2 = (next || this)._point,\n          d1 = p0.getDistance(p1),\n          d2 = p1.getDistance(p2);\n\n      if (!type || type === 'catmull-rom') {\n        var a = factor === undefined ? 0.5 : factor,\n            d1_a = Math.pow(d1, a),\n            d1_2a = d1_a * d1_a,\n            d2_a = Math.pow(d2, a),\n            d2_2a = d2_a * d2_a;\n\n        if (!_first && prev) {\n          var A = 2 * d2_2a + 3 * d2_a * d1_a + d1_2a,\n              N = 3 * d2_a * (d2_a + d1_a);\n          this.setHandleIn(N !== 0 ? new Point((d2_2a * p0._x + A * p1._x - d1_2a * p2._x) / N - p1._x, (d2_2a * p0._y + A * p1._y - d1_2a * p2._y) / N - p1._y) : new Point());\n        }\n\n        if (!_last && next) {\n          var A = 2 * d1_2a + 3 * d1_a * d2_a + d2_2a,\n              N = 3 * d1_a * (d1_a + d2_a);\n          this.setHandleOut(N !== 0 ? new Point((d1_2a * p2._x + A * p1._x - d2_2a * p0._x) / N - p1._x, (d1_2a * p2._y + A * p1._y - d2_2a * p0._y) / N - p1._y) : new Point());\n        }\n      } else if (type === 'geometric') {\n        if (prev && next) {\n          var vector = p0.subtract(p2),\n              t = factor === undefined ? 0.4 : factor,\n              k = t * d1 / (d1 + d2);\n          if (!_first) this.setHandleIn(vector.multiply(k));\n          if (!_last) this.setHandleOut(vector.multiply(k - t));\n        }\n      } else {\n        throw new Error('Smoothing method \\'' + type + '\\' not supported.');\n      }\n    },\n    getPrevious: function getPrevious() {\n      var segments = this._path && this._path._segments;\n      return segments && (segments[this._index - 1] || this._path._closed && segments[segments.length - 1]) || null;\n    },\n    isFirst: function isFirst() {\n      return !this._index;\n    },\n    isLast: function isLast() {\n      var path = this._path;\n      return path && this._index === path._segments.length - 1 || false;\n    },\n    reverse: function reverse() {\n      var handleIn = this._handleIn,\n          handleOut = this._handleOut,\n          tmp = handleIn.clone();\n      handleIn.set(handleOut);\n      handleOut.set(tmp);\n    },\n    reversed: function reversed() {\n      return new Segment(this._point, this._handleOut, this._handleIn);\n    },\n    remove: function remove() {\n      return this._path ? !!this._path.removeSegment(this._index) : false;\n    },\n    clone: function clone() {\n      return new Segment(this._point, this._handleIn, this._handleOut);\n    },\n    equals: function equals(segment) {\n      return segment === this || segment && this._class === segment._class && this._point.equals(segment._point) && this._handleIn.equals(segment._handleIn) && this._handleOut.equals(segment._handleOut) || false;\n    },\n    toString: function toString() {\n      var parts = ['point: ' + this._point];\n      if (!this._handleIn.isZero()) parts.push('handleIn: ' + this._handleIn);\n      if (!this._handleOut.isZero()) parts.push('handleOut: ' + this._handleOut);\n      return '{ ' + parts.join(', ') + ' }';\n    },\n    transform: function transform(matrix) {\n      this._transformCoordinates(matrix, new Array(6), true);\n\n      this._changed();\n    },\n    interpolate: function interpolate(from, to, factor) {\n      var u = 1 - factor,\n          v = factor,\n          point1 = from._point,\n          point2 = to._point,\n          handleIn1 = from._handleIn,\n          handleIn2 = to._handleIn,\n          handleOut2 = to._handleOut,\n          handleOut1 = from._handleOut;\n\n      this._point._set(u * point1._x + v * point2._x, u * point1._y + v * point2._y, true);\n\n      this._handleIn._set(u * handleIn1._x + v * handleIn2._x, u * handleIn1._y + v * handleIn2._y, true);\n\n      this._handleOut._set(u * handleOut1._x + v * handleOut2._x, u * handleOut1._y + v * handleOut2._y, true);\n\n      this._changed();\n    },\n    _transformCoordinates: function _transformCoordinates(matrix, coords, change) {\n      var point = this._point,\n          handleIn = !change || !this._handleIn.isZero() ? this._handleIn : null,\n          handleOut = !change || !this._handleOut.isZero() ? this._handleOut : null,\n          x = point._x,\n          y = point._y,\n          i = 2;\n      coords[0] = x;\n      coords[1] = y;\n\n      if (handleIn) {\n        coords[i++] = handleIn._x + x;\n        coords[i++] = handleIn._y + y;\n      }\n\n      if (handleOut) {\n        coords[i++] = handleOut._x + x;\n        coords[i++] = handleOut._y + y;\n      }\n\n      if (matrix) {\n        matrix._transformCoordinates(coords, coords, i / 2);\n\n        x = coords[0];\n        y = coords[1];\n\n        if (change) {\n          point._x = x;\n          point._y = y;\n          i = 2;\n\n          if (handleIn) {\n            handleIn._x = coords[i++] - x;\n            handleIn._y = coords[i++] - y;\n          }\n\n          if (handleOut) {\n            handleOut._x = coords[i++] - x;\n            handleOut._y = coords[i++] - y;\n          }\n        } else {\n          if (!handleIn) {\n            coords[i++] = x;\n            coords[i++] = y;\n          }\n\n          if (!handleOut) {\n            coords[i++] = x;\n            coords[i++] = y;\n          }\n        }\n      }\n\n      return coords;\n    }\n  });\n  var SegmentPoint = Point.extend({\n    initialize: function SegmentPoint(point, owner, key) {\n      var x, y, selected;\n\n      if (!point) {\n        x = y = 0;\n      } else if ((x = point[0]) !== undefined) {\n        y = point[1];\n      } else {\n        var pt = point;\n\n        if ((x = pt.x) === undefined) {\n          pt = Point.read(arguments);\n          x = pt.x;\n        }\n\n        y = pt.y;\n        selected = pt.selected;\n      }\n\n      this._x = x;\n      this._y = y;\n      this._owner = owner;\n      owner[key] = this;\n      if (selected) this.setSelected(true);\n    },\n    _set: function _set(x, y) {\n      this._x = x;\n      this._y = y;\n\n      this._owner._changed(this);\n\n      return this;\n    },\n    getX: function getX() {\n      return this._x;\n    },\n    setX: function setX(x) {\n      this._x = x;\n\n      this._owner._changed(this);\n    },\n    getY: function getY() {\n      return this._y;\n    },\n    setY: function setY(y) {\n      this._y = y;\n\n      this._owner._changed(this);\n    },\n    isZero: function isZero() {\n      var isZero = Numerical.isZero;\n      return isZero(this._x) && isZero(this._y);\n    },\n    isSelected: function isSelected() {\n      return !!(this._owner._selection & this._getSelection());\n    },\n    setSelected: function setSelected(selected) {\n      this._owner._changeSelection(this._getSelection(), selected);\n    },\n    _getSelection: function _getSelection() {\n      var owner = this._owner;\n      return this === owner._point ? 1 : this === owner._handleIn ? 2 : this === owner._handleOut ? 4 : 0;\n    }\n  });\n  var Curve = Base.extend({\n    _class: 'Curve',\n    beans: true,\n    initialize: function Curve(arg0, arg1, arg2, arg3, arg4, arg5, arg6, arg7) {\n      var count = arguments.length,\n          seg1,\n          seg2,\n          point1,\n          point2,\n          handle1,\n          handle2;\n\n      if (count === 3) {\n        this._path = arg0;\n        seg1 = arg1;\n        seg2 = arg2;\n      } else if (!count) {\n        seg1 = new Segment();\n        seg2 = new Segment();\n      } else if (count === 1) {\n        if ('segment1' in arg0) {\n          seg1 = new Segment(arg0.segment1);\n          seg2 = new Segment(arg0.segment2);\n        } else if ('point1' in arg0) {\n          point1 = arg0.point1;\n          handle1 = arg0.handle1;\n          handle2 = arg0.handle2;\n          point2 = arg0.point2;\n        } else if (Array.isArray(arg0)) {\n          point1 = [arg0[0], arg0[1]];\n          point2 = [arg0[6], arg0[7]];\n          handle1 = [arg0[2] - arg0[0], arg0[3] - arg0[1]];\n          handle2 = [arg0[4] - arg0[6], arg0[5] - arg0[7]];\n        }\n      } else if (count === 2) {\n        seg1 = new Segment(arg0);\n        seg2 = new Segment(arg1);\n      } else if (count === 4) {\n        point1 = arg0;\n        handle1 = arg1;\n        handle2 = arg2;\n        point2 = arg3;\n      } else if (count === 8) {\n        point1 = [arg0, arg1];\n        point2 = [arg6, arg7];\n        handle1 = [arg2 - arg0, arg3 - arg1];\n        handle2 = [arg4 - arg6, arg5 - arg7];\n      }\n\n      this._segment1 = seg1 || new Segment(point1, null, handle1);\n      this._segment2 = seg2 || new Segment(point2, handle2, null);\n    },\n    _serialize: function _serialize(options, dictionary) {\n      return Base.serialize(this.hasHandles() ? [this.getPoint1(), this.getHandle1(), this.getHandle2(), this.getPoint2()] : [this.getPoint1(), this.getPoint2()], options, true, dictionary);\n    },\n    _changed: function _changed() {\n      this._length = this._bounds = undefined;\n    },\n    clone: function clone() {\n      return new Curve(this._segment1, this._segment2);\n    },\n    toString: function toString() {\n      var parts = ['point1: ' + this._segment1._point];\n      if (!this._segment1._handleOut.isZero()) parts.push('handle1: ' + this._segment1._handleOut);\n      if (!this._segment2._handleIn.isZero()) parts.push('handle2: ' + this._segment2._handleIn);\n      parts.push('point2: ' + this._segment2._point);\n      return '{ ' + parts.join(', ') + ' }';\n    },\n    classify: function classify() {\n      return Curve.classify(this.getValues());\n    },\n    remove: function remove() {\n      var removed = false;\n\n      if (this._path) {\n        var segment2 = this._segment2,\n            handleOut = segment2._handleOut;\n        removed = segment2.remove();\n        if (removed) this._segment1._handleOut.set(handleOut);\n      }\n\n      return removed;\n    },\n    getPoint1: function getPoint1() {\n      return this._segment1._point;\n    },\n    setPoint1: function setPoint1() {\n      this._segment1._point.set(Point.read(arguments));\n    },\n    getPoint2: function getPoint2() {\n      return this._segment2._point;\n    },\n    setPoint2: function setPoint2() {\n      this._segment2._point.set(Point.read(arguments));\n    },\n    getHandle1: function getHandle1() {\n      return this._segment1._handleOut;\n    },\n    setHandle1: function setHandle1() {\n      this._segment1._handleOut.set(Point.read(arguments));\n    },\n    getHandle2: function getHandle2() {\n      return this._segment2._handleIn;\n    },\n    setHandle2: function setHandle2() {\n      this._segment2._handleIn.set(Point.read(arguments));\n    },\n    getSegment1: function getSegment1() {\n      return this._segment1;\n    },\n    getSegment2: function getSegment2() {\n      return this._segment2;\n    },\n    getPath: function getPath() {\n      return this._path;\n    },\n    getIndex: function getIndex() {\n      return this._segment1._index;\n    },\n    getNext: function getNext() {\n      var curves = this._path && this._path._curves;\n      return curves && (curves[this._segment1._index + 1] || this._path._closed && curves[0]) || null;\n    },\n    getPrevious: function getPrevious() {\n      var curves = this._path && this._path._curves;\n      return curves && (curves[this._segment1._index - 1] || this._path._closed && curves[curves.length - 1]) || null;\n    },\n    isFirst: function isFirst() {\n      return !this._segment1._index;\n    },\n    isLast: function isLast() {\n      var path = this._path;\n      return path && this._segment1._index === path._curves.length - 1 || false;\n    },\n    isSelected: function isSelected() {\n      return this.getPoint1().isSelected() && this.getHandle1().isSelected() && this.getHandle2().isSelected() && this.getPoint2().isSelected();\n    },\n    setSelected: function setSelected(selected) {\n      this.getPoint1().setSelected(selected);\n      this.getHandle1().setSelected(selected);\n      this.getHandle2().setSelected(selected);\n      this.getPoint2().setSelected(selected);\n    },\n    getValues: function getValues(matrix) {\n      return Curve.getValues(this._segment1, this._segment2, matrix);\n    },\n    getPoints: function getPoints() {\n      var coords = this.getValues(),\n          points = [];\n\n      for (var i = 0; i < 8; i += 2) {\n        points.push(new Point(coords[i], coords[i + 1]));\n      }\n\n      return points;\n    }\n  }, {\n    getLength: function getLength() {\n      if (this._length == null) this._length = Curve.getLength(this.getValues(), 0, 1);\n      return this._length;\n    },\n    getArea: function getArea() {\n      return Curve.getArea(this.getValues());\n    },\n    getLine: function getLine() {\n      return new Line(this._segment1._point, this._segment2._point);\n    },\n    getPart: function getPart(from, to) {\n      return new Curve(Curve.getPart(this.getValues(), from, to));\n    },\n    getPartLength: function getPartLength(from, to) {\n      return Curve.getLength(this.getValues(), from, to);\n    },\n    divideAt: function divideAt(location) {\n      return this.divideAtTime(location && location.curve === this ? location.time : this.getTimeAt(location));\n    },\n    divideAtTime: function divideAtTime(time, _setHandles) {\n      var tMin = 1e-8,\n          tMax = 1 - tMin,\n          res = null;\n\n      if (time >= tMin && time <= tMax) {\n        var parts = Curve.subdivide(this.getValues(), time),\n            left = parts[0],\n            right = parts[1],\n            setHandles = _setHandles || this.hasHandles(),\n            seg1 = this._segment1,\n            seg2 = this._segment2,\n            path = this._path;\n\n        if (setHandles) {\n          seg1._handleOut._set(left[2] - left[0], left[3] - left[1]);\n\n          seg2._handleIn._set(right[4] - right[6], right[5] - right[7]);\n        }\n\n        var x = left[6],\n            y = left[7],\n            segment = new Segment(new Point(x, y), setHandles && new Point(left[4] - x, left[5] - y), setHandles && new Point(right[2] - x, right[3] - y));\n\n        if (path) {\n          path.insert(seg1._index + 1, segment);\n          res = this.getNext();\n        } else {\n          this._segment2 = segment;\n\n          this._changed();\n\n          res = new Curve(segment, seg2);\n        }\n      }\n\n      return res;\n    },\n    splitAt: function splitAt(location) {\n      var path = this._path;\n      return path ? path.splitAt(location) : null;\n    },\n    splitAtTime: function splitAtTime(time) {\n      return this.splitAt(this.getLocationAtTime(time));\n    },\n    divide: function divide(offset, isTime) {\n      return this.divideAtTime(offset === undefined ? 0.5 : isTime ? offset : this.getTimeAt(offset));\n    },\n    split: function split(offset, isTime) {\n      return this.splitAtTime(offset === undefined ? 0.5 : isTime ? offset : this.getTimeAt(offset));\n    },\n    reversed: function reversed() {\n      return new Curve(this._segment2.reversed(), this._segment1.reversed());\n    },\n    clearHandles: function clearHandles() {\n      this._segment1._handleOut._set(0, 0);\n\n      this._segment2._handleIn._set(0, 0);\n    },\n    statics: {\n      getValues: function getValues(segment1, segment2, matrix, straight) {\n        var p1 = segment1._point,\n            h1 = segment1._handleOut,\n            h2 = segment2._handleIn,\n            p2 = segment2._point,\n            x1 = p1.x,\n            y1 = p1.y,\n            x2 = p2.x,\n            y2 = p2.y,\n            values = straight ? [x1, y1, x1, y1, x2, y2, x2, y2] : [x1, y1, x1 + h1._x, y1 + h1._y, x2 + h2._x, y2 + h2._y, x2, y2];\n        if (matrix) matrix._transformCoordinates(values, values, 4);\n        return values;\n      },\n      subdivide: function subdivide(v, t) {\n        var x0 = v[0],\n            y0 = v[1],\n            x1 = v[2],\n            y1 = v[3],\n            x2 = v[4],\n            y2 = v[5],\n            x3 = v[6],\n            y3 = v[7];\n        if (t === undefined) t = 0.5;\n        var u = 1 - t,\n            x4 = u * x0 + t * x1,\n            y4 = u * y0 + t * y1,\n            x5 = u * x1 + t * x2,\n            y5 = u * y1 + t * y2,\n            x6 = u * x2 + t * x3,\n            y6 = u * y2 + t * y3,\n            x7 = u * x4 + t * x5,\n            y7 = u * y4 + t * y5,\n            x8 = u * x5 + t * x6,\n            y8 = u * y5 + t * y6,\n            x9 = u * x7 + t * x8,\n            y9 = u * y7 + t * y8;\n        return [[x0, y0, x4, y4, x7, y7, x9, y9], [x9, y9, x8, y8, x6, y6, x3, y3]];\n      },\n      getMonoCurves: function getMonoCurves(v, dir) {\n        var curves = [],\n            io = dir ? 0 : 1,\n            o0 = v[io + 0],\n            o1 = v[io + 2],\n            o2 = v[io + 4],\n            o3 = v[io + 6];\n\n        if (o0 >= o1 === o1 >= o2 && o1 >= o2 === o2 >= o3 || Curve.isStraight(v)) {\n          curves.push(v);\n        } else {\n          var a = 3 * (o1 - o2) - o0 + o3,\n              b = 2 * (o0 + o2) - 4 * o1,\n              c = o1 - o0,\n              tMin = 1e-8,\n              tMax = 1 - tMin,\n              roots = [],\n              n = Numerical.solveQuadratic(a, b, c, roots, tMin, tMax);\n\n          if (!n) {\n            curves.push(v);\n          } else {\n            roots.sort();\n            var t = roots[0],\n                parts = Curve.subdivide(v, t);\n            curves.push(parts[0]);\n\n            if (n > 1) {\n              t = (roots[1] - t) / (1 - t);\n              parts = Curve.subdivide(parts[1], t);\n              curves.push(parts[0]);\n            }\n\n            curves.push(parts[1]);\n          }\n        }\n\n        return curves;\n      },\n      solveCubic: function solveCubic(v, coord, val, roots, min, max) {\n        var v0 = v[coord],\n            v1 = v[coord + 2],\n            v2 = v[coord + 4],\n            v3 = v[coord + 6],\n            res = 0;\n\n        if (!(v0 < val && v3 < val && v1 < val && v2 < val || v0 > val && v3 > val && v1 > val && v2 > val)) {\n          var c = 3 * (v1 - v0),\n              b = 3 * (v2 - v1) - c,\n              a = v3 - v0 - c - b;\n          res = Numerical.solveCubic(a, b, c, v0 - val, roots, min, max);\n        }\n\n        return res;\n      },\n      getTimeOf: function getTimeOf(v, point) {\n        var p0 = new Point(v[0], v[1]),\n            p3 = new Point(v[6], v[7]),\n            epsilon = 1e-12,\n            geomEpsilon = 1e-7,\n            t = point.isClose(p0, epsilon) ? 0 : point.isClose(p3, epsilon) ? 1 : null;\n\n        if (t === null) {\n          var coords = [point.x, point.y],\n              roots = [];\n\n          for (var c = 0; c < 2; c++) {\n            var count = Curve.solveCubic(v, c, coords[c], roots, 0, 1);\n\n            for (var i = 0; i < count; i++) {\n              var u = roots[i];\n              if (point.isClose(Curve.getPoint(v, u), geomEpsilon)) return u;\n            }\n          }\n        }\n\n        return point.isClose(p0, geomEpsilon) ? 0 : point.isClose(p3, geomEpsilon) ? 1 : null;\n      },\n      getNearestTime: function getNearestTime(v, point) {\n        if (Curve.isStraight(v)) {\n          var x0 = v[0],\n              y0 = v[1],\n              x3 = v[6],\n              y3 = v[7],\n              vx = x3 - x0,\n              vy = y3 - y0,\n              det = vx * vx + vy * vy;\n          if (det === 0) return 0;\n          var u = ((point.x - x0) * vx + (point.y - y0) * vy) / det;\n          return u < 1e-12 ? 0 : u > 0.999999999999 ? 1 : Curve.getTimeOf(v, new Point(x0 + u * vx, y0 + u * vy));\n        }\n\n        var count = 100,\n            minDist = Infinity,\n            minT = 0;\n\n        function refine(t) {\n          if (t >= 0 && t <= 1) {\n            var dist = point.getDistance(Curve.getPoint(v, t), true);\n\n            if (dist < minDist) {\n              minDist = dist;\n              minT = t;\n              return true;\n            }\n          }\n        }\n\n        for (var i = 0; i <= count; i++) {\n          refine(i / count);\n        }\n\n        var step = 1 / (count * 2);\n\n        while (step > 1e-8) {\n          if (!refine(minT - step) && !refine(minT + step)) step /= 2;\n        }\n\n        return minT;\n      },\n      getPart: function getPart(v, from, to) {\n        var flip = from > to;\n\n        if (flip) {\n          var tmp = from;\n          from = to;\n          to = tmp;\n        }\n\n        if (from > 0) v = Curve.subdivide(v, from)[1];\n        if (to < 1) v = Curve.subdivide(v, (to - from) / (1 - from))[0];\n        return flip ? [v[6], v[7], v[4], v[5], v[2], v[3], v[0], v[1]] : v;\n      },\n      isFlatEnough: function isFlatEnough(v, flatness) {\n        var x0 = v[0],\n            y0 = v[1],\n            x1 = v[2],\n            y1 = v[3],\n            x2 = v[4],\n            y2 = v[5],\n            x3 = v[6],\n            y3 = v[7],\n            ux = 3 * x1 - 2 * x0 - x3,\n            uy = 3 * y1 - 2 * y0 - y3,\n            vx = 3 * x2 - 2 * x3 - x0,\n            vy = 3 * y2 - 2 * y3 - y0;\n        return Math.max(ux * ux, vx * vx) + Math.max(uy * uy, vy * vy) <= 16 * flatness * flatness;\n      },\n      getArea: function getArea(v) {\n        var x0 = v[0],\n            y0 = v[1],\n            x1 = v[2],\n            y1 = v[3],\n            x2 = v[4],\n            y2 = v[5],\n            x3 = v[6],\n            y3 = v[7];\n        return 3 * ((y3 - y0) * (x1 + x2) - (x3 - x0) * (y1 + y2) + y1 * (x0 - x2) - x1 * (y0 - y2) + y3 * (x2 + x0 / 3) - x3 * (y2 + y0 / 3)) / 20;\n      },\n      getBounds: function getBounds(v) {\n        var min = v.slice(0, 2),\n            max = min.slice(),\n            roots = [0, 0];\n\n        for (var i = 0; i < 2; i++) {\n          Curve._addBounds(v[i], v[i + 2], v[i + 4], v[i + 6], i, 0, min, max, roots);\n        }\n\n        return new _Rectangle(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n      },\n      _addBounds: function _addBounds(v0, v1, v2, v3, coord, padding, min, max, roots) {\n        function add(value, padding) {\n          var left = value - padding,\n              right = value + padding;\n          if (left < min[coord]) min[coord] = left;\n          if (right > max[coord]) max[coord] = right;\n        }\n\n        padding /= 2;\n        var minPad = min[coord] - padding,\n            maxPad = max[coord] + padding;\n\n        if (v0 < minPad || v1 < minPad || v2 < minPad || v3 < minPad || v0 > maxPad || v1 > maxPad || v2 > maxPad || v3 > maxPad) {\n          if (v1 < v0 != v1 < v3 && v2 < v0 != v2 < v3) {\n            add(v0, padding);\n            add(v3, padding);\n          } else {\n            var a = 3 * (v1 - v2) - v0 + v3,\n                b = 2 * (v0 + v2) - 4 * v1,\n                c = v1 - v0,\n                count = Numerical.solveQuadratic(a, b, c, roots),\n                tMin = 1e-8,\n                tMax = 1 - tMin;\n            add(v3, 0);\n\n            for (var i = 0; i < count; i++) {\n              var t = roots[i],\n                  u = 1 - t;\n              if (tMin <= t && t <= tMax) add(u * u * u * v0 + 3 * u * u * t * v1 + 3 * u * t * t * v2 + t * t * t * v3, padding);\n            }\n          }\n        }\n      }\n    }\n  }, Base.each(['getBounds', 'getStrokeBounds', 'getHandleBounds'], function (name) {\n    this[name] = function () {\n      if (!this._bounds) this._bounds = {};\n      var bounds = this._bounds[name];\n\n      if (!bounds) {\n        bounds = this._bounds[name] = Path[name]([this._segment1, this._segment2], false, this._path);\n      }\n\n      return bounds.clone();\n    };\n  }, {}), Base.each({\n    isStraight: function isStraight(p1, h1, h2, p2) {\n      if (h1.isZero() && h2.isZero()) {\n        return true;\n      } else {\n        var v = p2.subtract(p1);\n\n        if (v.isZero()) {\n          return false;\n        } else if (v.isCollinear(h1) && v.isCollinear(h2)) {\n          var l = new Line(p1, p2),\n              epsilon = 1e-7;\n\n          if (l.getDistance(p1.add(h1)) < epsilon && l.getDistance(p2.add(h2)) < epsilon) {\n            var div = v.dot(v),\n                s1 = v.dot(h1) / div,\n                s2 = v.dot(h2) / div;\n            return s1 >= 0 && s1 <= 1 && s2 <= 0 && s2 >= -1;\n          }\n        }\n      }\n\n      return false;\n    },\n    isLinear: function isLinear(p1, h1, h2, p2) {\n      var third = p2.subtract(p1).divide(3);\n      return h1.equals(third) && h2.negate().equals(third);\n    }\n  }, function (test, name) {\n    this[name] = function (epsilon) {\n      var seg1 = this._segment1,\n          seg2 = this._segment2;\n      return test(seg1._point, seg1._handleOut, seg2._handleIn, seg2._point, epsilon);\n    };\n\n    this.statics[name] = function (v, epsilon) {\n      var x0 = v[0],\n          y0 = v[1],\n          x3 = v[6],\n          y3 = v[7];\n      return test(new Point(x0, y0), new Point(v[2] - x0, v[3] - y0), new Point(v[4] - x3, v[5] - y3), new Point(x3, y3), epsilon);\n    };\n  }, {\n    statics: {},\n    hasHandles: function hasHandles() {\n      return !this._segment1._handleOut.isZero() || !this._segment2._handleIn.isZero();\n    },\n    hasLength: function hasLength(epsilon) {\n      return (!this.getPoint1().equals(this.getPoint2()) || this.hasHandles()) && this.getLength() > (epsilon || 0);\n    },\n    isCollinear: function isCollinear(curve) {\n      return curve && this.isStraight() && curve.isStraight() && this.getLine().isCollinear(curve.getLine());\n    },\n    isHorizontal: function isHorizontal() {\n      return this.isStraight() && Math.abs(this.getTangentAtTime(0.5).y) < 1e-8;\n    },\n    isVertical: function isVertical() {\n      return this.isStraight() && Math.abs(this.getTangentAtTime(0.5).x) < 1e-8;\n    }\n  }), {\n    beans: false,\n    getLocationAt: function getLocationAt(offset, _isTime) {\n      return this.getLocationAtTime(_isTime ? offset : this.getTimeAt(offset));\n    },\n    getLocationAtTime: function getLocationAtTime(t) {\n      return t != null && t >= 0 && t <= 1 ? new CurveLocation(this, t) : null;\n    },\n    getTimeAt: function getTimeAt(offset, start) {\n      return Curve.getTimeAt(this.getValues(), offset, start);\n    },\n    getParameterAt: '#getTimeAt',\n    getTimesWithTangent: function getTimesWithTangent() {\n      var tangent = Point.read(arguments);\n      return tangent.isZero() ? [] : Curve.getTimesWithTangent(this.getValues(), tangent);\n    },\n    getOffsetAtTime: function getOffsetAtTime(t) {\n      return this.getPartLength(0, t);\n    },\n    getLocationOf: function getLocationOf() {\n      return this.getLocationAtTime(this.getTimeOf(Point.read(arguments)));\n    },\n    getOffsetOf: function getOffsetOf() {\n      var loc = this.getLocationOf.apply(this, arguments);\n      return loc ? loc.getOffset() : null;\n    },\n    getTimeOf: function getTimeOf() {\n      return Curve.getTimeOf(this.getValues(), Point.read(arguments));\n    },\n    getParameterOf: '#getTimeOf',\n    getNearestLocation: function getNearestLocation() {\n      var point = Point.read(arguments),\n          values = this.getValues(),\n          t = Curve.getNearestTime(values, point),\n          pt = Curve.getPoint(values, t);\n      return new CurveLocation(this, t, pt, null, point.getDistance(pt));\n    },\n    getNearestPoint: function getNearestPoint() {\n      var loc = this.getNearestLocation.apply(this, arguments);\n      return loc ? loc.getPoint() : loc;\n    }\n  }, new function () {\n    var methods = ['getPoint', 'getTangent', 'getNormal', 'getWeightedTangent', 'getWeightedNormal', 'getCurvature'];\n    return Base.each(methods, function (name) {\n      this[name + 'At'] = function (location, _isTime) {\n        var values = this.getValues();\n        return Curve[name](values, _isTime ? location : Curve.getTimeAt(values, location));\n      };\n\n      this[name + 'AtTime'] = function (time) {\n        return Curve[name](this.getValues(), time);\n      };\n    }, {\n      statics: {\n        _evaluateMethods: methods\n      }\n    });\n  }(), new function () {\n    function getLengthIntegrand(v) {\n      var x0 = v[0],\n          y0 = v[1],\n          x1 = v[2],\n          y1 = v[3],\n          x2 = v[4],\n          y2 = v[5],\n          x3 = v[6],\n          y3 = v[7],\n          ax = 9 * (x1 - x2) + 3 * (x3 - x0),\n          bx = 6 * (x0 + x2) - 12 * x1,\n          cx = 3 * (x1 - x0),\n          ay = 9 * (y1 - y2) + 3 * (y3 - y0),\n          by = 6 * (y0 + y2) - 12 * y1,\n          cy = 3 * (y1 - y0);\n      return function (t) {\n        var dx = (ax * t + bx) * t + cx,\n            dy = (ay * t + by) * t + cy;\n        return Math.sqrt(dx * dx + dy * dy);\n      };\n    }\n\n    function getIterations(a, b) {\n      return Math.max(2, Math.min(16, Math.ceil(Math.abs(b - a) * 32)));\n    }\n\n    function evaluate(v, t, type, normalized) {\n      if (t == null || t < 0 || t > 1) return null;\n      var x0 = v[0],\n          y0 = v[1],\n          x1 = v[2],\n          y1 = v[3],\n          x2 = v[4],\n          y2 = v[5],\n          x3 = v[6],\n          y3 = v[7],\n          isZero = Numerical.isZero;\n\n      if (isZero(x1 - x0) && isZero(y1 - y0)) {\n        x1 = x0;\n        y1 = y0;\n      }\n\n      if (isZero(x2 - x3) && isZero(y2 - y3)) {\n        x2 = x3;\n        y2 = y3;\n      }\n\n      var cx = 3 * (x1 - x0),\n          bx = 3 * (x2 - x1) - cx,\n          ax = x3 - x0 - cx - bx,\n          cy = 3 * (y1 - y0),\n          by = 3 * (y2 - y1) - cy,\n          ay = y3 - y0 - cy - by,\n          x,\n          y;\n\n      if (type === 0) {\n        x = t === 0 ? x0 : t === 1 ? x3 : ((ax * t + bx) * t + cx) * t + x0;\n        y = t === 0 ? y0 : t === 1 ? y3 : ((ay * t + by) * t + cy) * t + y0;\n      } else {\n        var tMin = 1e-8,\n            tMax = 1 - tMin;\n\n        if (t < tMin) {\n          x = cx;\n          y = cy;\n        } else if (t > tMax) {\n          x = 3 * (x3 - x2);\n          y = 3 * (y3 - y2);\n        } else {\n          x = (3 * ax * t + 2 * bx) * t + cx;\n          y = (3 * ay * t + 2 * by) * t + cy;\n        }\n\n        if (normalized) {\n          if (x === 0 && y === 0 && (t < tMin || t > tMax)) {\n            x = x2 - x1;\n            y = y2 - y1;\n          }\n\n          var len = Math.sqrt(x * x + y * y);\n\n          if (len) {\n            x /= len;\n            y /= len;\n          }\n        }\n\n        if (type === 3) {\n          var x2 = 6 * ax * t + 2 * bx,\n              y2 = 6 * ay * t + 2 * by,\n              d = Math.pow(x * x + y * y, 3 / 2);\n          x = d !== 0 ? (x * y2 - y * x2) / d : 0;\n          y = 0;\n        }\n      }\n\n      return type === 2 ? new Point(y, -x) : new Point(x, y);\n    }\n\n    return {\n      statics: {\n        classify: function classify(v) {\n          var x0 = v[0],\n              y0 = v[1],\n              x1 = v[2],\n              y1 = v[3],\n              x2 = v[4],\n              y2 = v[5],\n              x3 = v[6],\n              y3 = v[7],\n              a1 = x0 * (y3 - y2) + y0 * (x2 - x3) + x3 * y2 - y3 * x2,\n              a2 = x1 * (y0 - y3) + y1 * (x3 - x0) + x0 * y3 - y0 * x3,\n              a3 = x2 * (y1 - y0) + y2 * (x0 - x1) + x1 * y0 - y1 * x0,\n              d3 = 3 * a3,\n              d2 = d3 - a2,\n              d1 = d2 - a2 + a1,\n              l = Math.sqrt(d1 * d1 + d2 * d2 + d3 * d3),\n              s = l !== 0 ? 1 / l : 0,\n              isZero = Numerical.isZero,\n              serpentine = 'serpentine';\n          d1 *= s;\n          d2 *= s;\n          d3 *= s;\n\n          function type(type, t1, t2) {\n            var hasRoots = t1 !== undefined,\n                t1Ok = hasRoots && t1 > 0 && t1 < 1,\n                t2Ok = hasRoots && t2 > 0 && t2 < 1;\n\n            if (hasRoots && (!(t1Ok || t2Ok) || type === 'loop' && !(t1Ok && t2Ok))) {\n              type = 'arch';\n              t1Ok = t2Ok = false;\n            }\n\n            return {\n              type: type,\n              roots: t1Ok || t2Ok ? t1Ok && t2Ok ? t1 < t2 ? [t1, t2] : [t2, t1] : [t1Ok ? t1 : t2] : null\n            };\n          }\n\n          if (isZero(d1)) {\n            return isZero(d2) ? type(isZero(d3) ? 'line' : 'quadratic') : type(serpentine, d3 / (3 * d2));\n          }\n\n          var d = 3 * d2 * d2 - 4 * d1 * d3;\n\n          if (isZero(d)) {\n            return type('cusp', d2 / (2 * d1));\n          }\n\n          var f1 = d > 0 ? Math.sqrt(d / 3) : Math.sqrt(-d),\n              f2 = 2 * d1;\n          return type(d > 0 ? serpentine : 'loop', (d2 + f1) / f2, (d2 - f1) / f2);\n        },\n        getLength: function getLength(v, a, b, ds) {\n          if (a === undefined) a = 0;\n          if (b === undefined) b = 1;\n\n          if (Curve.isStraight(v)) {\n            var c = v;\n\n            if (b < 1) {\n              c = Curve.subdivide(c, b)[0];\n              a /= b;\n            }\n\n            if (a > 0) {\n              c = Curve.subdivide(c, a)[1];\n            }\n\n            var dx = c[6] - c[0],\n                dy = c[7] - c[1];\n            return Math.sqrt(dx * dx + dy * dy);\n          }\n\n          return Numerical.integrate(ds || getLengthIntegrand(v), a, b, getIterations(a, b));\n        },\n        getTimeAt: function getTimeAt(v, offset, start) {\n          if (start === undefined) start = offset < 0 ? 1 : 0;\n          if (offset === 0) return start;\n          var abs = Math.abs,\n              epsilon = 1e-12,\n              forward = offset > 0,\n              a = forward ? start : 0,\n              b = forward ? 1 : start,\n              ds = getLengthIntegrand(v),\n              rangeLength = Curve.getLength(v, a, b, ds),\n              diff = abs(offset) - rangeLength;\n\n          if (abs(diff) < epsilon) {\n            return forward ? b : a;\n          } else if (diff > epsilon) {\n            return null;\n          }\n\n          var guess = offset / rangeLength,\n              length = 0;\n\n          function f(t) {\n            length += Numerical.integrate(ds, start, t, getIterations(start, t));\n            start = t;\n            return length - offset;\n          }\n\n          return Numerical.findRoot(f, ds, start + guess, a, b, 32, 1e-12);\n        },\n        getPoint: function getPoint(v, t) {\n          return evaluate(v, t, 0, false);\n        },\n        getTangent: function getTangent(v, t) {\n          return evaluate(v, t, 1, true);\n        },\n        getWeightedTangent: function getWeightedTangent(v, t) {\n          return evaluate(v, t, 1, false);\n        },\n        getNormal: function getNormal(v, t) {\n          return evaluate(v, t, 2, true);\n        },\n        getWeightedNormal: function getWeightedNormal(v, t) {\n          return evaluate(v, t, 2, false);\n        },\n        getCurvature: function getCurvature(v, t) {\n          return evaluate(v, t, 3, false).x;\n        },\n        getPeaks: function getPeaks(v) {\n          var x0 = v[0],\n              y0 = v[1],\n              x1 = v[2],\n              y1 = v[3],\n              x2 = v[4],\n              y2 = v[5],\n              x3 = v[6],\n              y3 = v[7],\n              ax = -x0 + 3 * x1 - 3 * x2 + x3,\n              bx = 3 * x0 - 6 * x1 + 3 * x2,\n              cx = -3 * x0 + 3 * x1,\n              ay = -y0 + 3 * y1 - 3 * y2 + y3,\n              by = 3 * y0 - 6 * y1 + 3 * y2,\n              cy = -3 * y0 + 3 * y1,\n              tMin = 1e-8,\n              tMax = 1 - tMin,\n              roots = [];\n          Numerical.solveCubic(9 * (ax * ax + ay * ay), 9 * (ax * bx + by * ay), 2 * (bx * bx + by * by) + 3 * (cx * ax + cy * ay), cx * bx + by * cy, roots, tMin, tMax);\n          return roots.sort();\n        }\n      }\n    };\n  }(), new function () {\n    function addLocation(locations, include, c1, t1, c2, t2, overlap) {\n      var excludeStart = !overlap && c1.getPrevious() === c2,\n          excludeEnd = !overlap && c1 !== c2 && c1.getNext() === c2,\n          tMin = 1e-8,\n          tMax = 1 - tMin;\n\n      if (t1 !== null && t1 >= (excludeStart ? tMin : 0) && t1 <= (excludeEnd ? tMax : 1)) {\n        if (t2 !== null && t2 >= (excludeEnd ? tMin : 0) && t2 <= (excludeStart ? tMax : 1)) {\n          var loc1 = new CurveLocation(c1, t1, null, overlap),\n              loc2 = new CurveLocation(c2, t2, null, overlap);\n          loc1._intersection = loc2;\n          loc2._intersection = loc1;\n\n          if (!include || include(loc1)) {\n            CurveLocation.insert(locations, loc1, true);\n          }\n        }\n      }\n    }\n\n    function addCurveIntersections(v1, v2, c1, c2, locations, include, flip, recursion, calls, tMin, tMax, uMin, uMax) {\n      if (++calls >= 4096 || ++recursion >= 40) return calls;\n      var fatLineEpsilon = 1e-9,\n          q0x = v2[0],\n          q0y = v2[1],\n          q3x = v2[6],\n          q3y = v2[7],\n          getSignedDistance = Line.getSignedDistance,\n          d1 = getSignedDistance(q0x, q0y, q3x, q3y, v2[2], v2[3]),\n          d2 = getSignedDistance(q0x, q0y, q3x, q3y, v2[4], v2[5]),\n          factor = d1 * d2 > 0 ? 3 / 4 : 4 / 9,\n          dMin = factor * Math.min(0, d1, d2),\n          dMax = factor * Math.max(0, d1, d2),\n          dp0 = getSignedDistance(q0x, q0y, q3x, q3y, v1[0], v1[1]),\n          dp1 = getSignedDistance(q0x, q0y, q3x, q3y, v1[2], v1[3]),\n          dp2 = getSignedDistance(q0x, q0y, q3x, q3y, v1[4], v1[5]),\n          dp3 = getSignedDistance(q0x, q0y, q3x, q3y, v1[6], v1[7]),\n          hull = getConvexHull(dp0, dp1, dp2, dp3),\n          top = hull[0],\n          bottom = hull[1],\n          tMinClip,\n          tMaxClip;\n      if (d1 === 0 && d2 === 0 && dp0 === 0 && dp1 === 0 && dp2 === 0 && dp3 === 0 || (tMinClip = clipConvexHull(top, bottom, dMin, dMax)) == null || (tMaxClip = clipConvexHull(top.reverse(), bottom.reverse(), dMin, dMax)) == null) return calls;\n      var tMinNew = tMin + (tMax - tMin) * tMinClip,\n          tMaxNew = tMin + (tMax - tMin) * tMaxClip;\n\n      if (Math.max(uMax - uMin, tMaxNew - tMinNew) < fatLineEpsilon) {\n        var t = (tMinNew + tMaxNew) / 2,\n            u = (uMin + uMax) / 2;\n        addLocation(locations, include, flip ? c2 : c1, flip ? u : t, flip ? c1 : c2, flip ? t : u);\n      } else {\n        v1 = Curve.getPart(v1, tMinClip, tMaxClip);\n        var uDiff = uMax - uMin;\n\n        if (tMaxClip - tMinClip > 0.8) {\n          if (tMaxNew - tMinNew > uDiff) {\n            var parts = Curve.subdivide(v1, 0.5),\n                t = (tMinNew + tMaxNew) / 2;\n            calls = addCurveIntersections(v2, parts[0], c2, c1, locations, include, !flip, recursion, calls, uMin, uMax, tMinNew, t);\n            calls = addCurveIntersections(v2, parts[1], c2, c1, locations, include, !flip, recursion, calls, uMin, uMax, t, tMaxNew);\n          } else {\n            var parts = Curve.subdivide(v2, 0.5),\n                u = (uMin + uMax) / 2;\n            calls = addCurveIntersections(parts[0], v1, c2, c1, locations, include, !flip, recursion, calls, uMin, u, tMinNew, tMaxNew);\n            calls = addCurveIntersections(parts[1], v1, c2, c1, locations, include, !flip, recursion, calls, u, uMax, tMinNew, tMaxNew);\n          }\n        } else {\n          if (uDiff === 0 || uDiff >= fatLineEpsilon) {\n            calls = addCurveIntersections(v2, v1, c2, c1, locations, include, !flip, recursion, calls, uMin, uMax, tMinNew, tMaxNew);\n          } else {\n            calls = addCurveIntersections(v1, v2, c1, c2, locations, include, flip, recursion, calls, tMinNew, tMaxNew, uMin, uMax);\n          }\n        }\n      }\n\n      return calls;\n    }\n\n    function getConvexHull(dq0, dq1, dq2, dq3) {\n      var p0 = [0, dq0],\n          p1 = [1 / 3, dq1],\n          p2 = [2 / 3, dq2],\n          p3 = [1, dq3],\n          dist1 = dq1 - (2 * dq0 + dq3) / 3,\n          dist2 = dq2 - (dq0 + 2 * dq3) / 3,\n          hull;\n\n      if (dist1 * dist2 < 0) {\n        hull = [[p0, p1, p3], [p0, p2, p3]];\n      } else {\n        var distRatio = dist1 / dist2;\n        hull = [distRatio >= 2 ? [p0, p1, p3] : distRatio <= 0.5 ? [p0, p2, p3] : [p0, p1, p2, p3], [p0, p3]];\n      }\n\n      return (dist1 || dist2) < 0 ? hull.reverse() : hull;\n    }\n\n    function clipConvexHull(hullTop, hullBottom, dMin, dMax) {\n      if (hullTop[0][1] < dMin) {\n        return clipConvexHullPart(hullTop, true, dMin);\n      } else if (hullBottom[0][1] > dMax) {\n        return clipConvexHullPart(hullBottom, false, dMax);\n      } else {\n        return hullTop[0][0];\n      }\n    }\n\n    function clipConvexHullPart(part, top, threshold) {\n      var px = part[0][0],\n          py = part[0][1];\n\n      for (var i = 1, l = part.length; i < l; i++) {\n        var qx = part[i][0],\n            qy = part[i][1];\n\n        if (top ? qy >= threshold : qy <= threshold) {\n          return qy === threshold ? qx : px + (threshold - py) * (qx - px) / (qy - py);\n        }\n\n        px = qx;\n        py = qy;\n      }\n\n      return null;\n    }\n\n    function getCurveLineIntersections(v, px, py, vx, vy) {\n      var isZero = Numerical.isZero;\n\n      if (isZero(vx) && isZero(vy)) {\n        var t = Curve.getTimeOf(v, new Point(px, py));\n        return t === null ? [] : [t];\n      }\n\n      var angle = Math.atan2(-vy, vx),\n          sin = Math.sin(angle),\n          cos = Math.cos(angle),\n          rv = [],\n          roots = [];\n\n      for (var i = 0; i < 8; i += 2) {\n        var x = v[i] - px,\n            y = v[i + 1] - py;\n        rv.push(x * cos - y * sin, x * sin + y * cos);\n      }\n\n      Curve.solveCubic(rv, 1, 0, roots, 0, 1);\n      return roots;\n    }\n\n    function addCurveLineIntersections(v1, v2, c1, c2, locations, include, flip) {\n      var x1 = v2[0],\n          y1 = v2[1],\n          x2 = v2[6],\n          y2 = v2[7],\n          roots = getCurveLineIntersections(v1, x1, y1, x2 - x1, y2 - y1);\n\n      for (var i = 0, l = roots.length; i < l; i++) {\n        var t1 = roots[i],\n            p1 = Curve.getPoint(v1, t1),\n            t2 = Curve.getTimeOf(v2, p1);\n\n        if (t2 !== null) {\n          addLocation(locations, include, flip ? c2 : c1, flip ? t2 : t1, flip ? c1 : c2, flip ? t1 : t2);\n        }\n      }\n    }\n\n    function addLineIntersection(v1, v2, c1, c2, locations, include) {\n      var pt = Line.intersect(v1[0], v1[1], v1[6], v1[7], v2[0], v2[1], v2[6], v2[7]);\n\n      if (pt) {\n        addLocation(locations, include, c1, Curve.getTimeOf(v1, pt), c2, Curve.getTimeOf(v2, pt));\n      }\n    }\n\n    function getCurveIntersections(v1, v2, c1, c2, locations, include) {\n      var epsilon = 1e-12,\n          min = Math.min,\n          max = Math.max;\n\n      if (max(v1[0], v1[2], v1[4], v1[6]) + epsilon > min(v2[0], v2[2], v2[4], v2[6]) && min(v1[0], v1[2], v1[4], v1[6]) - epsilon < max(v2[0], v2[2], v2[4], v2[6]) && max(v1[1], v1[3], v1[5], v1[7]) + epsilon > min(v2[1], v2[3], v2[5], v2[7]) && min(v1[1], v1[3], v1[5], v1[7]) - epsilon < max(v2[1], v2[3], v2[5], v2[7])) {\n        var overlaps = getOverlaps(v1, v2);\n\n        if (overlaps) {\n          for (var i = 0; i < 2; i++) {\n            var overlap = overlaps[i];\n            addLocation(locations, include, c1, overlap[0], c2, overlap[1], true);\n          }\n        } else {\n          var straight1 = Curve.isStraight(v1),\n              straight2 = Curve.isStraight(v2),\n              straight = straight1 && straight2,\n              flip = straight1 && !straight2,\n              before = locations.length;\n          (straight ? addLineIntersection : straight1 || straight2 ? addCurveLineIntersections : addCurveIntersections)(flip ? v2 : v1, flip ? v1 : v2, flip ? c2 : c1, flip ? c1 : c2, locations, include, flip, 0, 0, 0, 1, 0, 1);\n\n          if (!straight || locations.length === before) {\n            for (var i = 0; i < 4; i++) {\n              var t1 = i >> 1,\n                  t2 = i & 1,\n                  i1 = t1 * 6,\n                  i2 = t2 * 6,\n                  p1 = new Point(v1[i1], v1[i1 + 1]),\n                  p2 = new Point(v2[i2], v2[i2 + 1]);\n\n              if (p1.isClose(p2, epsilon)) {\n                addLocation(locations, include, c1, t1, c2, t2);\n              }\n            }\n          }\n        }\n      }\n\n      return locations;\n    }\n\n    function getSelfIntersection(v1, c1, locations, include) {\n      var info = Curve.classify(v1);\n\n      if (info.type === 'loop') {\n        var roots = info.roots;\n        addLocation(locations, include, c1, roots[0], c1, roots[1]);\n      }\n\n      return locations;\n    }\n\n    function getIntersections(curves1, curves2, include, matrix1, matrix2, _returnFirst) {\n      var epsilon = 1e-7,\n          self = !curves2;\n      if (self) curves2 = curves1;\n      var length1 = curves1.length,\n          length2 = curves2.length,\n          values1 = new Array(length1),\n          values2 = self ? values1 : new Array(length2),\n          locations = [];\n\n      for (var i = 0; i < length1; i++) {\n        values1[i] = curves1[i].getValues(matrix1);\n      }\n\n      if (!self) {\n        for (var i = 0; i < length2; i++) {\n          values2[i] = curves2[i].getValues(matrix2);\n        }\n      }\n\n      var boundsCollisions = CollisionDetection.findCurveBoundsCollisions(values1, values2, epsilon);\n\n      for (var index1 = 0; index1 < length1; index1++) {\n        var curve1 = curves1[index1],\n            v1 = values1[index1];\n\n        if (self) {\n          getSelfIntersection(v1, curve1, locations, include);\n        }\n\n        var collisions1 = boundsCollisions[index1];\n\n        if (collisions1) {\n          for (var j = 0; j < collisions1.length; j++) {\n            if (_returnFirst && locations.length) return locations;\n            var index2 = collisions1[j];\n\n            if (!self || index2 > index1) {\n              var curve2 = curves2[index2],\n                  v2 = values2[index2];\n              getCurveIntersections(v1, v2, curve1, curve2, locations, include);\n            }\n          }\n        }\n      }\n\n      return locations;\n    }\n\n    function getOverlaps(v1, v2) {\n      function getSquaredLineLength(v) {\n        var x = v[6] - v[0],\n            y = v[7] - v[1];\n        return x * x + y * y;\n      }\n\n      var abs = Math.abs,\n          getDistance = Line.getDistance,\n          timeEpsilon = 1e-8,\n          geomEpsilon = 1e-7,\n          straight1 = Curve.isStraight(v1),\n          straight2 = Curve.isStraight(v2),\n          straightBoth = straight1 && straight2,\n          flip = getSquaredLineLength(v1) < getSquaredLineLength(v2),\n          l1 = flip ? v2 : v1,\n          l2 = flip ? v1 : v2,\n          px = l1[0],\n          py = l1[1],\n          vx = l1[6] - px,\n          vy = l1[7] - py;\n\n      if (getDistance(px, py, vx, vy, l2[0], l2[1], true) < geomEpsilon && getDistance(px, py, vx, vy, l2[6], l2[7], true) < geomEpsilon) {\n        if (!straightBoth && getDistance(px, py, vx, vy, l1[2], l1[3], true) < geomEpsilon && getDistance(px, py, vx, vy, l1[4], l1[5], true) < geomEpsilon && getDistance(px, py, vx, vy, l2[2], l2[3], true) < geomEpsilon && getDistance(px, py, vx, vy, l2[4], l2[5], true) < geomEpsilon) {\n          straight1 = straight2 = straightBoth = true;\n        }\n      } else if (straightBoth) {\n        return null;\n      }\n\n      if (straight1 ^ straight2) {\n        return null;\n      }\n\n      var v = [v1, v2],\n          pairs = [];\n\n      for (var i = 0; i < 4 && pairs.length < 2; i++) {\n        var i1 = i & 1,\n            i2 = i1 ^ 1,\n            t1 = i >> 1,\n            t2 = Curve.getTimeOf(v[i1], new Point(v[i2][t1 ? 6 : 0], v[i2][t1 ? 7 : 1]));\n\n        if (t2 != null) {\n          var pair = i1 ? [t1, t2] : [t2, t1];\n\n          if (!pairs.length || abs(pair[0] - pairs[0][0]) > timeEpsilon && abs(pair[1] - pairs[0][1]) > timeEpsilon) {\n            pairs.push(pair);\n          }\n        }\n\n        if (i > 2 && !pairs.length) break;\n      }\n\n      if (pairs.length !== 2) {\n        pairs = null;\n      } else if (!straightBoth) {\n        var o1 = Curve.getPart(v1, pairs[0][0], pairs[1][0]),\n            o2 = Curve.getPart(v2, pairs[0][1], pairs[1][1]);\n        if (abs(o2[2] - o1[2]) > geomEpsilon || abs(o2[3] - o1[3]) > geomEpsilon || abs(o2[4] - o1[4]) > geomEpsilon || abs(o2[5] - o1[5]) > geomEpsilon) pairs = null;\n      }\n\n      return pairs;\n    }\n\n    function getTimesWithTangent(v, tangent) {\n      var x0 = v[0],\n          y0 = v[1],\n          x1 = v[2],\n          y1 = v[3],\n          x2 = v[4],\n          y2 = v[5],\n          x3 = v[6],\n          y3 = v[7],\n          normalized = tangent.normalize(),\n          tx = normalized.x,\n          ty = normalized.y,\n          ax = 3 * x3 - 9 * x2 + 9 * x1 - 3 * x0,\n          ay = 3 * y3 - 9 * y2 + 9 * y1 - 3 * y0,\n          bx = 6 * x2 - 12 * x1 + 6 * x0,\n          by = 6 * y2 - 12 * y1 + 6 * y0,\n          cx = 3 * x1 - 3 * x0,\n          cy = 3 * y1 - 3 * y0,\n          den = 2 * ax * ty - 2 * ay * tx,\n          times = [];\n\n      if (Math.abs(den) < Numerical.CURVETIME_EPSILON) {\n        var num = ax * cy - ay * cx,\n            den = ax * by - ay * bx;\n\n        if (den != 0) {\n          var t = -num / den;\n          if (t >= 0 && t <= 1) times.push(t);\n        }\n      } else {\n        var delta = (bx * bx - 4 * ax * cx) * ty * ty + (-2 * bx * by + 4 * ay * cx + 4 * ax * cy) * tx * ty + (by * by - 4 * ay * cy) * tx * tx,\n            k = bx * ty - by * tx;\n\n        if (delta >= 0 && den != 0) {\n          var d = Math.sqrt(delta),\n              t0 = -(k + d) / den,\n              t1 = (-k + d) / den;\n          if (t0 >= 0 && t0 <= 1) times.push(t0);\n          if (t1 >= 0 && t1 <= 1) times.push(t1);\n        }\n      }\n\n      return times;\n    }\n\n    return {\n      getIntersections: function getIntersections(curve) {\n        var v1 = this.getValues(),\n            v2 = curve && curve !== this && curve.getValues();\n        return v2 ? getCurveIntersections(v1, v2, this, curve, []) : getSelfIntersection(v1, this, []);\n      },\n      statics: {\n        getOverlaps: getOverlaps,\n        getIntersections: getIntersections,\n        getCurveLineIntersections: getCurveLineIntersections,\n        getTimesWithTangent: getTimesWithTangent\n      }\n    };\n  }());\n  var CurveLocation = Base.extend({\n    _class: 'CurveLocation',\n    initialize: function CurveLocation(curve, time, point, _overlap, _distance) {\n      if (time >= 0.99999999) {\n        var next = curve.getNext();\n\n        if (next) {\n          time = 0;\n          curve = next;\n        }\n      }\n\n      this._setCurve(curve);\n\n      this._time = time;\n      this._point = point || curve.getPointAtTime(time);\n      this._overlap = _overlap;\n      this._distance = _distance;\n      this._intersection = this._next = this._previous = null;\n    },\n    _setCurve: function _setCurve(curve) {\n      var path = curve._path;\n      this._path = path;\n      this._version = path ? path._version : 0;\n      this._curve = curve;\n      this._segment = null;\n      this._segment1 = curve._segment1;\n      this._segment2 = curve._segment2;\n    },\n    _setSegment: function _setSegment(segment) {\n      this._setCurve(segment.getCurve());\n\n      this._segment = segment;\n      this._time = segment === this._segment1 ? 0 : 1;\n      this._point = segment._point.clone();\n    },\n    getSegment: function getSegment() {\n      var segment = this._segment;\n\n      if (!segment) {\n        var curve = this.getCurve(),\n            time = this.getTime();\n\n        if (time === 0) {\n          segment = curve._segment1;\n        } else if (time === 1) {\n          segment = curve._segment2;\n        } else if (time != null) {\n          segment = curve.getPartLength(0, time) < curve.getPartLength(time, 1) ? curve._segment1 : curve._segment2;\n        }\n\n        this._segment = segment;\n      }\n\n      return segment;\n    },\n    getCurve: function getCurve() {\n      var path = this._path,\n          that = this;\n\n      if (path && path._version !== this._version) {\n        this._time = this._offset = this._curveOffset = this._curve = null;\n      }\n\n      function trySegment(segment) {\n        var curve = segment && segment.getCurve();\n\n        if (curve && (that._time = curve.getTimeOf(that._point)) != null) {\n          that._setCurve(curve);\n\n          return curve;\n        }\n      }\n\n      return this._curve || trySegment(this._segment) || trySegment(this._segment1) || trySegment(this._segment2.getPrevious());\n    },\n    getPath: function getPath() {\n      var curve = this.getCurve();\n      return curve && curve._path;\n    },\n    getIndex: function getIndex() {\n      var curve = this.getCurve();\n      return curve && curve.getIndex();\n    },\n    getTime: function getTime() {\n      var curve = this.getCurve(),\n          time = this._time;\n      return curve && time == null ? this._time = curve.getTimeOf(this._point) : time;\n    },\n    getParameter: '#getTime',\n    getPoint: function getPoint() {\n      return this._point;\n    },\n    getOffset: function getOffset() {\n      var offset = this._offset;\n\n      if (offset == null) {\n        offset = 0;\n        var path = this.getPath(),\n            index = this.getIndex();\n\n        if (path && index != null) {\n          var curves = path.getCurves();\n\n          for (var i = 0; i < index; i++) {\n            offset += curves[i].getLength();\n          }\n        }\n\n        this._offset = offset += this.getCurveOffset();\n      }\n\n      return offset;\n    },\n    getCurveOffset: function getCurveOffset() {\n      var offset = this._curveOffset;\n\n      if (offset == null) {\n        var curve = this.getCurve(),\n            time = this.getTime();\n        this._curveOffset = offset = time != null && curve && curve.getPartLength(0, time);\n      }\n\n      return offset;\n    },\n    getIntersection: function getIntersection() {\n      return this._intersection;\n    },\n    getDistance: function getDistance() {\n      return this._distance;\n    },\n    divide: function divide() {\n      var curve = this.getCurve(),\n          res = curve && curve.divideAtTime(this.getTime());\n\n      if (res) {\n        this._setSegment(res._segment1);\n      }\n\n      return res;\n    },\n    split: function split() {\n      var curve = this.getCurve(),\n          path = curve._path,\n          res = curve && curve.splitAtTime(this.getTime());\n\n      if (res) {\n        this._setSegment(path.getLastSegment());\n      }\n\n      return res;\n    },\n    equals: function equals(loc, _ignoreOther) {\n      var res = this === loc;\n\n      if (!res && loc instanceof CurveLocation) {\n        var c1 = this.getCurve(),\n            c2 = loc.getCurve(),\n            p1 = c1._path,\n            p2 = c2._path;\n\n        if (p1 === p2) {\n          var abs = Math.abs,\n              epsilon = 1e-7,\n              diff = abs(this.getOffset() - loc.getOffset()),\n              i1 = !_ignoreOther && this._intersection,\n              i2 = !_ignoreOther && loc._intersection;\n          res = (diff < epsilon || p1 && abs(p1.getLength() - diff) < epsilon) && (!i1 && !i2 || i1 && i2 && i1.equals(i2, true));\n        }\n      }\n\n      return res;\n    },\n    toString: function toString() {\n      var parts = [],\n          point = this.getPoint(),\n          f = Formatter.instance;\n      if (point) parts.push('point: ' + point);\n      var index = this.getIndex();\n      if (index != null) parts.push('index: ' + index);\n      var time = this.getTime();\n      if (time != null) parts.push('time: ' + f.number(time));\n      if (this._distance != null) parts.push('distance: ' + f.number(this._distance));\n      return '{ ' + parts.join(', ') + ' }';\n    },\n    isTouching: function isTouching() {\n      var inter = this._intersection;\n\n      if (inter && this.getTangent().isCollinear(inter.getTangent())) {\n        var curve1 = this.getCurve(),\n            curve2 = inter.getCurve();\n        return !(curve1.isStraight() && curve2.isStraight() && curve1.getLine().intersect(curve2.getLine()));\n      }\n\n      return false;\n    },\n    isCrossing: function isCrossing() {\n      var inter = this._intersection;\n      if (!inter) return false;\n      var t1 = this.getTime(),\n          t2 = inter.getTime(),\n          tMin = 1e-8,\n          tMax = 1 - tMin,\n          t1Inside = t1 >= tMin && t1 <= tMax,\n          t2Inside = t2 >= tMin && t2 <= tMax;\n      if (t1Inside && t2Inside) return !this.isTouching();\n      var c2 = this.getCurve(),\n          c1 = c2 && t1 < tMin ? c2.getPrevious() : c2,\n          c4 = inter.getCurve(),\n          c3 = c4 && t2 < tMin ? c4.getPrevious() : c4;\n      if (t1 > tMax) c2 = c2.getNext();\n      if (t2 > tMax) c4 = c4.getNext();\n      if (!c1 || !c2 || !c3 || !c4) return false;\n      var offsets = [];\n\n      function addOffsets(curve, end) {\n        var v = curve.getValues(),\n            roots = Curve.classify(v).roots || Curve.getPeaks(v),\n            count = roots.length,\n            offset = Curve.getLength(v, end && count ? roots[count - 1] : 0, !end && count ? roots[0] : 1);\n        offsets.push(count ? offset : offset / 64);\n      }\n\n      function isInRange(angle, min, max) {\n        return min < max ? angle > min && angle < max : angle > min || angle < max;\n      }\n\n      if (!t1Inside) {\n        addOffsets(c1, true);\n        addOffsets(c2, false);\n      }\n\n      if (!t2Inside) {\n        addOffsets(c3, true);\n        addOffsets(c4, false);\n      }\n\n      var pt = this.getPoint(),\n          offset = Math.min.apply(Math, offsets),\n          v2 = t1Inside ? c2.getTangentAtTime(t1) : c2.getPointAt(offset).subtract(pt),\n          v1 = t1Inside ? v2.negate() : c1.getPointAt(-offset).subtract(pt),\n          v4 = t2Inside ? c4.getTangentAtTime(t2) : c4.getPointAt(offset).subtract(pt),\n          v3 = t2Inside ? v4.negate() : c3.getPointAt(-offset).subtract(pt),\n          a1 = v1.getAngle(),\n          a2 = v2.getAngle(),\n          a3 = v3.getAngle(),\n          a4 = v4.getAngle();\n      return !!(t1Inside ? isInRange(a1, a3, a4) ^ isInRange(a2, a3, a4) && isInRange(a1, a4, a3) ^ isInRange(a2, a4, a3) : isInRange(a3, a1, a2) ^ isInRange(a4, a1, a2) && isInRange(a3, a2, a1) ^ isInRange(a4, a2, a1));\n    },\n    hasOverlap: function hasOverlap() {\n      return !!this._overlap;\n    }\n  }, Base.each(Curve._evaluateMethods, function (name) {\n    var get = name + 'At';\n\n    this[name] = function () {\n      var curve = this.getCurve(),\n          time = this.getTime();\n      return time != null && curve && curve[get](time, true);\n    };\n  }, {\n    preserve: true\n  }), new function () {\n    function insert(locations, loc, merge) {\n      var length = locations.length,\n          l = 0,\n          r = length - 1;\n\n      function search(index, dir) {\n        for (var i = index + dir; i >= -1 && i <= length; i += dir) {\n          var loc2 = locations[(i % length + length) % length];\n          if (!loc.getPoint().isClose(loc2.getPoint(), 1e-7)) break;\n          if (loc.equals(loc2)) return loc2;\n        }\n\n        return null;\n      }\n\n      while (l <= r) {\n        var m = l + r >>> 1,\n            loc2 = locations[m],\n            found;\n\n        if (merge && (found = loc.equals(loc2) ? loc2 : search(m, -1) || search(m, 1))) {\n          if (loc._overlap) {\n            found._overlap = found._intersection._overlap = true;\n          }\n\n          return found;\n        }\n\n        var path1 = loc.getPath(),\n            path2 = loc2.getPath(),\n            diff = path1 !== path2 ? path1._id - path2._id : loc.getIndex() + loc.getTime() - (loc2.getIndex() + loc2.getTime());\n\n        if (diff < 0) {\n          r = m - 1;\n        } else {\n          l = m + 1;\n        }\n      }\n\n      locations.splice(l, 0, loc);\n      return loc;\n    }\n\n    return {\n      statics: {\n        insert: insert,\n        expand: function expand(locations) {\n          var expanded = locations.slice();\n\n          for (var i = locations.length - 1; i >= 0; i--) {\n            insert(expanded, locations[i]._intersection, false);\n          }\n\n          return expanded;\n        }\n      }\n    };\n  }());\n  var PathItem = Item.extend({\n    _class: 'PathItem',\n    _selectBounds: false,\n    _canScaleStroke: true,\n    beans: true,\n    initialize: function PathItem() {},\n    statics: {\n      create: function create(arg) {\n        var data, segments, compound;\n\n        if (Base.isPlainObject(arg)) {\n          segments = arg.segments;\n          data = arg.pathData;\n        } else if (Array.isArray(arg)) {\n          segments = arg;\n        } else if (typeof arg === 'string') {\n          data = arg;\n        }\n\n        if (segments) {\n          var first = segments[0];\n          compound = first && Array.isArray(first[0]);\n        } else if (data) {\n          compound = (data.match(/m/gi) || []).length > 1 || /z\\s*\\S+/i.test(data);\n        }\n\n        var ctor = compound ? CompoundPath : Path;\n        return new ctor(arg);\n      }\n    },\n    _asPathItem: function _asPathItem() {\n      return this;\n    },\n    isClockwise: function isClockwise() {\n      return this.getArea() >= 0;\n    },\n    setClockwise: function setClockwise(clockwise) {\n      if (this.isClockwise() != (clockwise = !!clockwise)) this.reverse();\n    },\n    setPathData: function setPathData(data) {\n      var parts = data && data.match(/[mlhvcsqtaz][^mlhvcsqtaz]*/ig),\n          coords,\n          relative = false,\n          previous,\n          control,\n          current = new Point(),\n          start = new Point();\n\n      function getCoord(index, coord) {\n        var val = +coords[index];\n        if (relative) val += current[coord];\n        return val;\n      }\n\n      function getPoint(index) {\n        return new Point(getCoord(index, 'x'), getCoord(index + 1, 'y'));\n      }\n\n      this.clear();\n\n      for (var i = 0, l = parts && parts.length; i < l; i++) {\n        var part = parts[i],\n            command = part[0],\n            lower = command.toLowerCase();\n        coords = part.match(/[+-]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][+-]?\\d+)?/g);\n        var length = coords && coords.length;\n        relative = command === lower;\n        if (previous === 'z' && !/[mz]/.test(lower)) this.moveTo(current);\n\n        switch (lower) {\n          case 'm':\n          case 'l':\n            var move = lower === 'm';\n\n            for (var j = 0; j < length; j += 2) {\n              this[move ? 'moveTo' : 'lineTo'](current = getPoint(j));\n\n              if (move) {\n                start = current;\n                move = false;\n              }\n            }\n\n            control = current;\n            break;\n\n          case 'h':\n          case 'v':\n            var coord = lower === 'h' ? 'x' : 'y';\n            current = current.clone();\n\n            for (var j = 0; j < length; j++) {\n              current[coord] = getCoord(j, coord);\n              this.lineTo(current);\n            }\n\n            control = current;\n            break;\n\n          case 'c':\n            for (var j = 0; j < length; j += 6) {\n              this.cubicCurveTo(getPoint(j), control = getPoint(j + 2), current = getPoint(j + 4));\n            }\n\n            break;\n\n          case 's':\n            for (var j = 0; j < length; j += 4) {\n              this.cubicCurveTo(/[cs]/.test(previous) ? current.multiply(2).subtract(control) : current, control = getPoint(j), current = getPoint(j + 2));\n              previous = lower;\n            }\n\n            break;\n\n          case 'q':\n            for (var j = 0; j < length; j += 4) {\n              this.quadraticCurveTo(control = getPoint(j), current = getPoint(j + 2));\n            }\n\n            break;\n\n          case 't':\n            for (var j = 0; j < length; j += 2) {\n              this.quadraticCurveTo(control = /[qt]/.test(previous) ? current.multiply(2).subtract(control) : current, current = getPoint(j));\n              previous = lower;\n            }\n\n            break;\n\n          case 'a':\n            for (var j = 0; j < length; j += 7) {\n              this.arcTo(current = getPoint(j + 5), new Size(+coords[j], +coords[j + 1]), +coords[j + 2], +coords[j + 4], +coords[j + 3]);\n            }\n\n            break;\n\n          case 'z':\n            this.closePath(1e-12);\n            current = start;\n            break;\n        }\n\n        previous = lower;\n      }\n    },\n    _canComposite: function _canComposite() {\n      return !(this.hasFill() && this.hasStroke());\n    },\n    _contains: function _contains(point) {\n      var winding = point.isInside(this.getBounds({\n        internal: true,\n        handle: true\n      })) ? this._getWinding(point) : {};\n      return winding.onPath || !!(this.getFillRule() === 'evenodd' ? winding.windingL & 1 || winding.windingR & 1 : winding.winding);\n    },\n    getIntersections: function getIntersections(path, include, _matrix, _returnFirst) {\n      var self = this === path || !path,\n          matrix1 = this._matrix._orNullIfIdentity(),\n          matrix2 = self ? matrix1 : (_matrix || path._matrix)._orNullIfIdentity();\n\n      return self || this.getBounds(matrix1).intersects(path.getBounds(matrix2), 1e-12) ? Curve.getIntersections(this.getCurves(), !self && path.getCurves(), include, matrix1, matrix2, _returnFirst) : [];\n    },\n    getCrossings: function getCrossings(path) {\n      return this.getIntersections(path, function (inter) {\n        return inter.isCrossing();\n      });\n    },\n    getNearestLocation: function getNearestLocation() {\n      var point = Point.read(arguments),\n          curves = this.getCurves(),\n          minDist = Infinity,\n          minLoc = null;\n\n      for (var i = 0, l = curves.length; i < l; i++) {\n        var loc = curves[i].getNearestLocation(point);\n\n        if (loc._distance < minDist) {\n          minDist = loc._distance;\n          minLoc = loc;\n        }\n      }\n\n      return minLoc;\n    },\n    getNearestPoint: function getNearestPoint() {\n      var loc = this.getNearestLocation.apply(this, arguments);\n      return loc ? loc.getPoint() : loc;\n    },\n    interpolate: function interpolate(from, to, factor) {\n      var isPath = !this._children,\n          name = isPath ? '_segments' : '_children',\n          itemsFrom = from[name],\n          itemsTo = to[name],\n          items = this[name];\n\n      if (!itemsFrom || !itemsTo || itemsFrom.length !== itemsTo.length) {\n        throw new Error('Invalid operands in interpolate() call: ' + from + ', ' + to);\n      }\n\n      var current = items.length,\n          length = itemsTo.length;\n\n      if (current < length) {\n        var ctor = isPath ? Segment : Path;\n\n        for (var i = current; i < length; i++) {\n          this.add(new ctor());\n        }\n      } else if (current > length) {\n        this[isPath ? 'removeSegments' : 'removeChildren'](length, current);\n      }\n\n      for (var i = 0; i < length; i++) {\n        items[i].interpolate(itemsFrom[i], itemsTo[i], factor);\n      }\n\n      if (isPath) {\n        this.setClosed(from._closed);\n\n        this._changed(9);\n      }\n    },\n    compare: function compare(path) {\n      var ok = false;\n\n      if (path) {\n        var paths1 = this._children || [this],\n            paths2 = path._children ? path._children.slice() : [path],\n            length1 = paths1.length,\n            length2 = paths2.length,\n            matched = [],\n            count = 0;\n        ok = true;\n        var boundsOverlaps = CollisionDetection.findBoundsOverlaps(paths1, paths2, Numerical.GEOMETRIC_EPSILON);\n\n        for (var i1 = length1 - 1; i1 >= 0 && ok; i1--) {\n          var path1 = paths1[i1];\n          ok = false;\n          var pathBoundsOverlaps = boundsOverlaps[i1];\n\n          if (pathBoundsOverlaps) {\n            for (var i2 = pathBoundsOverlaps.length - 1; i2 >= 0 && !ok; i2--) {\n              if (path1.compare(paths2[pathBoundsOverlaps[i2]])) {\n                if (!matched[pathBoundsOverlaps[i2]]) {\n                  matched[pathBoundsOverlaps[i2]] = true;\n                  count++;\n                }\n\n                ok = true;\n              }\n            }\n          }\n        }\n\n        ok = ok && count === length2;\n      }\n\n      return ok;\n    }\n  });\n  var Path = PathItem.extend({\n    _class: 'Path',\n    _serializeFields: {\n      segments: [],\n      closed: false\n    },\n    initialize: function Path(arg) {\n      this._closed = false;\n      this._segments = [];\n      this._version = 0;\n      var args = arguments,\n          segments = Array.isArray(arg) ? typeof arg[0] === 'object' ? arg : args : arg && arg.size === undefined && (arg.x !== undefined || arg.point !== undefined) ? args : null;\n\n      if (segments && segments.length > 0) {\n        this.setSegments(segments);\n      } else {\n        this._curves = undefined;\n        this._segmentSelection = 0;\n\n        if (!segments && typeof arg === 'string') {\n          this.setPathData(arg);\n          arg = null;\n        }\n      }\n\n      this._initialize(!segments && arg);\n    },\n    _equals: function _equals(item) {\n      return this._closed === item._closed && Base.equals(this._segments, item._segments);\n    },\n    copyContent: function copyContent(source) {\n      this.setSegments(source._segments);\n      this._closed = source._closed;\n    },\n    _changed: function _changed(flags) {\n      _changed.base.call(this, flags);\n\n      if (flags & 8) {\n        this._length = this._area = undefined;\n\n        if (flags & 32) {\n          this._version++;\n        } else if (this._curves) {\n          for (var i = 0, l = this._curves.length; i < l; i++) {\n            this._curves[i]._changed();\n          }\n        }\n      } else if (flags & 64) {\n        this._bounds = undefined;\n      }\n    },\n    getStyle: function getStyle() {\n      var parent = this._parent;\n      return (parent instanceof CompoundPath ? parent : this)._style;\n    },\n    getSegments: function getSegments() {\n      return this._segments;\n    },\n    setSegments: function setSegments(segments) {\n      var fullySelected = this.isFullySelected(),\n          length = segments && segments.length;\n      this._segments.length = 0;\n      this._segmentSelection = 0;\n      this._curves = undefined;\n\n      if (length) {\n        var last = segments[length - 1];\n\n        if (typeof last === 'boolean') {\n          this.setClosed(last);\n          length--;\n        }\n\n        this._add(Segment.readList(segments, 0, {}, length));\n      }\n\n      if (fullySelected) this.setFullySelected(true);\n    },\n    getFirstSegment: function getFirstSegment() {\n      return this._segments[0];\n    },\n    getLastSegment: function getLastSegment() {\n      return this._segments[this._segments.length - 1];\n    },\n    getCurves: function getCurves() {\n      var curves = this._curves,\n          segments = this._segments;\n\n      if (!curves) {\n        var length = this._countCurves();\n\n        curves = this._curves = new Array(length);\n\n        for (var i = 0; i < length; i++) {\n          curves[i] = new Curve(this, segments[i], segments[i + 1] || segments[0]);\n        }\n      }\n\n      return curves;\n    },\n    getFirstCurve: function getFirstCurve() {\n      return this.getCurves()[0];\n    },\n    getLastCurve: function getLastCurve() {\n      var curves = this.getCurves();\n      return curves[curves.length - 1];\n    },\n    isClosed: function isClosed() {\n      return this._closed;\n    },\n    setClosed: function setClosed(closed) {\n      if (this._closed != (closed = !!closed)) {\n        this._closed = closed;\n\n        if (this._curves) {\n          var length = this._curves.length = this._countCurves();\n\n          if (closed) this._curves[length - 1] = new Curve(this, this._segments[length - 1], this._segments[0]);\n        }\n\n        this._changed(41);\n      }\n    }\n  }, {\n    beans: true,\n    getPathData: function getPathData(_matrix, _precision) {\n      var segments = this._segments,\n          length = segments.length,\n          f = new Formatter(_precision),\n          coords = new Array(6),\n          first = true,\n          curX,\n          curY,\n          prevX,\n          prevY,\n          inX,\n          inY,\n          outX,\n          outY,\n          parts = [];\n\n      function addSegment(segment, skipLine) {\n        segment._transformCoordinates(_matrix, coords);\n\n        curX = coords[0];\n        curY = coords[1];\n\n        if (first) {\n          parts.push('M' + f.pair(curX, curY));\n          first = false;\n        } else {\n          inX = coords[2];\n          inY = coords[3];\n\n          if (inX === curX && inY === curY && outX === prevX && outY === prevY) {\n            if (!skipLine) {\n              var dx = curX - prevX,\n                  dy = curY - prevY;\n              parts.push(dx === 0 ? 'v' + f.number(dy) : dy === 0 ? 'h' + f.number(dx) : 'l' + f.pair(dx, dy));\n            }\n          } else {\n            parts.push('c' + f.pair(outX - prevX, outY - prevY) + ' ' + f.pair(inX - prevX, inY - prevY) + ' ' + f.pair(curX - prevX, curY - prevY));\n          }\n        }\n\n        prevX = curX;\n        prevY = curY;\n        outX = coords[4];\n        outY = coords[5];\n      }\n\n      if (!length) return '';\n\n      for (var i = 0; i < length; i++) {\n        addSegment(segments[i]);\n      }\n\n      if (this._closed && length > 0) {\n        addSegment(segments[0], true);\n        parts.push('z');\n      }\n\n      return parts.join('');\n    },\n    isEmpty: function isEmpty() {\n      return !this._segments.length;\n    },\n    _transformContent: function _transformContent(matrix) {\n      var segments = this._segments,\n          coords = new Array(6);\n\n      for (var i = 0, l = segments.length; i < l; i++) {\n        segments[i]._transformCoordinates(matrix, coords, true);\n      }\n\n      return true;\n    },\n    _add: function _add(segs, index) {\n      var segments = this._segments,\n          curves = this._curves,\n          amount = segs.length,\n          append = index == null,\n          index = append ? segments.length : index;\n\n      for (var i = 0; i < amount; i++) {\n        var segment = segs[i];\n        if (segment._path) segment = segs[i] = segment.clone();\n        segment._path = this;\n        segment._index = index + i;\n        if (segment._selection) this._updateSelection(segment, 0, segment._selection);\n      }\n\n      if (append) {\n        Base.push(segments, segs);\n      } else {\n        segments.splice.apply(segments, [index, 0].concat(segs));\n\n        for (var i = index + amount, l = segments.length; i < l; i++) {\n          segments[i]._index = i;\n        }\n      }\n\n      if (curves) {\n        var total = this._countCurves(),\n            start = index > 0 && index + amount - 1 === total ? index - 1 : index,\n            insert = start,\n            end = Math.min(start + amount, total);\n\n        if (segs._curves) {\n          curves.splice.apply(curves, [start, 0].concat(segs._curves));\n          insert += segs._curves.length;\n        }\n\n        for (var i = insert; i < end; i++) {\n          curves.splice(i, 0, new Curve(this, null, null));\n        }\n\n        this._adjustCurves(start, end);\n      }\n\n      this._changed(41);\n\n      return segs;\n    },\n    _adjustCurves: function _adjustCurves(start, end) {\n      var segments = this._segments,\n          curves = this._curves,\n          curve;\n\n      for (var i = start; i < end; i++) {\n        curve = curves[i];\n        curve._path = this;\n        curve._segment1 = segments[i];\n        curve._segment2 = segments[i + 1] || segments[0];\n\n        curve._changed();\n      }\n\n      if (curve = curves[this._closed && !start ? segments.length - 1 : start - 1]) {\n        curve._segment2 = segments[start] || segments[0];\n\n        curve._changed();\n      }\n\n      if (curve = curves[end]) {\n        curve._segment1 = segments[end];\n\n        curve._changed();\n      }\n    },\n    _countCurves: function _countCurves() {\n      var length = this._segments.length;\n      return !this._closed && length > 0 ? length - 1 : length;\n    },\n    add: function add(segment1) {\n      var args = arguments;\n      return args.length > 1 && typeof segment1 !== 'number' ? this._add(Segment.readList(args)) : this._add([Segment.read(args)])[0];\n    },\n    insert: function insert(index, segment1) {\n      var args = arguments;\n      return args.length > 2 && typeof segment1 !== 'number' ? this._add(Segment.readList(args, 1), index) : this._add([Segment.read(args, 1)], index)[0];\n    },\n    addSegment: function addSegment() {\n      return this._add([Segment.read(arguments)])[0];\n    },\n    insertSegment: function insertSegment(index) {\n      return this._add([Segment.read(arguments, 1)], index)[0];\n    },\n    addSegments: function addSegments(segments) {\n      return this._add(Segment.readList(segments));\n    },\n    insertSegments: function insertSegments(index, segments) {\n      return this._add(Segment.readList(segments), index);\n    },\n    removeSegment: function removeSegment(index) {\n      return this.removeSegments(index, index + 1)[0] || null;\n    },\n    removeSegments: function removeSegments(start, end, _includeCurves) {\n      start = start || 0;\n      end = Base.pick(end, this._segments.length);\n      var segments = this._segments,\n          curves = this._curves,\n          count = segments.length,\n          removed = segments.splice(start, end - start),\n          amount = removed.length;\n      if (!amount) return removed;\n\n      for (var i = 0; i < amount; i++) {\n        var segment = removed[i];\n        if (segment._selection) this._updateSelection(segment, segment._selection, 0);\n        segment._index = segment._path = null;\n      }\n\n      for (var i = start, l = segments.length; i < l; i++) {\n        segments[i]._index = i;\n      }\n\n      if (curves) {\n        var index = start > 0 && end === count + (this._closed ? 1 : 0) ? start - 1 : start,\n            curves = curves.splice(index, amount);\n\n        for (var i = curves.length - 1; i >= 0; i--) {\n          curves[i]._path = null;\n        }\n\n        if (_includeCurves) removed._curves = curves.slice(1);\n\n        this._adjustCurves(index, index);\n      }\n\n      this._changed(41);\n\n      return removed;\n    },\n    clear: '#removeSegments',\n    hasHandles: function hasHandles() {\n      var segments = this._segments;\n\n      for (var i = 0, l = segments.length; i < l; i++) {\n        if (segments[i].hasHandles()) return true;\n      }\n\n      return false;\n    },\n    clearHandles: function clearHandles() {\n      var segments = this._segments;\n\n      for (var i = 0, l = segments.length; i < l; i++) {\n        segments[i].clearHandles();\n      }\n    },\n    getLength: function getLength() {\n      if (this._length == null) {\n        var curves = this.getCurves(),\n            length = 0;\n\n        for (var i = 0, l = curves.length; i < l; i++) {\n          length += curves[i].getLength();\n        }\n\n        this._length = length;\n      }\n\n      return this._length;\n    },\n    getArea: function getArea() {\n      var area = this._area;\n\n      if (area == null) {\n        var segments = this._segments,\n            closed = this._closed;\n        area = 0;\n\n        for (var i = 0, l = segments.length; i < l; i++) {\n          var last = i + 1 === l;\n          area += Curve.getArea(Curve.getValues(segments[i], segments[last ? 0 : i + 1], null, last && !closed));\n        }\n\n        this._area = area;\n      }\n\n      return area;\n    },\n    isFullySelected: function isFullySelected() {\n      var length = this._segments.length;\n      return this.isSelected() && length > 0 && this._segmentSelection === length * 7;\n    },\n    setFullySelected: function setFullySelected(selected) {\n      if (selected) this._selectSegments(true);\n      this.setSelected(selected);\n    },\n    setSelection: function setSelection(selection) {\n      if (!(selection & 1)) this._selectSegments(false);\n      setSelection.base.call(this, selection);\n    },\n    _selectSegments: function _selectSegments(selected) {\n      var segments = this._segments,\n          length = segments.length,\n          selection = selected ? 7 : 0;\n      this._segmentSelection = selection * length;\n\n      for (var i = 0; i < length; i++) {\n        segments[i]._selection = selection;\n      }\n    },\n    _updateSelection: function _updateSelection(segment, oldSelection, newSelection) {\n      segment._selection = newSelection;\n      var selection = this._segmentSelection += newSelection - oldSelection;\n      if (selection > 0) this.setSelected(true);\n    },\n    divideAt: function divideAt(location) {\n      var loc = this.getLocationAt(location),\n          curve;\n      return loc && (curve = loc.getCurve().divideAt(loc.getCurveOffset())) ? curve._segment1 : null;\n    },\n    splitAt: function splitAt(location) {\n      var loc = this.getLocationAt(location),\n          index = loc && loc.index,\n          time = loc && loc.time,\n          tMin = 1e-8,\n          tMax = 1 - tMin;\n\n      if (time > tMax) {\n        index++;\n        time = 0;\n      }\n\n      var curves = this.getCurves();\n\n      if (index >= 0 && index < curves.length) {\n        if (time >= tMin) {\n          curves[index++].divideAtTime(time);\n        }\n\n        var segs = this.removeSegments(index, this._segments.length, true),\n            path;\n\n        if (this._closed) {\n          this.setClosed(false);\n          path = this;\n        } else {\n          path = new Path(Item.NO_INSERT);\n          path.insertAbove(this);\n          path.copyAttributes(this);\n        }\n\n        path._add(segs, 0);\n\n        this.addSegment(segs[0]);\n        return path;\n      }\n\n      return null;\n    },\n    split: function split(index, time) {\n      var curve,\n          location = time === undefined ? index : (curve = this.getCurves()[index]) && curve.getLocationAtTime(time);\n      return location != null ? this.splitAt(location) : null;\n    },\n    join: function join(path, tolerance) {\n      var epsilon = tolerance || 0;\n\n      if (path && path !== this) {\n        var segments = path._segments,\n            last1 = this.getLastSegment(),\n            last2 = path.getLastSegment();\n        if (!last2) return this;\n        if (last1 && last1._point.isClose(last2._point, epsilon)) path.reverse();\n        var first2 = path.getFirstSegment();\n\n        if (last1 && last1._point.isClose(first2._point, epsilon)) {\n          last1.setHandleOut(first2._handleOut);\n\n          this._add(segments.slice(1));\n        } else {\n          var first1 = this.getFirstSegment();\n          if (first1 && first1._point.isClose(first2._point, epsilon)) path.reverse();\n          last2 = path.getLastSegment();\n\n          if (first1 && first1._point.isClose(last2._point, epsilon)) {\n            first1.setHandleIn(last2._handleIn);\n\n            this._add(segments.slice(0, segments.length - 1), 0);\n          } else {\n            this._add(segments.slice());\n          }\n        }\n\n        if (path._closed) this._add([segments[0]]);\n        path.remove();\n      }\n\n      var first = this.getFirstSegment(),\n          last = this.getLastSegment();\n\n      if (first !== last && first._point.isClose(last._point, epsilon)) {\n        first.setHandleIn(last._handleIn);\n        last.remove();\n        this.setClosed(true);\n      }\n\n      return this;\n    },\n    reduce: function reduce(options) {\n      var curves = this.getCurves(),\n          simplify = options && options.simplify,\n          tolerance = simplify ? 1e-7 : 0;\n\n      for (var i = curves.length - 1; i >= 0; i--) {\n        var curve = curves[i];\n        if (!curve.hasHandles() && (!curve.hasLength(tolerance) || simplify && curve.isCollinear(curve.getNext()))) curve.remove();\n      }\n\n      return this;\n    },\n    reverse: function reverse() {\n      this._segments.reverse();\n\n      for (var i = 0, l = this._segments.length; i < l; i++) {\n        var segment = this._segments[i];\n        var handleIn = segment._handleIn;\n        segment._handleIn = segment._handleOut;\n        segment._handleOut = handleIn;\n        segment._index = i;\n      }\n\n      this._curves = null;\n\n      this._changed(9);\n    },\n    flatten: function flatten(flatness) {\n      var flattener = new PathFlattener(this, flatness || 0.25, 256, true),\n          parts = flattener.parts,\n          length = parts.length,\n          segments = [];\n\n      for (var i = 0; i < length; i++) {\n        segments.push(new Segment(parts[i].curve.slice(0, 2)));\n      }\n\n      if (!this._closed && length > 0) {\n        segments.push(new Segment(parts[length - 1].curve.slice(6)));\n      }\n\n      this.setSegments(segments);\n    },\n    simplify: function simplify(tolerance) {\n      var segments = new PathFitter(this).fit(tolerance || 2.5);\n      if (segments) this.setSegments(segments);\n      return !!segments;\n    },\n    smooth: function smooth(options) {\n      var that = this,\n          opts = options || {},\n          type = opts.type || 'asymmetric',\n          segments = this._segments,\n          length = segments.length,\n          closed = this._closed;\n\n      function getIndex(value, _default) {\n        var index = value && value.index;\n\n        if (index != null) {\n          var path = value.path;\n          if (path && path !== that) throw new Error(value._class + ' ' + index + ' of ' + path + ' is not part of ' + that);\n          if (_default && value instanceof Curve) index++;\n        } else {\n          index = typeof value === 'number' ? value : _default;\n        }\n\n        return Math.min(index < 0 && closed ? index % length : index < 0 ? index + length : index, length - 1);\n      }\n\n      var loop = closed && opts.from === undefined && opts.to === undefined,\n          from = getIndex(opts.from, 0),\n          to = getIndex(opts.to, length - 1);\n\n      if (from > to) {\n        if (closed) {\n          from -= length;\n        } else {\n          var tmp = from;\n          from = to;\n          to = tmp;\n        }\n      }\n\n      if (/^(?:asymmetric|continuous)$/.test(type)) {\n        var asymmetric = type === 'asymmetric',\n            min = Math.min,\n            amount = to - from + 1,\n            n = amount - 1,\n            padding = loop ? min(amount, 4) : 1,\n            paddingLeft = padding,\n            paddingRight = padding,\n            knots = [];\n\n        if (!closed) {\n          paddingLeft = min(1, from);\n          paddingRight = min(1, length - to - 1);\n        }\n\n        n += paddingLeft + paddingRight;\n        if (n <= 1) return;\n\n        for (var i = 0, j = from - paddingLeft; i <= n; i++, j++) {\n          knots[i] = segments[(j < 0 ? j + length : j) % length]._point;\n        }\n\n        var x = knots[0]._x + 2 * knots[1]._x,\n            y = knots[0]._y + 2 * knots[1]._y,\n            f = 2,\n            n_1 = n - 1,\n            rx = [x],\n            ry = [y],\n            rf = [f],\n            px = [],\n            py = [];\n\n        for (var i = 1; i < n; i++) {\n          var internal = i < n_1,\n              a = internal ? 1 : asymmetric ? 1 : 2,\n              b = internal ? 4 : asymmetric ? 2 : 7,\n              u = internal ? 4 : asymmetric ? 3 : 8,\n              v = internal ? 2 : asymmetric ? 0 : 1,\n              m = a / f;\n          f = rf[i] = b - m;\n          x = rx[i] = u * knots[i]._x + v * knots[i + 1]._x - m * x;\n          y = ry[i] = u * knots[i]._y + v * knots[i + 1]._y - m * y;\n        }\n\n        px[n_1] = rx[n_1] / rf[n_1];\n        py[n_1] = ry[n_1] / rf[n_1];\n\n        for (var i = n - 2; i >= 0; i--) {\n          px[i] = (rx[i] - px[i + 1]) / rf[i];\n          py[i] = (ry[i] - py[i + 1]) / rf[i];\n        }\n\n        px[n] = (3 * knots[n]._x - px[n_1]) / 2;\n        py[n] = (3 * knots[n]._y - py[n_1]) / 2;\n\n        for (var i = paddingLeft, max = n - paddingRight, j = from; i <= max; i++, j++) {\n          var segment = segments[j < 0 ? j + length : j],\n              pt = segment._point,\n              hx = px[i] - pt._x,\n              hy = py[i] - pt._y;\n          if (loop || i < max) segment.setHandleOut(hx, hy);\n          if (loop || i > paddingLeft) segment.setHandleIn(-hx, -hy);\n        }\n      } else {\n        for (var i = from; i <= to; i++) {\n          segments[i < 0 ? i + length : i].smooth(opts, !loop && i === from, !loop && i === to);\n        }\n      }\n    },\n    toShape: function toShape(insert) {\n      if (!this._closed) return null;\n      var segments = this._segments,\n          type,\n          size,\n          radius,\n          topCenter;\n\n      function isCollinear(i, j) {\n        var seg1 = segments[i],\n            seg2 = seg1.getNext(),\n            seg3 = segments[j],\n            seg4 = seg3.getNext();\n        return seg1._handleOut.isZero() && seg2._handleIn.isZero() && seg3._handleOut.isZero() && seg4._handleIn.isZero() && seg2._point.subtract(seg1._point).isCollinear(seg4._point.subtract(seg3._point));\n      }\n\n      function isOrthogonal(i) {\n        var seg2 = segments[i],\n            seg1 = seg2.getPrevious(),\n            seg3 = seg2.getNext();\n        return seg1._handleOut.isZero() && seg2._handleIn.isZero() && seg2._handleOut.isZero() && seg3._handleIn.isZero() && seg2._point.subtract(seg1._point).isOrthogonal(seg3._point.subtract(seg2._point));\n      }\n\n      function isArc(i) {\n        var seg1 = segments[i],\n            seg2 = seg1.getNext(),\n            handle1 = seg1._handleOut,\n            handle2 = seg2._handleIn,\n            kappa = 0.5522847498307936;\n\n        if (handle1.isOrthogonal(handle2)) {\n          var pt1 = seg1._point,\n              pt2 = seg2._point,\n              corner = new Line(pt1, handle1, true).intersect(new Line(pt2, handle2, true), true);\n          return corner && Numerical.isZero(handle1.getLength() / corner.subtract(pt1).getLength() - kappa) && Numerical.isZero(handle2.getLength() / corner.subtract(pt2).getLength() - kappa);\n        }\n\n        return false;\n      }\n\n      function getDistance(i, j) {\n        return segments[i]._point.getDistance(segments[j]._point);\n      }\n\n      if (!this.hasHandles() && segments.length === 4 && isCollinear(0, 2) && isCollinear(1, 3) && isOrthogonal(1)) {\n        type = Shape.Rectangle;\n        size = new Size(getDistance(0, 3), getDistance(0, 1));\n        topCenter = segments[1]._point.add(segments[2]._point).divide(2);\n      } else if (segments.length === 8 && isArc(0) && isArc(2) && isArc(4) && isArc(6) && isCollinear(1, 5) && isCollinear(3, 7)) {\n        type = Shape.Rectangle;\n        size = new Size(getDistance(1, 6), getDistance(0, 3));\n        radius = size.subtract(new Size(getDistance(0, 7), getDistance(1, 2))).divide(2);\n        topCenter = segments[3]._point.add(segments[4]._point).divide(2);\n      } else if (segments.length === 4 && isArc(0) && isArc(1) && isArc(2) && isArc(3)) {\n        if (Numerical.isZero(getDistance(0, 2) - getDistance(1, 3))) {\n          type = Shape.Circle;\n          radius = getDistance(0, 2) / 2;\n        } else {\n          type = Shape.Ellipse;\n          radius = new Size(getDistance(2, 0) / 2, getDistance(3, 1) / 2);\n        }\n\n        topCenter = segments[1]._point;\n      }\n\n      if (type) {\n        var center = this.getPosition(true),\n            shape = new type({\n          center: center,\n          size: size,\n          radius: radius,\n          insert: false\n        });\n        shape.copyAttributes(this, true);\n\n        shape._matrix.prepend(this._matrix);\n\n        shape.rotate(topCenter.subtract(center).getAngle() + 90);\n        if (insert === undefined || insert) shape.insertAbove(this);\n        return shape;\n      }\n\n      return null;\n    },\n    toPath: '#clone',\n    compare: function compare(path) {\n      if (!path || path instanceof CompoundPath) return compare.base.call(this, path);\n      var curves1 = this.getCurves(),\n          curves2 = path.getCurves(),\n          length1 = curves1.length,\n          length2 = curves2.length;\n\n      if (!length1 || !length2) {\n        return length1 == length2;\n      }\n\n      var v1 = curves1[0].getValues(),\n          values2 = [],\n          pos1 = 0,\n          pos2,\n          end1 = 0,\n          end2;\n\n      for (var i = 0; i < length2; i++) {\n        var v2 = curves2[i].getValues();\n        values2.push(v2);\n        var overlaps = Curve.getOverlaps(v1, v2);\n\n        if (overlaps) {\n          pos2 = !i && overlaps[0][0] > 0 ? length2 - 1 : i;\n          end2 = overlaps[0][1];\n          break;\n        }\n      }\n\n      var abs = Math.abs,\n          epsilon = 1e-8,\n          v2 = values2[pos2],\n          start2;\n\n      while (v1 && v2) {\n        var overlaps = Curve.getOverlaps(v1, v2);\n\n        if (overlaps) {\n          var t1 = overlaps[0][0];\n\n          if (abs(t1 - end1) < epsilon) {\n            end1 = overlaps[1][0];\n\n            if (end1 === 1) {\n              v1 = ++pos1 < length1 ? curves1[pos1].getValues() : null;\n              end1 = 0;\n            }\n\n            var t2 = overlaps[0][1];\n\n            if (abs(t2 - end2) < epsilon) {\n              if (!start2) start2 = [pos2, t2];\n              end2 = overlaps[1][1];\n\n              if (end2 === 1) {\n                if (++pos2 >= length2) pos2 = 0;\n                v2 = values2[pos2] || curves2[pos2].getValues();\n                end2 = 0;\n              }\n\n              if (!v1) {\n                return start2[0] === pos2 && start2[1] === end2;\n              }\n\n              continue;\n            }\n          }\n        }\n\n        break;\n      }\n\n      return false;\n    },\n    _hitTestSelf: function _hitTestSelf(point, options, viewMatrix, strokeMatrix) {\n      var that = this,\n          style = this.getStyle(),\n          segments = this._segments,\n          numSegments = segments.length,\n          closed = this._closed,\n          tolerancePadding = options._tolerancePadding,\n          strokePadding = tolerancePadding,\n          join,\n          cap,\n          miterLimit,\n          area,\n          loc,\n          res,\n          hitStroke = options.stroke && style.hasStroke(),\n          hitFill = options.fill && style.hasFill(),\n          hitCurves = options.curves,\n          strokeRadius = hitStroke ? style.getStrokeWidth() / 2 : hitFill && options.tolerance > 0 || hitCurves ? 0 : null;\n\n      if (strokeRadius !== null) {\n        if (strokeRadius > 0) {\n          join = style.getStrokeJoin();\n          cap = style.getStrokeCap();\n          miterLimit = style.getMiterLimit();\n          strokePadding = strokePadding.add(Path._getStrokePadding(strokeRadius, strokeMatrix));\n        } else {\n          join = cap = 'round';\n        }\n      }\n\n      function isCloseEnough(pt, padding) {\n        return point.subtract(pt).divide(padding).length <= 1;\n      }\n\n      function checkSegmentPoint(seg, pt, name) {\n        if (!options.selected || pt.isSelected()) {\n          var anchor = seg._point;\n          if (pt !== anchor) pt = pt.add(anchor);\n\n          if (isCloseEnough(pt, strokePadding)) {\n            return new HitResult(name, that, {\n              segment: seg,\n              point: pt\n            });\n          }\n        }\n      }\n\n      function checkSegmentPoints(seg, ends) {\n        return (ends || options.segments) && checkSegmentPoint(seg, seg._point, 'segment') || !ends && options.handles && (checkSegmentPoint(seg, seg._handleIn, 'handle-in') || checkSegmentPoint(seg, seg._handleOut, 'handle-out'));\n      }\n\n      function addToArea(point) {\n        area.add(point);\n      }\n\n      function checkSegmentStroke(segment) {\n        var isJoin = closed || segment._index > 0 && segment._index < numSegments - 1;\n\n        if ((isJoin ? join : cap) === 'round') {\n          return isCloseEnough(segment._point, strokePadding);\n        } else {\n          area = new Path({\n            internal: true,\n            closed: true\n          });\n\n          if (isJoin) {\n            if (!segment.isSmooth()) {\n              Path._addBevelJoin(segment, join, strokeRadius, miterLimit, null, strokeMatrix, addToArea, true);\n            }\n          } else if (cap === 'square') {\n            Path._addSquareCap(segment, cap, strokeRadius, null, strokeMatrix, addToArea, true);\n          }\n\n          if (!area.isEmpty()) {\n            var loc;\n            return area.contains(point) || (loc = area.getNearestLocation(point)) && isCloseEnough(loc.getPoint(), tolerancePadding);\n          }\n        }\n      }\n\n      if (options.ends && !options.segments && !closed) {\n        if (res = checkSegmentPoints(segments[0], true) || checkSegmentPoints(segments[numSegments - 1], true)) return res;\n      } else if (options.segments || options.handles) {\n        for (var i = 0; i < numSegments; i++) {\n          if (res = checkSegmentPoints(segments[i])) return res;\n        }\n      }\n\n      if (strokeRadius !== null) {\n        loc = this.getNearestLocation(point);\n\n        if (loc) {\n          var time = loc.getTime();\n\n          if (time === 0 || time === 1 && numSegments > 1) {\n            if (!checkSegmentStroke(loc.getSegment())) loc = null;\n          } else if (!isCloseEnough(loc.getPoint(), strokePadding)) {\n            loc = null;\n          }\n        }\n\n        if (!loc && join === 'miter' && numSegments > 1) {\n          for (var i = 0; i < numSegments; i++) {\n            var segment = segments[i];\n\n            if (point.getDistance(segment._point) <= miterLimit * strokeRadius && checkSegmentStroke(segment)) {\n              loc = segment.getLocation();\n              break;\n            }\n          }\n        }\n      }\n\n      return !loc && hitFill && this._contains(point) || loc && !hitStroke && !hitCurves ? new HitResult('fill', this) : loc ? new HitResult(hitStroke ? 'stroke' : 'curve', this, {\n        location: loc,\n        point: loc.getPoint()\n      }) : null;\n    }\n  }, Base.each(Curve._evaluateMethods, function (name) {\n    this[name + 'At'] = function (offset) {\n      var loc = this.getLocationAt(offset);\n      return loc && loc[name]();\n    };\n  }, {\n    beans: false,\n    getLocationOf: function getLocationOf() {\n      var point = Point.read(arguments),\n          curves = this.getCurves();\n\n      for (var i = 0, l = curves.length; i < l; i++) {\n        var loc = curves[i].getLocationOf(point);\n        if (loc) return loc;\n      }\n\n      return null;\n    },\n    getOffsetOf: function getOffsetOf() {\n      var loc = this.getLocationOf.apply(this, arguments);\n      return loc ? loc.getOffset() : null;\n    },\n    getLocationAt: function getLocationAt(offset) {\n      if (typeof offset === 'number') {\n        var curves = this.getCurves(),\n            length = 0;\n\n        for (var i = 0, l = curves.length; i < l; i++) {\n          var start = length,\n              curve = curves[i];\n          length += curve.getLength();\n\n          if (length > offset) {\n            return curve.getLocationAt(offset - start);\n          }\n        }\n\n        if (curves.length > 0 && offset <= this.getLength()) {\n          return new CurveLocation(curves[curves.length - 1], 1);\n        }\n      } else if (offset && offset.getPath && offset.getPath() === this) {\n        return offset;\n      }\n\n      return null;\n    },\n    getOffsetsWithTangent: function getOffsetsWithTangent() {\n      var tangent = Point.read(arguments);\n\n      if (tangent.isZero()) {\n        return [];\n      }\n\n      var offsets = [];\n      var curveStart = 0;\n      var curves = this.getCurves();\n\n      for (var i = 0, l = curves.length; i < l; i++) {\n        var curve = curves[i];\n        var curveTimes = curve.getTimesWithTangent(tangent);\n\n        for (var j = 0, m = curveTimes.length; j < m; j++) {\n          var offset = curveStart + curve.getOffsetAtTime(curveTimes[j]);\n\n          if (offsets.indexOf(offset) < 0) {\n            offsets.push(offset);\n          }\n        }\n\n        curveStart += curve.length;\n      }\n\n      return offsets;\n    }\n  }), new function () {\n    function drawHandles(ctx, segments, matrix, size) {\n      if (size <= 0) return;\n      var half = size / 2,\n          miniSize = size - 2,\n          miniHalf = half - 1,\n          coords = new Array(6),\n          pX,\n          pY;\n\n      function drawHandle(index) {\n        var hX = coords[index],\n            hY = coords[index + 1];\n\n        if (pX != hX || pY != hY) {\n          ctx.beginPath();\n          ctx.moveTo(pX, pY);\n          ctx.lineTo(hX, hY);\n          ctx.stroke();\n          ctx.beginPath();\n          ctx.arc(hX, hY, half, 0, Math.PI * 2, true);\n          ctx.fill();\n        }\n      }\n\n      for (var i = 0, l = segments.length; i < l; i++) {\n        var segment = segments[i],\n            selection = segment._selection;\n\n        segment._transformCoordinates(matrix, coords);\n\n        pX = coords[0];\n        pY = coords[1];\n        if (selection & 2) drawHandle(2);\n        if (selection & 4) drawHandle(4);\n        ctx.fillRect(pX - half, pY - half, size, size);\n\n        if (miniSize > 0 && !(selection & 1)) {\n          var fillStyle = ctx.fillStyle;\n          ctx.fillStyle = '#ffffff';\n          ctx.fillRect(pX - miniHalf, pY - miniHalf, miniSize, miniSize);\n          ctx.fillStyle = fillStyle;\n        }\n      }\n    }\n\n    function drawSegments(ctx, path, matrix) {\n      var segments = path._segments,\n          length = segments.length,\n          coords = new Array(6),\n          first = true,\n          curX,\n          curY,\n          prevX,\n          prevY,\n          inX,\n          inY,\n          outX,\n          outY;\n\n      function drawSegment(segment) {\n        if (matrix) {\n          segment._transformCoordinates(matrix, coords);\n\n          curX = coords[0];\n          curY = coords[1];\n        } else {\n          var point = segment._point;\n          curX = point._x;\n          curY = point._y;\n        }\n\n        if (first) {\n          ctx.moveTo(curX, curY);\n          first = false;\n        } else {\n          if (matrix) {\n            inX = coords[2];\n            inY = coords[3];\n          } else {\n            var handle = segment._handleIn;\n            inX = curX + handle._x;\n            inY = curY + handle._y;\n          }\n\n          if (inX === curX && inY === curY && outX === prevX && outY === prevY) {\n            ctx.lineTo(curX, curY);\n          } else {\n            ctx.bezierCurveTo(outX, outY, inX, inY, curX, curY);\n          }\n        }\n\n        prevX = curX;\n        prevY = curY;\n\n        if (matrix) {\n          outX = coords[4];\n          outY = coords[5];\n        } else {\n          var handle = segment._handleOut;\n          outX = prevX + handle._x;\n          outY = prevY + handle._y;\n        }\n      }\n\n      for (var i = 0; i < length; i++) {\n        drawSegment(segments[i]);\n      }\n\n      if (path._closed && length > 0) drawSegment(segments[0]);\n    }\n\n    return {\n      _draw: function _draw(ctx, param, viewMatrix, strokeMatrix) {\n        var dontStart = param.dontStart,\n            dontPaint = param.dontFinish || param.clip,\n            style = this.getStyle(),\n            hasFill = style.hasFill(),\n            hasStroke = style.hasStroke(),\n            dashArray = style.getDashArray(),\n            dashLength = !paper.support.nativeDash && hasStroke && dashArray && dashArray.length;\n        if (!dontStart) ctx.beginPath();\n\n        if (hasFill || hasStroke && !dashLength || dontPaint) {\n          drawSegments(ctx, this, strokeMatrix);\n          if (this._closed) ctx.closePath();\n        }\n\n        function getOffset(i) {\n          return dashArray[(i % dashLength + dashLength) % dashLength];\n        }\n\n        if (!dontPaint && (hasFill || hasStroke)) {\n          this._setStyles(ctx, param, viewMatrix);\n\n          if (hasFill) {\n            ctx.fill(style.getFillRule());\n            ctx.shadowColor = 'rgba(0,0,0,0)';\n          }\n\n          if (hasStroke) {\n            if (dashLength) {\n              if (!dontStart) ctx.beginPath();\n              var flattener = new PathFlattener(this, 0.25, 32, false, strokeMatrix),\n                  length = flattener.length,\n                  from = -style.getDashOffset(),\n                  to,\n                  i = 0;\n              from = from % length;\n\n              while (from > 0) {\n                from -= getOffset(i--) + getOffset(i--);\n              }\n\n              while (from < length) {\n                to = from + getOffset(i++);\n                if (from > 0 || to > 0) flattener.drawPart(ctx, Math.max(from, 0), Math.max(to, 0));\n                from = to + getOffset(i++);\n              }\n            }\n\n            ctx.stroke();\n          }\n        }\n      },\n      _drawSelected: function _drawSelected(ctx, matrix) {\n        ctx.beginPath();\n        drawSegments(ctx, this, matrix);\n        ctx.stroke();\n        drawHandles(ctx, this._segments, matrix, paper.settings.handleSize);\n      }\n    };\n  }(), new function () {\n    function getCurrentSegment(that) {\n      var segments = that._segments;\n      if (!segments.length) throw new Error('Use a moveTo() command first');\n      return segments[segments.length - 1];\n    }\n\n    return {\n      moveTo: function moveTo() {\n        var segments = this._segments;\n        if (segments.length === 1) this.removeSegment(0);\n        if (!segments.length) this._add([new Segment(Point.read(arguments))]);\n      },\n      moveBy: function moveBy() {\n        throw new Error('moveBy() is unsupported on Path items.');\n      },\n      lineTo: function lineTo() {\n        this._add([new Segment(Point.read(arguments))]);\n      },\n      cubicCurveTo: function cubicCurveTo() {\n        var args = arguments,\n            handle1 = Point.read(args),\n            handle2 = Point.read(args),\n            to = Point.read(args),\n            current = getCurrentSegment(this);\n        current.setHandleOut(handle1.subtract(current._point));\n\n        this._add([new Segment(to, handle2.subtract(to))]);\n      },\n      quadraticCurveTo: function quadraticCurveTo() {\n        var args = arguments,\n            handle = Point.read(args),\n            to = Point.read(args),\n            current = getCurrentSegment(this)._point;\n\n        this.cubicCurveTo(handle.add(current.subtract(handle).multiply(1 / 3)), handle.add(to.subtract(handle).multiply(1 / 3)), to);\n      },\n      curveTo: function curveTo() {\n        var args = arguments,\n            through = Point.read(args),\n            to = Point.read(args),\n            t = Base.pick(Base.read(args), 0.5),\n            t1 = 1 - t,\n            current = getCurrentSegment(this)._point,\n            handle = through.subtract(current.multiply(t1 * t1)).subtract(to.multiply(t * t)).divide(2 * t * t1);\n\n        if (handle.isNaN()) throw new Error('Cannot put a curve through points with parameter = ' + t);\n        this.quadraticCurveTo(handle, to);\n      },\n      arcTo: function arcTo() {\n        var args = arguments,\n            abs = Math.abs,\n            sqrt = Math.sqrt,\n            current = getCurrentSegment(this),\n            from = current._point,\n            to = Point.read(args),\n            through,\n            peek = Base.peek(args),\n            clockwise = Base.pick(peek, true),\n            center,\n            extent,\n            vector,\n            matrix;\n\n        if (typeof clockwise === 'boolean') {\n          var middle = from.add(to).divide(2),\n              through = middle.add(middle.subtract(from).rotate(clockwise ? -90 : 90));\n        } else if (Base.remain(args) <= 2) {\n          through = to;\n          to = Point.read(args);\n        } else if (!from.equals(to)) {\n          var radius = Size.read(args),\n              isZero = Numerical.isZero;\n          if (isZero(radius.width) || isZero(radius.height)) return this.lineTo(to);\n          var rotation = Base.read(args),\n              clockwise = !!Base.read(args),\n              large = !!Base.read(args),\n              middle = from.add(to).divide(2),\n              pt = from.subtract(middle).rotate(-rotation),\n              x = pt.x,\n              y = pt.y,\n              rx = abs(radius.width),\n              ry = abs(radius.height),\n              rxSq = rx * rx,\n              rySq = ry * ry,\n              xSq = x * x,\n              ySq = y * y;\n          var factor = sqrt(xSq / rxSq + ySq / rySq);\n\n          if (factor > 1) {\n            rx *= factor;\n            ry *= factor;\n            rxSq = rx * rx;\n            rySq = ry * ry;\n          }\n\n          factor = (rxSq * rySq - rxSq * ySq - rySq * xSq) / (rxSq * ySq + rySq * xSq);\n          if (abs(factor) < 1e-12) factor = 0;\n          if (factor < 0) throw new Error('Cannot create an arc with the given arguments');\n          center = new Point(rx * y / ry, -ry * x / rx).multiply((large === clockwise ? -1 : 1) * sqrt(factor)).rotate(rotation).add(middle);\n          matrix = new Matrix().translate(center).rotate(rotation).scale(rx, ry);\n          vector = matrix._inverseTransform(from);\n          extent = vector.getDirectedAngle(matrix._inverseTransform(to));\n          if (!clockwise && extent > 0) extent -= 360;else if (clockwise && extent < 0) extent += 360;\n        }\n\n        if (through) {\n          var l1 = new Line(from.add(through).divide(2), through.subtract(from).rotate(90), true),\n              l2 = new Line(through.add(to).divide(2), to.subtract(through).rotate(90), true),\n              line = new Line(from, to),\n              throughSide = line.getSide(through);\n          center = l1.intersect(l2, true);\n\n          if (!center) {\n            if (!throughSide) return this.lineTo(to);\n            throw new Error('Cannot create an arc with the given arguments');\n          }\n\n          vector = from.subtract(center);\n          extent = vector.getDirectedAngle(to.subtract(center));\n          var centerSide = line.getSide(center, true);\n\n          if (centerSide === 0) {\n            extent = throughSide * abs(extent);\n          } else if (throughSide === centerSide) {\n            extent += extent < 0 ? 360 : -360;\n          }\n        }\n\n        if (extent) {\n          var epsilon = 1e-7,\n              ext = abs(extent),\n              count = ext >= 360 ? 4 : Math.ceil((ext - epsilon) / 90),\n              inc = extent / count,\n              half = inc * Math.PI / 360,\n              z = 4 / 3 * Math.sin(half) / (1 + Math.cos(half)),\n              segments = [];\n\n          for (var i = 0; i <= count; i++) {\n            var pt = to,\n                out = null;\n\n            if (i < count) {\n              out = vector.rotate(90).multiply(z);\n\n              if (matrix) {\n                pt = matrix._transformPoint(vector);\n                out = matrix._transformPoint(vector.add(out)).subtract(pt);\n              } else {\n                pt = center.add(vector);\n              }\n            }\n\n            if (!i) {\n              current.setHandleOut(out);\n            } else {\n              var _in = vector.rotate(-90).multiply(z);\n\n              if (matrix) {\n                _in = matrix._transformPoint(vector.add(_in)).subtract(pt);\n              }\n\n              segments.push(new Segment(pt, _in, out));\n            }\n\n            vector = vector.rotate(inc);\n          }\n\n          this._add(segments);\n        }\n      },\n      lineBy: function lineBy() {\n        var to = Point.read(arguments),\n            current = getCurrentSegment(this)._point;\n\n        this.lineTo(current.add(to));\n      },\n      curveBy: function curveBy() {\n        var args = arguments,\n            through = Point.read(args),\n            to = Point.read(args),\n            parameter = Base.read(args),\n            current = getCurrentSegment(this)._point;\n\n        this.curveTo(current.add(through), current.add(to), parameter);\n      },\n      cubicCurveBy: function cubicCurveBy() {\n        var args = arguments,\n            handle1 = Point.read(args),\n            handle2 = Point.read(args),\n            to = Point.read(args),\n            current = getCurrentSegment(this)._point;\n\n        this.cubicCurveTo(current.add(handle1), current.add(handle2), current.add(to));\n      },\n      quadraticCurveBy: function quadraticCurveBy() {\n        var args = arguments,\n            handle = Point.read(args),\n            to = Point.read(args),\n            current = getCurrentSegment(this)._point;\n\n        this.quadraticCurveTo(current.add(handle), current.add(to));\n      },\n      arcBy: function arcBy() {\n        var args = arguments,\n            current = getCurrentSegment(this)._point,\n            point = current.add(Point.read(args)),\n            clockwise = Base.pick(Base.peek(args), true);\n\n        if (typeof clockwise === 'boolean') {\n          this.arcTo(point, clockwise);\n        } else {\n          this.arcTo(point, current.add(Point.read(args)));\n        }\n      },\n      closePath: function closePath(tolerance) {\n        this.setClosed(true);\n        this.join(this, tolerance);\n      }\n    };\n  }(), {\n    _getBounds: function _getBounds(matrix, options) {\n      var method = options.handle ? 'getHandleBounds' : options.stroke ? 'getStrokeBounds' : 'getBounds';\n      return Path[method](this._segments, this._closed, this, matrix, options);\n    },\n    statics: {\n      getBounds: function getBounds(segments, closed, path, matrix, options, strokePadding) {\n        var first = segments[0];\n        if (!first) return new _Rectangle();\n\n        var coords = new Array(6),\n            prevCoords = first._transformCoordinates(matrix, new Array(6)),\n            min = prevCoords.slice(0, 2),\n            max = min.slice(),\n            roots = new Array(2);\n\n        function processSegment(segment) {\n          segment._transformCoordinates(matrix, coords);\n\n          for (var i = 0; i < 2; i++) {\n            Curve._addBounds(prevCoords[i], prevCoords[i + 4], coords[i + 2], coords[i], i, strokePadding ? strokePadding[i] : 0, min, max, roots);\n          }\n\n          var tmp = prevCoords;\n          prevCoords = coords;\n          coords = tmp;\n        }\n\n        for (var i = 1, l = segments.length; i < l; i++) {\n          processSegment(segments[i]);\n        }\n\n        if (closed) processSegment(first);\n        return new _Rectangle(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n      },\n      getStrokeBounds: function getStrokeBounds(segments, closed, path, matrix, options) {\n        var style = path.getStyle(),\n            stroke = style.hasStroke(),\n            strokeWidth = style.getStrokeWidth(),\n            strokeMatrix = stroke && path._getStrokeMatrix(matrix, options),\n            strokePadding = stroke && Path._getStrokePadding(strokeWidth, strokeMatrix),\n            bounds = Path.getBounds(segments, closed, path, matrix, options, strokePadding);\n\n        if (!stroke) return bounds;\n        var strokeRadius = strokeWidth / 2,\n            join = style.getStrokeJoin(),\n            cap = style.getStrokeCap(),\n            miterLimit = style.getMiterLimit(),\n            joinBounds = new _Rectangle(new Size(strokePadding));\n\n        function addPoint(point) {\n          bounds = bounds.include(point);\n        }\n\n        function addRound(segment) {\n          bounds = bounds.unite(joinBounds.setCenter(segment._point.transform(matrix)));\n        }\n\n        function addJoin(segment, join) {\n          if (join === 'round' || segment.isSmooth()) {\n            addRound(segment);\n          } else {\n            Path._addBevelJoin(segment, join, strokeRadius, miterLimit, matrix, strokeMatrix, addPoint);\n          }\n        }\n\n        function addCap(segment, cap) {\n          if (cap === 'round') {\n            addRound(segment);\n          } else {\n            Path._addSquareCap(segment, cap, strokeRadius, matrix, strokeMatrix, addPoint);\n          }\n        }\n\n        var length = segments.length - (closed ? 0 : 1);\n\n        for (var i = 1; i < length; i++) {\n          addJoin(segments[i], join);\n        }\n\n        if (closed) {\n          addJoin(segments[0], join);\n        } else if (length > 0) {\n          addCap(segments[0], cap);\n          addCap(segments[segments.length - 1], cap);\n        }\n\n        return bounds;\n      },\n      _getStrokePadding: function _getStrokePadding(radius, matrix) {\n        if (!matrix) return [radius, radius];\n        var hor = new Point(radius, 0).transform(matrix),\n            ver = new Point(0, radius).transform(matrix),\n            phi = hor.getAngleInRadians(),\n            a = hor.getLength(),\n            b = ver.getLength();\n        var sin = Math.sin(phi),\n            cos = Math.cos(phi),\n            tan = Math.tan(phi),\n            tx = Math.atan2(b * tan, a),\n            ty = Math.atan2(b, tan * a);\n        return [Math.abs(a * Math.cos(tx) * cos + b * Math.sin(tx) * sin), Math.abs(b * Math.sin(ty) * cos + a * Math.cos(ty) * sin)];\n      },\n      _addBevelJoin: function _addBevelJoin(segment, join, radius, miterLimit, matrix, strokeMatrix, addPoint, isArea) {\n        var curve2 = segment.getCurve(),\n            curve1 = curve2.getPrevious(),\n            point = curve2.getPoint1().transform(matrix),\n            normal1 = curve1.getNormalAtTime(1).multiply(radius).transform(strokeMatrix),\n            normal2 = curve2.getNormalAtTime(0).multiply(radius).transform(strokeMatrix),\n            angle = normal1.getDirectedAngle(normal2);\n\n        if (angle < 0 || angle >= 180) {\n          normal1 = normal1.negate();\n          normal2 = normal2.negate();\n        }\n\n        if (isArea) addPoint(point);\n        addPoint(point.add(normal1));\n\n        if (join === 'miter') {\n          var corner = new Line(point.add(normal1), new Point(-normal1.y, normal1.x), true).intersect(new Line(point.add(normal2), new Point(-normal2.y, normal2.x), true), true);\n\n          if (corner && point.getDistance(corner) <= miterLimit * radius) {\n            addPoint(corner);\n          }\n        }\n\n        addPoint(point.add(normal2));\n      },\n      _addSquareCap: function _addSquareCap(segment, cap, radius, matrix, strokeMatrix, addPoint, isArea) {\n        var point = segment._point.transform(matrix),\n            loc = segment.getLocation(),\n            normal = loc.getNormal().multiply(loc.getTime() === 0 ? radius : -radius).transform(strokeMatrix);\n\n        if (cap === 'square') {\n          if (isArea) {\n            addPoint(point.subtract(normal));\n            addPoint(point.add(normal));\n          }\n\n          point = point.add(normal.rotate(-90));\n        }\n\n        addPoint(point.add(normal));\n        addPoint(point.subtract(normal));\n      },\n      getHandleBounds: function getHandleBounds(segments, closed, path, matrix, options) {\n        var style = path.getStyle(),\n            stroke = options.stroke && style.hasStroke(),\n            strokePadding,\n            joinPadding;\n\n        if (stroke) {\n          var strokeMatrix = path._getStrokeMatrix(matrix, options),\n              strokeRadius = style.getStrokeWidth() / 2,\n              joinRadius = strokeRadius;\n\n          if (style.getStrokeJoin() === 'miter') joinRadius = strokeRadius * style.getMiterLimit();\n          if (style.getStrokeCap() === 'square') joinRadius = Math.max(joinRadius, strokeRadius * Math.SQRT2);\n          strokePadding = Path._getStrokePadding(strokeRadius, strokeMatrix);\n          joinPadding = Path._getStrokePadding(joinRadius, strokeMatrix);\n        }\n\n        var coords = new Array(6),\n            x1 = Infinity,\n            x2 = -x1,\n            y1 = x1,\n            y2 = x2;\n\n        for (var i = 0, l = segments.length; i < l; i++) {\n          var segment = segments[i];\n\n          segment._transformCoordinates(matrix, coords);\n\n          for (var j = 0; j < 6; j += 2) {\n            var padding = !j ? joinPadding : strokePadding,\n                paddingX = padding ? padding[0] : 0,\n                paddingY = padding ? padding[1] : 0,\n                x = coords[j],\n                y = coords[j + 1],\n                xn = x - paddingX,\n                xx = x + paddingX,\n                yn = y - paddingY,\n                yx = y + paddingY;\n            if (xn < x1) x1 = xn;\n            if (xx > x2) x2 = xx;\n            if (yn < y1) y1 = yn;\n            if (yx > y2) y2 = yx;\n          }\n        }\n\n        return new _Rectangle(x1, y1, x2 - x1, y2 - y1);\n      }\n    }\n  });\n  Path.inject({\n    statics: new function () {\n      var kappa = 0.5522847498307936,\n          ellipseSegments = [new Segment([-1, 0], [0, kappa], [0, -kappa]), new Segment([0, -1], [-kappa, 0], [kappa, 0]), new Segment([1, 0], [0, -kappa], [0, kappa]), new Segment([0, 1], [kappa, 0], [-kappa, 0])];\n\n      function createPath(segments, closed, args) {\n        var props = Base.getNamed(args),\n            path = new Path(props && props.insert == false && Item.NO_INSERT);\n\n        path._add(segments);\n\n        path._closed = closed;\n        return path.set(props, {\n          insert: true\n        });\n      }\n\n      function createEllipse(center, radius, args) {\n        var segments = new Array(4);\n\n        for (var i = 0; i < 4; i++) {\n          var segment = ellipseSegments[i];\n          segments[i] = new Segment(segment._point.multiply(radius).add(center), segment._handleIn.multiply(radius), segment._handleOut.multiply(radius));\n        }\n\n        return createPath(segments, true, args);\n      }\n\n      return {\n        Line: function Line() {\n          var args = arguments;\n          return createPath([new Segment(Point.readNamed(args, 'from')), new Segment(Point.readNamed(args, 'to'))], false, args);\n        },\n        Circle: function Circle() {\n          var args = arguments,\n              center = Point.readNamed(args, 'center'),\n              radius = Base.readNamed(args, 'radius');\n          return createEllipse(center, new Size(radius), args);\n        },\n        Rectangle: function Rectangle() {\n          var args = arguments,\n              rect = _Rectangle.readNamed(args, 'rectangle'),\n              radius = Size.readNamed(args, 'radius', 0, {\n            readNull: true\n          }),\n              bl = rect.getBottomLeft(true),\n              tl = rect.getTopLeft(true),\n              tr = rect.getTopRight(true),\n              br = rect.getBottomRight(true),\n              segments;\n\n          if (!radius || radius.isZero()) {\n            segments = [new Segment(bl), new Segment(tl), new Segment(tr), new Segment(br)];\n          } else {\n            radius = Size.min(radius, rect.getSize(true).divide(2));\n            var rx = radius.width,\n                ry = radius.height,\n                hx = rx * kappa,\n                hy = ry * kappa;\n            segments = [new Segment(bl.add(rx, 0), null, [-hx, 0]), new Segment(bl.subtract(0, ry), [0, hy]), new Segment(tl.add(0, ry), null, [0, -hy]), new Segment(tl.add(rx, 0), [-hx, 0], null), new Segment(tr.subtract(rx, 0), null, [hx, 0]), new Segment(tr.add(0, ry), [0, -hy], null), new Segment(br.subtract(0, ry), null, [0, hy]), new Segment(br.subtract(rx, 0), [hx, 0])];\n          }\n\n          return createPath(segments, true, args);\n        },\n        RoundRectangle: '#Rectangle',\n        Ellipse: function Ellipse() {\n          var args = arguments,\n              ellipse = Shape._readEllipse(args);\n\n          return createEllipse(ellipse.center, ellipse.radius, args);\n        },\n        Oval: '#Ellipse',\n        Arc: function Arc() {\n          var args = arguments,\n              from = Point.readNamed(args, 'from'),\n              through = Point.readNamed(args, 'through'),\n              to = Point.readNamed(args, 'to'),\n              props = Base.getNamed(args),\n              path = new Path(props && props.insert == false && Item.NO_INSERT);\n          path.moveTo(from);\n          path.arcTo(through, to);\n          return path.set(props);\n        },\n        RegularPolygon: function RegularPolygon() {\n          var args = arguments,\n              center = Point.readNamed(args, 'center'),\n              sides = Base.readNamed(args, 'sides'),\n              radius = Base.readNamed(args, 'radius'),\n              step = 360 / sides,\n              three = sides % 3 === 0,\n              vector = new Point(0, three ? -radius : radius),\n              offset = three ? -1 : 0.5,\n              segments = new Array(sides);\n\n          for (var i = 0; i < sides; i++) {\n            segments[i] = new Segment(center.add(vector.rotate((i + offset) * step)));\n          }\n\n          return createPath(segments, true, args);\n        },\n        Star: function Star() {\n          var args = arguments,\n              center = Point.readNamed(args, 'center'),\n              points = Base.readNamed(args, 'points') * 2,\n              radius1 = Base.readNamed(args, 'radius1'),\n              radius2 = Base.readNamed(args, 'radius2'),\n              step = 360 / points,\n              vector = new Point(0, -1),\n              segments = new Array(points);\n\n          for (var i = 0; i < points; i++) {\n            segments[i] = new Segment(center.add(vector.rotate(step * i).multiply(i % 2 ? radius2 : radius1)));\n          }\n\n          return createPath(segments, true, args);\n        }\n      };\n    }()\n  });\n  var CompoundPath = PathItem.extend({\n    _class: 'CompoundPath',\n    _serializeFields: {\n      children: []\n    },\n    beans: true,\n    initialize: function CompoundPath(arg) {\n      this._children = [];\n      this._namedChildren = {};\n\n      if (!this._initialize(arg)) {\n        if (typeof arg === 'string') {\n          this.setPathData(arg);\n        } else {\n          this.addChildren(Array.isArray(arg) ? arg : arguments);\n        }\n      }\n    },\n    insertChildren: function insertChildren(index, items) {\n      var list = items,\n          first = list[0];\n      if (first && typeof first[0] === 'number') list = [list];\n\n      for (var i = items.length - 1; i >= 0; i--) {\n        var item = list[i];\n        if (list === items && !(item instanceof Path)) list = Base.slice(list);\n\n        if (Array.isArray(item)) {\n          list[i] = new Path({\n            segments: item,\n            insert: false\n          });\n        } else if (item instanceof CompoundPath) {\n          list.splice.apply(list, [i, 1].concat(item.removeChildren()));\n          item.remove();\n        }\n      }\n\n      return insertChildren.base.call(this, index, list);\n    },\n    reduce: function reduce(options) {\n      var children = this._children;\n\n      for (var i = children.length - 1; i >= 0; i--) {\n        var path = children[i].reduce(options);\n        if (path.isEmpty()) path.remove();\n      }\n\n      if (!children.length) {\n        var path = new Path(Item.NO_INSERT);\n        path.copyAttributes(this);\n        path.insertAbove(this);\n        this.remove();\n        return path;\n      }\n\n      return reduce.base.call(this);\n    },\n    isClosed: function isClosed() {\n      var children = this._children;\n\n      for (var i = 0, l = children.length; i < l; i++) {\n        if (!children[i]._closed) return false;\n      }\n\n      return true;\n    },\n    setClosed: function setClosed(closed) {\n      var children = this._children;\n\n      for (var i = 0, l = children.length; i < l; i++) {\n        children[i].setClosed(closed);\n      }\n    },\n    getFirstSegment: function getFirstSegment() {\n      var first = this.getFirstChild();\n      return first && first.getFirstSegment();\n    },\n    getLastSegment: function getLastSegment() {\n      var last = this.getLastChild();\n      return last && last.getLastSegment();\n    },\n    getCurves: function getCurves() {\n      var children = this._children,\n          curves = [];\n\n      for (var i = 0, l = children.length; i < l; i++) {\n        Base.push(curves, children[i].getCurves());\n      }\n\n      return curves;\n    },\n    getFirstCurve: function getFirstCurve() {\n      var first = this.getFirstChild();\n      return first && first.getFirstCurve();\n    },\n    getLastCurve: function getLastCurve() {\n      var last = this.getLastChild();\n      return last && last.getLastCurve();\n    },\n    getArea: function getArea() {\n      var children = this._children,\n          area = 0;\n\n      for (var i = 0, l = children.length; i < l; i++) {\n        area += children[i].getArea();\n      }\n\n      return area;\n    },\n    getLength: function getLength() {\n      var children = this._children,\n          length = 0;\n\n      for (var i = 0, l = children.length; i < l; i++) {\n        length += children[i].getLength();\n      }\n\n      return length;\n    },\n    getPathData: function getPathData(_matrix, _precision) {\n      var children = this._children,\n          paths = [];\n\n      for (var i = 0, l = children.length; i < l; i++) {\n        var child = children[i],\n            mx = child._matrix;\n        paths.push(child.getPathData(_matrix && !mx.isIdentity() ? _matrix.appended(mx) : _matrix, _precision));\n      }\n\n      return paths.join('');\n    },\n    _hitTestChildren: function _hitTestChildren(point, options, viewMatrix) {\n      return _hitTestChildren.base.call(this, point, options.class === Path || options.type === 'path' ? options : Base.set({}, options, {\n        fill: false\n      }), viewMatrix);\n    },\n    _draw: function _draw(ctx, param, viewMatrix, strokeMatrix) {\n      var children = this._children;\n      if (!children.length) return;\n      param = param.extend({\n        dontStart: true,\n        dontFinish: true\n      });\n      ctx.beginPath();\n\n      for (var i = 0, l = children.length; i < l; i++) {\n        children[i].draw(ctx, param, strokeMatrix);\n      }\n\n      if (!param.clip) {\n        this._setStyles(ctx, param, viewMatrix);\n\n        var style = this._style;\n\n        if (style.hasFill()) {\n          ctx.fill(style.getFillRule());\n          ctx.shadowColor = 'rgba(0,0,0,0)';\n        }\n\n        if (style.hasStroke()) ctx.stroke();\n      }\n    },\n    _drawSelected: function _drawSelected(ctx, matrix, selectionItems) {\n      var children = this._children;\n\n      for (var i = 0, l = children.length; i < l; i++) {\n        var child = children[i],\n            mx = child._matrix;\n\n        if (!selectionItems[child._id]) {\n          child._drawSelected(ctx, mx.isIdentity() ? matrix : matrix.appended(mx));\n        }\n      }\n    }\n  }, new function () {\n    function getCurrentPath(that, check) {\n      var children = that._children;\n      if (check && !children.length) throw new Error('Use a moveTo() command first');\n      return children[children.length - 1];\n    }\n\n    return Base.each(['lineTo', 'cubicCurveTo', 'quadraticCurveTo', 'curveTo', 'arcTo', 'lineBy', 'cubicCurveBy', 'quadraticCurveBy', 'curveBy', 'arcBy'], function (key) {\n      this[key] = function () {\n        var path = getCurrentPath(this, true);\n        path[key].apply(path, arguments);\n      };\n    }, {\n      moveTo: function moveTo() {\n        var current = getCurrentPath(this),\n            path = current && current.isEmpty() ? current : new Path(Item.NO_INSERT);\n        if (path !== current) this.addChild(path);\n        path.moveTo.apply(path, arguments);\n      },\n      moveBy: function moveBy() {\n        var current = getCurrentPath(this, true),\n            last = current && current.getLastSegment(),\n            point = Point.read(arguments);\n        this.moveTo(last ? point.add(last._point) : point);\n      },\n      closePath: function closePath(tolerance) {\n        getCurrentPath(this, true).closePath(tolerance);\n      }\n    });\n  }(), Base.each(['reverse', 'flatten', 'simplify', 'smooth'], function (key) {\n    this[key] = function (param) {\n      var children = this._children,\n          res;\n\n      for (var i = 0, l = children.length; i < l; i++) {\n        res = children[i][key](param) || res;\n      }\n\n      return res;\n    };\n  }, {}));\n  PathItem.inject(new function () {\n    var min = Math.min,\n        max = Math.max,\n        abs = Math.abs,\n        operators = {\n      unite: {\n        '1': true,\n        '2': true\n      },\n      intersect: {\n        '2': true\n      },\n      subtract: {\n        '1': true\n      },\n      exclude: {\n        '1': true,\n        '-1': true\n      }\n    };\n\n    function getPaths(path) {\n      return path._children || [path];\n    }\n\n    function preparePath(path, resolve) {\n      var res = path.clone(false).reduce({\n        simplify: true\n      }).transform(null, true, true);\n\n      if (resolve) {\n        var paths = getPaths(res);\n\n        for (var i = 0, l = paths.length; i < l; i++) {\n          var path = paths[i];\n\n          if (!path._closed && !path.isEmpty()) {\n            path.closePath(1e-12);\n            path.getFirstSegment().setHandleIn(0, 0);\n            path.getLastSegment().setHandleOut(0, 0);\n          }\n        }\n\n        res = res.resolveCrossings().reorient(res.getFillRule() === 'nonzero', true);\n      }\n\n      return res;\n    }\n\n    function createResult(paths, simplify, path1, path2, options) {\n      var result = new CompoundPath(Item.NO_INSERT);\n      result.addChildren(paths, true);\n      result = result.reduce({\n        simplify: simplify\n      });\n\n      if (!(options && options.insert == false)) {\n        result.insertAbove(path2 && path1.isSibling(path2) && path1.getIndex() < path2.getIndex() ? path2 : path1);\n      }\n\n      result.copyAttributes(path1, true);\n      return result;\n    }\n\n    function filterIntersection(inter) {\n      return inter.hasOverlap() || inter.isCrossing();\n    }\n\n    function traceBoolean(path1, path2, operation, options) {\n      if (options && (options.trace == false || options.stroke) && /^(subtract|intersect)$/.test(operation)) return splitBoolean(path1, path2, operation);\n\n      var _path1 = preparePath(path1, true),\n          _path2 = path2 && path1 !== path2 && preparePath(path2, true),\n          operator = operators[operation];\n\n      operator[operation] = true;\n      if (_path2 && (operator.subtract || operator.exclude) ^ (_path2.isClockwise() ^ _path1.isClockwise())) _path2.reverse();\n\n      var crossings = divideLocations(CurveLocation.expand(_path1.getIntersections(_path2, filterIntersection))),\n          paths1 = getPaths(_path1),\n          paths2 = _path2 && getPaths(_path2),\n          segments = [],\n          curves = [],\n          paths;\n\n      function collectPaths(paths) {\n        for (var i = 0, l = paths.length; i < l; i++) {\n          var path = paths[i];\n          Base.push(segments, path._segments);\n          Base.push(curves, path.getCurves());\n          path._overlapsOnly = true;\n        }\n      }\n\n      function getCurves(indices) {\n        var list = [];\n\n        for (var i = 0, l = indices && indices.length; i < l; i++) {\n          list.push(curves[indices[i]]);\n        }\n\n        return list;\n      }\n\n      if (crossings.length) {\n        collectPaths(paths1);\n        if (paths2) collectPaths(paths2);\n        var curvesValues = new Array(curves.length);\n\n        for (var i = 0, l = curves.length; i < l; i++) {\n          curvesValues[i] = curves[i].getValues();\n        }\n\n        var curveCollisions = CollisionDetection.findCurveBoundsCollisions(curvesValues, curvesValues, 0, true);\n        var curveCollisionsMap = {};\n\n        for (var i = 0; i < curves.length; i++) {\n          var curve = curves[i],\n              id = curve._path._id,\n              map = curveCollisionsMap[id] = curveCollisionsMap[id] || {};\n          map[curve.getIndex()] = {\n            hor: getCurves(curveCollisions[i].hor),\n            ver: getCurves(curveCollisions[i].ver)\n          };\n        }\n\n        for (var i = 0, l = crossings.length; i < l; i++) {\n          propagateWinding(crossings[i]._segment, _path1, _path2, curveCollisionsMap, operator);\n        }\n\n        for (var i = 0, l = segments.length; i < l; i++) {\n          var segment = segments[i],\n              inter = segment._intersection;\n\n          if (!segment._winding) {\n            propagateWinding(segment, _path1, _path2, curveCollisionsMap, operator);\n          }\n\n          if (!(inter && inter._overlap)) segment._path._overlapsOnly = false;\n        }\n\n        paths = tracePaths(segments, operator);\n      } else {\n        paths = reorientPaths(paths2 ? paths1.concat(paths2) : paths1.slice(), function (w) {\n          return !!operator[w];\n        });\n      }\n\n      return createResult(paths, true, path1, path2, options);\n    }\n\n    function splitBoolean(path1, path2, operation) {\n      var _path1 = preparePath(path1),\n          _path2 = preparePath(path2),\n          crossings = _path1.getIntersections(_path2, filterIntersection),\n          subtract = operation === 'subtract',\n          divide = operation === 'divide',\n          added = {},\n          paths = [];\n\n      function addPath(path) {\n        if (!added[path._id] && (divide || _path2.contains(path.getPointAt(path.getLength() / 2)) ^ subtract)) {\n          paths.unshift(path);\n          return added[path._id] = true;\n        }\n      }\n\n      for (var i = crossings.length - 1; i >= 0; i--) {\n        var path = crossings[i].split();\n\n        if (path) {\n          if (addPath(path)) path.getFirstSegment().setHandleIn(0, 0);\n\n          _path1.getLastSegment().setHandleOut(0, 0);\n        }\n      }\n\n      addPath(_path1);\n      return createResult(paths, false, path1, path2);\n    }\n\n    function linkIntersections(from, to) {\n      var prev = from;\n\n      while (prev) {\n        if (prev === to) return;\n        prev = prev._previous;\n      }\n\n      while (from._next && from._next !== to) {\n        from = from._next;\n      }\n\n      if (!from._next) {\n        while (to._previous) {\n          to = to._previous;\n        }\n\n        from._next = to;\n        to._previous = from;\n      }\n    }\n\n    function clearCurveHandles(curves) {\n      for (var i = curves.length - 1; i >= 0; i--) {\n        curves[i].clearHandles();\n      }\n    }\n\n    function reorientPaths(paths, isInside, clockwise) {\n      var length = paths && paths.length;\n\n      if (length) {\n        var lookup = Base.each(paths, function (path, i) {\n          this[path._id] = {\n            container: null,\n            winding: path.isClockwise() ? 1 : -1,\n            index: i\n          };\n        }, {}),\n            sorted = paths.slice().sort(function (a, b) {\n          return abs(b.getArea()) - abs(a.getArea());\n        }),\n            first = sorted[0];\n        var collisions = CollisionDetection.findItemBoundsCollisions(sorted, null, Numerical.GEOMETRIC_EPSILON);\n        if (clockwise == null) clockwise = first.isClockwise();\n\n        for (var i = 0; i < length; i++) {\n          var path1 = sorted[i],\n              entry1 = lookup[path1._id],\n              containerWinding = 0,\n              indices = collisions[i];\n\n          if (indices) {\n            var point = null;\n\n            for (var j = indices.length - 1; j >= 0; j--) {\n              if (indices[j] < i) {\n                point = point || path1.getInteriorPoint();\n                var path2 = sorted[indices[j]];\n\n                if (path2.contains(point)) {\n                  var entry2 = lookup[path2._id];\n                  containerWinding = entry2.winding;\n                  entry1.winding += containerWinding;\n                  entry1.container = entry2.exclude ? entry2.container : path2;\n                  break;\n                }\n              }\n            }\n          }\n\n          if (isInside(entry1.winding) === isInside(containerWinding)) {\n            entry1.exclude = true;\n            paths[entry1.index] = null;\n          } else {\n            var container = entry1.container;\n            path1.setClockwise(container ? !container.isClockwise() : clockwise);\n          }\n        }\n      }\n\n      return paths;\n    }\n\n    function divideLocations(locations, include, clearLater) {\n      var results = include && [],\n          tMin = 1e-8,\n          tMax = 1 - tMin,\n          clearHandles = false,\n          clearCurves = clearLater || [],\n          clearLookup = clearLater && {},\n          renormalizeLocs,\n          prevCurve,\n          prevTime;\n\n      function getId(curve) {\n        return curve._path._id + '.' + curve._segment1._index;\n      }\n\n      for (var i = (clearLater && clearLater.length) - 1; i >= 0; i--) {\n        var curve = clearLater[i];\n        if (curve._path) clearLookup[getId(curve)] = true;\n      }\n\n      for (var i = locations.length - 1; i >= 0; i--) {\n        var loc = locations[i],\n            time = loc._time,\n            origTime = time,\n            exclude = include && !include(loc),\n            curve = loc._curve,\n            segment;\n\n        if (curve) {\n          if (curve !== prevCurve) {\n            clearHandles = !curve.hasHandles() || clearLookup && clearLookup[getId(curve)];\n            renormalizeLocs = [];\n            prevTime = null;\n            prevCurve = curve;\n          } else if (prevTime >= tMin) {\n            time /= prevTime;\n          }\n        }\n\n        if (exclude) {\n          if (renormalizeLocs) renormalizeLocs.push(loc);\n          continue;\n        } else if (include) {\n          results.unshift(loc);\n        }\n\n        prevTime = origTime;\n\n        if (time < tMin) {\n          segment = curve._segment1;\n        } else if (time > tMax) {\n          segment = curve._segment2;\n        } else {\n          var newCurve = curve.divideAtTime(time, true);\n          if (clearHandles) clearCurves.push(curve, newCurve);\n          segment = newCurve._segment1;\n\n          for (var j = renormalizeLocs.length - 1; j >= 0; j--) {\n            var l = renormalizeLocs[j];\n            l._time = (l._time - time) / (1 - time);\n          }\n        }\n\n        loc._setSegment(segment);\n\n        var inter = segment._intersection,\n            dest = loc._intersection;\n\n        if (inter) {\n          linkIntersections(inter, dest);\n          var other = inter;\n\n          while (other) {\n            linkIntersections(other._intersection, inter);\n            other = other._next;\n          }\n        } else {\n          segment._intersection = dest;\n        }\n      }\n\n      if (!clearLater) clearCurveHandles(clearCurves);\n      return results || locations;\n    }\n\n    function getWinding(point, curves, dir, closed, dontFlip) {\n      var curvesList = Array.isArray(curves) ? curves : curves[dir ? 'hor' : 'ver'];\n      var ia = dir ? 1 : 0,\n          io = ia ^ 1,\n          pv = [point.x, point.y],\n          pa = pv[ia],\n          po = pv[io],\n          windingEpsilon = 1e-9,\n          qualityEpsilon = 1e-6,\n          paL = pa - windingEpsilon,\n          paR = pa + windingEpsilon,\n          windingL = 0,\n          windingR = 0,\n          pathWindingL = 0,\n          pathWindingR = 0,\n          onPath = false,\n          onAnyPath = false,\n          quality = 1,\n          roots = [],\n          vPrev,\n          vClose;\n\n      function addWinding(v) {\n        var o0 = v[io + 0],\n            o3 = v[io + 6];\n\n        if (po < min(o0, o3) || po > max(o0, o3)) {\n          return;\n        }\n\n        var a0 = v[ia + 0],\n            a1 = v[ia + 2],\n            a2 = v[ia + 4],\n            a3 = v[ia + 6];\n\n        if (o0 === o3) {\n          if (a0 < paR && a3 > paL || a3 < paR && a0 > paL) {\n            onPath = true;\n          }\n\n          return;\n        }\n\n        var t = po === o0 ? 0 : po === o3 ? 1 : paL > max(a0, a1, a2, a3) || paR < min(a0, a1, a2, a3) ? 1 : Curve.solveCubic(v, io, po, roots, 0, 1) > 0 ? roots[0] : 1,\n            a = t === 0 ? a0 : t === 1 ? a3 : Curve.getPoint(v, t)[dir ? 'y' : 'x'],\n            winding = o0 > o3 ? 1 : -1,\n            windingPrev = vPrev[io] > vPrev[io + 6] ? 1 : -1,\n            a3Prev = vPrev[ia + 6];\n\n        if (po !== o0) {\n          if (a < paL) {\n            pathWindingL += winding;\n          } else if (a > paR) {\n            pathWindingR += winding;\n          } else {\n            onPath = true;\n          }\n\n          if (a > pa - qualityEpsilon && a < pa + qualityEpsilon) quality /= 2;\n        } else {\n          if (winding !== windingPrev) {\n            if (a0 < paL) {\n              pathWindingL += winding;\n            } else if (a0 > paR) {\n              pathWindingR += winding;\n            }\n          } else if (a0 != a3Prev) {\n            if (a3Prev < paR && a > paR) {\n              pathWindingR += winding;\n              onPath = true;\n            } else if (a3Prev > paL && a < paL) {\n              pathWindingL += winding;\n              onPath = true;\n            }\n          }\n\n          quality /= 4;\n        }\n\n        vPrev = v;\n        return !dontFlip && a > paL && a < paR && Curve.getTangent(v, t)[dir ? 'x' : 'y'] === 0 && getWinding(point, curves, !dir, closed, true);\n      }\n\n      function handleCurve(v) {\n        var o0 = v[io + 0],\n            o1 = v[io + 2],\n            o2 = v[io + 4],\n            o3 = v[io + 6];\n\n        if (po <= max(o0, o1, o2, o3) && po >= min(o0, o1, o2, o3)) {\n          var a0 = v[ia + 0],\n              a1 = v[ia + 2],\n              a2 = v[ia + 4],\n              a3 = v[ia + 6],\n              monoCurves = paL > max(a0, a1, a2, a3) || paR < min(a0, a1, a2, a3) ? [v] : Curve.getMonoCurves(v, dir),\n              res;\n\n          for (var i = 0, l = monoCurves.length; i < l; i++) {\n            if (res = addWinding(monoCurves[i])) return res;\n          }\n        }\n      }\n\n      for (var i = 0, l = curvesList.length; i < l; i++) {\n        var curve = curvesList[i],\n            path = curve._path,\n            v = curve.getValues(),\n            res;\n\n        if (!i || curvesList[i - 1]._path !== path) {\n          vPrev = null;\n\n          if (!path._closed) {\n            vClose = Curve.getValues(path.getLastCurve().getSegment2(), curve.getSegment1(), null, !closed);\n\n            if (vClose[io] !== vClose[io + 6]) {\n              vPrev = vClose;\n            }\n          }\n\n          if (!vPrev) {\n            vPrev = v;\n            var prev = path.getLastCurve();\n\n            while (prev && prev !== curve) {\n              var v2 = prev.getValues();\n\n              if (v2[io] !== v2[io + 6]) {\n                vPrev = v2;\n                break;\n              }\n\n              prev = prev.getPrevious();\n            }\n          }\n        }\n\n        if (res = handleCurve(v)) return res;\n\n        if (i + 1 === l || curvesList[i + 1]._path !== path) {\n          if (vClose && (res = handleCurve(vClose))) return res;\n\n          if (onPath && !pathWindingL && !pathWindingR) {\n            pathWindingL = pathWindingR = path.isClockwise(closed) ^ dir ? 1 : -1;\n          }\n\n          windingL += pathWindingL;\n          windingR += pathWindingR;\n          pathWindingL = pathWindingR = 0;\n\n          if (onPath) {\n            onAnyPath = true;\n            onPath = false;\n          }\n\n          vClose = null;\n        }\n      }\n\n      windingL = abs(windingL);\n      windingR = abs(windingR);\n      return {\n        winding: max(windingL, windingR),\n        windingL: windingL,\n        windingR: windingR,\n        quality: quality,\n        onPath: onAnyPath\n      };\n    }\n\n    function propagateWinding(segment, path1, path2, curveCollisionsMap, operator) {\n      var chain = [],\n          start = segment,\n          totalLength = 0,\n          winding;\n\n      do {\n        var curve = segment.getCurve();\n\n        if (curve) {\n          var length = curve.getLength();\n          chain.push({\n            segment: segment,\n            curve: curve,\n            length: length\n          });\n          totalLength += length;\n        }\n\n        segment = segment.getNext();\n      } while (segment && !segment._intersection && segment !== start);\n\n      var offsets = [0.5, 0.25, 0.75],\n          winding = {\n        winding: 0,\n        quality: -1\n      },\n          tMin = 1e-3,\n          tMax = 1 - tMin;\n\n      for (var i = 0; i < offsets.length && winding.quality < 0.5; i++) {\n        var length = totalLength * offsets[i];\n\n        for (var j = 0, l = chain.length; j < l; j++) {\n          var entry = chain[j],\n              curveLength = entry.length;\n\n          if (length <= curveLength) {\n            var curve = entry.curve,\n                path = curve._path,\n                parent = path._parent,\n                operand = parent instanceof CompoundPath ? parent : path,\n                t = Numerical.clamp(curve.getTimeAt(length), tMin, tMax),\n                pt = curve.getPointAtTime(t),\n                dir = abs(curve.getTangentAtTime(t).y) < Math.SQRT1_2;\n            var wind = null;\n\n            if (operator.subtract && path2) {\n              var otherPath = operand === path1 ? path2 : path1,\n                  pathWinding = otherPath._getWinding(pt, dir, true);\n\n              if (operand === path1 && pathWinding.winding || operand === path2 && !pathWinding.winding) {\n                if (pathWinding.quality < 1) {\n                  continue;\n                } else {\n                  wind = {\n                    winding: 0,\n                    quality: 1\n                  };\n                }\n              }\n            }\n\n            wind = wind || getWinding(pt, curveCollisionsMap[path._id][curve.getIndex()], dir, true);\n            if (wind.quality > winding.quality) winding = wind;\n            break;\n          }\n\n          length -= curveLength;\n        }\n      }\n\n      for (var j = chain.length - 1; j >= 0; j--) {\n        chain[j].segment._winding = winding;\n      }\n    }\n\n    function tracePaths(segments, operator) {\n      var paths = [],\n          starts;\n\n      function isValid(seg) {\n        var winding;\n        return !!(seg && !seg._visited && (!operator || operator[(winding = seg._winding || {}).winding] && !(operator.unite && winding.winding === 2 && winding.windingL && winding.windingR)));\n      }\n\n      function isStart(seg) {\n        if (seg) {\n          for (var i = 0, l = starts.length; i < l; i++) {\n            if (seg === starts[i]) return true;\n          }\n        }\n\n        return false;\n      }\n\n      function visitPath(path) {\n        var segments = path._segments;\n\n        for (var i = 0, l = segments.length; i < l; i++) {\n          segments[i]._visited = true;\n        }\n      }\n\n      function getCrossingSegments(segment, collectStarts) {\n        var inter = segment._intersection,\n            start = inter,\n            crossings = [];\n        if (collectStarts) starts = [segment];\n\n        function collect(inter, end) {\n          while (inter && inter !== end) {\n            var other = inter._segment,\n                path = other && other._path;\n\n            if (path) {\n              var next = other.getNext() || path.getFirstSegment(),\n                  nextInter = next._intersection;\n\n              if (other !== segment && (isStart(other) || isStart(next) || next && isValid(other) && (isValid(next) || nextInter && isValid(nextInter._segment)))) {\n                crossings.push(other);\n              }\n\n              if (collectStarts) starts.push(other);\n            }\n\n            inter = inter._next;\n          }\n        }\n\n        if (inter) {\n          collect(inter);\n\n          while (inter && inter._prev) {\n            inter = inter._prev;\n          }\n\n          collect(inter, start);\n        }\n\n        return crossings;\n      }\n\n      segments.sort(function (seg1, seg2) {\n        var inter1 = seg1._intersection,\n            inter2 = seg2._intersection,\n            over1 = !!(inter1 && inter1._overlap),\n            over2 = !!(inter2 && inter2._overlap),\n            path1 = seg1._path,\n            path2 = seg2._path;\n        return over1 ^ over2 ? over1 ? 1 : -1 : !inter1 ^ !inter2 ? inter1 ? 1 : -1 : path1 !== path2 ? path1._id - path2._id : seg1._index - seg2._index;\n      });\n\n      for (var i = 0, l = segments.length; i < l; i++) {\n        var seg = segments[i],\n            valid = isValid(seg),\n            path = null,\n            finished = false,\n            closed = true,\n            branches = [],\n            branch,\n            visited,\n            handleIn;\n\n        if (valid && seg._path._overlapsOnly) {\n          var path1 = seg._path,\n              path2 = seg._intersection._segment._path;\n\n          if (path1.compare(path2)) {\n            if (path1.getArea()) paths.push(path1.clone(false));\n            visitPath(path1);\n            visitPath(path2);\n            valid = false;\n          }\n        }\n\n        while (valid) {\n          var first = !path,\n              crossings = getCrossingSegments(seg, first),\n              other = crossings.shift(),\n              finished = !first && (isStart(seg) || isStart(other)),\n              cross = !finished && other;\n\n          if (first) {\n            path = new Path(Item.NO_INSERT);\n            branch = null;\n          }\n\n          if (finished) {\n            if (seg.isFirst() || seg.isLast()) closed = seg._path._closed;\n            seg._visited = true;\n            break;\n          }\n\n          if (cross && branch) {\n            branches.push(branch);\n            branch = null;\n          }\n\n          if (!branch) {\n            if (cross) crossings.push(seg);\n            branch = {\n              start: path._segments.length,\n              crossings: crossings,\n              visited: visited = [],\n              handleIn: handleIn\n            };\n          }\n\n          if (cross) seg = other;\n\n          if (!isValid(seg)) {\n            path.removeSegments(branch.start);\n\n            for (var j = 0, k = visited.length; j < k; j++) {\n              visited[j]._visited = false;\n            }\n\n            visited.length = 0;\n\n            do {\n              seg = branch && branch.crossings.shift();\n\n              if (!seg || !seg._path) {\n                seg = null;\n                branch = branches.pop();\n\n                if (branch) {\n                  visited = branch.visited;\n                  handleIn = branch.handleIn;\n                }\n              }\n            } while (branch && !isValid(seg));\n\n            if (!seg) break;\n          }\n\n          var next = seg.getNext();\n          path.add(new Segment(seg._point, handleIn, next && seg._handleOut));\n          seg._visited = true;\n          visited.push(seg);\n          seg = next || seg._path.getFirstSegment();\n          handleIn = next && next._handleIn;\n        }\n\n        if (finished) {\n          if (closed) {\n            path.getFirstSegment().setHandleIn(handleIn);\n            path.setClosed(closed);\n          }\n\n          if (path.getArea() !== 0) {\n            paths.push(path);\n          }\n        }\n      }\n\n      return paths;\n    }\n\n    return {\n      _getWinding: function _getWinding(point, dir, closed) {\n        return getWinding(point, this.getCurves(), dir, closed);\n      },\n      unite: function unite(path, options) {\n        return traceBoolean(this, path, 'unite', options);\n      },\n      intersect: function intersect(path, options) {\n        return traceBoolean(this, path, 'intersect', options);\n      },\n      subtract: function subtract(path, options) {\n        return traceBoolean(this, path, 'subtract', options);\n      },\n      exclude: function exclude(path, options) {\n        return traceBoolean(this, path, 'exclude', options);\n      },\n      divide: function divide(path, options) {\n        return options && (options.trace == false || options.stroke) ? splitBoolean(this, path, 'divide') : createResult([this.subtract(path, options), this.intersect(path, options)], true, this, path, options);\n      },\n      resolveCrossings: function resolveCrossings() {\n        var children = this._children,\n            paths = children || [this];\n\n        function hasOverlap(seg, path) {\n          var inter = seg && seg._intersection;\n          return inter && inter._overlap && inter._path === path;\n        }\n\n        var hasOverlaps = false,\n            hasCrossings = false,\n            intersections = this.getIntersections(null, function (inter) {\n          return inter.hasOverlap() && (hasOverlaps = true) || inter.isCrossing() && (hasCrossings = true);\n        }),\n            clearCurves = hasOverlaps && hasCrossings && [];\n        intersections = CurveLocation.expand(intersections);\n\n        if (hasOverlaps) {\n          var overlaps = divideLocations(intersections, function (inter) {\n            return inter.hasOverlap();\n          }, clearCurves);\n\n          for (var i = overlaps.length - 1; i >= 0; i--) {\n            var overlap = overlaps[i],\n                path = overlap._path,\n                seg = overlap._segment,\n                prev = seg.getPrevious(),\n                next = seg.getNext();\n\n            if (hasOverlap(prev, path) && hasOverlap(next, path)) {\n              seg.remove();\n\n              prev._handleOut._set(0, 0);\n\n              next._handleIn._set(0, 0);\n\n              if (prev !== seg && !prev.getCurve().hasLength()) {\n                next._handleIn.set(prev._handleIn);\n\n                prev.remove();\n              }\n            }\n          }\n        }\n\n        if (hasCrossings) {\n          divideLocations(intersections, hasOverlaps && function (inter) {\n            var curve1 = inter.getCurve(),\n                seg1 = inter.getSegment(),\n                other = inter._intersection,\n                curve2 = other._curve,\n                seg2 = other._segment;\n            if (curve1 && curve2 && curve1._path && curve2._path) return true;\n            if (seg1) seg1._intersection = null;\n            if (seg2) seg2._intersection = null;\n          }, clearCurves);\n          if (clearCurves) clearCurveHandles(clearCurves);\n          paths = tracePaths(Base.each(paths, function (path) {\n            Base.push(this, path._segments);\n          }, []));\n        }\n\n        var length = paths.length,\n            item;\n\n        if (length > 1 && children) {\n          if (paths !== children) this.setChildren(paths);\n          item = this;\n        } else if (length === 1 && !children) {\n          if (paths[0] !== this) this.setSegments(paths[0].removeSegments());\n          item = this;\n        }\n\n        if (!item) {\n          item = new CompoundPath(Item.NO_INSERT);\n          item.addChildren(paths);\n          item = item.reduce();\n          item.copyAttributes(this);\n          this.replaceWith(item);\n        }\n\n        return item;\n      },\n      reorient: function reorient(nonZero, clockwise) {\n        var children = this._children;\n\n        if (children && children.length) {\n          this.setChildren(reorientPaths(this.removeChildren(), function (w) {\n            return !!(nonZero ? w : w & 1);\n          }, clockwise));\n        } else if (clockwise !== undefined) {\n          this.setClockwise(clockwise);\n        }\n\n        return this;\n      },\n      getInteriorPoint: function getInteriorPoint() {\n        var bounds = this.getBounds(),\n            point = bounds.getCenter(true);\n\n        if (!this.contains(point)) {\n          var curves = this.getCurves(),\n              y = point.y,\n              intercepts = [],\n              roots = [];\n\n          for (var i = 0, l = curves.length; i < l; i++) {\n            var v = curves[i].getValues(),\n                o0 = v[1],\n                o1 = v[3],\n                o2 = v[5],\n                o3 = v[7];\n\n            if (y >= min(o0, o1, o2, o3) && y <= max(o0, o1, o2, o3)) {\n              var monoCurves = Curve.getMonoCurves(v);\n\n              for (var j = 0, m = monoCurves.length; j < m; j++) {\n                var mv = monoCurves[j],\n                    mo0 = mv[1],\n                    mo3 = mv[7];\n\n                if (mo0 !== mo3 && (y >= mo0 && y <= mo3 || y >= mo3 && y <= mo0)) {\n                  var x = y === mo0 ? mv[0] : y === mo3 ? mv[6] : Curve.solveCubic(mv, 1, y, roots, 0, 1) === 1 ? Curve.getPoint(mv, roots[0]).x : (mv[0] + mv[6]) / 2;\n                  intercepts.push(x);\n                }\n              }\n            }\n          }\n\n          if (intercepts.length > 1) {\n            intercepts.sort(function (a, b) {\n              return a - b;\n            });\n            point.x = (intercepts[0] + intercepts[1]) / 2;\n          }\n        }\n\n        return point;\n      }\n    };\n  }());\n  var PathFlattener = Base.extend({\n    _class: 'PathFlattener',\n    initialize: function initialize(path, flatness, maxRecursion, ignoreStraight, matrix) {\n      var curves = [],\n          parts = [],\n          length = 0,\n          minSpan = 1 / (maxRecursion || 32),\n          segments = path._segments,\n          segment1 = segments[0],\n          segment2;\n\n      function addCurve(segment1, segment2) {\n        var curve = Curve.getValues(segment1, segment2, matrix);\n        curves.push(curve);\n        computeParts(curve, segment1._index, 0, 1);\n      }\n\n      function computeParts(curve, index, t1, t2) {\n        if (t2 - t1 > minSpan && !(ignoreStraight && Curve.isStraight(curve)) && !Curve.isFlatEnough(curve, flatness || 0.25)) {\n          var halves = Curve.subdivide(curve, 0.5),\n              tMid = (t1 + t2) / 2;\n          computeParts(halves[0], index, t1, tMid);\n          computeParts(halves[1], index, tMid, t2);\n        } else {\n          var dx = curve[6] - curve[0],\n              dy = curve[7] - curve[1],\n              dist = Math.sqrt(dx * dx + dy * dy);\n\n          if (dist > 0) {\n            length += dist;\n            parts.push({\n              offset: length,\n              curve: curve,\n              index: index,\n              time: t2\n            });\n          }\n        }\n      }\n\n      for (var i = 1, l = segments.length; i < l; i++) {\n        segment2 = segments[i];\n        addCurve(segment1, segment2);\n        segment1 = segment2;\n      }\n\n      if (path._closed) addCurve(segment2 || segment1, segments[0]);\n      this.curves = curves;\n      this.parts = parts;\n      this.length = length;\n      this.index = 0;\n    },\n    _get: function _get(offset) {\n      var parts = this.parts,\n          length = parts.length,\n          start,\n          i,\n          j = this.index;\n\n      for (;;) {\n        i = j;\n        if (!j || parts[--j].offset < offset) break;\n      }\n\n      for (; i < length; i++) {\n        var part = parts[i];\n\n        if (part.offset >= offset) {\n          this.index = i;\n          var prev = parts[i - 1],\n              prevTime = prev && prev.index === part.index ? prev.time : 0,\n              prevOffset = prev ? prev.offset : 0;\n          return {\n            index: part.index,\n            time: prevTime + (part.time - prevTime) * (offset - prevOffset) / (part.offset - prevOffset)\n          };\n        }\n      }\n\n      return {\n        index: parts[length - 1].index,\n        time: 1\n      };\n    },\n    drawPart: function drawPart(ctx, from, to) {\n      var start = this._get(from),\n          end = this._get(to);\n\n      for (var i = start.index, l = end.index; i <= l; i++) {\n        var curve = Curve.getPart(this.curves[i], i === start.index ? start.time : 0, i === end.index ? end.time : 1);\n        if (i === start.index) ctx.moveTo(curve[0], curve[1]);\n        ctx.bezierCurveTo.apply(ctx, curve.slice(2));\n      }\n    }\n  }, Base.each(Curve._evaluateMethods, function (name) {\n    this[name + 'At'] = function (offset) {\n      var param = this._get(offset);\n\n      return Curve[name](this.curves[param.index], param.time);\n    };\n  }, {}));\n  var PathFitter = Base.extend({\n    initialize: function initialize(path) {\n      var points = this.points = [],\n          segments = path._segments,\n          closed = path._closed;\n\n      for (var i = 0, prev, l = segments.length; i < l; i++) {\n        var point = segments[i].point;\n\n        if (!prev || !prev.equals(point)) {\n          points.push(prev = point.clone());\n        }\n      }\n\n      if (closed) {\n        points.unshift(points[points.length - 1]);\n        points.push(points[1]);\n      }\n\n      this.closed = closed;\n    },\n    fit: function fit(error) {\n      var points = this.points,\n          length = points.length,\n          segments = null;\n\n      if (length > 0) {\n        segments = [new Segment(points[0])];\n\n        if (length > 1) {\n          this.fitCubic(segments, error, 0, length - 1, points[1].subtract(points[0]), points[length - 2].subtract(points[length - 1]));\n\n          if (this.closed) {\n            segments.shift();\n            segments.pop();\n          }\n        }\n      }\n\n      return segments;\n    },\n    fitCubic: function fitCubic(segments, error, first, last, tan1, tan2) {\n      var points = this.points;\n\n      if (last - first === 1) {\n        var pt1 = points[first],\n            pt2 = points[last],\n            dist = pt1.getDistance(pt2) / 3;\n        this.addCurve(segments, [pt1, pt1.add(tan1.normalize(dist)), pt2.add(tan2.normalize(dist)), pt2]);\n        return;\n      }\n\n      var uPrime = this.chordLengthParameterize(first, last),\n          maxError = Math.max(error, error * error),\n          split,\n          parametersInOrder = true;\n\n      for (var i = 0; i <= 4; i++) {\n        var curve = this.generateBezier(first, last, uPrime, tan1, tan2);\n        var max = this.findMaxError(first, last, curve, uPrime);\n\n        if (max.error < error && parametersInOrder) {\n          this.addCurve(segments, curve);\n          return;\n        }\n\n        split = max.index;\n        if (max.error >= maxError) break;\n        parametersInOrder = this.reparameterize(first, last, uPrime, curve);\n        maxError = max.error;\n      }\n\n      var tanCenter = points[split - 1].subtract(points[split + 1]);\n      this.fitCubic(segments, error, first, split, tan1, tanCenter);\n      this.fitCubic(segments, error, split, last, tanCenter.negate(), tan2);\n    },\n    addCurve: function addCurve(segments, curve) {\n      var prev = segments[segments.length - 1];\n      prev.setHandleOut(curve[1].subtract(curve[0]));\n      segments.push(new Segment(curve[3], curve[2].subtract(curve[3])));\n    },\n    generateBezier: function generateBezier(first, last, uPrime, tan1, tan2) {\n      var epsilon = 1e-12,\n          abs = Math.abs,\n          points = this.points,\n          pt1 = points[first],\n          pt2 = points[last],\n          C = [[0, 0], [0, 0]],\n          X = [0, 0];\n\n      for (var i = 0, l = last - first + 1; i < l; i++) {\n        var u = uPrime[i],\n            t = 1 - u,\n            b = 3 * u * t,\n            b0 = t * t * t,\n            b1 = b * t,\n            b2 = b * u,\n            b3 = u * u * u,\n            a1 = tan1.normalize(b1),\n            a2 = tan2.normalize(b2),\n            tmp = points[first + i].subtract(pt1.multiply(b0 + b1)).subtract(pt2.multiply(b2 + b3));\n        C[0][0] += a1.dot(a1);\n        C[0][1] += a1.dot(a2);\n        C[1][0] = C[0][1];\n        C[1][1] += a2.dot(a2);\n        X[0] += a1.dot(tmp);\n        X[1] += a2.dot(tmp);\n      }\n\n      var detC0C1 = C[0][0] * C[1][1] - C[1][0] * C[0][1],\n          alpha1,\n          alpha2;\n\n      if (abs(detC0C1) > epsilon) {\n        var detC0X = C[0][0] * X[1] - C[1][0] * X[0],\n            detXC1 = X[0] * C[1][1] - X[1] * C[0][1];\n        alpha1 = detXC1 / detC0C1;\n        alpha2 = detC0X / detC0C1;\n      } else {\n        var c0 = C[0][0] + C[0][1],\n            c1 = C[1][0] + C[1][1];\n        alpha1 = alpha2 = abs(c0) > epsilon ? X[0] / c0 : abs(c1) > epsilon ? X[1] / c1 : 0;\n      }\n\n      var segLength = pt2.getDistance(pt1),\n          eps = epsilon * segLength,\n          handle1,\n          handle2;\n\n      if (alpha1 < eps || alpha2 < eps) {\n        alpha1 = alpha2 = segLength / 3;\n      } else {\n        var line = pt2.subtract(pt1);\n        handle1 = tan1.normalize(alpha1);\n        handle2 = tan2.normalize(alpha2);\n\n        if (handle1.dot(line) - handle2.dot(line) > segLength * segLength) {\n          alpha1 = alpha2 = segLength / 3;\n          handle1 = handle2 = null;\n        }\n      }\n\n      return [pt1, pt1.add(handle1 || tan1.normalize(alpha1)), pt2.add(handle2 || tan2.normalize(alpha2)), pt2];\n    },\n    reparameterize: function reparameterize(first, last, u, curve) {\n      for (var i = first; i <= last; i++) {\n        u[i - first] = this.findRoot(curve, this.points[i], u[i - first]);\n      }\n\n      for (var i = 1, l = u.length; i < l; i++) {\n        if (u[i] <= u[i - 1]) return false;\n      }\n\n      return true;\n    },\n    findRoot: function findRoot(curve, point, u) {\n      var curve1 = [],\n          curve2 = [];\n\n      for (var i = 0; i <= 2; i++) {\n        curve1[i] = curve[i + 1].subtract(curve[i]).multiply(3);\n      }\n\n      for (var i = 0; i <= 1; i++) {\n        curve2[i] = curve1[i + 1].subtract(curve1[i]).multiply(2);\n      }\n\n      var pt = this.evaluate(3, curve, u),\n          pt1 = this.evaluate(2, curve1, u),\n          pt2 = this.evaluate(1, curve2, u),\n          diff = pt.subtract(point),\n          df = pt1.dot(pt1) + diff.dot(pt2);\n      return Numerical.isMachineZero(df) ? u : u - diff.dot(pt1) / df;\n    },\n    evaluate: function evaluate(degree, curve, t) {\n      var tmp = curve.slice();\n\n      for (var i = 1; i <= degree; i++) {\n        for (var j = 0; j <= degree - i; j++) {\n          tmp[j] = tmp[j].multiply(1 - t).add(tmp[j + 1].multiply(t));\n        }\n      }\n\n      return tmp[0];\n    },\n    chordLengthParameterize: function chordLengthParameterize(first, last) {\n      var u = [0];\n\n      for (var i = first + 1; i <= last; i++) {\n        u[i - first] = u[i - first - 1] + this.points[i].getDistance(this.points[i - 1]);\n      }\n\n      for (var i = 1, m = last - first; i <= m; i++) {\n        u[i] /= u[m];\n      }\n\n      return u;\n    },\n    findMaxError: function findMaxError(first, last, curve, u) {\n      var index = Math.floor((last - first + 1) / 2),\n          maxDist = 0;\n\n      for (var i = first + 1; i < last; i++) {\n        var P = this.evaluate(3, curve, u[i - first]);\n        var v = P.subtract(this.points[i]);\n        var dist = v.x * v.x + v.y * v.y;\n\n        if (dist >= maxDist) {\n          maxDist = dist;\n          index = i;\n        }\n      }\n\n      return {\n        error: maxDist,\n        index: index\n      };\n    }\n  });\n  var TextItem = Item.extend({\n    _class: 'TextItem',\n    _applyMatrix: false,\n    _canApplyMatrix: false,\n    _serializeFields: {\n      content: null\n    },\n    _boundsOptions: {\n      stroke: false,\n      handle: false\n    },\n    initialize: function TextItem(arg) {\n      this._content = '';\n      this._lines = [];\n      var hasProps = arg && Base.isPlainObject(arg) && arg.x === undefined && arg.y === undefined;\n\n      this._initialize(hasProps && arg, !hasProps && Point.read(arguments));\n    },\n    _equals: function _equals(item) {\n      return this._content === item._content;\n    },\n    copyContent: function copyContent(source) {\n      this.setContent(source._content);\n    },\n    getContent: function getContent() {\n      return this._content;\n    },\n    setContent: function setContent(content) {\n      this._content = '' + content;\n      this._lines = this._content.split(/\\r\\n|\\n|\\r/mg);\n\n      this._changed(521);\n    },\n    isEmpty: function isEmpty() {\n      return !this._content;\n    },\n    getCharacterStyle: '#getStyle',\n    setCharacterStyle: '#setStyle',\n    getParagraphStyle: '#getStyle',\n    setParagraphStyle: '#setStyle'\n  });\n  var PointText = TextItem.extend({\n    _class: 'PointText',\n    initialize: function PointText() {\n      TextItem.apply(this, arguments);\n    },\n    getPoint: function getPoint() {\n      var point = this._matrix.getTranslation();\n\n      return new LinkedPoint(point.x, point.y, this, 'setPoint');\n    },\n    setPoint: function setPoint() {\n      var point = Point.read(arguments);\n      this.translate(point.subtract(this._matrix.getTranslation()));\n    },\n    _draw: function _draw(ctx, param, viewMatrix) {\n      if (!this._content) return;\n\n      this._setStyles(ctx, param, viewMatrix);\n\n      var lines = this._lines,\n          style = this._style,\n          hasFill = style.hasFill(),\n          hasStroke = style.hasStroke(),\n          leading = style.getLeading(),\n          shadowColor = ctx.shadowColor;\n      ctx.font = style.getFontStyle();\n      ctx.textAlign = style.getJustification();\n\n      for (var i = 0, l = lines.length; i < l; i++) {\n        ctx.shadowColor = shadowColor;\n        var line = lines[i];\n\n        if (hasFill) {\n          ctx.fillText(line, 0, 0);\n          ctx.shadowColor = 'rgba(0,0,0,0)';\n        }\n\n        if (hasStroke) ctx.strokeText(line, 0, 0);\n        ctx.translate(0, leading);\n      }\n    },\n    _getBounds: function _getBounds(matrix, options) {\n      var style = this._style,\n          lines = this._lines,\n          numLines = lines.length,\n          justification = style.getJustification(),\n          leading = style.getLeading(),\n          width = this.getView().getTextWidth(style.getFontStyle(), lines),\n          x = 0;\n      if (justification !== 'left') x -= width / (justification === 'center' ? 2 : 1);\n      var rect = new _Rectangle(x, numLines ? -0.75 * leading : 0, width, numLines * leading);\n      return matrix ? matrix._transformBounds(rect, rect) : rect;\n    }\n  });\n  var Color = Base.extend(new function () {\n    var types = {\n      gray: ['gray'],\n      rgb: ['red', 'green', 'blue'],\n      hsb: ['hue', 'saturation', 'brightness'],\n      hsl: ['hue', 'saturation', 'lightness'],\n      gradient: ['gradient', 'origin', 'destination', 'highlight']\n    };\n    var componentParsers = {},\n        namedColors = {\n      transparent: [0, 0, 0, 0]\n    },\n        colorCtx;\n\n    function fromCSS(string) {\n      var match = string.match(/^#([\\da-f]{2})([\\da-f]{2})([\\da-f]{2})([\\da-f]{2})?$/i) || string.match(/^#([\\da-f])([\\da-f])([\\da-f])([\\da-f])?$/i),\n          type = 'rgb',\n          components;\n\n      if (match) {\n        var amount = match[4] ? 4 : 3;\n        components = new Array(amount);\n\n        for (var i = 0; i < amount; i++) {\n          var value = match[i + 1];\n          components[i] = parseInt(value.length == 1 ? value + value : value, 16) / 255;\n        }\n      } else if (match = string.match(/^(rgb|hsl)a?\\((.*)\\)$/)) {\n        type = match[1];\n        components = match[2].trim().split(/[,\\s]+/g);\n        var isHSL = type === 'hsl';\n\n        for (var i = 0, l = Math.min(components.length, 4); i < l; i++) {\n          var component = components[i];\n          var value = parseFloat(component);\n\n          if (isHSL) {\n            if (i === 0) {\n              var unit = component.match(/([a-z]*)$/)[1];\n              value *= {\n                turn: 360,\n                rad: 180 / Math.PI,\n                grad: 0.9\n              }[unit] || 1;\n            } else if (i < 3) {\n              value /= 100;\n            }\n          } else if (i < 3) {\n            value /= /%$/.test(component) ? 100 : 255;\n          }\n\n          components[i] = value;\n        }\n      } else {\n        var color = namedColors[string];\n\n        if (!color) {\n          if (window) {\n            if (!colorCtx) {\n              colorCtx = CanvasProvider.getContext(1, 1);\n              colorCtx.globalCompositeOperation = 'copy';\n            }\n\n            colorCtx.fillStyle = 'rgba(0,0,0,0)';\n            colorCtx.fillStyle = string;\n            colorCtx.fillRect(0, 0, 1, 1);\n            var data = colorCtx.getImageData(0, 0, 1, 1).data;\n            color = namedColors[string] = [data[0] / 255, data[1] / 255, data[2] / 255];\n          } else {\n            color = [0, 0, 0];\n          }\n        }\n\n        components = color.slice();\n      }\n\n      return [type, components];\n    }\n\n    var hsbIndices = [[0, 3, 1], [2, 0, 1], [1, 0, 3], [1, 2, 0], [3, 1, 0], [0, 1, 2]];\n    var converters = {\n      'rgb-hsb': function rgbHsb(r, g, b) {\n        var max = Math.max(r, g, b),\n            min = Math.min(r, g, b),\n            delta = max - min,\n            h = delta === 0 ? 0 : (max == r ? (g - b) / delta + (g < b ? 6 : 0) : max == g ? (b - r) / delta + 2 : (r - g) / delta + 4) * 60;\n        return [h, max === 0 ? 0 : delta / max, max];\n      },\n      'hsb-rgb': function hsbRgb(h, s, b) {\n        h = (h / 60 % 6 + 6) % 6;\n        var i = Math.floor(h),\n            f = h - i,\n            i = hsbIndices[i],\n            v = [b, b * (1 - s), b * (1 - s * f), b * (1 - s * (1 - f))];\n        return [v[i[0]], v[i[1]], v[i[2]]];\n      },\n      'rgb-hsl': function rgbHsl(r, g, b) {\n        var max = Math.max(r, g, b),\n            min = Math.min(r, g, b),\n            delta = max - min,\n            achromatic = delta === 0,\n            h = achromatic ? 0 : (max == r ? (g - b) / delta + (g < b ? 6 : 0) : max == g ? (b - r) / delta + 2 : (r - g) / delta + 4) * 60,\n            l = (max + min) / 2,\n            s = achromatic ? 0 : l < 0.5 ? delta / (max + min) : delta / (2 - max - min);\n        return [h, s, l];\n      },\n      'hsl-rgb': function hslRgb(h, s, l) {\n        h = (h / 360 % 1 + 1) % 1;\n        if (s === 0) return [l, l, l];\n        var t3s = [h + 1 / 3, h, h - 1 / 3],\n            t2 = l < 0.5 ? l * (1 + s) : l + s - l * s,\n            t1 = 2 * l - t2,\n            c = [];\n\n        for (var i = 0; i < 3; i++) {\n          var t3 = t3s[i];\n          if (t3 < 0) t3 += 1;\n          if (t3 > 1) t3 -= 1;\n          c[i] = 6 * t3 < 1 ? t1 + (t2 - t1) * 6 * t3 : 2 * t3 < 1 ? t2 : 3 * t3 < 2 ? t1 + (t2 - t1) * (2 / 3 - t3) * 6 : t1;\n        }\n\n        return c;\n      },\n      'rgb-gray': function rgbGray(r, g, b) {\n        return [r * 0.2989 + g * 0.587 + b * 0.114];\n      },\n      'gray-rgb': function grayRgb(g) {\n        return [g, g, g];\n      },\n      'gray-hsb': function grayHsb(g) {\n        return [0, 0, g];\n      },\n      'gray-hsl': function grayHsl(g) {\n        return [0, 0, g];\n      },\n      'gradient-rgb': function gradientRgb() {\n        return [];\n      },\n      'rgb-gradient': function rgbGradient() {\n        return [];\n      }\n    };\n    return Base.each(types, function (properties, type) {\n      componentParsers[type] = [];\n      Base.each(properties, function (name, index) {\n        var part = Base.capitalize(name),\n            hasOverlap = /^(hue|saturation)$/.test(name),\n            parser = componentParsers[type][index] = type === 'gradient' ? name === 'gradient' ? function (value) {\n          var current = this._components[0];\n          value = Gradient.read(Array.isArray(value) ? value : arguments, 0, {\n            readNull: true\n          });\n\n          if (current !== value) {\n            if (current) current._removeOwner(this);\n            if (value) value._addOwner(this);\n          }\n\n          return value;\n        } : function () {\n          return Point.read(arguments, 0, {\n            readNull: name === 'highlight',\n            clone: true\n          });\n        } : function (value) {\n          return value == null || isNaN(value) ? 0 : +value;\n        };\n\n        this['get' + part] = function () {\n          return this._type === type || hasOverlap && /^hs[bl]$/.test(this._type) ? this._components[index] : this._convert(type)[index];\n        };\n\n        this['set' + part] = function (value) {\n          if (this._type !== type && !(hasOverlap && /^hs[bl]$/.test(this._type))) {\n            this._components = this._convert(type);\n            this._properties = types[type];\n            this._type = type;\n          }\n\n          this._components[index] = parser.call(this, value);\n\n          this._changed();\n        };\n      }, this);\n    }, {\n      _class: 'Color',\n      _readIndex: true,\n      initialize: function Color(arg) {\n        var args = arguments,\n            reading = this.__read,\n            read = 0,\n            type,\n            components,\n            alpha,\n            values;\n\n        if (Array.isArray(arg)) {\n          args = arg;\n          arg = args[0];\n        }\n\n        var argType = arg != null && typeof arg;\n\n        if (argType === 'string' && arg in types) {\n          type = arg;\n          arg = args[1];\n\n          if (Array.isArray(arg)) {\n            components = arg;\n            alpha = args[2];\n          } else {\n            if (reading) read = 1;\n            args = Base.slice(args, 1);\n            argType = typeof arg;\n          }\n        }\n\n        if (!components) {\n          values = argType === 'number' ? args : argType === 'object' && arg.length != null ? arg : null;\n\n          if (values) {\n            if (!type) type = values.length >= 3 ? 'rgb' : 'gray';\n            var length = types[type].length;\n            alpha = values[length];\n\n            if (reading) {\n              read += values === arguments ? length + (alpha != null ? 1 : 0) : 1;\n            }\n\n            if (values.length > length) values = Base.slice(values, 0, length);\n          } else if (argType === 'string') {\n            var converted = fromCSS(arg);\n            type = converted[0];\n            components = converted[1];\n\n            if (components.length === 4) {\n              alpha = components[3];\n              components.length--;\n            }\n          } else if (argType === 'object') {\n            if (arg.constructor === Color) {\n              type = arg._type;\n              components = arg._components.slice();\n              alpha = arg._alpha;\n\n              if (type === 'gradient') {\n                for (var i = 1, l = components.length; i < l; i++) {\n                  var point = components[i];\n                  if (point) components[i] = point.clone();\n                }\n              }\n            } else if (arg.constructor === Gradient) {\n              type = 'gradient';\n              values = args;\n            } else {\n              type = 'hue' in arg ? 'lightness' in arg ? 'hsl' : 'hsb' : 'gradient' in arg || 'stops' in arg || 'radial' in arg ? 'gradient' : 'gray' in arg ? 'gray' : 'rgb';\n              var properties = types[type],\n                  parsers = componentParsers[type];\n              this._components = components = [];\n\n              for (var i = 0, l = properties.length; i < l; i++) {\n                var value = arg[properties[i]];\n\n                if (value == null && !i && type === 'gradient' && 'stops' in arg) {\n                  value = {\n                    stops: arg.stops,\n                    radial: arg.radial\n                  };\n                }\n\n                value = parsers[i].call(this, value);\n                if (value != null) components[i] = value;\n              }\n\n              alpha = arg.alpha;\n            }\n          }\n\n          if (reading && type) read = 1;\n        }\n\n        this._type = type || 'rgb';\n\n        if (!components) {\n          this._components = components = [];\n          var parsers = componentParsers[this._type];\n\n          for (var i = 0, l = parsers.length; i < l; i++) {\n            var value = parsers[i].call(this, values && values[i]);\n            if (value != null) components[i] = value;\n          }\n        }\n\n        this._components = components;\n        this._properties = types[this._type];\n        this._alpha = alpha;\n        if (reading) this.__read = read;\n        return this;\n      },\n      set: '#initialize',\n      _serialize: function _serialize(options, dictionary) {\n        var components = this.getComponents();\n        return Base.serialize(/^(gray|rgb)$/.test(this._type) ? components : [this._type].concat(components), options, true, dictionary);\n      },\n      _changed: function _changed() {\n        this._canvasStyle = null;\n\n        if (this._owner) {\n          if (this._setter) {\n            this._owner[this._setter](this);\n          } else {\n            this._owner._changed(129);\n          }\n        }\n      },\n      _convert: function _convert(type) {\n        var converter;\n        return this._type === type ? this._components.slice() : (converter = converters[this._type + '-' + type]) ? converter.apply(this, this._components) : converters['rgb-' + type].apply(this, converters[this._type + '-rgb'].apply(this, this._components));\n      },\n      convert: function convert(type) {\n        return new Color(type, this._convert(type), this._alpha);\n      },\n      getType: function getType() {\n        return this._type;\n      },\n      setType: function setType(type) {\n        this._components = this._convert(type);\n        this._properties = types[type];\n        this._type = type;\n      },\n      getComponents: function getComponents() {\n        var components = this._components.slice();\n\n        if (this._alpha != null) components.push(this._alpha);\n        return components;\n      },\n      getAlpha: function getAlpha() {\n        return this._alpha != null ? this._alpha : 1;\n      },\n      setAlpha: function setAlpha(alpha) {\n        this._alpha = alpha == null ? null : Math.min(Math.max(alpha, 0), 1);\n\n        this._changed();\n      },\n      hasAlpha: function hasAlpha() {\n        return this._alpha != null;\n      },\n      equals: function equals(color) {\n        var col = Base.isPlainValue(color, true) ? Color.read(arguments) : color;\n        return col === this || col && this._class === col._class && this._type === col._type && this.getAlpha() === col.getAlpha() && Base.equals(this._components, col._components) || false;\n      },\n      toString: function toString() {\n        var properties = this._properties,\n            parts = [],\n            isGradient = this._type === 'gradient',\n            f = Formatter.instance;\n\n        for (var i = 0, l = properties.length; i < l; i++) {\n          var value = this._components[i];\n          if (value != null) parts.push(properties[i] + ': ' + (isGradient ? value : f.number(value)));\n        }\n\n        if (this._alpha != null) parts.push('alpha: ' + f.number(this._alpha));\n        return '{ ' + parts.join(', ') + ' }';\n      },\n      toCSS: function toCSS(hex) {\n        var components = this._convert('rgb'),\n            alpha = hex || this._alpha == null ? 1 : this._alpha;\n\n        function convert(val) {\n          return Math.round((val < 0 ? 0 : val > 1 ? 1 : val) * 255);\n        }\n\n        components = [convert(components[0]), convert(components[1]), convert(components[2])];\n        if (alpha < 1) components.push(alpha < 0 ? 0 : alpha);\n        return hex ? '#' + ((1 << 24) + (components[0] << 16) + (components[1] << 8) + components[2]).toString(16).slice(1) : (components.length == 4 ? 'rgba(' : 'rgb(') + components.join(',') + ')';\n      },\n      toCanvasStyle: function toCanvasStyle(ctx, matrix) {\n        if (this._canvasStyle) return this._canvasStyle;\n        if (this._type !== 'gradient') return this._canvasStyle = this.toCSS();\n        var components = this._components,\n            gradient = components[0],\n            stops = gradient._stops,\n            origin = components[1],\n            destination = components[2],\n            highlight = components[3],\n            inverse = matrix && matrix.inverted(),\n            canvasGradient;\n\n        if (inverse) {\n          origin = inverse._transformPoint(origin);\n          destination = inverse._transformPoint(destination);\n          if (highlight) highlight = inverse._transformPoint(highlight);\n        }\n\n        if (gradient._radial) {\n          var radius = destination.getDistance(origin);\n\n          if (highlight) {\n            var vector = highlight.subtract(origin);\n            if (vector.getLength() > radius) highlight = origin.add(vector.normalize(radius - 0.1));\n          }\n\n          var start = highlight || origin;\n          canvasGradient = ctx.createRadialGradient(start.x, start.y, 0, origin.x, origin.y, radius);\n        } else {\n          canvasGradient = ctx.createLinearGradient(origin.x, origin.y, destination.x, destination.y);\n        }\n\n        for (var i = 0, l = stops.length; i < l; i++) {\n          var stop = stops[i],\n              offset = stop._offset;\n          canvasGradient.addColorStop(offset == null ? i / (l - 1) : offset, stop._color.toCanvasStyle());\n        }\n\n        return this._canvasStyle = canvasGradient;\n      },\n      transform: function transform(matrix) {\n        if (this._type === 'gradient') {\n          var components = this._components;\n\n          for (var i = 1, l = components.length; i < l; i++) {\n            var point = components[i];\n\n            matrix._transformPoint(point, point, true);\n          }\n\n          this._changed();\n        }\n      },\n      statics: {\n        _types: types,\n        random: function random() {\n          var random = Math.random;\n          return new Color(random(), random(), random());\n        },\n        _setOwner: function _setOwner(color, owner, setter) {\n          if (color) {\n            if (color._owner && owner && color._owner !== owner) {\n              color = color.clone();\n            }\n\n            if (!color._owner ^ !owner) {\n              color._owner = owner || null;\n              color._setter = setter || null;\n            }\n          }\n\n          return color;\n        }\n      }\n    });\n  }(), new function () {\n    var operators = {\n      add: function add(a, b) {\n        return a + b;\n      },\n      subtract: function subtract(a, b) {\n        return a - b;\n      },\n      multiply: function multiply(a, b) {\n        return a * b;\n      },\n      divide: function divide(a, b) {\n        return a / b;\n      }\n    };\n    return Base.each(operators, function (operator, name) {\n      this[name] = function (color) {\n        color = Color.read(arguments);\n\n        var type = this._type,\n            components1 = this._components,\n            components2 = color._convert(type);\n\n        for (var i = 0, l = components1.length; i < l; i++) {\n          components2[i] = operator(components1[i], components2[i]);\n        }\n\n        return new Color(type, components2, this._alpha != null ? operator(this._alpha, color.getAlpha()) : null);\n      };\n    }, {});\n  }());\n  var Gradient = Base.extend({\n    _class: 'Gradient',\n    initialize: function Gradient(stops, radial) {\n      this._id = UID.get();\n\n      if (stops && Base.isPlainObject(stops)) {\n        this.set(stops);\n        stops = radial = null;\n      }\n\n      if (this._stops == null) {\n        this.setStops(stops || ['white', 'black']);\n      }\n\n      if (this._radial == null) {\n        this.setRadial(typeof radial === 'string' && radial === 'radial' || radial || false);\n      }\n    },\n    _serialize: function _serialize(options, dictionary) {\n      return dictionary.add(this, function () {\n        return Base.serialize([this._stops, this._radial], options, true, dictionary);\n      });\n    },\n    _changed: function _changed() {\n      for (var i = 0, l = this._owners && this._owners.length; i < l; i++) {\n        this._owners[i]._changed();\n      }\n    },\n    _addOwner: function _addOwner(color) {\n      if (!this._owners) this._owners = [];\n\n      this._owners.push(color);\n    },\n    _removeOwner: function _removeOwner(color) {\n      var index = this._owners ? this._owners.indexOf(color) : -1;\n\n      if (index != -1) {\n        this._owners.splice(index, 1);\n\n        if (!this._owners.length) this._owners = undefined;\n      }\n    },\n    clone: function clone() {\n      var stops = [];\n\n      for (var i = 0, l = this._stops.length; i < l; i++) {\n        stops[i] = this._stops[i].clone();\n      }\n\n      return new Gradient(stops, this._radial);\n    },\n    getStops: function getStops() {\n      return this._stops;\n    },\n    setStops: function setStops(stops) {\n      if (stops.length < 2) {\n        throw new Error('Gradient stop list needs to contain at least two stops.');\n      }\n\n      var _stops = this._stops;\n\n      if (_stops) {\n        for (var i = 0, l = _stops.length; i < l; i++) {\n          _stops[i]._owner = undefined;\n        }\n      }\n\n      _stops = this._stops = GradientStop.readList(stops, 0, {\n        clone: true\n      });\n\n      for (var i = 0, l = _stops.length; i < l; i++) {\n        _stops[i]._owner = this;\n      }\n\n      this._changed();\n    },\n    getRadial: function getRadial() {\n      return this._radial;\n    },\n    setRadial: function setRadial(radial) {\n      this._radial = radial;\n\n      this._changed();\n    },\n    equals: function equals(gradient) {\n      if (gradient === this) return true;\n\n      if (gradient && this._class === gradient._class) {\n        var stops1 = this._stops,\n            stops2 = gradient._stops,\n            length = stops1.length;\n\n        if (length === stops2.length) {\n          for (var i = 0; i < length; i++) {\n            if (!stops1[i].equals(stops2[i])) return false;\n          }\n\n          return true;\n        }\n      }\n\n      return false;\n    }\n  });\n  var GradientStop = Base.extend({\n    _class: 'GradientStop',\n    initialize: function GradientStop(arg0, arg1) {\n      var color = arg0,\n          offset = arg1;\n\n      if (typeof arg0 === 'object' && arg1 === undefined) {\n        if (Array.isArray(arg0) && typeof arg0[0] !== 'number') {\n          color = arg0[0];\n          offset = arg0[1];\n        } else if ('color' in arg0 || 'offset' in arg0 || 'rampPoint' in arg0) {\n          color = arg0.color;\n          offset = arg0.offset || arg0.rampPoint || 0;\n        }\n      }\n\n      this.setColor(color);\n      this.setOffset(offset);\n    },\n    clone: function clone() {\n      return new GradientStop(this._color.clone(), this._offset);\n    },\n    _serialize: function _serialize(options, dictionary) {\n      var color = this._color,\n          offset = this._offset;\n      return Base.serialize(offset == null ? [color] : [color, offset], options, true, dictionary);\n    },\n    _changed: function _changed() {\n      if (this._owner) this._owner._changed(129);\n    },\n    getOffset: function getOffset() {\n      return this._offset;\n    },\n    setOffset: function setOffset(offset) {\n      this._offset = offset;\n\n      this._changed();\n    },\n    getRampPoint: '#getOffset',\n    setRampPoint: '#setOffset',\n    getColor: function getColor() {\n      return this._color;\n    },\n    setColor: function setColor() {\n      Color._setOwner(this._color, null);\n\n      this._color = Color._setOwner(Color.read(arguments, 0), this, 'setColor');\n\n      this._changed();\n    },\n    equals: function equals(stop) {\n      return stop === this || stop && this._class === stop._class && this._color.equals(stop._color) && this._offset == stop._offset || false;\n    }\n  });\n  var Style = Base.extend(new function () {\n    var itemDefaults = {\n      fillColor: null,\n      fillRule: 'nonzero',\n      strokeColor: null,\n      strokeWidth: 1,\n      strokeCap: 'butt',\n      strokeJoin: 'miter',\n      strokeScaling: true,\n      miterLimit: 10,\n      dashOffset: 0,\n      dashArray: [],\n      shadowColor: null,\n      shadowBlur: 0,\n      shadowOffset: new Point(),\n      selectedColor: null\n    },\n        groupDefaults = Base.set({}, itemDefaults, {\n      fontFamily: 'sans-serif',\n      fontWeight: 'normal',\n      fontSize: 12,\n      leading: null,\n      justification: 'left'\n    }),\n        textDefaults = Base.set({}, groupDefaults, {\n      fillColor: new Color()\n    }),\n        flags = {\n      strokeWidth: 193,\n      strokeCap: 193,\n      strokeJoin: 193,\n      strokeScaling: 201,\n      miterLimit: 193,\n      fontFamily: 9,\n      fontWeight: 9,\n      fontSize: 9,\n      font: 9,\n      leading: 9,\n      justification: 9\n    },\n        item = {\n      beans: true\n    },\n        fields = {\n      _class: 'Style',\n      beans: true,\n      initialize: function Style(style, _owner, _project) {\n        this._values = {};\n        this._owner = _owner;\n        this._project = _owner && _owner._project || _project || paper.project;\n        this._defaults = !_owner || _owner instanceof Group ? groupDefaults : _owner instanceof TextItem ? textDefaults : itemDefaults;\n        if (style) this.set(style);\n      }\n    };\n    Base.each(groupDefaults, function (value, key) {\n      var isColor = /Color$/.test(key),\n          isPoint = key === 'shadowOffset',\n          part = Base.capitalize(key),\n          flag = flags[key],\n          set = 'set' + part,\n          get = 'get' + part;\n\n      fields[set] = function (value) {\n        var owner = this._owner,\n            children = owner && owner._children,\n            applyToChildren = children && children.length > 0 && !(owner instanceof CompoundPath);\n\n        if (applyToChildren) {\n          for (var i = 0, l = children.length; i < l; i++) {\n            children[i]._style[set](value);\n          }\n        }\n\n        if ((key === 'selectedColor' || !applyToChildren) && key in this._defaults) {\n          var old = this._values[key];\n\n          if (old !== value) {\n            if (isColor) {\n              if (old) {\n                Color._setOwner(old, null);\n\n                old._canvasStyle = null;\n              }\n\n              if (value && value.constructor === Color) {\n                value = Color._setOwner(value, owner, applyToChildren && set);\n              }\n            }\n\n            this._values[key] = value;\n            if (owner) owner._changed(flag || 129);\n          }\n        }\n      };\n\n      fields[get] = function (_dontMerge) {\n        var owner = this._owner,\n            children = owner && owner._children,\n            applyToChildren = children && children.length > 0 && !(owner instanceof CompoundPath),\n            value;\n\n        if (applyToChildren && !_dontMerge) {\n          for (var i = 0, l = children.length; i < l; i++) {\n            var childValue = children[i]._style[get]();\n\n            if (!i) {\n              value = childValue;\n            } else if (!Base.equals(value, childValue)) {\n              return undefined;\n            }\n          }\n        } else if (key in this._defaults) {\n          var value = this._values[key];\n\n          if (value === undefined) {\n            value = this._defaults[key];\n\n            if (value && value.clone) {\n              value = value.clone();\n            }\n          } else {\n            var ctor = isColor ? Color : isPoint ? Point : null;\n\n            if (ctor && !(value && value.constructor === ctor)) {\n              this._values[key] = value = ctor.read([value], 0, {\n                readNull: true,\n                clone: true\n              });\n            }\n          }\n        }\n\n        if (value && isColor) {\n          value = Color._setOwner(value, owner, applyToChildren && set);\n        }\n\n        return value;\n      };\n\n      item[get] = function (_dontMerge) {\n        return this._style[get](_dontMerge);\n      };\n\n      item[set] = function (value) {\n        this._style[set](value);\n      };\n    });\n    Base.each({\n      Font: 'FontFamily',\n      WindingRule: 'FillRule'\n    }, function (value, key) {\n      var get = 'get' + key,\n          set = 'set' + key;\n      fields[get] = item[get] = '#get' + value;\n      fields[set] = item[set] = '#set' + value;\n    });\n    Item.inject(item);\n    return fields;\n  }(), {\n    set: function set(style) {\n      var isStyle = style instanceof Style,\n          values = isStyle ? style._values : style;\n\n      if (values) {\n        for (var key in values) {\n          if (key in this._defaults) {\n            var value = values[key];\n            this[key] = value && isStyle && value.clone ? value.clone() : value;\n          }\n        }\n      }\n    },\n    equals: function equals(style) {\n      function compare(style1, style2, secondary) {\n        var values1 = style1._values,\n            values2 = style2._values,\n            defaults2 = style2._defaults;\n\n        for (var key in values1) {\n          var value1 = values1[key],\n              value2 = values2[key];\n          if (!(secondary && key in values2) && !Base.equals(value1, value2 === undefined ? defaults2[key] : value2)) return false;\n        }\n\n        return true;\n      }\n\n      return style === this || style && this._class === style._class && compare(this, style) && compare(style, this, true) || false;\n    },\n    _dispose: function _dispose() {\n      var color;\n      color = this.getFillColor();\n      if (color) color._canvasStyle = null;\n      color = this.getStrokeColor();\n      if (color) color._canvasStyle = null;\n      color = this.getShadowColor();\n      if (color) color._canvasStyle = null;\n    },\n    hasFill: function hasFill() {\n      var color = this.getFillColor();\n      return !!color && color.alpha > 0;\n    },\n    hasStroke: function hasStroke() {\n      var color = this.getStrokeColor();\n      return !!color && color.alpha > 0 && this.getStrokeWidth() > 0;\n    },\n    hasShadow: function hasShadow() {\n      var color = this.getShadowColor();\n      return !!color && color.alpha > 0 && (this.getShadowBlur() > 0 || !this.getShadowOffset().isZero());\n    },\n    getView: function getView() {\n      return this._project._view;\n    },\n    getFontStyle: function getFontStyle() {\n      var fontSize = this.getFontSize();\n      return this.getFontWeight() + ' ' + fontSize + (/[a-z]/i.test(fontSize + '') ? ' ' : 'px ') + this.getFontFamily();\n    },\n    getFont: '#getFontFamily',\n    setFont: '#setFontFamily',\n    getLeading: function getLeading() {\n      var leading = getLeading.base.call(this),\n          fontSize = this.getFontSize();\n      if (/pt|em|%|px/.test(fontSize)) fontSize = this.getView().getPixelSize(fontSize);\n      return leading != null ? leading : fontSize * 1.2;\n    }\n  });\n  var DomElement = new function () {\n    function handlePrefix(el, name, set, value) {\n      var prefixes = ['', 'webkit', 'moz', 'Moz', 'ms', 'o'],\n          suffix = name[0].toUpperCase() + name.substring(1);\n\n      for (var i = 0; i < 6; i++) {\n        var prefix = prefixes[i],\n            key = prefix ? prefix + suffix : name;\n\n        if (key in el) {\n          if (set) {\n            el[key] = value;\n          } else {\n            return el[key];\n          }\n\n          break;\n        }\n      }\n    }\n\n    return {\n      getStyles: function getStyles(el) {\n        var doc = el && el.nodeType !== 9 ? el.ownerDocument : el,\n            view = doc && doc.defaultView;\n        return view && view.getComputedStyle(el, '');\n      },\n      getBounds: function getBounds(el, viewport) {\n        var doc = el.ownerDocument,\n            body = doc.body,\n            html = doc.documentElement,\n            rect;\n\n        try {\n          rect = el.getBoundingClientRect();\n        } catch (e) {\n          rect = {\n            left: 0,\n            top: 0,\n            width: 0,\n            height: 0\n          };\n        }\n\n        var x = rect.left - (html.clientLeft || body.clientLeft || 0),\n            y = rect.top - (html.clientTop || body.clientTop || 0);\n\n        if (!viewport) {\n          var view = doc.defaultView;\n          x += view.pageXOffset || html.scrollLeft || body.scrollLeft;\n          y += view.pageYOffset || html.scrollTop || body.scrollTop;\n        }\n\n        return new _Rectangle(x, y, rect.width, rect.height);\n      },\n      getViewportBounds: function getViewportBounds(el) {\n        var doc = el.ownerDocument,\n            view = doc.defaultView,\n            html = doc.documentElement;\n        return new _Rectangle(0, 0, view.innerWidth || html.clientWidth, view.innerHeight || html.clientHeight);\n      },\n      getOffset: function getOffset(el, viewport) {\n        return DomElement.getBounds(el, viewport).getPoint();\n      },\n      getSize: function getSize(el) {\n        return DomElement.getBounds(el, true).getSize();\n      },\n      isInvisible: function isInvisible(el) {\n        return DomElement.getSize(el).equals(new Size(0, 0));\n      },\n      isInView: function isInView(el) {\n        return !DomElement.isInvisible(el) && DomElement.getViewportBounds(el).intersects(DomElement.getBounds(el, true));\n      },\n      isInserted: function isInserted(el) {\n        return document.body.contains(el);\n      },\n      getPrefixed: function getPrefixed(el, name) {\n        return el && handlePrefix(el, name);\n      },\n      setPrefixed: function setPrefixed(el, name, value) {\n        if (typeof name === 'object') {\n          for (var key in name) {\n            handlePrefix(el, key, true, name[key]);\n          }\n        } else {\n          handlePrefix(el, name, true, value);\n        }\n      }\n    };\n  }();\n  var DomEvent = {\n    add: function add(el, events) {\n      if (el) {\n        for (var type in events) {\n          var func = events[type],\n              parts = type.split(/[\\s,]+/g);\n\n          for (var i = 0, l = parts.length; i < l; i++) {\n            var name = parts[i];\n            var options = el === document && (name === 'touchstart' || name === 'touchmove') ? {\n              passive: false\n            } : false;\n            el.addEventListener(name, func, options);\n          }\n        }\n      }\n    },\n    remove: function remove(el, events) {\n      if (el) {\n        for (var type in events) {\n          var func = events[type],\n              parts = type.split(/[\\s,]+/g);\n\n          for (var i = 0, l = parts.length; i < l; i++) {\n            el.removeEventListener(parts[i], func, false);\n          }\n        }\n      }\n    },\n    getPoint: function getPoint(event) {\n      var pos = event.targetTouches ? event.targetTouches.length ? event.targetTouches[0] : event.changedTouches[0] : event;\n      return new Point(pos.pageX || pos.clientX + document.documentElement.scrollLeft, pos.pageY || pos.clientY + document.documentElement.scrollTop);\n    },\n    getTarget: function getTarget(event) {\n      return event.target || event.srcElement;\n    },\n    getRelatedTarget: function getRelatedTarget(event) {\n      return event.relatedTarget || event.toElement;\n    },\n    getOffset: function getOffset(event, target) {\n      return DomEvent.getPoint(event).subtract(DomElement.getOffset(target || DomEvent.getTarget(event)));\n    }\n  };\n  DomEvent.requestAnimationFrame = new function () {\n    var nativeRequest = DomElement.getPrefixed(window, 'requestAnimationFrame'),\n        requested = false,\n        callbacks = [],\n        timer;\n\n    function handleCallbacks() {\n      var functions = callbacks;\n      callbacks = [];\n\n      for (var i = 0, l = functions.length; i < l; i++) {\n        functions[i]();\n      }\n\n      requested = nativeRequest && callbacks.length;\n      if (requested) nativeRequest(handleCallbacks);\n    }\n\n    return function (callback) {\n      callbacks.push(callback);\n\n      if (nativeRequest) {\n        if (!requested) {\n          nativeRequest(handleCallbacks);\n          requested = true;\n        }\n      } else if (!timer) {\n        timer = setInterval(handleCallbacks, 1000 / 60);\n      }\n    };\n  }();\n  var View = Base.extend(Emitter, {\n    _class: 'View',\n    initialize: function View(project, element) {\n      function getSize(name) {\n        return element[name] || parseInt(element.getAttribute(name), 10);\n      }\n\n      function getCanvasSize() {\n        var size = DomElement.getSize(element);\n        return size.isNaN() || size.isZero() ? new Size(getSize('width'), getSize('height')) : size;\n      }\n\n      var size;\n\n      if (window && element) {\n        this._id = element.getAttribute('id');\n        if (this._id == null) element.setAttribute('id', this._id = 'view-' + View._id++);\n        DomEvent.add(element, this._viewEvents);\n        var none = 'none';\n        DomElement.setPrefixed(element.style, {\n          userDrag: none,\n          userSelect: none,\n          touchCallout: none,\n          contentZooming: none,\n          tapHighlightColor: 'rgba(0,0,0,0)'\n        });\n\n        if (PaperScope.hasAttribute(element, 'resize')) {\n          var that = this;\n          DomEvent.add(window, this._windowEvents = {\n            resize: function resize() {\n              that.setViewSize(getCanvasSize());\n            }\n          });\n        }\n\n        size = getCanvasSize();\n\n        if (PaperScope.hasAttribute(element, 'stats') && typeof Stats !== 'undefined') {\n          this._stats = new Stats();\n          var stats = this._stats.domElement,\n              style = stats.style,\n              offset = DomElement.getOffset(element);\n          style.position = 'absolute';\n          style.left = offset.x + 'px';\n          style.top = offset.y + 'px';\n          document.body.appendChild(stats);\n        }\n      } else {\n        size = new Size(element);\n        element = null;\n      }\n\n      this._project = project;\n      this._scope = project._scope;\n      this._element = element;\n      if (!this._pixelRatio) this._pixelRatio = window && window.devicePixelRatio || 1;\n\n      this._setElementSize(size.width, size.height);\n\n      this._viewSize = size;\n\n      View._views.push(this);\n\n      View._viewsById[this._id] = this;\n      (this._matrix = new Matrix())._owner = this;\n      if (!View._focused) View._focused = this;\n      this._frameItems = {};\n      this._frameItemCount = 0;\n      this._itemEvents = {\n        native: {},\n        virtual: {}\n      };\n      this._autoUpdate = !paper.agent.node;\n      this._needsUpdate = false;\n    },\n    remove: function remove() {\n      if (!this._project) return false;\n      if (View._focused === this) View._focused = null;\n\n      View._views.splice(View._views.indexOf(this), 1);\n\n      delete View._viewsById[this._id];\n      var project = this._project;\n      if (project._view === this) project._view = null;\n      DomEvent.remove(this._element, this._viewEvents);\n      DomEvent.remove(window, this._windowEvents);\n      this._element = this._project = null;\n      this.off('frame');\n      this._animate = false;\n      this._frameItems = {};\n      return true;\n    },\n    _events: Base.each(Item._itemHandlers.concat(['onResize', 'onKeyDown', 'onKeyUp']), function (name) {\n      this[name] = {};\n    }, {\n      onFrame: {\n        install: function install() {\n          this.play();\n        },\n        uninstall: function uninstall() {\n          this.pause();\n        }\n      }\n    }),\n    _animate: false,\n    _time: 0,\n    _count: 0,\n    getAutoUpdate: function getAutoUpdate() {\n      return this._autoUpdate;\n    },\n    setAutoUpdate: function setAutoUpdate(autoUpdate) {\n      this._autoUpdate = autoUpdate;\n      if (autoUpdate) this.requestUpdate();\n    },\n    update: function update() {},\n    draw: function draw() {\n      this.update();\n    },\n    requestUpdate: function requestUpdate() {\n      if (!this._requested) {\n        var that = this;\n        DomEvent.requestAnimationFrame(function () {\n          that._requested = false;\n\n          if (that._animate) {\n            that.requestUpdate();\n            var element = that._element;\n\n            if ((!DomElement.getPrefixed(document, 'hidden') || PaperScope.getAttribute(element, 'keepalive') === 'true') && DomElement.isInView(element)) {\n              that._handleFrame();\n            }\n          }\n\n          if (that._autoUpdate) that.update();\n        });\n        this._requested = true;\n      }\n    },\n    play: function play() {\n      this._animate = true;\n      this.requestUpdate();\n    },\n    pause: function pause() {\n      this._animate = false;\n    },\n    _handleFrame: function _handleFrame() {\n      paper = this._scope;\n      var now = Date.now() / 1000,\n          delta = this._last ? now - this._last : 0;\n      this._last = now;\n      this.emit('frame', new Base({\n        delta: delta,\n        time: this._time += delta,\n        count: this._count++\n      }));\n      if (this._stats) this._stats.update();\n    },\n    _animateItem: function _animateItem(item, animate) {\n      var items = this._frameItems;\n\n      if (animate) {\n        items[item._id] = {\n          item: item,\n          time: 0,\n          count: 0\n        };\n        if (++this._frameItemCount === 1) this.on('frame', this._handleFrameItems);\n      } else {\n        delete items[item._id];\n\n        if (--this._frameItemCount === 0) {\n          this.off('frame', this._handleFrameItems);\n        }\n      }\n    },\n    _handleFrameItems: function _handleFrameItems(event) {\n      for (var i in this._frameItems) {\n        var entry = this._frameItems[i];\n        entry.item.emit('frame', new Base(event, {\n          time: entry.time += event.delta,\n          count: entry.count++\n        }));\n      }\n    },\n    _changed: function _changed() {\n      this._project._changed(4097);\n\n      this._bounds = this._decomposed = undefined;\n    },\n    getElement: function getElement() {\n      return this._element;\n    },\n    getPixelRatio: function getPixelRatio() {\n      return this._pixelRatio;\n    },\n    getResolution: function getResolution() {\n      return this._pixelRatio * 72;\n    },\n    getViewSize: function getViewSize() {\n      var size = this._viewSize;\n      return new LinkedSize(size.width, size.height, this, 'setViewSize');\n    },\n    setViewSize: function setViewSize() {\n      var size = Size.read(arguments),\n          delta = size.subtract(this._viewSize);\n      if (delta.isZero()) return;\n\n      this._setElementSize(size.width, size.height);\n\n      this._viewSize.set(size);\n\n      this._changed();\n\n      this.emit('resize', {\n        size: size,\n        delta: delta\n      });\n\n      if (this._autoUpdate) {\n        this.update();\n      }\n    },\n    _setElementSize: function _setElementSize(width, height) {\n      var element = this._element;\n\n      if (element) {\n        if (element.width !== width) element.width = width;\n        if (element.height !== height) element.height = height;\n      }\n    },\n    getBounds: function getBounds() {\n      if (!this._bounds) this._bounds = this._matrix.inverted()._transformBounds(new _Rectangle(new Point(), this._viewSize));\n      return this._bounds;\n    },\n    getSize: function getSize() {\n      return this.getBounds().getSize();\n    },\n    isVisible: function isVisible() {\n      return DomElement.isInView(this._element);\n    },\n    isInserted: function isInserted() {\n      return DomElement.isInserted(this._element);\n    },\n    getPixelSize: function getPixelSize(size) {\n      var element = this._element,\n          pixels;\n\n      if (element) {\n        var parent = element.parentNode,\n            temp = document.createElement('div');\n        temp.style.fontSize = size;\n        parent.appendChild(temp);\n        pixels = parseFloat(DomElement.getStyles(temp).fontSize);\n        parent.removeChild(temp);\n      } else {\n        pixels = parseFloat(pixels);\n      }\n\n      return pixels;\n    },\n    getTextWidth: function getTextWidth(font, lines) {\n      return 0;\n    }\n  }, Base.each(['rotate', 'scale', 'shear', 'skew'], function (key) {\n    var rotate = key === 'rotate';\n\n    this[key] = function () {\n      var args = arguments,\n          value = (rotate ? Base : Point).read(args),\n          center = Point.read(args, 0, {\n        readNull: true\n      });\n      return this.transform(new Matrix()[key](value, center || this.getCenter(true)));\n    };\n  }, {\n    _decompose: function _decompose() {\n      return this._decomposed || (this._decomposed = this._matrix.decompose());\n    },\n    translate: function translate() {\n      var mx = new Matrix();\n      return this.transform(mx.translate.apply(mx, arguments));\n    },\n    getCenter: function getCenter() {\n      return this.getBounds().getCenter();\n    },\n    setCenter: function setCenter() {\n      var center = Point.read(arguments);\n      this.translate(this.getCenter().subtract(center));\n    },\n    getZoom: function getZoom() {\n      var scaling = this._decompose().scaling;\n\n      return (scaling.x + scaling.y) / 2;\n    },\n    setZoom: function setZoom(zoom) {\n      this.transform(new Matrix().scale(zoom / this.getZoom(), this.getCenter()));\n    },\n    getRotation: function getRotation() {\n      return this._decompose().rotation;\n    },\n    setRotation: function setRotation(rotation) {\n      var current = this.getRotation();\n\n      if (current != null && rotation != null) {\n        this.rotate(rotation - current);\n      }\n    },\n    getScaling: function getScaling() {\n      var scaling = this._decompose().scaling;\n\n      return new LinkedPoint(scaling.x, scaling.y, this, 'setScaling');\n    },\n    setScaling: function setScaling() {\n      var current = this.getScaling(),\n          scaling = Point.read(arguments, 0, {\n        clone: true,\n        readNull: true\n      });\n\n      if (current && scaling) {\n        this.scale(scaling.x / current.x, scaling.y / current.y);\n      }\n    },\n    getMatrix: function getMatrix() {\n      return this._matrix;\n    },\n    setMatrix: function setMatrix() {\n      var matrix = this._matrix;\n      matrix.initialize.apply(matrix, arguments);\n    },\n    transform: function transform(matrix) {\n      this._matrix.append(matrix);\n    },\n    scrollBy: function scrollBy() {\n      this.translate(Point.read(arguments).negate());\n    }\n  }), {\n    projectToView: function projectToView() {\n      return this._matrix._transformPoint(Point.read(arguments));\n    },\n    viewToProject: function viewToProject() {\n      return this._matrix._inverseTransform(Point.read(arguments));\n    },\n    getEventPoint: function getEventPoint(event) {\n      return this.viewToProject(DomEvent.getOffset(event, this._element));\n    }\n  }, {\n    statics: {\n      _views: [],\n      _viewsById: {},\n      _id: 0,\n      create: function create(project, element) {\n        if (document && typeof element === 'string') element = document.getElementById(element);\n        var ctor = window ? CanvasView : View;\n        return new ctor(project, element);\n      }\n    }\n  }, new function () {\n    if (!window) return;\n    var prevFocus,\n        tempFocus,\n        dragging = false,\n        mouseDown = false;\n\n    function getView(event) {\n      var target = DomEvent.getTarget(event);\n      return target.getAttribute && View._viewsById[target.getAttribute('id')];\n    }\n\n    function updateFocus() {\n      var view = View._focused;\n\n      if (!view || !view.isVisible()) {\n        for (var i = 0, l = View._views.length; i < l; i++) {\n          if ((view = View._views[i]).isVisible()) {\n            View._focused = tempFocus = view;\n            break;\n          }\n        }\n      }\n    }\n\n    function handleMouseMove(view, event, point) {\n      view._handleMouseEvent('mousemove', event, point);\n    }\n\n    var navigator = window.navigator,\n        mousedown,\n        mousemove,\n        mouseup;\n\n    if (navigator.pointerEnabled || navigator.msPointerEnabled) {\n      mousedown = 'pointerdown MSPointerDown';\n      mousemove = 'pointermove MSPointerMove';\n      mouseup = 'pointerup pointercancel MSPointerUp MSPointerCancel';\n    } else {\n      mousedown = 'touchstart';\n      mousemove = 'touchmove';\n      mouseup = 'touchend touchcancel';\n\n      if (!('ontouchstart' in window && navigator.userAgent.match(/mobile|tablet|ip(ad|hone|od)|android|silk/i))) {\n        mousedown += ' mousedown';\n        mousemove += ' mousemove';\n        mouseup += ' mouseup';\n      }\n    }\n\n    var viewEvents = {},\n        docEvents = {\n      mouseout: function mouseout(event) {\n        var view = View._focused,\n            target = DomEvent.getRelatedTarget(event);\n\n        if (view && (!target || target.nodeName === 'HTML')) {\n          var offset = DomEvent.getOffset(event, view._element),\n              x = offset.x,\n              abs = Math.abs,\n              ax = abs(x),\n              max = 1 << 25,\n              diff = ax - max;\n          offset.x = abs(diff) < ax ? diff * (x < 0 ? -1 : 1) : x;\n          handleMouseMove(view, event, view.viewToProject(offset));\n        }\n      },\n      scroll: updateFocus\n    };\n\n    viewEvents[mousedown] = function (event) {\n      var view = View._focused = getView(event);\n\n      if (!dragging) {\n        dragging = true;\n\n        view._handleMouseEvent('mousedown', event);\n      }\n    };\n\n    docEvents[mousemove] = function (event) {\n      var view = View._focused;\n\n      if (!mouseDown) {\n        var target = getView(event);\n\n        if (target) {\n          if (view !== target) {\n            if (view) handleMouseMove(view, event);\n            if (!prevFocus) prevFocus = view;\n            view = View._focused = tempFocus = target;\n          }\n        } else if (tempFocus && tempFocus === view) {\n          if (prevFocus && !prevFocus.isInserted()) prevFocus = null;\n          view = View._focused = prevFocus;\n          prevFocus = null;\n          updateFocus();\n        }\n      }\n\n      if (view) handleMouseMove(view, event);\n    };\n\n    docEvents[mousedown] = function () {\n      mouseDown = true;\n    };\n\n    docEvents[mouseup] = function (event) {\n      var view = View._focused;\n      if (view && dragging) view._handleMouseEvent('mouseup', event);\n      mouseDown = dragging = false;\n    };\n\n    DomEvent.add(document, docEvents);\n    DomEvent.add(window, {\n      load: updateFocus\n    });\n    var called = false,\n        prevented = false,\n        fallbacks = {\n      doubleclick: 'click',\n      mousedrag: 'mousemove'\n    },\n        wasInView = false,\n        overView,\n        downPoint,\n        lastPoint,\n        downItem,\n        overItem,\n        dragItem,\n        clickItem,\n        clickTime,\n        dblClick;\n\n    function emitMouseEvent(obj, target, type, event, point, prevPoint, stopItem) {\n      var stopped = false,\n          mouseEvent;\n\n      function emit(obj, type) {\n        if (obj.responds(type)) {\n          if (!mouseEvent) {\n            mouseEvent = new MouseEvent(type, event, point, target || obj, prevPoint ? point.subtract(prevPoint) : null);\n          }\n\n          if (obj.emit(type, mouseEvent)) {\n            called = true;\n            if (mouseEvent.prevented) prevented = true;\n            if (mouseEvent.stopped) return stopped = true;\n          }\n        } else {\n          var fallback = fallbacks[type];\n          if (fallback) return emit(obj, fallback);\n        }\n      }\n\n      while (obj && obj !== stopItem) {\n        if (emit(obj, type)) break;\n        obj = obj._parent;\n      }\n\n      return stopped;\n    }\n\n    function emitMouseEvents(view, hitItem, type, event, point, prevPoint) {\n      view._project.removeOn(type);\n\n      prevented = called = false;\n      return dragItem && emitMouseEvent(dragItem, null, type, event, point, prevPoint) || hitItem && hitItem !== dragItem && !hitItem.isDescendant(dragItem) && emitMouseEvent(hitItem, null, type === 'mousedrag' ? 'mousemove' : type, event, point, prevPoint, dragItem) || emitMouseEvent(view, dragItem || hitItem || view, type, event, point, prevPoint);\n    }\n\n    var itemEventsMap = {\n      mousedown: {\n        mousedown: 1,\n        mousedrag: 1,\n        click: 1,\n        doubleclick: 1\n      },\n      mouseup: {\n        mouseup: 1,\n        mousedrag: 1,\n        click: 1,\n        doubleclick: 1\n      },\n      mousemove: {\n        mousedrag: 1,\n        mousemove: 1,\n        mouseenter: 1,\n        mouseleave: 1\n      }\n    };\n    return {\n      _viewEvents: viewEvents,\n      _handleMouseEvent: function _handleMouseEvent(type, event, point) {\n        var itemEvents = this._itemEvents,\n            hitItems = itemEvents.native[type],\n            nativeMove = type === 'mousemove',\n            tool = this._scope.tool,\n            view = this;\n\n        function responds(type) {\n          return itemEvents.virtual[type] || view.responds(type) || tool && tool.responds(type);\n        }\n\n        if (nativeMove && dragging && responds('mousedrag')) type = 'mousedrag';\n        if (!point) point = this.getEventPoint(event);\n\n        var inView = this.getBounds().contains(point),\n            hit = hitItems && inView && view._project.hitTest(point, {\n          tolerance: 0,\n          fill: true,\n          stroke: true\n        }),\n            hitItem = hit && hit.item || null,\n            handle = false,\n            mouse = {};\n\n        mouse[type.substr(5)] = true;\n\n        if (hitItems && hitItem !== overItem) {\n          if (overItem) {\n            emitMouseEvent(overItem, null, 'mouseleave', event, point);\n          }\n\n          if (hitItem) {\n            emitMouseEvent(hitItem, null, 'mouseenter', event, point);\n          }\n\n          overItem = hitItem;\n        }\n\n        if (wasInView ^ inView) {\n          emitMouseEvent(this, null, inView ? 'mouseenter' : 'mouseleave', event, point);\n          overView = inView ? this : null;\n          handle = true;\n        }\n\n        if ((inView || mouse.drag) && !point.equals(lastPoint)) {\n          emitMouseEvents(this, hitItem, nativeMove ? type : 'mousemove', event, point, lastPoint);\n          handle = true;\n        }\n\n        wasInView = inView;\n\n        if (mouse.down && inView || mouse.up && downPoint) {\n          emitMouseEvents(this, hitItem, type, event, point, downPoint);\n\n          if (mouse.down) {\n            dblClick = hitItem === clickItem && Date.now() - clickTime < 300;\n            downItem = clickItem = hitItem;\n\n            if (!prevented && hitItem) {\n              var item = hitItem;\n\n              while (item && !item.responds('mousedrag')) {\n                item = item._parent;\n              }\n\n              if (item) dragItem = hitItem;\n            }\n\n            downPoint = point;\n          } else if (mouse.up) {\n            if (!prevented && hitItem === downItem) {\n              clickTime = Date.now();\n              emitMouseEvents(this, hitItem, dblClick ? 'doubleclick' : 'click', event, point, downPoint);\n              dblClick = false;\n            }\n\n            downItem = dragItem = null;\n          }\n\n          wasInView = false;\n          handle = true;\n        }\n\n        lastPoint = point;\n\n        if (handle && tool) {\n          called = tool._handleMouseEvent(type, event, point, mouse) || called;\n        }\n\n        if (event.cancelable !== false && (called && !mouse.move || mouse.down && responds('mouseup'))) {\n          event.preventDefault();\n        }\n      },\n      _handleKeyEvent: function _handleKeyEvent(type, event, key, character) {\n        var scope = this._scope,\n            tool = scope.tool,\n            keyEvent;\n\n        function emit(obj) {\n          if (obj.responds(type)) {\n            paper = scope;\n            obj.emit(type, keyEvent = keyEvent || new KeyEvent(type, event, key, character));\n          }\n        }\n\n        if (this.isVisible()) {\n          emit(this);\n          if (tool && tool.responds(type)) emit(tool);\n        }\n      },\n      _countItemEvent: function _countItemEvent(type, sign) {\n        var itemEvents = this._itemEvents,\n            native = itemEvents.native,\n            virtual = itemEvents.virtual;\n\n        for (var key in itemEventsMap) {\n          native[key] = (native[key] || 0) + (itemEventsMap[key][type] || 0) * sign;\n        }\n\n        virtual[type] = (virtual[type] || 0) + sign;\n      },\n      statics: {\n        updateFocus: updateFocus,\n        _resetState: function _resetState() {\n          dragging = mouseDown = called = wasInView = false;\n          prevFocus = tempFocus = overView = downPoint = lastPoint = downItem = overItem = dragItem = clickItem = clickTime = dblClick = null;\n        }\n      }\n    };\n  }());\n  var CanvasView = View.extend({\n    _class: 'CanvasView',\n    initialize: function CanvasView(project, canvas) {\n      if (!(canvas instanceof window.HTMLCanvasElement)) {\n        var size = Size.read(arguments, 1);\n        if (size.isZero()) throw new Error('Cannot create CanvasView with the provided argument: ' + Base.slice(arguments, 1));\n        canvas = CanvasProvider.getCanvas(size);\n      }\n\n      var ctx = this._context = canvas.getContext('2d');\n      ctx.save();\n      this._pixelRatio = 1;\n\n      if (!/^off|false$/.test(PaperScope.getAttribute(canvas, 'hidpi'))) {\n        var deviceRatio = window.devicePixelRatio || 1,\n            backingStoreRatio = DomElement.getPrefixed(ctx, 'backingStorePixelRatio') || 1;\n        this._pixelRatio = deviceRatio / backingStoreRatio;\n      }\n\n      View.call(this, project, canvas);\n      this._needsUpdate = true;\n    },\n    remove: function remove() {\n      this._context.restore();\n\n      return remove.base.call(this);\n    },\n    _setElementSize: function _setElementSize(width, height) {\n      var pixelRatio = this._pixelRatio;\n\n      _setElementSize.base.call(this, width * pixelRatio, height * pixelRatio);\n\n      if (pixelRatio !== 1) {\n        var element = this._element,\n            ctx = this._context;\n\n        if (!PaperScope.hasAttribute(element, 'resize')) {\n          var style = element.style;\n          style.width = width + 'px';\n          style.height = height + 'px';\n        }\n\n        ctx.restore();\n        ctx.save();\n        ctx.scale(pixelRatio, pixelRatio);\n      }\n    },\n    getContext: function getContext() {\n      return this._context;\n    },\n    getPixelSize: function getPixelSize(size) {\n      var agent = paper.agent,\n          pixels;\n\n      if (agent && agent.firefox) {\n        pixels = getPixelSize.base.call(this, size);\n      } else {\n        var ctx = this._context,\n            prevFont = ctx.font;\n        ctx.font = size + ' serif';\n        pixels = parseFloat(ctx.font);\n        ctx.font = prevFont;\n      }\n\n      return pixels;\n    },\n    getTextWidth: function getTextWidth(font, lines) {\n      var ctx = this._context,\n          prevFont = ctx.font,\n          width = 0;\n      ctx.font = font;\n\n      for (var i = 0, l = lines.length; i < l; i++) {\n        width = Math.max(width, ctx.measureText(lines[i]).width);\n      }\n\n      ctx.font = prevFont;\n      return width;\n    },\n    update: function update() {\n      if (!this._needsUpdate) return false;\n      var project = this._project,\n          ctx = this._context,\n          size = this._viewSize;\n      ctx.clearRect(0, 0, size.width + 1, size.height + 1);\n      if (project) project.draw(ctx, this._matrix, this._pixelRatio);\n      this._needsUpdate = false;\n      return true;\n    }\n  });\n  var Event = Base.extend({\n    _class: 'Event',\n    initialize: function Event(event) {\n      this.event = event;\n      this.type = event && event.type;\n    },\n    prevented: false,\n    stopped: false,\n    preventDefault: function preventDefault() {\n      this.prevented = true;\n      this.event.preventDefault();\n    },\n    stopPropagation: function stopPropagation() {\n      this.stopped = true;\n      this.event.stopPropagation();\n    },\n    stop: function stop() {\n      this.stopPropagation();\n      this.preventDefault();\n    },\n    getTimeStamp: function getTimeStamp() {\n      return this.event.timeStamp;\n    },\n    getModifiers: function getModifiers() {\n      return Key.modifiers;\n    }\n  });\n  var KeyEvent = Event.extend({\n    _class: 'KeyEvent',\n    initialize: function KeyEvent(type, event, key, character) {\n      this.type = type;\n      this.event = event;\n      this.key = key;\n      this.character = character;\n    },\n    toString: function toString() {\n      return \"{ type: '\" + this.type + \"', key: '\" + this.key + \"', character: '\" + this.character + \"', modifiers: \" + this.getModifiers() + \" }\";\n    }\n  });\n  var Key = new function () {\n    var keyLookup = {\n      '\\t': 'tab',\n      ' ': 'space',\n      '\\b': 'backspace',\n      '\\x7f': 'delete',\n      'Spacebar': 'space',\n      'Del': 'delete',\n      'Win': 'meta',\n      'Esc': 'escape'\n    },\n        charLookup = {\n      'tab': '\\t',\n      'space': ' ',\n      'enter': '\\r'\n    },\n        keyMap = {},\n        charMap = {},\n        metaFixMap,\n        downKey,\n        modifiers = new Base({\n      shift: false,\n      control: false,\n      alt: false,\n      meta: false,\n      capsLock: false,\n      space: false\n    }).inject({\n      option: {\n        get: function get() {\n          return this.alt;\n        }\n      },\n      command: {\n        get: function get() {\n          var agent = paper && paper.agent;\n          return agent && agent.mac ? this.meta : this.control;\n        }\n      }\n    });\n\n    function getKey(event) {\n      var key = event.key || event.keyIdentifier;\n      key = /^U\\+/.test(key) ? String.fromCharCode(parseInt(key.substr(2), 16)) : /^Arrow[A-Z]/.test(key) ? key.substr(5) : key === 'Unidentified' || key === undefined ? String.fromCharCode(event.keyCode) : key;\n      return keyLookup[key] || (key.length > 1 ? Base.hyphenate(key) : key.toLowerCase());\n    }\n\n    function handleKey(down, key, character, event) {\n      var type = down ? 'keydown' : 'keyup',\n          view = View._focused,\n          name;\n      keyMap[key] = down;\n\n      if (down) {\n        charMap[key] = character;\n      } else {\n        delete charMap[key];\n      }\n\n      if (key.length > 1 && (name = Base.camelize(key)) in modifiers) {\n        modifiers[name] = down;\n        var agent = paper && paper.agent;\n\n        if (name === 'meta' && agent && agent.mac) {\n          if (down) {\n            metaFixMap = {};\n          } else {\n            for (var k in metaFixMap) {\n              if (k in charMap) handleKey(false, k, metaFixMap[k], event);\n            }\n\n            metaFixMap = null;\n          }\n        }\n      } else if (down && metaFixMap) {\n        metaFixMap[key] = character;\n      }\n\n      if (view) {\n        view._handleKeyEvent(down ? 'keydown' : 'keyup', event, key, character);\n      }\n    }\n\n    DomEvent.add(document, {\n      keydown: function keydown(event) {\n        var key = getKey(event),\n            agent = paper && paper.agent;\n\n        if (key.length > 1 || agent && agent.chrome && (event.altKey || agent.mac && event.metaKey || !agent.mac && event.ctrlKey)) {\n          handleKey(true, key, charLookup[key] || (key.length > 1 ? '' : key), event);\n        } else {\n          downKey = key;\n        }\n      },\n      keypress: function keypress(event) {\n        if (downKey) {\n          var key = getKey(event),\n              code = event.charCode,\n              character = code >= 32 ? String.fromCharCode(code) : key.length > 1 ? '' : key;\n\n          if (key !== downKey) {\n            key = character.toLowerCase();\n          }\n\n          handleKey(true, key, character, event);\n          downKey = null;\n        }\n      },\n      keyup: function keyup(event) {\n        var key = getKey(event);\n        if (key in charMap) handleKey(false, key, charMap[key], event);\n      }\n    });\n    DomEvent.add(window, {\n      blur: function blur(event) {\n        for (var key in charMap) {\n          handleKey(false, key, charMap[key], event);\n        }\n      }\n    });\n    return {\n      modifiers: modifiers,\n      isDown: function isDown(key) {\n        return !!keyMap[key];\n      }\n    };\n  }();\n  var MouseEvent = Event.extend({\n    _class: 'MouseEvent',\n    initialize: function MouseEvent(type, event, point, target, delta) {\n      this.type = type;\n      this.event = event;\n      this.point = point;\n      this.target = target;\n      this.delta = delta;\n    },\n    toString: function toString() {\n      return \"{ type: '\" + this.type + \"', point: \" + this.point + ', target: ' + this.target + (this.delta ? ', delta: ' + this.delta : '') + ', modifiers: ' + this.getModifiers() + ' }';\n    }\n  });\n  var ToolEvent = Event.extend({\n    _class: 'ToolEvent',\n    _item: null,\n    initialize: function ToolEvent(tool, type, event) {\n      this.tool = tool;\n      this.type = type;\n      this.event = event;\n    },\n    _choosePoint: function _choosePoint(point, toolPoint) {\n      return point ? point : toolPoint ? toolPoint.clone() : null;\n    },\n    getPoint: function getPoint() {\n      return this._choosePoint(this._point, this.tool._point);\n    },\n    setPoint: function setPoint(point) {\n      this._point = point;\n    },\n    getLastPoint: function getLastPoint() {\n      return this._choosePoint(this._lastPoint, this.tool._lastPoint);\n    },\n    setLastPoint: function setLastPoint(lastPoint) {\n      this._lastPoint = lastPoint;\n    },\n    getDownPoint: function getDownPoint() {\n      return this._choosePoint(this._downPoint, this.tool._downPoint);\n    },\n    setDownPoint: function setDownPoint(downPoint) {\n      this._downPoint = downPoint;\n    },\n    getMiddlePoint: function getMiddlePoint() {\n      if (!this._middlePoint && this.tool._lastPoint) {\n        return this.tool._point.add(this.tool._lastPoint).divide(2);\n      }\n\n      return this._middlePoint;\n    },\n    setMiddlePoint: function setMiddlePoint(middlePoint) {\n      this._middlePoint = middlePoint;\n    },\n    getDelta: function getDelta() {\n      return !this._delta && this.tool._lastPoint ? this.tool._point.subtract(this.tool._lastPoint) : this._delta;\n    },\n    setDelta: function setDelta(delta) {\n      this._delta = delta;\n    },\n    getCount: function getCount() {\n      return this.tool[/^mouse(down|up)$/.test(this.type) ? '_downCount' : '_moveCount'];\n    },\n    setCount: function setCount(count) {\n      this.tool[/^mouse(down|up)$/.test(this.type) ? 'downCount' : 'count'] = count;\n    },\n    getItem: function getItem() {\n      if (!this._item) {\n        var result = this.tool._scope.project.hitTest(this.getPoint());\n\n        if (result) {\n          var item = result.item,\n              parent = item._parent;\n\n          while (/^(Group|CompoundPath)$/.test(parent._class)) {\n            item = parent;\n            parent = parent._parent;\n          }\n\n          this._item = item;\n        }\n      }\n\n      return this._item;\n    },\n    setItem: function setItem(item) {\n      this._item = item;\n    },\n    toString: function toString() {\n      return '{ type: ' + this.type + ', point: ' + this.getPoint() + ', count: ' + this.getCount() + ', modifiers: ' + this.getModifiers() + ' }';\n    }\n  });\n  var Tool = PaperScopeItem.extend({\n    _class: 'Tool',\n    _list: 'tools',\n    _reference: 'tool',\n    _events: ['onMouseDown', 'onMouseUp', 'onMouseDrag', 'onMouseMove', 'onActivate', 'onDeactivate', 'onEditOptions', 'onKeyDown', 'onKeyUp'],\n    initialize: function Tool(props) {\n      PaperScopeItem.call(this);\n      this._moveCount = -1;\n      this._downCount = -1;\n      this.set(props);\n    },\n    getMinDistance: function getMinDistance() {\n      return this._minDistance;\n    },\n    setMinDistance: function setMinDistance(minDistance) {\n      this._minDistance = minDistance;\n\n      if (minDistance != null && this._maxDistance != null && minDistance > this._maxDistance) {\n        this._maxDistance = minDistance;\n      }\n    },\n    getMaxDistance: function getMaxDistance() {\n      return this._maxDistance;\n    },\n    setMaxDistance: function setMaxDistance(maxDistance) {\n      this._maxDistance = maxDistance;\n\n      if (this._minDistance != null && maxDistance != null && maxDistance < this._minDistance) {\n        this._minDistance = maxDistance;\n      }\n    },\n    getFixedDistance: function getFixedDistance() {\n      return this._minDistance == this._maxDistance ? this._minDistance : null;\n    },\n    setFixedDistance: function setFixedDistance(distance) {\n      this._minDistance = this._maxDistance = distance;\n    },\n    _handleMouseEvent: function _handleMouseEvent(type, event, point, mouse) {\n      paper = this._scope;\n      if (mouse.drag && !this.responds(type)) type = 'mousemove';\n      var move = mouse.move || mouse.drag,\n          responds = this.responds(type),\n          minDistance = this.minDistance,\n          maxDistance = this.maxDistance,\n          called = false,\n          tool = this;\n\n      function update(minDistance, maxDistance) {\n        var pt = point,\n            toolPoint = move ? tool._point : tool._downPoint || pt;\n\n        if (move) {\n          if (tool._moveCount >= 0 && pt.equals(toolPoint)) {\n            return false;\n          }\n\n          if (toolPoint && (minDistance != null || maxDistance != null)) {\n            var vector = pt.subtract(toolPoint),\n                distance = vector.getLength();\n            if (distance < (minDistance || 0)) return false;\n\n            if (maxDistance) {\n              pt = toolPoint.add(vector.normalize(Math.min(distance, maxDistance)));\n            }\n          }\n\n          tool._moveCount++;\n        }\n\n        tool._point = pt;\n        tool._lastPoint = toolPoint || pt;\n\n        if (mouse.down) {\n          tool._moveCount = -1;\n          tool._downPoint = pt;\n          tool._downCount++;\n        }\n\n        return true;\n      }\n\n      function emit() {\n        if (responds) {\n          called = tool.emit(type, new ToolEvent(tool, type, event)) || called;\n        }\n      }\n\n      if (mouse.down) {\n        update();\n        emit();\n      } else if (mouse.up) {\n        update(null, maxDistance);\n        emit();\n      } else if (responds) {\n        while (update(minDistance, maxDistance)) {\n          emit();\n        }\n      }\n\n      return called;\n    }\n  });\n  var Tween = Base.extend(Emitter, {\n    _class: 'Tween',\n    statics: {\n      easings: {\n        linear: function linear(t) {\n          return t;\n        },\n        easeInQuad: function easeInQuad(t) {\n          return t * t;\n        },\n        easeOutQuad: function easeOutQuad(t) {\n          return t * (2 - t);\n        },\n        easeInOutQuad: function easeInOutQuad(t) {\n          return t < 0.5 ? 2 * t * t : -1 + 2 * (2 - t) * t;\n        },\n        easeInCubic: function easeInCubic(t) {\n          return t * t * t;\n        },\n        easeOutCubic: function easeOutCubic(t) {\n          return --t * t * t + 1;\n        },\n        easeInOutCubic: function easeInOutCubic(t) {\n          return t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n        },\n        easeInQuart: function easeInQuart(t) {\n          return t * t * t * t;\n        },\n        easeOutQuart: function easeOutQuart(t) {\n          return 1 - --t * t * t * t;\n        },\n        easeInOutQuart: function easeInOutQuart(t) {\n          return t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t;\n        },\n        easeInQuint: function easeInQuint(t) {\n          return t * t * t * t * t;\n        },\n        easeOutQuint: function easeOutQuint(t) {\n          return 1 + --t * t * t * t * t;\n        },\n        easeInOutQuint: function easeInOutQuint(t) {\n          return t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t;\n        }\n      }\n    },\n    initialize: function Tween(object, from, to, duration, easing, start) {\n      this.object = object;\n      var type = typeof easing;\n      var isFunction = type === 'function';\n      this.type = isFunction ? type : type === 'string' ? easing : 'linear';\n      this.easing = isFunction ? easing : Tween.easings[this.type];\n      this.duration = duration;\n      this.running = false;\n      this._then = null;\n      this._startTime = null;\n      var state = from || to;\n      this._keys = state ? Object.keys(state) : [];\n      this._parsedKeys = this._parseKeys(this._keys);\n      this._from = state && this._getState(from);\n      this._to = state && this._getState(to);\n\n      if (start !== false) {\n        this.start();\n      }\n    },\n    then: function then(_then) {\n      this._then = _then;\n      return this;\n    },\n    start: function start() {\n      this._startTime = null;\n      this.running = true;\n      return this;\n    },\n    stop: function stop() {\n      this.running = false;\n      return this;\n    },\n    update: function update(progress) {\n      if (this.running) {\n        if (progress > 1) {\n          progress = 1;\n          this.running = false;\n        }\n\n        var factor = this.easing(progress),\n            keys = this._keys,\n            getValue = function getValue(value) {\n          return typeof value === 'function' ? value(factor, progress) : value;\n        };\n\n        for (var i = 0, l = keys && keys.length; i < l; i++) {\n          var key = keys[i],\n              from = getValue(this._from[key]),\n              to = getValue(this._to[key]),\n              value = from && to && from.__add && to.__add ? to.__subtract(from).__multiply(factor).__add(from) : (to - from) * factor + from;\n\n          this._setProperty(this._parsedKeys[key], value);\n        }\n\n        if (!this.running && this._then) {\n          this._then(this.object);\n        }\n\n        if (this.responds('update')) {\n          this.emit('update', new Base({\n            progress: progress,\n            factor: factor\n          }));\n        }\n      }\n\n      return this;\n    },\n    _events: {\n      onUpdate: {}\n    },\n    _handleFrame: function _handleFrame(time) {\n      var startTime = this._startTime,\n          progress = startTime ? (time - startTime) / this.duration : 0;\n\n      if (!startTime) {\n        this._startTime = time;\n      }\n\n      this.update(progress);\n    },\n    _getState: function _getState(state) {\n      var keys = this._keys,\n          result = {};\n\n      for (var i = 0, l = keys.length; i < l; i++) {\n        var key = keys[i],\n            path = this._parsedKeys[key],\n            current = this._getProperty(path),\n            value;\n\n        if (state) {\n          var resolved = this._resolveValue(current, state[key]);\n\n          this._setProperty(path, resolved);\n\n          value = this._getProperty(path);\n          value = value && value.clone ? value.clone() : value;\n\n          this._setProperty(path, current);\n        } else {\n          value = current && current.clone ? current.clone() : current;\n        }\n\n        result[key] = value;\n      }\n\n      return result;\n    },\n    _resolveValue: function _resolveValue(current, value) {\n      if (value) {\n        if (Array.isArray(value) && value.length === 2) {\n          var operator = value[0];\n          return operator && operator.match && operator.match(/^[+\\-\\*\\/]=/) ? this._calculate(current, operator[0], value[1]) : value;\n        } else if (typeof value === 'string') {\n          var match = value.match(/^[+\\-*/]=(.*)/);\n\n          if (match) {\n            var parsed = JSON.parse(match[1].replace(/(['\"])?([a-zA-Z0-9_]+)(['\"])?:/g, '\"$2\": '));\n            return this._calculate(current, value[0], parsed);\n          }\n        }\n      }\n\n      return value;\n    },\n    _calculate: function _calculate(left, operator, right) {\n      return paper.PaperScript.calculateBinary(left, operator, right);\n    },\n    _parseKeys: function _parseKeys(keys) {\n      var parsed = {};\n\n      for (var i = 0, l = keys.length; i < l; i++) {\n        var key = keys[i],\n            path = key.replace(/\\.([^.]*)/g, '/$1').replace(/\\[['\"]?([^'\"\\]]*)['\"]?\\]/g, '/$1');\n        parsed[key] = path.split('/');\n      }\n\n      return parsed;\n    },\n    _getProperty: function _getProperty(path, offset) {\n      var obj = this.object;\n\n      for (var i = 0, l = path.length - (offset || 0); i < l && obj; i++) {\n        obj = obj[path[i]];\n      }\n\n      return obj;\n    },\n    _setProperty: function _setProperty(path, value) {\n      var dest = this._getProperty(path, 1);\n\n      if (dest) {\n        dest[path[path.length - 1]] = value;\n      }\n    }\n  });\n  var Http = {\n    request: function request(options) {\n      var xhr = new self.XMLHttpRequest();\n      xhr.open((options.method || 'get').toUpperCase(), options.url, Base.pick(options.async, true));\n      if (options.mimeType) xhr.overrideMimeType(options.mimeType);\n\n      xhr.onload = function () {\n        var status = xhr.status;\n\n        if (status === 0 || status === 200) {\n          if (options.onLoad) {\n            options.onLoad.call(xhr, xhr.responseText);\n          }\n        } else {\n          xhr.onerror();\n        }\n      };\n\n      xhr.onerror = function () {\n        var status = xhr.status,\n            message = 'Could not load \"' + options.url + '\" (Status: ' + status + ')';\n\n        if (options.onError) {\n          options.onError(message, status);\n        } else {\n          throw new Error(message);\n        }\n      };\n\n      return xhr.send(null);\n    }\n  };\n  var CanvasProvider = {\n    canvases: [],\n    getCanvas: function getCanvas(width, height) {\n      if (!window) return null;\n      var canvas,\n          clear = true;\n\n      if (typeof width === 'object') {\n        height = width.height;\n        width = width.width;\n      }\n\n      if (this.canvases.length) {\n        canvas = this.canvases.pop();\n      } else {\n        canvas = document.createElement('canvas');\n        clear = false;\n      }\n\n      var ctx = canvas.getContext('2d');\n\n      if (!ctx) {\n        throw new Error('Canvas ' + canvas + ' is unable to provide a 2D context.');\n      }\n\n      if (canvas.width === width && canvas.height === height) {\n        if (clear) ctx.clearRect(0, 0, width + 1, height + 1);\n      } else {\n        canvas.width = width;\n        canvas.height = height;\n      }\n\n      ctx.save();\n      return canvas;\n    },\n    getContext: function getContext(width, height) {\n      var canvas = this.getCanvas(width, height);\n      return canvas ? canvas.getContext('2d') : null;\n    },\n    release: function release(obj) {\n      var canvas = obj && obj.canvas ? obj.canvas : obj;\n\n      if (canvas && canvas.getContext) {\n        canvas.getContext('2d').restore();\n        this.canvases.push(canvas);\n      }\n    }\n  };\n  var BlendMode = new function () {\n    var min = Math.min,\n        max = Math.max,\n        abs = Math.abs,\n        sr,\n        sg,\n        sb,\n        sa,\n        br,\n        bg,\n        bb,\n        ba,\n        dr,\n        dg,\n        db;\n\n    function getLum(r, g, b) {\n      return 0.2989 * r + 0.587 * g + 0.114 * b;\n    }\n\n    function setLum(r, g, b, l) {\n      var d = l - getLum(r, g, b);\n      dr = r + d;\n      dg = g + d;\n      db = b + d;\n      var l = getLum(dr, dg, db),\n          mn = min(dr, dg, db),\n          mx = max(dr, dg, db);\n\n      if (mn < 0) {\n        var lmn = l - mn;\n        dr = l + (dr - l) * l / lmn;\n        dg = l + (dg - l) * l / lmn;\n        db = l + (db - l) * l / lmn;\n      }\n\n      if (mx > 255) {\n        var ln = 255 - l,\n            mxl = mx - l;\n        dr = l + (dr - l) * ln / mxl;\n        dg = l + (dg - l) * ln / mxl;\n        db = l + (db - l) * ln / mxl;\n      }\n    }\n\n    function getSat(r, g, b) {\n      return max(r, g, b) - min(r, g, b);\n    }\n\n    function setSat(r, g, b, s) {\n      var col = [r, g, b],\n          mx = max(r, g, b),\n          mn = min(r, g, b),\n          md;\n      mn = mn === r ? 0 : mn === g ? 1 : 2;\n      mx = mx === r ? 0 : mx === g ? 1 : 2;\n      md = min(mn, mx) === 0 ? max(mn, mx) === 1 ? 2 : 1 : 0;\n\n      if (col[mx] > col[mn]) {\n        col[md] = (col[md] - col[mn]) * s / (col[mx] - col[mn]);\n        col[mx] = s;\n      } else {\n        col[md] = col[mx] = 0;\n      }\n\n      col[mn] = 0;\n      dr = col[0];\n      dg = col[1];\n      db = col[2];\n    }\n\n    var modes = {\n      multiply: function multiply() {\n        dr = br * sr / 255;\n        dg = bg * sg / 255;\n        db = bb * sb / 255;\n      },\n      screen: function screen() {\n        dr = br + sr - br * sr / 255;\n        dg = bg + sg - bg * sg / 255;\n        db = bb + sb - bb * sb / 255;\n      },\n      overlay: function overlay() {\n        dr = br < 128 ? 2 * br * sr / 255 : 255 - 2 * (255 - br) * (255 - sr) / 255;\n        dg = bg < 128 ? 2 * bg * sg / 255 : 255 - 2 * (255 - bg) * (255 - sg) / 255;\n        db = bb < 128 ? 2 * bb * sb / 255 : 255 - 2 * (255 - bb) * (255 - sb) / 255;\n      },\n      'soft-light': function softLight() {\n        var t = sr * br / 255;\n        dr = t + br * (255 - (255 - br) * (255 - sr) / 255 - t) / 255;\n        t = sg * bg / 255;\n        dg = t + bg * (255 - (255 - bg) * (255 - sg) / 255 - t) / 255;\n        t = sb * bb / 255;\n        db = t + bb * (255 - (255 - bb) * (255 - sb) / 255 - t) / 255;\n      },\n      'hard-light': function hardLight() {\n        dr = sr < 128 ? 2 * sr * br / 255 : 255 - 2 * (255 - sr) * (255 - br) / 255;\n        dg = sg < 128 ? 2 * sg * bg / 255 : 255 - 2 * (255 - sg) * (255 - bg) / 255;\n        db = sb < 128 ? 2 * sb * bb / 255 : 255 - 2 * (255 - sb) * (255 - bb) / 255;\n      },\n      'color-dodge': function colorDodge() {\n        dr = br === 0 ? 0 : sr === 255 ? 255 : min(255, 255 * br / (255 - sr));\n        dg = bg === 0 ? 0 : sg === 255 ? 255 : min(255, 255 * bg / (255 - sg));\n        db = bb === 0 ? 0 : sb === 255 ? 255 : min(255, 255 * bb / (255 - sb));\n      },\n      'color-burn': function colorBurn() {\n        dr = br === 255 ? 255 : sr === 0 ? 0 : max(0, 255 - (255 - br) * 255 / sr);\n        dg = bg === 255 ? 255 : sg === 0 ? 0 : max(0, 255 - (255 - bg) * 255 / sg);\n        db = bb === 255 ? 255 : sb === 0 ? 0 : max(0, 255 - (255 - bb) * 255 / sb);\n      },\n      darken: function darken() {\n        dr = br < sr ? br : sr;\n        dg = bg < sg ? bg : sg;\n        db = bb < sb ? bb : sb;\n      },\n      lighten: function lighten() {\n        dr = br > sr ? br : sr;\n        dg = bg > sg ? bg : sg;\n        db = bb > sb ? bb : sb;\n      },\n      difference: function difference() {\n        dr = br - sr;\n        if (dr < 0) dr = -dr;\n        dg = bg - sg;\n        if (dg < 0) dg = -dg;\n        db = bb - sb;\n        if (db < 0) db = -db;\n      },\n      exclusion: function exclusion() {\n        dr = br + sr * (255 - br - br) / 255;\n        dg = bg + sg * (255 - bg - bg) / 255;\n        db = bb + sb * (255 - bb - bb) / 255;\n      },\n      hue: function hue() {\n        setSat(sr, sg, sb, getSat(br, bg, bb));\n        setLum(dr, dg, db, getLum(br, bg, bb));\n      },\n      saturation: function saturation() {\n        setSat(br, bg, bb, getSat(sr, sg, sb));\n        setLum(dr, dg, db, getLum(br, bg, bb));\n      },\n      luminosity: function luminosity() {\n        setLum(br, bg, bb, getLum(sr, sg, sb));\n      },\n      color: function color() {\n        setLum(sr, sg, sb, getLum(br, bg, bb));\n      },\n      add: function add() {\n        dr = min(br + sr, 255);\n        dg = min(bg + sg, 255);\n        db = min(bb + sb, 255);\n      },\n      subtract: function subtract() {\n        dr = max(br - sr, 0);\n        dg = max(bg - sg, 0);\n        db = max(bb - sb, 0);\n      },\n      average: function average() {\n        dr = (br + sr) / 2;\n        dg = (bg + sg) / 2;\n        db = (bb + sb) / 2;\n      },\n      negation: function negation() {\n        dr = 255 - abs(255 - sr - br);\n        dg = 255 - abs(255 - sg - bg);\n        db = 255 - abs(255 - sb - bb);\n      }\n    };\n    var nativeModes = this.nativeModes = Base.each(['source-over', 'source-in', 'source-out', 'source-atop', 'destination-over', 'destination-in', 'destination-out', 'destination-atop', 'lighter', 'darker', 'copy', 'xor'], function (mode) {\n      this[mode] = true;\n    }, {});\n    var ctx = CanvasProvider.getContext(1, 1);\n\n    if (ctx) {\n      Base.each(modes, function (func, mode) {\n        var darken = mode === 'darken',\n            ok = false;\n        ctx.save();\n\n        try {\n          ctx.fillStyle = darken ? '#300' : '#a00';\n          ctx.fillRect(0, 0, 1, 1);\n          ctx.globalCompositeOperation = mode;\n\n          if (ctx.globalCompositeOperation === mode) {\n            ctx.fillStyle = darken ? '#a00' : '#300';\n            ctx.fillRect(0, 0, 1, 1);\n            ok = ctx.getImageData(0, 0, 1, 1).data[0] !== darken ? 170 : 51;\n          }\n        } catch (e) {}\n\n        ctx.restore();\n        nativeModes[mode] = ok;\n      });\n      CanvasProvider.release(ctx);\n    }\n\n    this.process = function (mode, srcContext, dstContext, alpha, offset) {\n      var srcCanvas = srcContext.canvas,\n          normal = mode === 'normal';\n\n      if (normal || nativeModes[mode]) {\n        dstContext.save();\n        dstContext.setTransform(1, 0, 0, 1, 0, 0);\n        dstContext.globalAlpha = alpha;\n        if (!normal) dstContext.globalCompositeOperation = mode;\n        dstContext.drawImage(srcCanvas, offset.x, offset.y);\n        dstContext.restore();\n      } else {\n        var process = modes[mode];\n        if (!process) return;\n        var dstData = dstContext.getImageData(offset.x, offset.y, srcCanvas.width, srcCanvas.height),\n            dst = dstData.data,\n            src = srcContext.getImageData(0, 0, srcCanvas.width, srcCanvas.height).data;\n\n        for (var i = 0, l = dst.length; i < l; i += 4) {\n          sr = src[i];\n          br = dst[i];\n          sg = src[i + 1];\n          bg = dst[i + 1];\n          sb = src[i + 2];\n          bb = dst[i + 2];\n          sa = src[i + 3];\n          ba = dst[i + 3];\n          process();\n          var a1 = sa * alpha / 255,\n              a2 = 1 - a1;\n          dst[i] = a1 * dr + a2 * br;\n          dst[i + 1] = a1 * dg + a2 * bg;\n          dst[i + 2] = a1 * db + a2 * bb;\n          dst[i + 3] = sa * alpha + a2 * ba;\n        }\n\n        dstContext.putImageData(dstData, offset.x, offset.y);\n      }\n    };\n  }();\n  var SvgElement = new function () {\n    var svg = 'http://www.w3.org/2000/svg',\n        xmlns = 'http://www.w3.org/2000/xmlns',\n        xlink = 'http://www.w3.org/1999/xlink',\n        attributeNamespace = {\n      href: xlink,\n      xlink: xmlns,\n      xmlns: xmlns + '/',\n      'xmlns:xlink': xmlns + '/'\n    };\n\n    function create(tag, attributes, formatter) {\n      return set(document.createElementNS(svg, tag), attributes, formatter);\n    }\n\n    function get(node, name) {\n      var namespace = attributeNamespace[name],\n          value = namespace ? node.getAttributeNS(namespace, name) : node.getAttribute(name);\n      return value === 'null' ? null : value;\n    }\n\n    function set(node, attributes, formatter) {\n      for (var name in attributes) {\n        var value = attributes[name],\n            namespace = attributeNamespace[name];\n        if (typeof value === 'number' && formatter) value = formatter.number(value);\n\n        if (namespace) {\n          node.setAttributeNS(namespace, name, value);\n        } else {\n          node.setAttribute(name, value);\n        }\n      }\n\n      return node;\n    }\n\n    return {\n      svg: svg,\n      xmlns: xmlns,\n      xlink: xlink,\n      create: create,\n      get: get,\n      set: set\n    };\n  }();\n  var SvgStyles = Base.each({\n    fillColor: ['fill', 'color'],\n    fillRule: ['fill-rule', 'string'],\n    strokeColor: ['stroke', 'color'],\n    strokeWidth: ['stroke-width', 'number'],\n    strokeCap: ['stroke-linecap', 'string'],\n    strokeJoin: ['stroke-linejoin', 'string'],\n    strokeScaling: ['vector-effect', 'lookup', {\n      true: 'none',\n      false: 'non-scaling-stroke'\n    }, function (item, value) {\n      return !value && (item instanceof PathItem || item instanceof Shape || item instanceof TextItem);\n    }],\n    miterLimit: ['stroke-miterlimit', 'number'],\n    dashArray: ['stroke-dasharray', 'array'],\n    dashOffset: ['stroke-dashoffset', 'number'],\n    fontFamily: ['font-family', 'string'],\n    fontWeight: ['font-weight', 'string'],\n    fontSize: ['font-size', 'number'],\n    justification: ['text-anchor', 'lookup', {\n      left: 'start',\n      center: 'middle',\n      right: 'end'\n    }],\n    opacity: ['opacity', 'number'],\n    blendMode: ['mix-blend-mode', 'style']\n  }, function (entry, key) {\n    var part = Base.capitalize(key),\n        lookup = entry[2];\n    this[key] = {\n      type: entry[1],\n      property: key,\n      attribute: entry[0],\n      toSVG: lookup,\n      fromSVG: lookup && Base.each(lookup, function (value, name) {\n        this[value] = name;\n      }, {}),\n      exportFilter: entry[3],\n      get: 'get' + part,\n      set: 'set' + part\n    };\n  }, {});\n  new function () {\n    var formatter;\n\n    function getTransform(matrix, coordinates, center) {\n      var attrs = new Base(),\n          trans = matrix.getTranslation();\n\n      if (coordinates) {\n        var point;\n\n        if (matrix.isInvertible()) {\n          matrix = matrix._shiftless();\n          point = matrix._inverseTransform(trans);\n          trans = null;\n        } else {\n          point = new Point();\n        }\n\n        attrs[center ? 'cx' : 'x'] = point.x;\n        attrs[center ? 'cy' : 'y'] = point.y;\n      }\n\n      if (!matrix.isIdentity()) {\n        var decomposed = matrix.decompose();\n\n        if (decomposed) {\n          var parts = [],\n              angle = decomposed.rotation,\n              scale = decomposed.scaling,\n              skew = decomposed.skewing;\n          if (trans && !trans.isZero()) parts.push('translate(' + formatter.point(trans) + ')');\n          if (angle) parts.push('rotate(' + formatter.number(angle) + ')');\n          if (!Numerical.isZero(scale.x - 1) || !Numerical.isZero(scale.y - 1)) parts.push('scale(' + formatter.point(scale) + ')');\n          if (skew.x) parts.push('skewX(' + formatter.number(skew.x) + ')');\n          if (skew.y) parts.push('skewY(' + formatter.number(skew.y) + ')');\n          attrs.transform = parts.join(' ');\n        } else {\n          attrs.transform = 'matrix(' + matrix.getValues().join(',') + ')';\n        }\n      }\n\n      return attrs;\n    }\n\n    function exportGroup(item, options) {\n      var attrs = getTransform(item._matrix),\n          children = item._children;\n      var node = SvgElement.create('g', attrs, formatter);\n\n      for (var i = 0, l = children.length; i < l; i++) {\n        var child = children[i];\n\n        var childNode = _exportSVG(child, options);\n\n        if (childNode) {\n          if (child.isClipMask()) {\n            var clip = SvgElement.create('clipPath');\n            clip.appendChild(childNode);\n            setDefinition(child, clip, 'clip');\n            SvgElement.set(node, {\n              'clip-path': 'url(#' + clip.id + ')'\n            });\n          } else {\n            node.appendChild(childNode);\n          }\n        }\n      }\n\n      return node;\n    }\n\n    function exportRaster(item, options) {\n      var attrs = getTransform(item._matrix, true),\n          size = item.getSize(),\n          image = item.getImage();\n      attrs.x -= size.width / 2;\n      attrs.y -= size.height / 2;\n      attrs.width = size.width;\n      attrs.height = size.height;\n      attrs.href = options.embedImages == false && image && image.src || item.toDataURL();\n      return SvgElement.create('image', attrs, formatter);\n    }\n\n    function exportPath(item, options) {\n      var matchShapes = options.matchShapes;\n\n      if (matchShapes) {\n        var shape = item.toShape(false);\n        if (shape) return exportShape(shape, options);\n      }\n\n      var segments = item._segments,\n          length = segments.length,\n          type,\n          attrs = getTransform(item._matrix);\n\n      if (matchShapes && length >= 2 && !item.hasHandles()) {\n        if (length > 2) {\n          type = item._closed ? 'polygon' : 'polyline';\n          var parts = [];\n\n          for (var i = 0; i < length; i++) {\n            parts.push(formatter.point(segments[i]._point));\n          }\n\n          attrs.points = parts.join(' ');\n        } else {\n          type = 'line';\n          var start = segments[0]._point,\n              end = segments[1]._point;\n          attrs.set({\n            x1: start.x,\n            y1: start.y,\n            x2: end.x,\n            y2: end.y\n          });\n        }\n      } else {\n        type = 'path';\n        attrs.d = item.getPathData(null, options.precision);\n      }\n\n      return SvgElement.create(type, attrs, formatter);\n    }\n\n    function exportShape(item) {\n      var type = item._type,\n          radius = item._radius,\n          attrs = getTransform(item._matrix, true, type !== 'rectangle');\n\n      if (type === 'rectangle') {\n        type = 'rect';\n        var size = item._size,\n            width = size.width,\n            height = size.height;\n        attrs.x -= width / 2;\n        attrs.y -= height / 2;\n        attrs.width = width;\n        attrs.height = height;\n        if (radius.isZero()) radius = null;\n      }\n\n      if (radius) {\n        if (type === 'circle') {\n          attrs.r = radius;\n        } else {\n          attrs.rx = radius.width;\n          attrs.ry = radius.height;\n        }\n      }\n\n      return SvgElement.create(type, attrs, formatter);\n    }\n\n    function exportCompoundPath(item, options) {\n      var attrs = getTransform(item._matrix);\n      var data = item.getPathData(null, options.precision);\n      if (data) attrs.d = data;\n      return SvgElement.create('path', attrs, formatter);\n    }\n\n    function exportSymbolItem(item, options) {\n      var attrs = getTransform(item._matrix, true),\n          definition = item._definition,\n          node = getDefinition(definition, 'symbol'),\n          definitionItem = definition._item,\n          bounds = definitionItem.getStrokeBounds();\n\n      if (!node) {\n        node = SvgElement.create('symbol', {\n          viewBox: formatter.rectangle(bounds)\n        });\n        node.appendChild(_exportSVG(definitionItem, options));\n        setDefinition(definition, node, 'symbol');\n      }\n\n      attrs.href = '#' + node.id;\n      attrs.x += bounds.x;\n      attrs.y += bounds.y;\n      attrs.width = bounds.width;\n      attrs.height = bounds.height;\n      attrs.overflow = 'visible';\n      return SvgElement.create('use', attrs, formatter);\n    }\n\n    function exportGradient(color) {\n      var gradientNode = getDefinition(color, 'color');\n\n      if (!gradientNode) {\n        var gradient = color.getGradient(),\n            radial = gradient._radial,\n            origin = color.getOrigin(),\n            destination = color.getDestination(),\n            attrs;\n\n        if (radial) {\n          attrs = {\n            cx: origin.x,\n            cy: origin.y,\n            r: origin.getDistance(destination)\n          };\n          var highlight = color.getHighlight();\n\n          if (highlight) {\n            attrs.fx = highlight.x;\n            attrs.fy = highlight.y;\n          }\n        } else {\n          attrs = {\n            x1: origin.x,\n            y1: origin.y,\n            x2: destination.x,\n            y2: destination.y\n          };\n        }\n\n        attrs.gradientUnits = 'userSpaceOnUse';\n        gradientNode = SvgElement.create((radial ? 'radial' : 'linear') + 'Gradient', attrs, formatter);\n        var stops = gradient._stops;\n\n        for (var i = 0, l = stops.length; i < l; i++) {\n          var stop = stops[i],\n              stopColor = stop._color,\n              alpha = stopColor.getAlpha(),\n              offset = stop._offset;\n          attrs = {\n            offset: offset == null ? i / (l - 1) : offset\n          };\n          if (stopColor) attrs['stop-color'] = stopColor.toCSS(true);\n          if (alpha < 1) attrs['stop-opacity'] = alpha;\n          gradientNode.appendChild(SvgElement.create('stop', attrs, formatter));\n        }\n\n        setDefinition(color, gradientNode, 'color');\n      }\n\n      return 'url(#' + gradientNode.id + ')';\n    }\n\n    function exportText(item) {\n      var node = SvgElement.create('text', getTransform(item._matrix, true), formatter);\n      node.textContent = item._content;\n      return node;\n    }\n\n    var exporters = {\n      Group: exportGroup,\n      Layer: exportGroup,\n      Raster: exportRaster,\n      Path: exportPath,\n      Shape: exportShape,\n      CompoundPath: exportCompoundPath,\n      SymbolItem: exportSymbolItem,\n      PointText: exportText\n    };\n\n    function applyStyle(item, node, isRoot) {\n      var attrs = {},\n          parent = !isRoot && item.getParent(),\n          style = [];\n      if (item._name != null) attrs.id = item._name;\n      Base.each(SvgStyles, function (entry) {\n        var get = entry.get,\n            type = entry.type,\n            value = item[get]();\n\n        if (entry.exportFilter ? entry.exportFilter(item, value) : !parent || !Base.equals(parent[get](), value)) {\n          if (type === 'color' && value != null) {\n            var alpha = value.getAlpha();\n            if (alpha < 1) attrs[entry.attribute + '-opacity'] = alpha;\n          }\n\n          if (type === 'style') {\n            style.push(entry.attribute + ': ' + value);\n          } else {\n            attrs[entry.attribute] = value == null ? 'none' : type === 'color' ? value.gradient ? exportGradient(value, item) : value.toCSS(true) : type === 'array' ? value.join(',') : type === 'lookup' ? entry.toSVG[value] : value;\n          }\n        }\n      });\n      if (style.length) attrs.style = style.join(';');\n      if (attrs.opacity === 1) delete attrs.opacity;\n      if (!item._visible) attrs.visibility = 'hidden';\n      return SvgElement.set(node, attrs, formatter);\n    }\n\n    var definitions;\n\n    function getDefinition(item, type) {\n      if (!definitions) definitions = {\n        ids: {},\n        svgs: {}\n      };\n      return item && definitions.svgs[type + '-' + (item._id || item.__id || (item.__id = UID.get('svg')))];\n    }\n\n    function setDefinition(item, node, type) {\n      if (!definitions) getDefinition();\n      var typeId = definitions.ids[type] = (definitions.ids[type] || 0) + 1;\n      node.id = type + '-' + typeId;\n      definitions.svgs[type + '-' + (item._id || item.__id)] = node;\n    }\n\n    function exportDefinitions(node, options) {\n      var svg = node,\n          defs = null;\n\n      if (definitions) {\n        svg = node.nodeName.toLowerCase() === 'svg' && node;\n\n        for (var i in definitions.svgs) {\n          if (!defs) {\n            if (!svg) {\n              svg = SvgElement.create('svg');\n              svg.appendChild(node);\n            }\n\n            defs = svg.insertBefore(SvgElement.create('defs'), svg.firstChild);\n          }\n\n          defs.appendChild(definitions.svgs[i]);\n        }\n\n        definitions = null;\n      }\n\n      return options.asString ? new self.XMLSerializer().serializeToString(svg) : svg;\n    }\n\n    function _exportSVG(item, options, isRoot) {\n      var exporter = exporters[item._class],\n          node = exporter && exporter(item, options);\n\n      if (node) {\n        var onExport = options.onExport;\n        if (onExport) node = onExport(item, node, options) || node;\n        var data = JSON.stringify(item._data);\n        if (data && data !== '{}' && data !== 'null') node.setAttribute('data-paper-data', data);\n      }\n\n      return node && applyStyle(item, node, isRoot);\n    }\n\n    function setOptions(options) {\n      if (!options) options = {};\n      formatter = new Formatter(options.precision);\n      return options;\n    }\n\n    Item.inject({\n      exportSVG: function exportSVG(options) {\n        options = setOptions(options);\n        return exportDefinitions(_exportSVG(this, options, true), options);\n      }\n    });\n    Project.inject({\n      exportSVG: function exportSVG(options) {\n        options = setOptions(options);\n        var children = this._children,\n            view = this.getView(),\n            bounds = Base.pick(options.bounds, 'view'),\n            mx = options.matrix || bounds === 'view' && view._matrix,\n            matrix = mx && Matrix.read([mx]),\n            rect = bounds === 'view' ? new _Rectangle([0, 0], view.getViewSize()) : bounds === 'content' ? Item._getBounds(children, matrix, {\n          stroke: true\n        }).rect : _Rectangle.read([bounds], 0, {\n          readNull: true\n        }),\n            attrs = {\n          version: '1.1',\n          xmlns: SvgElement.svg,\n          'xmlns:xlink': SvgElement.xlink\n        };\n\n        if (rect) {\n          attrs.width = rect.width;\n          attrs.height = rect.height;\n          if (rect.x || rect.x === 0 || rect.y || rect.y === 0) attrs.viewBox = formatter.rectangle(rect);\n        }\n\n        var node = SvgElement.create('svg', attrs, formatter),\n            parent = node;\n\n        if (matrix && !matrix.isIdentity()) {\n          parent = node.appendChild(SvgElement.create('g', getTransform(matrix), formatter));\n        }\n\n        for (var i = 0, l = children.length; i < l; i++) {\n          parent.appendChild(_exportSVG(children[i], options, true));\n        }\n\n        return exportDefinitions(node, options);\n      }\n    });\n  }();\n  new function () {\n    var definitions = {},\n        rootSize;\n\n    function getValue(node, name, isString, allowNull, allowPercent, defaultValue) {\n      var value = SvgElement.get(node, name) || defaultValue,\n          res = value == null ? allowNull ? null : isString ? '' : 0 : isString ? value : parseFloat(value);\n      return /%\\s*$/.test(value) ? res / 100 * (allowPercent ? 1 : rootSize[/x|^width/.test(name) ? 'width' : 'height']) : res;\n    }\n\n    function getPoint(node, x, y, allowNull, allowPercent, defaultX, defaultY) {\n      x = getValue(node, x || 'x', false, allowNull, allowPercent, defaultX);\n      y = getValue(node, y || 'y', false, allowNull, allowPercent, defaultY);\n      return allowNull && (x == null || y == null) ? null : new Point(x, y);\n    }\n\n    function getSize(node, w, h, allowNull, allowPercent) {\n      w = getValue(node, w || 'width', false, allowNull, allowPercent);\n      h = getValue(node, h || 'height', false, allowNull, allowPercent);\n      return allowNull && (w == null || h == null) ? null : new Size(w, h);\n    }\n\n    function convertValue(value, type, lookup) {\n      return value === 'none' ? null : type === 'number' ? parseFloat(value) : type === 'array' ? value ? value.split(/[\\s,]+/g).map(parseFloat) : [] : type === 'color' ? getDefinition(value) || value : type === 'lookup' ? lookup[value] : value;\n    }\n\n    function importGroup(node, type, options, isRoot) {\n      var nodes = node.childNodes,\n          isClip = type === 'clippath',\n          isDefs = type === 'defs',\n          item = new Group(),\n          project = item._project,\n          currentStyle = project._currentStyle,\n          children = [];\n\n      if (!isClip && !isDefs) {\n        item = applyAttributes(item, node, isRoot);\n        project._currentStyle = item._style.clone();\n      }\n\n      if (isRoot) {\n        var defs = node.querySelectorAll('defs');\n\n        for (var i = 0, l = defs.length; i < l; i++) {\n          importNode(defs[i], options, false);\n        }\n      }\n\n      for (var i = 0, l = nodes.length; i < l; i++) {\n        var childNode = nodes[i],\n            child;\n        if (childNode.nodeType === 1 && !/^defs$/i.test(childNode.nodeName) && (child = importNode(childNode, options, false)) && !(child instanceof SymbolDefinition)) children.push(child);\n      }\n\n      item.addChildren(children);\n      if (isClip) item = applyAttributes(item.reduce(), node, isRoot);\n      project._currentStyle = currentStyle;\n\n      if (isClip || isDefs) {\n        item.remove();\n        item = null;\n      }\n\n      return item;\n    }\n\n    function importPoly(node, type) {\n      var coords = node.getAttribute('points').match(/[+-]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][+-]?\\d+)?/g),\n          points = [];\n\n      for (var i = 0, l = coords.length; i < l; i += 2) {\n        points.push(new Point(parseFloat(coords[i]), parseFloat(coords[i + 1])));\n      }\n\n      var path = new Path(points);\n      if (type === 'polygon') path.closePath();\n      return path;\n    }\n\n    function importPath(node) {\n      return PathItem.create(node.getAttribute('d'));\n    }\n\n    function importGradient(node, type) {\n      var id = (getValue(node, 'href', true) || '').substring(1),\n          radial = type === 'radialgradient',\n          gradient;\n\n      if (id) {\n        gradient = definitions[id].getGradient();\n\n        if (gradient._radial ^ radial) {\n          gradient = gradient.clone();\n          gradient._radial = radial;\n        }\n      } else {\n        var nodes = node.childNodes,\n            stops = [];\n\n        for (var i = 0, l = nodes.length; i < l; i++) {\n          var child = nodes[i];\n          if (child.nodeType === 1) stops.push(applyAttributes(new GradientStop(), child));\n        }\n\n        gradient = new Gradient(stops, radial);\n      }\n\n      var origin,\n          destination,\n          highlight,\n          scaleToBounds = getValue(node, 'gradientUnits', true) !== 'userSpaceOnUse';\n\n      if (radial) {\n        origin = getPoint(node, 'cx', 'cy', false, scaleToBounds, '50%', '50%');\n        destination = origin.add(getValue(node, 'r', false, false, scaleToBounds, '50%'), 0);\n        highlight = getPoint(node, 'fx', 'fy', true, scaleToBounds);\n      } else {\n        origin = getPoint(node, 'x1', 'y1', false, scaleToBounds, '0%', '0%');\n        destination = getPoint(node, 'x2', 'y2', false, scaleToBounds, '100%', '0%');\n      }\n\n      var color = applyAttributes(new Color(gradient, origin, destination, highlight), node);\n      color._scaleToBounds = scaleToBounds;\n      return null;\n    }\n\n    var importers = {\n      '#document': function document(node, type, options, isRoot) {\n        var nodes = node.childNodes;\n\n        for (var i = 0, l = nodes.length; i < l; i++) {\n          var child = nodes[i];\n          if (child.nodeType === 1) return importNode(child, options, isRoot);\n        }\n      },\n      g: importGroup,\n      svg: importGroup,\n      clippath: importGroup,\n      polygon: importPoly,\n      polyline: importPoly,\n      path: importPath,\n      lineargradient: importGradient,\n      radialgradient: importGradient,\n      image: function image(node) {\n        var raster = new Raster(getValue(node, 'href', true));\n        raster.on('load', function () {\n          var size = getSize(node);\n          this.setSize(size);\n          var center = getPoint(node).add(size.divide(2));\n\n          this._matrix.append(new Matrix().translate(center));\n        });\n        return raster;\n      },\n      symbol: function symbol(node, type, options, isRoot) {\n        return new SymbolDefinition(importGroup(node, type, options, isRoot), true);\n      },\n      defs: importGroup,\n      use: function use(node) {\n        var id = (getValue(node, 'href', true) || '').substring(1),\n            definition = definitions[id],\n            point = getPoint(node);\n        return definition ? definition instanceof SymbolDefinition ? definition.place(point) : definition.clone().translate(point) : null;\n      },\n      circle: function circle(node) {\n        return new Shape.Circle(getPoint(node, 'cx', 'cy'), getValue(node, 'r'));\n      },\n      ellipse: function ellipse(node) {\n        return new Shape.Ellipse({\n          center: getPoint(node, 'cx', 'cy'),\n          radius: getSize(node, 'rx', 'ry')\n        });\n      },\n      rect: function rect(node) {\n        return new Shape.Rectangle(new _Rectangle(getPoint(node), getSize(node)), getSize(node, 'rx', 'ry'));\n      },\n      line: function line(node) {\n        return new Path.Line(getPoint(node, 'x1', 'y1'), getPoint(node, 'x2', 'y2'));\n      },\n      text: function text(node) {\n        var text = new PointText(getPoint(node).add(getPoint(node, 'dx', 'dy')));\n        text.setContent(node.textContent.trim() || '');\n        return text;\n      },\n      switch: importGroup\n    };\n\n    function applyTransform(item, value, name, node) {\n      if (item.transform) {\n        var transforms = (node.getAttribute(name) || '').split(/\\)\\s*/g),\n            matrix = new Matrix();\n\n        for (var i = 0, l = transforms.length; i < l; i++) {\n          var transform = transforms[i];\n          if (!transform) break;\n          var parts = transform.split(/\\(\\s*/),\n              command = parts[0],\n              v = parts[1].split(/[\\s,]+/g);\n\n          for (var j = 0, m = v.length; j < m; j++) {\n            v[j] = parseFloat(v[j]);\n          }\n\n          switch (command) {\n            case 'matrix':\n              matrix.append(new Matrix(v[0], v[1], v[2], v[3], v[4], v[5]));\n              break;\n\n            case 'rotate':\n              matrix.rotate(v[0], v[1] || 0, v[2] || 0);\n              break;\n\n            case 'translate':\n              matrix.translate(v[0], v[1] || 0);\n              break;\n\n            case 'scale':\n              matrix.scale(v);\n              break;\n\n            case 'skewX':\n              matrix.skew(v[0], 0);\n              break;\n\n            case 'skewY':\n              matrix.skew(0, v[0]);\n              break;\n          }\n        }\n\n        item.transform(matrix);\n      }\n    }\n\n    function applyOpacity(item, value, name) {\n      var key = name === 'fill-opacity' ? 'getFillColor' : 'getStrokeColor',\n          color = item[key] && item[key]();\n      if (color) color.setAlpha(parseFloat(value));\n    }\n\n    var attributes = Base.set(Base.each(SvgStyles, function (entry) {\n      this[entry.attribute] = function (item, value) {\n        if (item[entry.set]) {\n          item[entry.set](convertValue(value, entry.type, entry.fromSVG));\n\n          if (entry.type === 'color') {\n            var color = item[entry.get]();\n\n            if (color) {\n              if (color._scaleToBounds) {\n                var bounds = item.getBounds();\n                color.transform(new Matrix().translate(bounds.getPoint()).scale(bounds.getSize()));\n              }\n            }\n          }\n        }\n      };\n    }, {}), {\n      id: function id(item, value) {\n        definitions[value] = item;\n        if (item.setName) item.setName(value);\n      },\n      'clip-path': function clipPath(item, value) {\n        var clip = getDefinition(value);\n\n        if (clip) {\n          clip = clip.clone();\n          clip.setClipMask(true);\n\n          if (item instanceof Group) {\n            item.insertChild(0, clip);\n          } else {\n            return new Group(clip, item);\n          }\n        }\n      },\n      gradientTransform: applyTransform,\n      transform: applyTransform,\n      'fill-opacity': applyOpacity,\n      'stroke-opacity': applyOpacity,\n      visibility: function visibility(item, value) {\n        if (item.setVisible) item.setVisible(value === 'visible');\n      },\n      display: function display(item, value) {\n        if (item.setVisible) item.setVisible(value !== null);\n      },\n      'stop-color': function stopColor(item, value) {\n        if (item.setColor) item.setColor(value);\n      },\n      'stop-opacity': function stopOpacity(item, value) {\n        if (item._color) item._color.setAlpha(parseFloat(value));\n      },\n      offset: function offset(item, value) {\n        if (item.setOffset) {\n          var percent = value.match(/(.*)%$/);\n          item.setOffset(percent ? percent[1] / 100 : parseFloat(value));\n        }\n      },\n      viewBox: function viewBox(item, value, name, node, styles) {\n        var rect = new _Rectangle(convertValue(value, 'array')),\n            size = getSize(node, null, null, true),\n            group,\n            matrix;\n\n        if (item instanceof Group) {\n          var scale = size ? size.divide(rect.getSize()) : 1,\n              matrix = new Matrix().scale(scale).translate(rect.getPoint().negate());\n          group = item;\n        } else if (item instanceof SymbolDefinition) {\n          if (size) rect.setSize(size);\n          group = item._item;\n        }\n\n        if (group) {\n          if (getAttribute(node, 'overflow', styles) !== 'visible') {\n            var clip = new Shape.Rectangle(rect);\n            clip.setClipMask(true);\n            group.addChild(clip);\n          }\n\n          if (matrix) group.transform(matrix);\n        }\n      }\n    });\n\n    function getAttribute(node, name, styles) {\n      var attr = node.attributes[name],\n          value = attr && attr.value;\n\n      if (!value && node.style) {\n        var style = Base.camelize(name);\n        value = node.style[style];\n        if (!value && styles.node[style] !== styles.parent[style]) value = styles.node[style];\n      }\n\n      return !value ? undefined : value === 'none' ? null : value;\n    }\n\n    function applyAttributes(item, node, isRoot) {\n      var parent = node.parentNode,\n          styles = {\n        node: DomElement.getStyles(node) || {},\n        parent: !isRoot && !/^defs$/i.test(parent.tagName) && DomElement.getStyles(parent) || {}\n      };\n      Base.each(attributes, function (apply, name) {\n        var value = getAttribute(node, name, styles);\n        item = value !== undefined && apply(item, value, name, node, styles) || item;\n      });\n      return item;\n    }\n\n    function getDefinition(value) {\n      var match = value && value.match(/\\((?:[\"'#]*)([^\"')]+)/),\n          name = match && match[1],\n          res = name && definitions[window ? name.replace(window.location.href.split('#')[0] + '#', '') : name];\n\n      if (res && res._scaleToBounds) {\n        res = res.clone();\n        res._scaleToBounds = true;\n      }\n\n      return res;\n    }\n\n    function importNode(node, options, isRoot) {\n      var type = node.nodeName.toLowerCase(),\n          isElement = type !== '#document',\n          body = document.body,\n          container,\n          parent,\n          next;\n\n      if (isRoot && isElement) {\n        rootSize = paper.getView().getSize();\n        rootSize = getSize(node, null, null, true) || rootSize;\n        container = SvgElement.create('svg', {\n          style: 'stroke-width: 1px; stroke-miterlimit: 10'\n        });\n        parent = node.parentNode;\n        next = node.nextSibling;\n        container.appendChild(node);\n        body.appendChild(container);\n      }\n\n      var settings = paper.settings,\n          applyMatrix = settings.applyMatrix,\n          insertItems = settings.insertItems;\n      settings.applyMatrix = false;\n      settings.insertItems = false;\n      var importer = importers[type],\n          item = importer && importer(node, type, options, isRoot) || null;\n      settings.insertItems = insertItems;\n      settings.applyMatrix = applyMatrix;\n\n      if (item) {\n        if (isElement && !(item instanceof Group)) item = applyAttributes(item, node, isRoot);\n        var onImport = options.onImport,\n            data = isElement && node.getAttribute('data-paper-data');\n        if (onImport) item = onImport(node, item, options) || item;\n\n        if (options.expandShapes && item instanceof Shape) {\n          item.remove();\n          item = item.toPath();\n        }\n\n        if (data) item._data = JSON.parse(data);\n      }\n\n      if (container) {\n        body.removeChild(container);\n\n        if (parent) {\n          if (next) {\n            parent.insertBefore(node, next);\n          } else {\n            parent.appendChild(node);\n          }\n        }\n      }\n\n      if (isRoot) {\n        definitions = {};\n        if (item && Base.pick(options.applyMatrix, applyMatrix)) item.matrix.apply(true, true);\n      }\n\n      return item;\n    }\n\n    function _importSVG(source, options, owner) {\n      if (!source) return null;\n      options = typeof options === 'function' ? {\n        onLoad: options\n      } : options || {};\n      var scope = paper,\n          item = null;\n\n      function onLoad(svg) {\n        try {\n          var node = typeof svg === 'object' ? svg : new self.DOMParser().parseFromString(svg, 'image/svg+xml');\n\n          if (!node.nodeName) {\n            node = null;\n            throw new Error('Unsupported SVG source: ' + source);\n          }\n\n          paper = scope;\n          item = importNode(node, options, true);\n\n          if (!options || options.insert !== false) {\n            owner._insertItem(undefined, item);\n          }\n\n          var onLoad = options.onLoad;\n          if (onLoad) onLoad(item, svg);\n        } catch (e) {\n          onError(e);\n        }\n      }\n\n      function onError(message, status) {\n        var onError = options.onError;\n\n        if (onError) {\n          onError(message, status);\n        } else {\n          throw new Error(message);\n        }\n      }\n\n      if (typeof source === 'string' && !/^.*</.test(source)) {\n        var node = document.getElementById(source);\n\n        if (node) {\n          onLoad(node);\n        } else {\n          Http.request({\n            url: source,\n            async: true,\n            onLoad: onLoad,\n            onError: onError\n          });\n        }\n      } else if (typeof File !== 'undefined' && source instanceof File) {\n        var reader = new FileReader();\n\n        reader.onload = function () {\n          onLoad(reader.result);\n        };\n\n        reader.onerror = function () {\n          onError(reader.error);\n        };\n\n        return reader.readAsText(source);\n      } else {\n        onLoad(source);\n      }\n\n      return item;\n    }\n\n    Item.inject({\n      importSVG: function importSVG(node, options) {\n        return _importSVG(node, options, this);\n      }\n    });\n    Project.inject({\n      importSVG: function importSVG(node, options) {\n        this.activate();\n        return _importSVG(node, options, this);\n      }\n    });\n  }();\n  var paper = new (PaperScope.inject(Base.exports, {\n    Base: Base,\n    Numerical: Numerical,\n    Key: Key,\n    DomEvent: DomEvent,\n    DomElement: DomElement,\n    document: document,\n    window: window,\n    Symbol: SymbolDefinition,\n    PlacedSymbol: SymbolItem\n  }))();\n\n  if (paper.agent.node) {\n    require('./node/extend.js')(paper);\n  }\n\n  if (typeof define === 'function' && define.amd) {\n    define('paper', paper);\n  } else if (typeof module === 'object' && module) {\n    module.exports = paper;\n  }\n\n  return paper;\n}.call(this, typeof self === 'object' ? self : null);","\"use strict\";\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _default = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n\nexports.default = _default;\nmodule.exports = exports[\"default\"];","'use strict';\n// 19.1.3.6 Object.prototype.toString()\nvar classof = require('./_classof');\nvar test = {};\ntest[require('./_wks')('toStringTag')] = 'z';\nif (test + '' != '[object z]') {\n  require('./_redefine')(Object.prototype, 'toString', function toString() {\n    return '[object ' + classof(this) + ']';\n  }, true);\n}\n","'use strict';\n// 21.2.5.3 get RegExp.prototype.flags\nvar anObject = require('./_an-object');\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","'use strict';\nvar global = require('./_global');\nvar each = require('./_array-methods')(0);\nvar redefine = require('./_redefine');\nvar meta = require('./_meta');\nvar assign = require('./_object-assign');\nvar weak = require('./_collection-weak');\nvar isObject = require('./_is-object');\nvar validate = require('./_validate-collection');\nvar NATIVE_WEAK_MAP = require('./_validate-collection');\nvar IS_IE11 = !global.ActiveXObject && 'ActiveXObject' in global;\nvar WEAK_MAP = 'WeakMap';\nvar getWeak = meta.getWeak;\nvar isExtensible = Object.isExtensible;\nvar uncaughtFrozenStore = weak.ufstore;\nvar InternalMap;\n\nvar wrapper = function (get) {\n  return function WeakMap() {\n    return get(this, arguments.length > 0 ? arguments[0] : undefined);\n  };\n};\n\nvar methods = {\n  // 23.3.3.3 WeakMap.prototype.get(key)\n  get: function get(key) {\n    if (isObject(key)) {\n      var data = getWeak(key);\n      if (data === true) return uncaughtFrozenStore(validate(this, WEAK_MAP)).get(key);\n      return data ? data[this._i] : undefined;\n    }\n  },\n  // 23.3.3.5 WeakMap.prototype.set(key, value)\n  set: function set(key, value) {\n    return weak.def(validate(this, WEAK_MAP), key, value);\n  }\n};\n\n// 23.3 WeakMap Objects\nvar $WeakMap = module.exports = require('./_collection')(WEAK_MAP, wrapper, methods, weak, true, true);\n\n// IE11 WeakMap frozen keys fix\nif (NATIVE_WEAK_MAP && IS_IE11) {\n  InternalMap = weak.getConstructor(wrapper, WEAK_MAP);\n  assign(InternalMap.prototype, methods);\n  meta.NEED = true;\n  each(['delete', 'has', 'get', 'set'], function (key) {\n    var proto = $WeakMap.prototype;\n    var method = proto[key];\n    redefine(proto, key, function (a, b) {\n      // store frozen objects on internal weakmap shim\n      if (isObject(a) && !isExtensible(a)) {\n        if (!this._f) this._f = new InternalMap();\n        var result = this._f[key](a, b);\n        return key == 'set' ? this : result;\n      // store all the rest on native weakmap\n      } return method.call(this, a, b);\n    });\n  });\n}\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","var ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n","const React = require(\"react\")\nconst { TangramsProvider } = require(\"./src/contexts/tangrams\")\n\nexports.wrapPageElement = ({ element }) => {\n  return <TangramsProvider>{element}</TangramsProvider>\n}\n\nexports.onServiceWorkerUpdateFound = () => {\n  if (\n    window.confirm(\n      \"Une nouvelle version d'Amstangram est disponible. Recharger l'application  ?\"\n    )\n  ) {\n    window.location.reload(true)\n  }\n}\n","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n","import \"core-js/modules/es6.string.starts-with\";\nimport \"core-js/modules/es7.object.values\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/es6.object.assign\";\nimport \"core-js/modules/es6.object.set-prototype-of\";\nimport { createContext, createElement, useContext, useMemo, useEffect } from 'react';\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\n\n/* global Reflect, Promise */\n\nvar _extendStatics = function extendStatics(d, b) {\n  _extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) {\n      if (b.hasOwnProperty(p)) d[p] = b[p];\n    }\n  };\n\n  return _extendStatics(d, b);\n};\n\nfunction __extends(d, b) {\n  _extendStatics(d, b);\n\n  function __() {\n    this.constructor = d;\n  }\n\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nvar _assign = function __assign() {\n  _assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return _assign.apply(this, arguments);\n};\n\nfunction __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) {\n    s += arguments[i].length;\n  }\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) {\n    for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) {\n      r[k] = a[j];\n    }\n  }\n\n  return r;\n}\n\nfunction pad(hash, len) {\n  while (hash.length < len) {\n    hash = '0' + hash;\n  }\n\n  return hash;\n}\n\nfunction fold(hash, text) {\n  var i;\n  var chr;\n  var len;\n\n  if (text.length === 0) {\n    return hash;\n  }\n\n  for (i = 0, len = text.length; i < len; i++) {\n    chr = text.charCodeAt(i);\n    hash = (hash << 5) - hash + chr;\n    hash |= 0;\n  }\n\n  return hash < 0 ? hash * -2 : hash;\n}\n\nfunction foldObject(hash, o, seen) {\n  return Object.keys(o).sort().reduce(foldKey, hash);\n\n  function foldKey(hash, key) {\n    return foldValue(hash, o[key], key, seen);\n  }\n}\n\nfunction foldValue(input, value, key, seen) {\n  var hash = fold(fold(fold(input, key), toString(value)), typeof value);\n\n  if (value === null) {\n    return fold(hash, 'null');\n  }\n\n  if (value === undefined) {\n    return fold(hash, 'undefined');\n  }\n\n  if (typeof value === 'object' || typeof value === 'function') {\n    if (seen.indexOf(value) !== -1) {\n      return fold(hash, '[Circular]' + key);\n    }\n\n    seen.push(value);\n    var objHash = foldObject(hash, value, seen);\n\n    if (!('valueOf' in value) || typeof value.valueOf !== 'function') {\n      return objHash;\n    }\n\n    try {\n      return fold(objHash, String(value.valueOf()));\n    } catch (err) {\n      return fold(objHash, '[valueOf exception]' + (err.stack || err.message));\n    }\n  }\n\n  return fold(hash, value.toString());\n}\n\nfunction toString(o) {\n  return Object.prototype.toString.call(o);\n}\n\nfunction sum(o) {\n  return pad(foldValue(0, o, '', []).toString(16), 8);\n}\n\nvar hashSum = sum;\nvar EMPTY_ARRAY = [];\nvar unitlessCssProperties = {\n  animationIterationCount: 1,\n  borderImageOutset: 1,\n  borderImageSlice: 1,\n  borderImageWidth: 1,\n  boxFlex: 1,\n  boxFlexGroup: 1,\n  boxOrdinalGroup: 1,\n  columnCount: 1,\n  columns: 1,\n  flex: 1,\n  flexGrow: 1,\n  flexPositive: 1,\n  flexShrink: 1,\n  flexNegative: 1,\n  flexOrder: 1,\n  gridRow: 1,\n  gridRowEnd: 1,\n  gridRowSpan: 1,\n  gridRowStart: 1,\n  gridColumn: 1,\n  gridColumnEnd: 1,\n  gridColumnSpan: 1,\n  gridColumnStart: 1,\n  msGridRow: 1,\n  msGridRowSpan: 1,\n  msGridColumn: 1,\n  msGridColumnSpan: 1,\n  fontWeight: 1,\n  lineHeight: 1,\n  opacity: 1,\n  order: 1,\n  orphans: 1,\n  tabSize: 1,\n  widows: 1,\n  zIndex: 1,\n  zoom: 1,\n  WebkitLineClamp: 1,\n  // SVG-related properties\n  fillOpacity: 1,\n  floodOpacity: 1,\n  stopOpacity: 1,\n  strokeDasharray: 1,\n  strokeDashoffset: 1,\n  strokeMiterlimit: 1,\n  strokeOpacity: 1,\n  strokeWidth: 1\n};\nvar aliases = {\n  bg: \"backgroundColor\",\n  m: \"margin\",\n  mt: \"marginTop\",\n  mr: \"marginRight\",\n  mb: \"marginBottom\",\n  ml: \"marginLeft\",\n  mx: \"marginX\",\n  my: \"marginY\",\n  p: \"padding\",\n  pt: \"paddingTop\",\n  pr: \"paddingRight\",\n  pb: \"paddingBottom\",\n  pl: \"paddingLeft\",\n  px: \"paddingX\",\n  py: \"paddingY\"\n};\nvar multiples = {\n  marginX: [\"marginLeft\", \"marginRight\"],\n  marginY: [\"marginTop\", \"marginBottom\"],\n  paddingX: [\"paddingLeft\", \"paddingRight\"],\n  paddingY: [\"paddingTop\", \"paddingBottom\"],\n  size: [\"width\", \"height\"]\n};\nvar scales = {\n  color: \"colors\",\n  backgroundColor: \"colors\",\n  borderColor: \"colors\",\n  margin: \"space\",\n  marginTop: \"space\",\n  marginRight: \"space\",\n  marginBottom: \"space\",\n  marginLeft: \"space\",\n  marginX: \"space\",\n  marginY: \"space\",\n  padding: \"space\",\n  paddingTop: \"space\",\n  paddingRight: \"space\",\n  paddingBottom: \"space\",\n  paddingLeft: \"space\",\n  paddingX: \"space\",\n  paddingY: \"space\",\n  top: \"space\",\n  right: \"space\",\n  bottom: \"space\",\n  left: \"space\",\n  gridGap: \"space\",\n  gridColumnGap: \"space\",\n  gridRowGap: \"space\",\n  gap: \"space\",\n  columnGap: \"space\",\n  rowGap: \"space\",\n  fontFamily: \"fonts\",\n  fontSize: \"fontSizes\",\n  fontWeight: \"fontWeights\",\n  lineHeight: \"lineHeights\",\n  letterSpacing: \"letterSpacings\",\n  border: \"borders\",\n  borderTop: \"borders\",\n  borderRight: \"borders\",\n  borderBottom: \"borders\",\n  borderLeft: \"borders\",\n  borderWidth: \"borderWidths\",\n  borderStyle: \"borderStyles\",\n  borderRadius: \"radii\",\n  borderTopRightRadius: \"radii\",\n  borderTopLeftRadius: \"radii\",\n  borderBottomRightRadius: \"radii\",\n  borderBottomLeftRadius: \"radii\",\n  borderTopWidth: \"borderWidths\",\n  borderTopColor: \"colors\",\n  borderTopStyle: \"borderStyles\",\n  borderBottomWidth: \"borderWidths\",\n  borderBottomColor: \"colors\",\n  borderBottomStyle: \"borderStyles\",\n  borderLeftWidth: \"borderWidths\",\n  borderLeftColor: \"colors\",\n  borderLeftStyle: \"borderStyles\",\n  borderRightWidth: \"borderWidths\",\n  borderRightColor: \"colors\",\n  borderRightStyle: \"borderStyles\",\n  outlineColor: \"colors\",\n  boxShadow: \"shadows\",\n  textShadow: \"shadows\",\n  zIndex: \"zIndices\",\n  width: \"sizes\",\n  minWidth: \"sizes\",\n  maxWidth: \"sizes\",\n  height: \"sizes\",\n  minHeight: \"sizes\",\n  maxHeight: \"sizes\",\n  flexBasis: \"sizes\",\n  size: \"sizes\",\n  // svg\n  fill: \"colors\",\n  stroke: \"colors\"\n};\n\nvar get = function get(obj, path, def) {\n  var result = obj;\n  var keys = typeof path === \"string\" ? path.split(\".\") : [path];\n\n  for (var _i = 0, keys_1 = keys; _i < keys_1.length; _i++) {\n    var key = keys_1[_i];\n    result = result ? result[key] : undefined;\n  }\n\n  return result === undefined ? def : result;\n};\n\nvar positiveOrNegative = function positiveOrNegative(scale, value) {\n  if (typeof value !== \"number\" || value >= 0) {\n    return get(scale, value, value);\n  }\n\n  var absolute = Math.abs(value);\n  var n = get(scale, absolute, absolute);\n\n  if (typeof n === \"string\") {\n    return \"-\" + n;\n  }\n\n  return n * -1;\n};\n\nvar transforms = [\"margin\", \"marginTop\", \"marginRight\", \"marginBottom\", \"marginLeft\", \"marginX\", \"marginY\", \"top\", \"bottom\", \"left\", \"right\"].reduce(function (acc, curr) {\n  var _a;\n\n  return _assign(_assign({}, acc), (_a = {}, _a[curr] = positiveOrNegative, _a));\n}, {});\n\nvar addUnitIfNeeded = function addUnitIfNeeded(name, value) {\n  if (value == null || typeof value === \"boolean\" || value === \"\") {\n    return \"\";\n  }\n\n  if (typeof value === \"number\" && value !== 0 && !(name in unitlessCssProperties)) {\n    return value + \"px\"; // Presumes implicit 'px' suffix for unitless numbers\n  }\n\n  return String(value).trim();\n};\n\nvar camelCaseToSnakeCase = function camelCaseToSnakeCase(prop) {\n  return prop.replace(/[A-Z]/g, function (match) {\n    return \"-\" + match.toLowerCase();\n  });\n};\n\nvar responsive = function responsive(systemObject, theme) {\n  var next = {};\n  var breakpoints = get(theme, \"breakpoints\");\n  var mediaQueries = Object.keys(breakpoints).reduce(function (acc, breakpointKey) {\n    var _a;\n\n    return _assign(_assign({}, acc), (_a = {}, _a[breakpointKey] = \"@media screen and (min-width: \" + breakpoints[breakpointKey] + \")\", _a));\n  }, {\n    _: null\n  });\n\n  for (var key in systemObject) {\n    var value = systemObject[key];\n    var type = typeof value;\n\n    if (value == null || Array.isArray(value)) {\n      continue;\n    }\n\n    if (key.includes(\"&\") || type === \"string\" || type === \"number\") {\n      next[key] = value;\n      continue;\n    }\n\n    var breakpointKeys = Object.keys(value);\n\n    for (var _i = 0, breakpointKeys_1 = breakpointKeys; _i < breakpointKeys_1.length; _i++) {\n      var breakpointKey = breakpointKeys_1[_i];\n      var media = mediaQueries[breakpointKey];\n\n      if (!media) {\n        next[key] = value[breakpointKey];\n        continue;\n      }\n\n      next[media] = next[media] || {};\n      if (value[breakpointKey] == null) continue;\n      next[media][key] = value[breakpointKey];\n    }\n  }\n\n  return next;\n};\n\nvar computeCssObject = function computeCssObject(systemObject, theme) {\n  var result = {};\n  var styles = responsive(systemObject, theme);\n\n  for (var key in styles) {\n    var x = styles[key];\n    var val = typeof x === \"function\" ? x(theme) : x;\n\n    if (key === \"variant\") {\n      var variant = computeCssObject(get(theme, val), theme);\n      result = _assign(_assign({}, result), variant);\n      continue;\n    }\n\n    if (val && typeof val === \"object\") {\n      result[key] = computeCssObject(val, theme);\n      continue;\n    }\n\n    var prop = get(aliases, key, key);\n    var scaleName = get(scales, prop);\n    var scale = get(theme, scaleName, get(theme, prop, {}));\n    var transform = get(transforms, prop, get);\n    var value = transform(scale, val, val);\n\n    if (multiples[prop]) {\n      var dirs = multiples[prop];\n\n      for (var i = 0; i < dirs.length; i++) {\n        result[dirs[i]] = value;\n      }\n    } else {\n      result[prop] = value;\n    }\n  }\n\n  return result;\n};\n\nvar GLOBAL_ID = \"global\";\nvar ID_ATTRIBUTE = \"data-css-system-id\";\nvar CREATED_CLASS_NAMES_ATTRIBUTES = \"data-css-system-class-names\";\nvar CREATED_CLASS_NAMES_SEPARATOR = \" \";\nvar isDev = process && process.env && process.env.NODE_ENV === \"development\";\n\nvar ClientStyleSheet =\n/** @class */\nfunction () {\n  function ClientStyleSheet(id) {\n    var _this = this;\n\n    this.createdClassNames = {};\n    var element = document.querySelector(\"style[\" + ID_ATTRIBUTE + \"=\\\"\" + id + \"\\\"]\");\n\n    if (element === null) {\n      element = document.createElement(\"style\");\n      element.setAttribute(ID_ATTRIBUTE, id);\n      document.head.appendChild(element);\n    } else {\n      var createdClassNames = element.getAttribute(CREATED_CLASS_NAMES_ATTRIBUTES);\n\n      if (createdClassNames !== null) {\n        createdClassNames.split(CREATED_CLASS_NAMES_SEPARATOR).forEach(function (className) {\n          return _this.createdClassNames[className] = true;\n        });\n      }\n    }\n\n    this.sheet = element.sheet;\n  }\n\n  ClientStyleSheet.prototype.insertRule = function (rule) {\n    this.sheet.insertRule(rule, this.sheet.cssRules.length);\n  };\n\n  return ClientStyleSheet;\n}();\n\nvar DevClientStyleSheet =\n/** @class */\nfunction (_super) {\n  __extends(DevClientStyleSheet, _super);\n\n  function DevClientStyleSheet(id) {\n    var _this = _super.call(this, id) || this;\n\n    _this.styleNode = _this.sheet.ownerNode;\n    return _this;\n  }\n\n  DevClientStyleSheet.prototype.insertRule = function (rule) {\n    this.styleNode.textContent += rule;\n  };\n\n  return DevClientStyleSheet;\n}(ClientStyleSheet);\n\nvar ClientStyleSheetManager =\n/** @class */\nfunction () {\n  function ClientStyleSheetManager() {\n    var _a;\n\n    this.styleSheets = (_a = {}, _a[GLOBAL_ID] = new ClientStyleSheet(GLOBAL_ID), _a);\n  }\n\n  ClientStyleSheetManager.prototype.getGlobalStyleSheet = function () {\n    return this.styleSheets[GLOBAL_ID];\n  };\n\n  ClientStyleSheetManager.prototype.createStyleSheet = function (id) {\n    this.styleSheets[id] = new ClientStyleSheet(id);\n    return this.styleSheets[id];\n  };\n\n  ClientStyleSheetManager.prototype.removeStyleSheet = function (id) {\n    delete this.styleSheets[id];\n  };\n\n  return ClientStyleSheetManager;\n}();\n\nvar DevClientStyleSheetManager =\n/** @class */\nfunction (_super) {\n  __extends(DevClientStyleSheetManager, _super);\n\n  function DevClientStyleSheetManager() {\n    var _a;\n\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.styleSheets = (_a = {}, _a[GLOBAL_ID] = new DevClientStyleSheet(GLOBAL_ID), _a);\n    return _this;\n  }\n\n  DevClientStyleSheetManager.prototype.createStyleSheet = function (id) {\n    this.styleSheets[id] = new DevClientStyleSheet(id);\n    return this.styleSheets[id];\n  };\n\n  return DevClientStyleSheetManager;\n}(ClientStyleSheetManager);\n\nvar ServerStyleSheet =\n/** @class */\nfunction () {\n  function ServerStyleSheet(id) {\n    this.rules = [];\n    this.createdClassNames = {};\n    this.id = id;\n  }\n\n  ServerStyleSheet.prototype.insertRule = function (rule) {\n    this.rules.push(rule);\n  };\n\n  ServerStyleSheet.prototype.getStyleTag = function () {\n    return \"<style \" + ID_ATTRIBUTE + \"=\\\"\" + this.id + \"\\\" \" + CREATED_CLASS_NAMES_ATTRIBUTES + \"=\\\"\" + Object.keys(this.createdClassNames).join(CREATED_CLASS_NAMES_SEPARATOR) + \"\\\">\" + this.rules.join(\"\\n\") + \"</style>\";\n  };\n\n  ServerStyleSheet.prototype.getStyleComponent = function () {\n    var _a;\n\n    return createElement(\"style\", (_a = {}, _a[ID_ATTRIBUTE] = this.id, _a[CREATED_CLASS_NAMES_ATTRIBUTES] = Object.keys(this.createdClassNames).join(CREATED_CLASS_NAMES_SEPARATOR), _a.dangerouslySetInnerHTML = {\n      __html: this.rules.join(\"\\n\")\n    }, _a));\n  };\n\n  return ServerStyleSheet;\n}();\n\nvar ServerStyleSheetManager =\n/** @class */\nfunction () {\n  function ServerStyleSheetManager() {\n    var _a;\n\n    this.styleSheets = (_a = {}, _a[GLOBAL_ID] = new ServerStyleSheet(GLOBAL_ID), _a);\n  }\n\n  ServerStyleSheetManager.prototype.getGlobalStyleSheet = function () {\n    return this.styleSheets[GLOBAL_ID];\n  };\n\n  ServerStyleSheetManager.prototype.createStyleSheet = function (id) {\n    this.styleSheets[id] = new ServerStyleSheet(id);\n    return this.styleSheets[id];\n  };\n\n  ServerStyleSheetManager.prototype.removeStyleSheet = function (id) {\n    delete this.styleSheets[id];\n  };\n\n  ServerStyleSheetManager.prototype.getStyleTags = function () {\n    return Object.values(this.styleSheets).map(function (styleSheet) {\n      return styleSheet.getStyleTag();\n    }).join(\"\\n\");\n  };\n\n  ServerStyleSheetManager.prototype.getStyleComponents = function () {\n    return Object.values(this.styleSheets).map(function (styleSheet) {\n      return styleSheet.getStyleComponent();\n    });\n  };\n\n  return ServerStyleSheetManager;\n}();\n\nvar isBrowser = typeof document !== \"undefined\";\nvar StyleSheetManagerContext = createContext(isBrowser ? isDev ? new DevClientStyleSheetManager() : new ClientStyleSheetManager() : new ServerStyleSheetManager());\nvar ThemeContext = createContext({\n  breakpoints: {\n    s: \"40em\",\n    m: \"52em\",\n    l: \"64em\"\n  },\n  space: [0, 4, 8, 16, 32, 64, 128, 256, 512],\n  fontSizes: [12, 14, 16, 20, 24, 32, 48, 64, 72]\n});\n\nvar populateRulesObject = function populateRulesObject(className, cssObject, acc) {\n  Object.keys(cssObject).forEach(function (key) {\n    var value = cssObject[key];\n\n    if (typeof value === \"string\" || typeof value === \"number\") {\n      if (!acc[className]) {\n        acc[className] = \"\";\n      }\n\n      acc[className] += camelCaseToSnakeCase(key) + \":\" + addUnitIfNeeded(key, value) + \";\";\n    } else if (typeof value === \"object\") {\n      if (key.startsWith(\"@media\")) {\n        if (!acc[key]) {\n          acc[key] = {};\n        }\n\n        populateRulesObject(className, value, acc[key]);\n      } else {\n        populateRulesObject(key.replace(/&/g, className), value, acc);\n      }\n    }\n  });\n};\n\nvar computeRulesObject = function computeRulesObject(cssObject) {\n  var rulesObject = {};\n  populateRulesObject(\"&\", cssObject, rulesObject);\n  return rulesObject;\n};\n\nvar useCss = function useCss(systemObject, deps) {\n  if (deps === void 0) {\n    deps = EMPTY_ARRAY;\n  }\n\n  var styleSheetManager = useContext(StyleSheetManagerContext);\n  var theme = useContext(ThemeContext);\n  var className = useMemo(function () {\n    var cssObject = computeCssObject(systemObject, theme);\n    var hash = hashSum(cssObject);\n    var className = \"style-\" + hash;\n    var styleSheet = styleSheetManager.getGlobalStyleSheet();\n\n    if (!styleSheet.createdClassNames[className]) {\n      var rulesObject = computeRulesObject(cssObject);\n      var rulesKeys = Object.keys(rulesObject).sort(function (ruleKeyA, ruleKeyB) {\n        if (ruleKeyA[0] === \"@\" && ruleKeyB[0] === \"@\") {\n          return 0;\n        }\n\n        if (ruleKeyA[0] === \"@\" && ruleKeyB[0] !== \"@\") {\n          return 1;\n        }\n\n        return -1;\n      });\n\n      for (var _i = 0, rulesKeys_1 = rulesKeys; _i < rulesKeys_1.length; _i++) {\n        var ruleKey = rulesKeys_1[_i];\n\n        if (typeof rulesObject[ruleKey] === \"string\") {\n          var selector = ruleKey.replace(/&/g, \".\" + className);\n          var declaration = rulesObject[ruleKey];\n          styleSheet.insertRule(selector + \"{\" + declaration + \"}\");\n        } else {\n          var identifier = ruleKey;\n          var ruleObject = rulesObject[identifier];\n          var ruleContent = \"\";\n\n          for (var ruleObjectKey in ruleObject) {\n            var selector = ruleObjectKey.replace(/&/g, \".\" + className);\n            var declaration = ruleObject[ruleObjectKey];\n            ruleContent += selector + \"{\" + declaration + \"}\";\n          }\n\n          styleSheet.insertRule(identifier + \"{\" + ruleContent + \"}\");\n        }\n      }\n\n      styleSheet.createdClassNames[className] = true;\n    }\n\n    return className; // Assume that systemObject is stable\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, __spreadArrays([theme], deps));\n  return className;\n};\n\nvar useGlobalCss = function useGlobalCss(systemObject, deps) {\n  if (deps === void 0) {\n    deps = EMPTY_ARRAY;\n  }\n\n  var styleSheetManager = useContext(StyleSheetManagerContext);\n  var theme = useContext(ThemeContext);\n  var id = useMemo(function () {\n    var id = hashSum(systemObject);\n    var styleSheet = styleSheetManager.createStyleSheet(id);\n\n    for (var globalSelector in systemObject) {\n      var cssObject = computeCssObject(systemObject[globalSelector], theme);\n      var rulesObject = computeRulesObject(cssObject);\n      var rulesKeys = Object.keys(rulesObject).sort(function (a, b) {\n        return a < b ? -1 : a > b ? 1 : 0;\n      });\n\n      for (var _i = 0, rulesKeys_1 = rulesKeys; _i < rulesKeys_1.length; _i++) {\n        var ruleKey = rulesKeys_1[_i];\n\n        if (typeof rulesObject[ruleKey] === \"string\") {\n          var selector = ruleKey.replace(/&/g, globalSelector);\n          var declaration = rulesObject[ruleKey];\n          styleSheet.insertRule(selector + \"{\" + declaration + \"}\");\n        } else {\n          var identifier = ruleKey;\n          var ruleObject = rulesObject[identifier];\n          var ruleContent = \"\";\n\n          for (var ruleObjectKey in ruleObject) {\n            var selector = ruleObjectKey.replace(/&/g, globalSelector);\n            var declaration = ruleObject[ruleObjectKey];\n            ruleContent += selector + \"{\" + declaration + \"}\";\n          }\n\n          styleSheet.insertRule(identifier + \"{\" + ruleContent + \"}\");\n        }\n      }\n    }\n\n    return id; // Assume that systemObject is stable\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, __spreadArrays([theme], deps));\n  useEffect(function () {\n    return function () {\n      return styleSheetManager.removeStyleSheet(id);\n    };\n  }, [id, theme]);\n};\n\nvar computeRules = function computeRules(systemObject, theme) {\n  var result = \"\";\n\n  for (var key in systemObject) {\n    var x = systemObject[key];\n    var val = typeof x === \"function\" ? x(theme) : x;\n    var prop = get(aliases, key, key);\n    var scaleName = get(scales, prop);\n    var scale = get(theme, scaleName, get(theme, prop, {}));\n    var transform = get(transforms, prop, get);\n    var value = transform(scale, val, val);\n\n    if (multiples[prop]) {\n      var dirs = multiples[prop];\n\n      for (var i = 0; i < dirs.length; i++) {\n        result += camelCaseToSnakeCase(dirs[i]) + \":\" + addUnitIfNeeded(prop, value) + \";\";\n      }\n    } else {\n      result += camelCaseToSnakeCase(prop) + \":\" + addUnitIfNeeded(prop, value) + \";\";\n    }\n  }\n\n  return result;\n};\n\nvar useKeyframes = function useKeyframes(keyframesObject, deps) {\n  if (deps === void 0) {\n    deps = EMPTY_ARRAY;\n  }\n\n  var styleSheetManager = useContext(StyleSheetManagerContext);\n  var theme = useContext(ThemeContext);\n  var id = useMemo(function () {\n    var id = \"keyframes-\" + hashSum(keyframesObject);\n    var styleSheet = styleSheetManager.createStyleSheet(id);\n    var frames = \"\";\n\n    for (var key in keyframesObject) {\n      var systemObject = keyframesObject[key];\n      var selector = isNaN(key) ? key : key + \"%\";\n      var rules = computeRules(systemObject, theme);\n      frames += selector + \"{\" + rules + \"}\";\n    }\n\n    styleSheet.insertRule(\"@keyframes \" + id + \"{\" + frames + \"}\");\n    return id; // Assume that systemObject is stable\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, __spreadArrays([theme], deps));\n  useEffect(function () {\n    return function () {\n      return styleSheetManager.removeStyleSheet(id);\n    };\n  }, [id, theme]);\n  return id;\n};\n\nexport { ClientStyleSheetManager, ServerStyleSheetManager, StyleSheetManagerContext, ThemeContext, useCss, useGlobalCss, useKeyframes };","import React, { createElement } from \"react\"\nimport PropTypes from \"prop-types\"\nimport { publicLoader } from \"./loader\"\nimport { apiRunner } from \"./api-runner-browser\"\n\n// Renders page\nclass PageRenderer extends React.Component {\n  render() {\n    const props = {\n      ...this.props,\n      pathContext: this.props.pageContext,\n    }\n\n    const [replacementElement] = apiRunner(`replaceComponentRenderer`, {\n      props: this.props,\n      loader: publicLoader,\n    })\n\n    const pageElement =\n      replacementElement ||\n      createElement(this.props.pageResources.component, {\n        ...props,\n        key: this.props.path || this.props.pageResources.page.path,\n      })\n\n    const wrappedPage = apiRunner(\n      `wrapPageElement`,\n      { element: pageElement, props },\n      pageElement,\n      ({ result }) => {\n        return { element: result, props }\n      }\n    ).pop()\n\n    return wrappedPage\n  }\n}\n\nPageRenderer.propTypes = {\n  location: PropTypes.object.isRequired,\n  pageResources: PropTypes.object.isRequired,\n  data: PropTypes.object,\n  pageContext: PropTypes.object.isRequired,\n}\n\nexport default PageRenderer\n","'use strict';\nrequire('./es6.regexp.exec');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar fails = require('./_fails');\nvar defined = require('./_defined');\nvar wks = require('./_wks');\nvar regexpExec = require('./_regexp-exec');\n\nvar SPECIES = wks('species');\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  // #replace needs built-in support for named groups.\n  // #match works fine because it just return the exec results, even if it has\n  // a \"grops\" property.\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = (function () {\n  // Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length === 2 && result[0] === 'a' && result[1] === 'b';\n})();\n\nmodule.exports = function (KEY, length, exec) {\n  var SYMBOL = wks(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL ? !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n    re.exec = function () { execCalled = true; return null; };\n    if (KEY === 'split') {\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n    }\n    re[SYMBOL]('');\n    return !execCalled;\n  }) : undefined;\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    (KEY === 'replace' && !REPLACE_SUPPORTS_NAMED_GROUPS) ||\n    (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var fns = exec(\n      defined,\n      SYMBOL,\n      ''[KEY],\n      function maybeCallNative(nativeMethod, regexp, str, arg2, forceStringMethod) {\n        if (regexp.exec === regexpExec) {\n          if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n            // The native String method already delegates to @@method (this\n            // polyfilled function), leasing to infinite recursion.\n            // We avoid it by directly calling the native @@method method.\n            return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n          }\n          return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n        }\n        return { done: false };\n      }\n    );\n    var strfn = fns[0];\n    var rxfn = fns[1];\n\n    redefine(String.prototype, KEY, strfn);\n    hide(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return rxfn.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return rxfn.call(string, this); }\n    );\n  }\n};\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactDom = _interopRequireDefault(require(\"react-dom\"));\n\nvar _warning = _interopRequireDefault(require(\"warning\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar propTypes = {\n  scrollKey: _propTypes.default.string.isRequired,\n  shouldUpdateScroll: _propTypes.default.func,\n  children: _propTypes.default.element.isRequired\n};\nvar contextTypes = {\n  // This is necessary when rendering on the client. However, when rendering on\n  // the server, this container will do nothing, and thus does not require the\n  // scroll behavior context.\n  scrollBehavior: _propTypes.default.object\n};\n\nvar ScrollContainer =\n/*#__PURE__*/\nfunction (_React$Component) {\n  (0, _inheritsLoose2.default)(ScrollContainer, _React$Component);\n\n  function ScrollContainer(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this; // We don't re-register if the scroll key changes, so make sure we\n    // unregister with the initial scroll key just in case the user changes it.\n\n    (0, _defineProperty2.default)((0, _assertThisInitialized2.default)(_this), \"shouldUpdateScroll\", function (prevRouterProps, routerProps) {\n      var shouldUpdateScroll = _this.props.shouldUpdateScroll;\n\n      if (!shouldUpdateScroll) {\n        return true;\n      } // Hack to allow accessing scrollBehavior._stateStorage.\n\n\n      return shouldUpdateScroll.call(_this.context.scrollBehavior.scrollBehavior, prevRouterProps, routerProps);\n    });\n    _this.scrollKey = props.scrollKey;\n    return _this;\n  }\n\n  var _proto = ScrollContainer.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.context.scrollBehavior.registerElement(this.props.scrollKey, _reactDom.default.findDOMNode(this), // eslint-disable-line react/no-find-dom-node\n    this.shouldUpdateScroll); // Only keep around the current DOM node in development, as this is only\n    // for emitting the appropriate warning.\n\n    if (process.env.NODE_ENV !== \"production\") {\n      this.domNode = _reactDom.default.findDOMNode(this); // eslint-disable-line react/no-find-dom-node\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    (0, _warning.default)(prevProps.scrollKey === this.props.scrollKey, \"<ScrollContainer> does not support changing scrollKey.\");\n\n    if (process.env.NODE_ENV !== \"production\") {\n      var prevDomNode = this.domNode;\n      this.domNode = _reactDom.default.findDOMNode(this); // eslint-disable-line react/no-find-dom-node\n\n      (0, _warning.default)(this.domNode === prevDomNode, \"<ScrollContainer> does not support changing DOM node.\");\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.context.scrollBehavior.unregisterElement(this.scrollKey);\n  };\n\n  _proto.render = function render() {\n    return this.props.children;\n  };\n\n  return ScrollContainer;\n}(_react.default.Component);\n\nScrollContainer.propTypes = propTypes;\nScrollContainer.contextTypes = contextTypes;\nvar _default = ScrollContainer;\nexports.default = _default;","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","exports.f = Object.getOwnPropertySymbols;\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","'use strict';\n\nvar isRegExp = require('./_is-regexp');\nvar anObject = require('./_an-object');\nvar speciesConstructor = require('./_species-constructor');\nvar advanceStringIndex = require('./_advance-string-index');\nvar toLength = require('./_to-length');\nvar callRegExpExec = require('./_regexp-exec-abstract');\nvar regexpExec = require('./_regexp-exec');\nvar fails = require('./_fails');\nvar $min = Math.min;\nvar $push = [].push;\nvar $SPLIT = 'split';\nvar LENGTH = 'length';\nvar LAST_INDEX = 'lastIndex';\nvar MAX_UINT32 = 0xffffffff;\n\n// babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\nvar SUPPORTS_Y = !fails(function () { RegExp(MAX_UINT32, 'y'); });\n\n// @@split logic\nrequire('./_fix-re-wks')('split', 2, function (defined, SPLIT, $split, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'[$SPLIT](/(b)*/)[1] == 'c' ||\n    'test'[$SPLIT](/(?:)/, -1)[LENGTH] != 4 ||\n    'ab'[$SPLIT](/(?:ab)*/)[LENGTH] != 2 ||\n    '.'[$SPLIT](/(.?)(.?)/)[LENGTH] != 4 ||\n    '.'[$SPLIT](/()()/)[LENGTH] > 1 ||\n    ''[$SPLIT](/.?/)[LENGTH]\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(this);\n      if (separator === undefined && limit === 0) return [];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) return $split.call(string, separator, limit);\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      var splitLimit = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy[LAST_INDEX];\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match[LENGTH] > 1 && match.index < string[LENGTH]) $push.apply(output, match.slice(1));\n          lastLength = match[0][LENGTH];\n          lastLastIndex = lastIndex;\n          if (output[LENGTH] >= splitLimit) break;\n        }\n        if (separatorCopy[LAST_INDEX] === match.index) separatorCopy[LAST_INDEX]++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string[LENGTH]) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output;\n    };\n  // Chakra, V8\n  } else if ('0'[$SPLIT](undefined, 0)[LENGTH]) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : $split.call(this, separator, limit);\n    };\n  } else {\n    internalSplit = $split;\n  }\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = defined(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== $split);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (SUPPORTS_Y ? 'y' : 'g');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n        if (\n          z === null ||\n          (e = $min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n});\n","var global = require('./_global');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar SRC = require('./_uid')('src');\nvar $toString = require('./_function-to-string');\nvar TO_STRING = 'toString';\nvar TPL = ('' + $toString).split(TO_STRING);\n\nrequire('./_core').inspectSource = function (it) {\n  return $toString.call(it);\n};\n\n(module.exports = function (O, key, val, safe) {\n  var isFunction = typeof val == 'function';\n  if (isFunction) has(val, 'name') || hide(val, 'name', key);\n  if (O[key] === val) return;\n  if (isFunction) has(val, SRC) || hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));\n  if (O === global) {\n    O[key] = val;\n  } else if (!safe) {\n    delete O[key];\n    hide(O, key, val);\n  } else if (O[key]) {\n    O[key] = val;\n  } else {\n    hide(O, key, val);\n  }\n// add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative\n})(Function.prototype, TO_STRING, function toString() {\n  return typeof this == 'function' && this[SRC] || $toString.call(this);\n});\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","// 21.1.3.7 String.prototype.includes(searchString, position = 0)\n'use strict';\nvar $export = require('./_export');\nvar context = require('./_string-context');\nvar INCLUDES = 'includes';\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(INCLUDES), 'String', {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~context(this, searchString, INCLUDES)\n      .indexOf(searchString, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","\"use strict\";\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.promise\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nexports.__esModule = true;\nexports[\"default\"] = void 0;\n\nvar _off = _interopRequireDefault(require(\"dom-helpers/events/off\"));\n\nvar _on = _interopRequireDefault(require(\"dom-helpers/events/on\"));\n\nvar _scrollLeft = _interopRequireDefault(require(\"dom-helpers/query/scrollLeft\"));\n\nvar _scrollTop = _interopRequireDefault(require(\"dom-helpers/query/scrollTop\"));\n\nvar _requestAnimationFrame = _interopRequireDefault(require(\"dom-helpers/util/requestAnimationFrame\"));\n\nvar _invariant = _interopRequireDefault(require(\"invariant\"));\n\nvar _utils = require(\"./utils\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n/* eslint-disable no-underscore-dangle */\n// Try at most this many times to scroll, to avoid getting stuck.\n\n\nvar MAX_SCROLL_ATTEMPTS = 2;\n\nvar ScrollBehavior =\n/*#__PURE__*/\nfunction () {\n  function ScrollBehavior(_ref) {\n    var _this = this;\n\n    var addTransitionHook = _ref.addTransitionHook,\n        stateStorage = _ref.stateStorage,\n        getCurrentLocation = _ref.getCurrentLocation,\n        shouldUpdateScroll = _ref.shouldUpdateScroll;\n\n    this._restoreScrollRestoration = function () {\n      /* istanbul ignore if: not supported by any browsers on Travis */\n      if (_this._oldScrollRestoration) {\n        try {\n          window.history.scrollRestoration = _this._oldScrollRestoration;\n        } catch (e) {\n          /* silence */\n        }\n      }\n    };\n\n    this._onWindowScroll = function () {\n      if (_this._ignoreScrollEvents) {\n        // Don't save the scroll position until the transition is complete\n        return;\n      } // It's possible that this scroll operation was triggered by what will be a\n      // `POP` transition. Instead of updating the saved location immediately, we\n      // have to enqueue the update, then potentially cancel it if we observe a\n      // location update.\n\n\n      if (!_this._saveWindowPositionHandle) {\n        _this._saveWindowPositionHandle = (0, _requestAnimationFrame[\"default\"])(_this._saveWindowPosition);\n      }\n\n      if (_this._windowScrollTarget) {\n        var _this$_windowScrollTa = _this._windowScrollTarget,\n            xTarget = _this$_windowScrollTa[0],\n            yTarget = _this$_windowScrollTa[1];\n        var x = (0, _scrollLeft[\"default\"])(window);\n        var y = (0, _scrollTop[\"default\"])(window);\n\n        if (x === xTarget && y === yTarget) {\n          _this._windowScrollTarget = null;\n\n          _this._cancelCheckWindowScroll();\n        }\n      }\n    };\n\n    this._saveWindowPosition = function () {\n      _this._saveWindowPositionHandle = null;\n\n      _this._savePosition(null, window);\n    };\n\n    this._checkWindowScrollPosition = function () {\n      _this._checkWindowScrollHandle = null; // We can only get here if scrollTarget is set. Every code path that unsets\n      // scroll target also cancels the handle to avoid calling this handler.\n      // Still, check anyway just in case.\n\n      /* istanbul ignore if: paranoid guard */\n\n      if (!_this._windowScrollTarget) {\n        return Promise.resolve();\n      }\n\n      _this.scrollToTarget(window, _this._windowScrollTarget);\n\n      ++_this._numWindowScrollAttempts;\n      /* istanbul ignore if: paranoid guard */\n\n      if (_this._numWindowScrollAttempts >= MAX_SCROLL_ATTEMPTS) {\n        // This might happen if the scroll position was already set to the target\n        _this._windowScrollTarget = null;\n        return Promise.resolve();\n      }\n\n      return new Promise(function (resolve) {\n        _this._checkWindowScrollHandle = (0, _requestAnimationFrame[\"default\"])(function () {\n          return resolve(_this._checkWindowScrollPosition());\n        });\n      });\n    };\n\n    this._stateStorage = stateStorage;\n    this._getCurrentLocation = getCurrentLocation;\n    this._shouldUpdateScroll = shouldUpdateScroll; // This helps avoid some jankiness in fighting against the browser's\n    // default scroll behavior on `POP` transitions.\n\n    /* istanbul ignore else: Travis browsers all support this */\n\n    if ('scrollRestoration' in window.history && // Unfortunately, Safari on iOS freezes for 2-6s after the user swipes to\n    // navigate through history with scrollRestoration being 'manual', so we\n    // need to detect this browser and exclude it from the following code\n    // until this bug is fixed by Apple.\n    !(0, _utils.isMobileSafari)()) {\n      this._oldScrollRestoration = window.history.scrollRestoration;\n\n      try {\n        window.history.scrollRestoration = 'manual'; // Scroll restoration persists across page reloads. We want to reset\n        // this to the original value, so that we can let the browser handle\n        // restoring the initial scroll position on server-rendered pages.\n\n        (0, _on[\"default\"])(window, 'beforeunload', this._restoreScrollRestoration);\n      } catch (e) {\n        this._oldScrollRestoration = null;\n      }\n    } else {\n      this._oldScrollRestoration = null;\n    }\n\n    this._saveWindowPositionHandle = null;\n    this._checkWindowScrollHandle = null;\n    this._windowScrollTarget = null;\n    this._numWindowScrollAttempts = 0;\n    this._ignoreScrollEvents = false;\n    this._scrollElements = {}; // We have to listen to each window scroll update rather than to just\n    // location updates, because some browsers will update scroll position\n    // before emitting the location change.\n\n    (0, _on[\"default\"])(window, 'scroll', this._onWindowScroll);\n    this._removeTransitionHook = addTransitionHook(function () {\n      _requestAnimationFrame[\"default\"].cancel(_this._saveWindowPositionHandle);\n\n      _this._saveWindowPositionHandle = null;\n      Object.keys(_this._scrollElements).forEach(function (key) {\n        var scrollElement = _this._scrollElements[key];\n\n        _requestAnimationFrame[\"default\"].cancel(scrollElement.savePositionHandle);\n\n        scrollElement.savePositionHandle = null; // It's fine to save element scroll positions here, though; the browser\n        // won't modify them.\n\n        if (!_this._ignoreScrollEvents) {\n          _this._saveElementPosition(key);\n        }\n      });\n    });\n  }\n\n  var _proto = ScrollBehavior.prototype;\n\n  _proto.registerElement = function registerElement(key, element, shouldUpdateScroll, context) {\n    var _this2 = this;\n\n    !!this._scrollElements[key] ? process.env.NODE_ENV !== \"production\" ? (0, _invariant[\"default\"])(false, 'ScrollBehavior: There is already an element registered for `%s`.', key) : invariant(false) : void 0;\n\n    var saveElementPosition = function saveElementPosition() {\n      _this2._saveElementPosition(key);\n    };\n\n    var scrollElement = {\n      element: element,\n      shouldUpdateScroll: shouldUpdateScroll,\n      savePositionHandle: null,\n      onScroll: function onScroll() {\n        if (!scrollElement.savePositionHandle && !_this2._ignoreScrollEvents) {\n          scrollElement.savePositionHandle = (0, _requestAnimationFrame[\"default\"])(saveElementPosition);\n        }\n      }\n    }; // In case no scrolling occurs, save the initial position\n\n    if (!scrollElement.savePositionHandle && !this._ignoreScrollEvents) {\n      scrollElement.savePositionHandle = (0, _requestAnimationFrame[\"default\"])(saveElementPosition);\n    }\n\n    this._scrollElements[key] = scrollElement;\n    (0, _on[\"default\"])(element, 'scroll', scrollElement.onScroll);\n\n    this._updateElementScroll(key, null, context);\n  };\n\n  _proto.unregisterElement = function unregisterElement(key) {\n    !this._scrollElements[key] ? process.env.NODE_ENV !== \"production\" ? (0, _invariant[\"default\"])(false, 'ScrollBehavior: There is no element registered for `%s`.', key) : invariant(false) : void 0;\n    var _this$_scrollElements = this._scrollElements[key],\n        element = _this$_scrollElements.element,\n        onScroll = _this$_scrollElements.onScroll,\n        savePositionHandle = _this$_scrollElements.savePositionHandle;\n    (0, _off[\"default\"])(element, 'scroll', onScroll);\n\n    _requestAnimationFrame[\"default\"].cancel(savePositionHandle);\n\n    delete this._scrollElements[key];\n  };\n\n  _proto.updateScroll = function updateScroll(prevContext, context) {\n    var _this3 = this;\n\n    this._updateWindowScroll(prevContext, context).then(function () {\n      // Save the position immediately after a transition so that if no\n      // scrolling occurs, there is still a saved position\n      if (!_this3._saveWindowPositionHandle) {\n        _this3._saveWindowPositionHandle = (0, _requestAnimationFrame[\"default\"])(_this3._saveWindowPosition);\n      }\n    });\n\n    Object.keys(this._scrollElements).forEach(function (key) {\n      _this3._updateElementScroll(key, prevContext, context);\n    });\n  };\n\n  _proto.stop = function stop() {\n    this._restoreScrollRestoration();\n\n    (0, _off[\"default\"])(window, 'scroll', this._onWindowScroll);\n\n    this._cancelCheckWindowScroll();\n\n    this._removeTransitionHook();\n  };\n\n  _proto.startIgnoringScrollEvents = function startIgnoringScrollEvents() {\n    this._ignoreScrollEvents = true;\n  };\n\n  _proto.stopIgnoringScrollEvents = function stopIgnoringScrollEvents() {\n    this._ignoreScrollEvents = false;\n  };\n\n  _proto._cancelCheckWindowScroll = function _cancelCheckWindowScroll() {\n    _requestAnimationFrame[\"default\"].cancel(this._checkWindowScrollHandle);\n\n    this._checkWindowScrollHandle = null;\n  };\n\n  _proto._saveElementPosition = function _saveElementPosition(key) {\n    var scrollElement = this._scrollElements[key];\n    scrollElement.savePositionHandle = null;\n\n    this._savePosition(key, scrollElement.element);\n  };\n\n  _proto._savePosition = function _savePosition(key, element) {\n    this._stateStorage.save(this._getCurrentLocation(), key, [(0, _scrollLeft[\"default\"])(element), (0, _scrollTop[\"default\"])(element)]);\n  };\n\n  _proto._updateWindowScroll = function _updateWindowScroll(prevContext, context) {\n    // Whatever we were doing before isn't relevant any more.\n    this._cancelCheckWindowScroll();\n\n    this._windowScrollTarget = this._getScrollTarget(null, this._shouldUpdateScroll, prevContext, context); // Updating the window scroll position is really flaky. Just trying to\n    // scroll it isn't enough. Instead, try to scroll a few times until it\n    // works.\n\n    this._numWindowScrollAttempts = 0;\n    return this._checkWindowScrollPosition();\n  };\n\n  _proto._updateElementScroll = function _updateElementScroll(key, prevContext, context) {\n    var _this$_scrollElements2 = this._scrollElements[key],\n        element = _this$_scrollElements2.element,\n        shouldUpdateScroll = _this$_scrollElements2.shouldUpdateScroll;\n\n    var scrollTarget = this._getScrollTarget(key, shouldUpdateScroll, prevContext, context);\n\n    if (!scrollTarget) {\n      return;\n    } // Unlike with the window, there shouldn't be any flakiness to deal with\n    // here.\n\n\n    this.scrollToTarget(element, scrollTarget);\n  };\n\n  _proto._getDefaultScrollTarget = function _getDefaultScrollTarget(location) {\n    var hash = location.hash;\n\n    if (hash && hash !== '#') {\n      return hash.charAt(0) === '#' ? hash.slice(1) : hash;\n    }\n\n    return [0, 0];\n  };\n\n  _proto._getScrollTarget = function _getScrollTarget(key, shouldUpdateScroll, prevContext, context) {\n    var scrollTarget = shouldUpdateScroll ? shouldUpdateScroll.call(this, prevContext, context) : true;\n\n    if (!scrollTarget || Array.isArray(scrollTarget) || typeof scrollTarget === 'string') {\n      return scrollTarget;\n    }\n\n    var location = this._getCurrentLocation();\n\n    return this._getSavedScrollTarget(key, location) || this._getDefaultScrollTarget(location);\n  };\n\n  _proto._getSavedScrollTarget = function _getSavedScrollTarget(key, location) {\n    if (location.action === 'PUSH') {\n      return null;\n    }\n\n    return this._stateStorage.read(location, key);\n  };\n\n  _proto.scrollToTarget = function scrollToTarget(element, target) {\n    if (typeof target === 'string') {\n      var targetElement = document.getElementById(target) || document.getElementsByName(target)[0];\n\n      if (targetElement) {\n        targetElement.scrollIntoView();\n        return;\n      } // Fallback to scrolling to top when target fragment doesn't exist.\n\n\n      target = [0, 0]; // eslint-disable-line no-param-reassign\n    }\n\n    var _target = target,\n        left = _target[0],\n        top = _target[1];\n    (0, _scrollLeft[\"default\"])(element, left);\n    (0, _scrollTop[\"default\"])(element, top);\n  };\n\n  return ScrollBehavior;\n}();\n\nexports[\"default\"] = ScrollBehavior;\nmodule.exports = exports.default;","module.exports = false;\n","import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.array.sort\";\nimport \"core-js/modules/es6.regexp.split\";\nimport invariant from \"invariant\"; ////////////////////////////////////////////////////////////////////////////////\n// startsWith(string, search) - Check if `string` starts with `search`\n\nvar startsWith = function startsWith(string, search) {\n  return string.substr(0, search.length) === search;\n}; ////////////////////////////////////////////////////////////////////////////////\n// pick(routes, uri)\n//\n// Ranks and picks the best route to match. Each segment gets the highest\n// amount of points, then the type of segment gets an additional amount of\n// points where\n//\n//     static > dynamic > splat > root\n//\n// This way we don't have to worry about the order of our routes, let the\n// computers do it.\n//\n// A route looks like this\n//\n//     { path, default, value }\n//\n// And a returned match looks like:\n//\n//     { route, params, uri }\n//\n// I know, I should use TypeScript not comments for these types.\n\n\nvar pick = function pick(routes, uri) {\n  var match = void 0;\n  var default_ = void 0;\n\n  var _uri$split = uri.split(\"?\"),\n      uriPathname = _uri$split[0];\n\n  var uriSegments = segmentize(uriPathname);\n  var isRootUri = uriSegments[0] === \"\";\n  var ranked = rankRoutes(routes);\n\n  for (var i = 0, l = ranked.length; i < l; i++) {\n    var missed = false;\n    var route = ranked[i].route;\n\n    if (route.default) {\n      default_ = {\n        route: route,\n        params: {},\n        uri: uri\n      };\n      continue;\n    }\n\n    var routeSegments = segmentize(route.path);\n    var params = {};\n    var max = Math.max(uriSegments.length, routeSegments.length);\n    var index = 0;\n\n    for (; index < max; index++) {\n      var routeSegment = routeSegments[index];\n      var uriSegment = uriSegments[index];\n\n      if (isSplat(routeSegment)) {\n        // Hit a splat, just grab the rest, and return a match\n        // uri:   /files/documents/work\n        // route: /files/*\n        var param = routeSegment.slice(1) || \"*\";\n        params[param] = uriSegments.slice(index).map(decodeURIComponent).join(\"/\");\n        break;\n      }\n\n      if (uriSegment === undefined) {\n        // URI is shorter than the route, no match\n        // uri:   /users\n        // route: /users/:userId\n        missed = true;\n        break;\n      }\n\n      var dynamicMatch = paramRe.exec(routeSegment);\n\n      if (dynamicMatch && !isRootUri) {\n        var matchIsNotReserved = reservedNames.indexOf(dynamicMatch[1]) === -1;\n        !matchIsNotReserved ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"<Router> dynamic segment \\\"\" + dynamicMatch[1] + \"\\\" is a reserved name. Please use a different name in path \\\"\" + route.path + \"\\\".\") : invariant(false) : void 0;\n        var value = decodeURIComponent(uriSegment);\n        params[dynamicMatch[1]] = value;\n      } else if (routeSegment !== uriSegment) {\n        // Current segments don't match, not dynamic, not splat, so no match\n        // uri:   /users/123/settings\n        // route: /users/:id/profile\n        missed = true;\n        break;\n      }\n    }\n\n    if (!missed) {\n      match = {\n        route: route,\n        params: params,\n        uri: \"/\" + uriSegments.slice(0, index).join(\"/\")\n      };\n      break;\n    }\n  }\n\n  return match || default_ || null;\n}; ////////////////////////////////////////////////////////////////////////////////\n// match(path, uri) - Matches just one path to a uri, also lol\n\n\nvar match = function match(path, uri) {\n  return pick([{\n    path: path\n  }], uri);\n}; ////////////////////////////////////////////////////////////////////////////////\n// resolve(to, basepath)\n//\n// Resolves URIs as though every path is a directory, no files.  Relative URIs\n// in the browser can feel awkward because not only can you be \"in a directory\"\n// you can be \"at a file\", too. For example\n//\n//     browserSpecResolve('foo', '/bar/') => /bar/foo\n//     browserSpecResolve('foo', '/bar') => /foo\n//\n// But on the command line of a file system, it's not as complicated, you can't\n// `cd` from a file, only directories.  This way, links have to know less about\n// their current path. To go deeper you can do this:\n//\n//     <Link to=\"deeper\"/>\n//     // instead of\n//     <Link to=`{${props.uri}/deeper}`/>\n//\n// Just like `cd`, if you want to go deeper from the command line, you do this:\n//\n//     cd deeper\n//     # not\n//     cd $(pwd)/deeper\n//\n// By treating every path as a directory, linking to relative paths should\n// require less contextual information and (fingers crossed) be more intuitive.\n\n\nvar resolve = function resolve(to, base) {\n  // /foo/bar, /baz/qux => /foo/bar\n  if (startsWith(to, \"/\")) {\n    return to;\n  }\n\n  var _to$split = to.split(\"?\"),\n      toPathname = _to$split[0],\n      toQuery = _to$split[1];\n\n  var _base$split = base.split(\"?\"),\n      basePathname = _base$split[0];\n\n  var toSegments = segmentize(toPathname);\n  var baseSegments = segmentize(basePathname); // ?a=b, /users?b=c => /users?a=b\n\n  if (toSegments[0] === \"\") {\n    return addQuery(basePathname, toQuery);\n  } // profile, /users/789 => /users/789/profile\n\n\n  if (!startsWith(toSegments[0], \".\")) {\n    var pathname = baseSegments.concat(toSegments).join(\"/\");\n    return addQuery((basePathname === \"/\" ? \"\" : \"/\") + pathname, toQuery);\n  } // ./         /users/123  =>  /users/123\n  // ../        /users/123  =>  /users\n  // ../..      /users/123  =>  /\n  // ../../one  /a/b/c/d    =>  /a/b/one\n  // .././one   /a/b/c/d    =>  /a/b/c/one\n\n\n  var allSegments = baseSegments.concat(toSegments);\n  var segments = [];\n\n  for (var i = 0, l = allSegments.length; i < l; i++) {\n    var segment = allSegments[i];\n    if (segment === \"..\") segments.pop();else if (segment !== \".\") segments.push(segment);\n  }\n\n  return addQuery(\"/\" + segments.join(\"/\"), toQuery);\n}; ////////////////////////////////////////////////////////////////////////////////\n// insertParams(path, params)\n\n\nvar insertParams = function insertParams(path, params) {\n  var segments = segmentize(path);\n  return \"/\" + segments.map(function (segment) {\n    var match = paramRe.exec(segment);\n    return match ? params[match[1]] : segment;\n  }).join(\"/\");\n};\n\nvar validateRedirect = function validateRedirect(from, to) {\n  var filter = function filter(segment) {\n    return isDynamic(segment);\n  };\n\n  var fromString = segmentize(from).filter(filter).sort().join(\"/\");\n  var toString = segmentize(to).filter(filter).sort().join(\"/\");\n  return fromString === toString;\n}; ////////////////////////////////////////////////////////////////////////////////\n// Junk\n\n\nvar paramRe = /^:(.+)/;\nvar SEGMENT_POINTS = 4;\nvar STATIC_POINTS = 3;\nvar DYNAMIC_POINTS = 2;\nvar SPLAT_PENALTY = 1;\nvar ROOT_POINTS = 1;\n\nvar isRootSegment = function isRootSegment(segment) {\n  return segment === \"\";\n};\n\nvar isDynamic = function isDynamic(segment) {\n  return paramRe.test(segment);\n};\n\nvar isSplat = function isSplat(segment) {\n  return segment && segment[0] === \"*\";\n};\n\nvar rankRoute = function rankRoute(route, index) {\n  var score = route.default ? 0 : segmentize(route.path).reduce(function (score, segment) {\n    score += SEGMENT_POINTS;\n    if (isRootSegment(segment)) score += ROOT_POINTS;else if (isDynamic(segment)) score += DYNAMIC_POINTS;else if (isSplat(segment)) score -= SEGMENT_POINTS + SPLAT_PENALTY;else score += STATIC_POINTS;\n    return score;\n  }, 0);\n  return {\n    route: route,\n    score: score,\n    index: index\n  };\n};\n\nvar rankRoutes = function rankRoutes(routes) {\n  return routes.map(rankRoute).sort(function (a, b) {\n    return a.score < b.score ? 1 : a.score > b.score ? -1 : a.index - b.index;\n  });\n};\n\nvar segmentize = function segmentize(uri) {\n  return uri // strip starting/ending slashes\n  .replace(/(^\\/+|\\/+$)/g, \"\").split(\"/\");\n};\n\nvar addQuery = function addQuery(pathname, query) {\n  return pathname + (query ? \"?\" + query : \"\");\n};\n\nvar reservedNames = [\"uri\", \"path\"];\n/**\n * Shallow compares two objects.\n * @param {Object} obj1 The first object to compare.\n * @param {Object} obj2 The second object to compare.\n */\n\nvar shallowCompare = function shallowCompare(obj1, obj2) {\n  var obj1Keys = Object.keys(obj1);\n  return obj1Keys.length === Object.keys(obj2).length && obj1Keys.every(function (key) {\n    return obj2.hasOwnProperty(key) && obj1[key] === obj2[key];\n  });\n}; ////////////////////////////////////////////////////////////////////////////////\n\n\nexport { startsWith, pick, match, resolve, insertParams, validateRedirect, shallowCompare };","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","module.exports = [{\n      plugin: require('../node_modules/gatsby-plugin-google-analytics/gatsby-browser.js'),\n      options: {\"plugins\":[],\"trackingId\":\"UA-162030789-1\",\"anonymize\":true,\"respectDNT\":true},\n    },{\n      plugin: require('../node_modules/@css-system/gatsby-plugin-css-system/gatsby-browser.js'),\n      options: {\"plugins\":[],\"defaultTheme\":\"light\",\"themes\":{\"light\":{\"breakpoints\":{\"s\":\"40em\",\"m\":\"52em\",\"l\":\"64em\"},\"space\":[0,4,8,16,32,64,128,256,512],\"sizes\":{\"button\":64},\"fontSizes\":[12,14,16,20,24,32,48,64,72],\"colors\":{\"pieces\":{\"st1\":\"#FECA57\",\"st2\":\"#48DBFB\",\"mt1\":\"#1DD1A1\",\"lt1\":\"#FF6B6B\",\"lt2\":\"#8557E0\",\"sq\":\"#FF9FF3\",\"rh\":\"#54A0FF\"},\"difficulties\":[\"#10ac84\",\"#2e86de\",\"#ee5253\"],\"background\":\"#fff\",\"galleryBackground\":\"#ecf0f1\",\"galleryText\":\"#000000CC\"}},\"dark\":{\"breakpoints\":{\"s\":\"40em\",\"m\":\"52em\",\"l\":\"64em\"},\"space\":[0,4,8,16,32,64,128,256,512],\"sizes\":{\"button\":64},\"fontSizes\":[12,14,16,20,24,32,48,64,72],\"colors\":{\"pieces\":{\"st1\":\"#CE9518\",\"st2\":\"#1CACCB\",\"mt1\":\"#0CA57C\",\"lt1\":\"#C33B3B\",\"lt2\":\"#5C2DB9\",\"sq\":\"#C95EBC\",\"rh\":\"#2E75CF\"},\"difficulties\":[\"#0b8767\",\"#1a6cbd\",\"#ce3737\"],\"background\":\"#232129\",\"galleryBackground\":\"#383838\",\"galleryText\":\"#FFFFFFCC\"}}}},\n    },{\n      plugin: require('../node_modules/gatsby-plugin-manifest/gatsby-browser.js'),\n      options: {\"plugins\":[],\"name\":\"Amstangram\",\"short_name\":\"Amstangram\",\"start_url\":\"/\",\"background_color\":\"#ffffff\",\"theme_color\":\"#1DD1A1\",\"display\":\"standalone\",\"icon\":\"src/icon-512x512.png\"},\n    },{\n      plugin: require('../node_modules/gatsby-plugin-offline/gatsby-browser.js'),\n      options: {\"plugins\":[]},\n    },{\n      plugin: require('../gatsby-browser.js'),\n      options: {\"plugins\":[]},\n    }]\n","'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n","/*!\n * domready (c) Dustin Diaz 2014 - License MIT\n * ie10 fix - Mikael Kristiansson 2019\n */\n!function (name, definition) {\n  if (typeof module != \"undefined\") module.exports = definition();else if (typeof define == \"function\" && typeof define.amd == \"object\") define(definition);else this[name] = definition();\n}(\"domready\", function () {\n  var ie10 = false;\n\n  if (navigator.appVersion.indexOf(\"MSIE 10\") !== -1) {\n    ie10 = true;\n  }\n\n  var fns = [],\n      _listener,\n      doc = typeof document === \"object\" && document,\n      hack = ie10 ? doc.documentElement.doScroll(\"left\") : doc.documentElement.doScroll,\n      domContentLoaded = \"DOMContentLoaded\",\n      loaded = doc && (hack ? /^loaded|^c/ : /^loaded|^i|^c/).test(doc.readyState);\n\n  if (!loaded && doc) doc.addEventListener(domContentLoaded, _listener = function listener() {\n    doc.removeEventListener(domContentLoaded, _listener);\n    loaded = 1;\n\n    while (_listener = fns.shift()) {\n      _listener();\n    }\n  });\n  return function (fn) {\n    loaded ? setTimeout(fn, 0) : fns.push(fn);\n  };\n});","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n'use strict';\n/* eslint-disable no-unused-vars */\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nrequire(\"core-js/modules/es6.array.iterator\");\n\nrequire(\"core-js/modules/es6.object.to-string\");\n\nrequire(\"core-js/modules/es6.object.keys\");\n\nrequire(\"core-js/modules/es6.regexp.split\");\n\nrequire(\"core-js/modules/es6.object.assign\");\n\nrequire(\"core-js/modules/es6.symbol\");\n\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n  if (val === null || val === undefined) {\n    throw new TypeError('Object.assign cannot be called with null or undefined');\n  }\n\n  return Object(val);\n}\n\nfunction shouldUseNative() {\n  try {\n    if (!Object.assign) {\n      return false;\n    } // Detect buggy property enumeration order in older V8 versions.\n    // https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\n\n    var test1 = new String('abc'); // eslint-disable-line no-new-wrappers\n\n    test1[5] = 'de';\n\n    if (Object.getOwnPropertyNames(test1)[0] === '5') {\n      return false;\n    } // https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\n\n    var test2 = {};\n\n    for (var i = 0; i < 10; i++) {\n      test2['_' + String.fromCharCode(i)] = i;\n    }\n\n    var order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n      return test2[n];\n    });\n\n    if (order2.join('') !== '0123456789') {\n      return false;\n    } // https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\n\n    var test3 = {};\n    'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n      test3[letter] = letter;\n    });\n\n    if (Object.keys(Object.assign({}, test3)).join('') !== 'abcdefghijklmnopqrst') {\n      return false;\n    }\n\n    return true;\n  } catch (err) {\n    // We don't expect any of the above to throw, but better to be safe.\n    return false;\n  }\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n  var from;\n  var to = toObject(target);\n  var symbols;\n\n  for (var s = 1; s < arguments.length; s++) {\n    from = Object(arguments[s]);\n\n    for (var key in from) {\n      if (hasOwnProperty.call(from, key)) {\n        to[key] = from[key];\n      }\n    }\n\n    if (getOwnPropertySymbols) {\n      symbols = getOwnPropertySymbols(from);\n\n      for (var i = 0; i < symbols.length; i++) {\n        if (propIsEnumerable.call(from, symbols[i])) {\n          to[symbols[i]] = from[symbols[i]];\n        }\n      }\n    }\n  }\n\n  return to;\n};","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","exports.f = require('./_wks');\n","import { apiRunner } from \"./api-runner-browser\"\n\nif (\n  window.location.protocol !== `https:` &&\n  window.location.hostname !== `localhost`\n) {\n  console.error(\n    `Service workers can only be used over HTTPS, or on localhost for development`\n  )\n} else if (`serviceWorker` in navigator) {\n  navigator.serviceWorker\n    .register(`${__BASE_PATH__}/sw.js`)\n    .then(function(reg) {\n      reg.addEventListener(`updatefound`, () => {\n        apiRunner(`onServiceWorkerUpdateFound`, { serviceWorker: reg })\n        // The updatefound event implies that reg.installing is set; see\n        // https://w3c.github.io/ServiceWorker/#service-worker-registration-updatefound-event\n        const installingWorker = reg.installing\n        console.log(`installingWorker`, installingWorker)\n        installingWorker.addEventListener(`statechange`, () => {\n          switch (installingWorker.state) {\n            case `installed`:\n              if (navigator.serviceWorker.controller) {\n                // At this point, the old content will have been purged and the fresh content will\n                // have been added to the cache.\n\n                // We set a flag so Gatsby Link knows to refresh the page on next navigation attempt\n                window.___swUpdated = true\n                // We call the onServiceWorkerUpdateReady API so users can show update prompts.\n                apiRunner(`onServiceWorkerUpdateReady`, { serviceWorker: reg })\n\n                // If resources failed for the current page, reload.\n                if (window.___failedResources) {\n                  console.log(`resources failed, SW updated - reloading`)\n                  window.location.reload()\n                }\n              } else {\n                // At this point, everything has been precached.\n                // It's the perfect time to display a \"Content is cached for offline use.\" message.\n                console.log(`Content is now available offline!`)\n\n                // Post to service worker that install is complete.\n                // Delay to allow time for the event listener to be added --\n                // otherwise fetch is called too soon and resources aren't cached.\n                apiRunner(`onServiceWorkerInstalled`, { serviceWorker: reg })\n              }\n              break\n\n            case `redundant`:\n              console.error(`The installing service worker became redundant.`)\n              apiRunner(`onServiceWorkerRedundant`, { serviceWorker: reg })\n              break\n\n            case `activated`:\n              apiRunner(`onServiceWorkerActive`, { serviceWorker: reg })\n              break\n          }\n        })\n      })\n    })\n    .catch(function(e) {\n      console.error(`Error during service worker registration:`, e)\n    })\n}\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\n'use strict';\nvar toObject = require('./_to-object');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nvar toLength = require('./_to-length');\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var aLen = arguments.length;\n  var index = toAbsoluteIndex(aLen > 1 ? arguments[1] : undefined, length);\n  var end = aLen > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","// 21.2.5.3 get RegExp.prototype.flags()\nif (require('./_descriptors') && /./g.flags != 'g') require('./_object-dp').f(RegExp.prototype, 'flags', {\n  configurable: true,\n  get: require('./_flags')\n});\n","'use strict';\n\nvar anObject = require('./_an-object');\nvar sameValue = require('./_same-value');\nvar regExpExec = require('./_regexp-exec-abstract');\n\n// @@search logic\nrequire('./_fix-re-wks')('search', 1, function (defined, SEARCH, $search, maybeCallNative) {\n  return [\n    // `String.prototype.search` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.search\n    function search(regexp) {\n      var O = defined(this);\n      var fn = regexp == undefined ? undefined : regexp[SEARCH];\n      return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[SEARCH](String(O));\n    },\n    // `RegExp.prototype[@@search]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@search\n    function (regexp) {\n      var res = maybeCallNative($search, regexp, this);\n      if (res.done) return res.value;\n      var rx = anObject(regexp);\n      var S = String(this);\n      var previousLastIndex = rx.lastIndex;\n      if (!sameValue(previousLastIndex, 0)) rx.lastIndex = 0;\n      var result = regExpExec(rx, S);\n      if (!sameValue(rx.lastIndex, previousLastIndex)) rx.lastIndex = previousLastIndex;\n      return result === null ? -1 : result.index;\n    }\n  ];\n});\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n","\"use strict\";\n\nexports.__esModule = true;\nexports.isMobileSafari = isMobileSafari;\n\nfunction isMobileSafari() {\n  return /iPad|iPhone|iPod/.test(window.navigator.platform) && /^((?!CriOS).)*Safari/.test(window.navigator.userAgent);\n}","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nrequire(\"core-js/modules/es6.function.name\");\n\nrequire(\"core-js/modules/es6.regexp.replace\");\n\nvar invariant = function invariant(condition, format, a, b, c, d, e, f) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n\n    if (format === undefined) {\n      error = new Error('Minified exception occurred; use the non-minified dev environment ' + 'for the full error message and additional helpful warnings.');\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(format.replace(/%s/g, function () {\n        return args[argIndex++];\n      }));\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n\n    throw error;\n  }\n};\n\nmodule.exports = invariant;","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","'use strict';\n\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar advanceStringIndex = require('./_advance-string-index');\nvar regExpExec = require('./_regexp-exec-abstract');\n\n// @@match logic\nrequire('./_fix-re-wks')('match', 1, function (defined, MATCH, $match, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = defined(this);\n      var fn = regexp == undefined ? undefined : regexp[MATCH];\n      return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@match\n    function (regexp) {\n      var res = maybeCallNative($match, regexp, this);\n      if (res.done) return res.value;\n      var rx = anObject(regexp);\n      var S = String(this);\n      if (!rx.global) return regExpExec(rx, S);\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar SET = 'Set';\n\n// 23.2 Set Objects\nmodule.exports = require('./_collection')(SET, function (get) {\n  return function Set() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.2.3.1 Set.prototype.add(value)\n  add: function add(value) {\n    return strong.def(validate(this, SET), value = value === 0 ? 0 : value, value);\n  }\n}, strong);\n","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nmodule.exports = _interopRequireDefault;","var DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar toIObject = require('./_to-iobject');\nvar isEnum = require('./_object-pie').f;\nmodule.exports = function (isEntries) {\n  return function (it) {\n    var O = toIObject(it);\n    var keys = getKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || isEnum.call(O, key)) {\n        result.push(isEntries ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n","var MATCH = require('./_wks')('match');\nmodule.exports = function (KEY) {\n  var re = /./;\n  try {\n    '/./'[KEY](re);\n  } catch (e) {\n    try {\n      re[MATCH] = false;\n      return !'/./'[KEY](re);\n    } catch (f) { /* empty */ }\n  } return true;\n};\n","'use strict';\n\nvar regexpFlags = require('./_flags');\n\nvar nativeExec = RegExp.prototype.exec;\n// This always refers to the native implementation, because the\n// String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n// which loads this file before patching the method.\nvar nativeReplace = String.prototype.replace;\n\nvar patchedExec = nativeExec;\n\nvar LAST_INDEX = 'lastIndex';\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/,\n      re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1[LAST_INDEX] !== 0 || re2[LAST_INDEX] !== 0;\n})();\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED;\n\nif (PATCH) {\n  patchedExec = function exec(str) {\n    var re = this;\n    var lastIndex, reCopy, match, i;\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + re.source + '$(?!\\\\s)', regexpFlags.call(re));\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re[LAST_INDEX];\n\n    match = nativeExec.call(re, str);\n\n    if (UPDATES_LAST_INDEX_WRONG && match) {\n      re[LAST_INDEX] = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      // eslint-disable-next-line no-loop-func\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","exports.f = {}.propertyIsEnumerable;\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport loader from \"./loader\"\nimport redirects from \"./redirects.json\"\nimport { apiRunner } from \"./api-runner-browser\"\nimport emitter from \"./emitter\"\nimport { navigate as reachNavigate } from \"@reach/router\"\nimport { parsePath } from \"gatsby-link\"\n\n// Convert to a map for faster lookup in maybeRedirect()\nconst redirectMap = redirects.reduce((map, redirect) => {\n  map[redirect.fromPath] = redirect\n  return map\n}, {})\n\nfunction maybeRedirect(pathname) {\n  const redirect = redirectMap[pathname]\n\n  if (redirect != null) {\n    if (process.env.NODE_ENV !== `production`) {\n      const pageResources = loader.loadPageSync(pathname)\n\n      if (pageResources != null) {\n        console.error(\n          `The route \"${pathname}\" matches both a page and a redirect; this is probably not intentional.`\n        )\n      }\n    }\n\n    window.___replace(redirect.toPath)\n    return true\n  } else {\n    return false\n  }\n}\n\nconst onPreRouteUpdate = (location, prevLocation) => {\n  if (!maybeRedirect(location.pathname)) {\n    apiRunner(`onPreRouteUpdate`, { location, prevLocation })\n  }\n}\n\nconst onRouteUpdate = (location, prevLocation) => {\n  if (!maybeRedirect(location.pathname)) {\n    apiRunner(`onRouteUpdate`, { location, prevLocation })\n    // Temp hack while awaiting https://github.com/reach/router/issues/119\n    window.__navigatingToLink = false\n  }\n}\n\nconst navigate = (to, options = {}) => {\n  // Temp hack while awaiting https://github.com/reach/router/issues/119\n  if (!options.replace) {\n    window.__navigatingToLink = true\n  }\n\n  let { pathname } = parsePath(to)\n  const redirect = redirectMap[pathname]\n\n  // If we're redirecting, just replace the passed in pathname\n  // to the one we want to redirect to.\n  if (redirect) {\n    to = redirect.toPath\n    pathname = parsePath(to).pathname\n  }\n\n  // If we had a service worker update, no matter the path, reload window and\n  // reset the pathname whitelist\n  if (window.___swUpdated) {\n    window.location = pathname\n    return\n  }\n\n  // Start a timer to wait for a second before transitioning and showing a\n  // loader in case resources aren't around yet.\n  const timeoutId = setTimeout(() => {\n    emitter.emit(`onDelayedLoadPageResources`, { pathname })\n    apiRunner(`onRouteUpdateDelayed`, {\n      location: window.location,\n    })\n  }, 1000)\n\n  loader.loadPage(pathname).then(pageResources => {\n    // If no page resources, then refresh the page\n    // Do this, rather than simply `window.location.reload()`, so that\n    // pressing the back/forward buttons work - otherwise when pressing\n    // back, the browser will just change the URL and expect JS to handle\n    // the change, which won't always work since it might not be a Gatsby\n    // page.\n    if (!pageResources || pageResources.status === `error`) {\n      window.history.replaceState({}, ``, location.href)\n      window.location = pathname\n    }\n    // If the loaded page has a different compilation hash to the\n    // window, then a rebuild has occurred on the server. Reload.\n    if (process.env.NODE_ENV === `production` && pageResources) {\n      if (\n        pageResources.page.webpackCompilationHash !==\n        window.___webpackCompilationHash\n      ) {\n        // Purge plugin-offline cache\n        if (\n          `serviceWorker` in navigator &&\n          navigator.serviceWorker.controller !== null &&\n          navigator.serviceWorker.controller.state === `activated`\n        ) {\n          navigator.serviceWorker.controller.postMessage({\n            gatsbyApi: `clearPathResources`,\n          })\n        }\n\n        console.log(`Site has changed on server. Reloading browser`)\n        window.location = pathname\n      }\n    }\n    reachNavigate(to, options)\n    clearTimeout(timeoutId)\n  })\n}\n\nfunction shouldUpdateScroll(prevRouterProps, { location }) {\n  const { pathname, hash } = location\n  const results = apiRunner(`shouldUpdateScroll`, {\n    prevRouterProps,\n    // `pathname` for backwards compatibility\n    pathname,\n    routerProps: { location },\n    getSavedScrollPosition: args => this._stateStorage.read(args),\n  })\n  if (results.length > 0) {\n    // Use the latest registered shouldUpdateScroll result, this allows users to override plugin's configuration\n    // @see https://github.com/gatsbyjs/gatsby/issues/12038\n    return results[results.length - 1]\n  }\n\n  if (prevRouterProps) {\n    const {\n      location: { pathname: oldPathname },\n    } = prevRouterProps\n    if (oldPathname === pathname) {\n      // Scroll to element if it exists, if it doesn't, or no hash is provided,\n      // scroll to top.\n      return hash ? decodeURI(hash.slice(1)) : [0, 0]\n    }\n  }\n  return true\n}\n\nfunction init() {\n  // Temp hack while awaiting https://github.com/reach/router/issues/119\n  window.__navigatingToLink = false\n\n  window.___push = to => navigate(to, { replace: false })\n  window.___replace = to => navigate(to, { replace: true })\n  window.___navigate = (to, options) => navigate(to, options)\n\n  // Check for initial page-load redirect\n  maybeRedirect(window.location.pathname)\n}\n\nclass RouteAnnouncer extends React.Component {\n  constructor(props) {\n    super(props)\n    this.announcementRef = React.createRef()\n  }\n\n  componentDidUpdate(prevProps, nextProps) {\n    requestAnimationFrame(() => {\n      let pageName = `new page at ${this.props.location.pathname}`\n      if (document.title) {\n        pageName = document.title\n      }\n      const pageHeadings = document\n        .getElementById(`gatsby-focus-wrapper`)\n        .getElementsByTagName(`h1`)\n      if (pageHeadings && pageHeadings.length) {\n        pageName = pageHeadings[0].textContent\n      }\n      const newAnnouncement = `Navigated to ${pageName}`\n      const oldAnnouncement = this.announcementRef.current.innerText\n      if (oldAnnouncement !== newAnnouncement) {\n        this.announcementRef.current.innerText = newAnnouncement\n      }\n    })\n  }\n\n  render() {\n    return (\n      <div\n        id=\"gatsby-announcer\"\n        style={{\n          position: `absolute`,\n          top: 0,\n          width: 1,\n          height: 1,\n          padding: 0,\n          overflow: `hidden`,\n          clip: `rect(0, 0, 0, 0)`,\n          whiteSpace: `nowrap`,\n          border: 0,\n        }}\n        aria-live=\"assertive\"\n        aria-atomic=\"true\"\n        ref={this.announcementRef}\n      ></div>\n    )\n  }\n}\n\n// Fire on(Pre)RouteUpdate APIs\nclass RouteUpdates extends React.Component {\n  constructor(props) {\n    super(props)\n    onPreRouteUpdate(props.location, null)\n  }\n\n  componentDidMount() {\n    onRouteUpdate(this.props.location, null)\n  }\n\n  componentDidUpdate(prevProps, prevState, shouldFireRouteUpdate) {\n    if (shouldFireRouteUpdate) {\n      onRouteUpdate(this.props.location, prevProps.location)\n    }\n  }\n\n  getSnapshotBeforeUpdate(prevProps) {\n    if (this.props.location.pathname !== prevProps.location.pathname) {\n      onPreRouteUpdate(this.props.location, prevProps.location)\n      return true\n    }\n\n    return false\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        {this.props.children}\n        <RouteAnnouncer location={location} />\n      </React.Fragment>\n    )\n  }\n}\n\nRouteUpdates.propTypes = {\n  location: PropTypes.object.isRequired,\n}\n\nexport { init, shouldUpdateScroll, RouteUpdates }\n","// Pulled from react-compat\n// https://github.com/developit/preact-compat/blob/7c5de00e7c85e2ffd011bf3af02899b63f699d3a/src/index.js#L349\nfunction shallowDiffers(a, b) {\n  for (var i in a) {\n    if (!(i in b)) return true;\n  }\n\n  for (var _i in b) {\n    if (a[_i] !== b[_i]) return true;\n  }\n\n  return false;\n}\n\nexport default (function (instance, nextProps, nextState) {\n  return shallowDiffers(instance.props, nextProps) || shallowDiffers(instance.state, nextState);\n});","import React from \"react\"\nimport loader from \"./loader\"\nimport shallowCompare from \"shallow-compare\"\n\nclass EnsureResources extends React.Component {\n  constructor(props) {\n    super()\n    const { location, pageResources } = props\n    this.state = {\n      location: { ...location },\n      pageResources: pageResources || loader.loadPageSync(location.pathname),\n    }\n  }\n\n  static getDerivedStateFromProps({ location }, prevState) {\n    if (prevState.location.href !== location.href) {\n      const pageResources = loader.loadPageSync(location.pathname)\n      return {\n        pageResources,\n        location: { ...location },\n      }\n    }\n\n    return {\n      location: { ...location },\n    }\n  }\n\n  loadResources(rawPath) {\n    loader.loadPage(rawPath).then(pageResources => {\n      if (pageResources && pageResources.status !== `error`) {\n        this.setState({\n          location: { ...window.location },\n          pageResources,\n        })\n      } else {\n        window.history.replaceState({}, ``, location.href)\n        window.location = rawPath\n      }\n    })\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    // Always return false if we're missing resources.\n    if (!nextState.pageResources) {\n      this.loadResources(nextProps.location.pathname)\n      return false\n    }\n\n    // Check if the component or json have changed.\n    if (this.state.pageResources !== nextState.pageResources) {\n      return true\n    }\n    if (\n      this.state.pageResources.component !== nextState.pageResources.component\n    ) {\n      return true\n    }\n\n    if (this.state.pageResources.json !== nextState.pageResources.json) {\n      return true\n    }\n    // Check if location has changed on a page using internal routing\n    // via matchPath configuration.\n    if (\n      this.state.location.key !== nextState.location.key &&\n      nextState.pageResources.page &&\n      (nextState.pageResources.page.matchPath ||\n        nextState.pageResources.page.path)\n    ) {\n      return true\n    }\n    return shallowCompare(this, nextProps, nextState)\n  }\n\n  render() {\n    return this.props.children(this.state)\n  }\n}\n\nexport default EnsureResources\n","import { apiRunner, apiRunnerAsync } from \"./api-runner-browser\"\nimport React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport { Router, navigate, Location, BaseContext } from \"@reach/router\"\nimport { ScrollContext } from \"gatsby-react-router-scroll\"\nimport domReady from \"@mikaelkristiansson/domready\"\nimport {\n  shouldUpdateScroll,\n  init as navigationInit,\n  RouteUpdates,\n} from \"./navigation\"\nimport emitter from \"./emitter\"\nimport PageRenderer from \"./page-renderer\"\nimport asyncRequires from \"./async-requires\"\nimport { setLoader, ProdLoader, publicLoader } from \"./loader\"\nimport EnsureResources from \"./ensure-resources\"\nimport stripPrefix from \"./strip-prefix\"\n\n// Generated during bootstrap\nimport matchPaths from \"./match-paths.json\"\n\nconst loader = new ProdLoader(asyncRequires, matchPaths)\nsetLoader(loader)\nloader.setApiRunner(apiRunner)\n\nwindow.asyncRequires = asyncRequires\nwindow.___emitter = emitter\nwindow.___loader = publicLoader\n\nnavigationInit()\n\napiRunnerAsync(`onClientEntry`).then(() => {\n  // Let plugins register a service worker. The plugin just needs\n  // to return true.\n  if (apiRunner(`registerServiceWorker`).length > 0) {\n    require(`./register-service-worker`)\n  }\n\n  // In gatsby v2 if Router is used in page using matchPaths\n  // paths need to contain full path.\n  // For example:\n  //   - page have `/app/*` matchPath\n  //   - inside template user needs to use `/app/xyz` as path\n  // Resetting `basepath`/`baseuri` keeps current behaviour\n  // to not introduce breaking change.\n  // Remove this in v3\n  const RouteHandler = props => (\n    <BaseContext.Provider\n      value={{\n        baseuri: `/`,\n        basepath: `/`,\n      }}\n    >\n      <PageRenderer {...props} />\n    </BaseContext.Provider>\n  )\n\n  class LocationHandler extends React.Component {\n    render() {\n      const { location } = this.props\n      return (\n        <EnsureResources location={location}>\n          {({ pageResources, location }) => (\n            <RouteUpdates location={location}>\n              <ScrollContext\n                location={location}\n                shouldUpdateScroll={shouldUpdateScroll}\n              >\n                <Router\n                  basepath={__BASE_PATH__}\n                  location={location}\n                  id=\"gatsby-focus-wrapper\"\n                >\n                  <RouteHandler\n                    path={\n                      pageResources.page.path === `/404.html`\n                        ? stripPrefix(location.pathname, __BASE_PATH__)\n                        : encodeURI(\n                            pageResources.page.matchPath ||\n                              pageResources.page.path\n                          )\n                    }\n                    {...this.props}\n                    location={location}\n                    pageResources={pageResources}\n                    {...pageResources.json}\n                  />\n                </Router>\n              </ScrollContext>\n            </RouteUpdates>\n          )}\n        </EnsureResources>\n      )\n    }\n  }\n\n  const { pagePath, location: browserLoc } = window\n\n  // Explicitly call navigate if the canonical path (window.pagePath)\n  // is different to the browser path (window.location.pathname). But\n  // only if NONE of the following conditions hold:\n  //\n  // - The url matches a client side route (page.matchPath)\n  // - it's a 404 page\n  // - it's the offline plugin shell (/offline-plugin-app-shell-fallback/)\n  if (\n    pagePath &&\n    __BASE_PATH__ + pagePath !== browserLoc.pathname &&\n    !(\n      loader.findMatchPath(stripPrefix(browserLoc.pathname, __BASE_PATH__)) ||\n      pagePath === `/404.html` ||\n      pagePath.match(/^\\/404\\/?$/) ||\n      pagePath.match(/^\\/offline-plugin-app-shell-fallback\\/?$/)\n    )\n  ) {\n    navigate(__BASE_PATH__ + pagePath + browserLoc.search + browserLoc.hash, {\n      replace: true,\n    })\n  }\n\n  publicLoader.loadPage(browserLoc.pathname).then(page => {\n    if (!page || page.status === `error`) {\n      throw new Error(\n        `page resources for ${browserLoc.pathname} not found. Not rendering React`\n      )\n    }\n\n    window.___webpackCompilationHash = page.page.webpackCompilationHash\n\n    const Root = () => (\n      <Location>\n        {locationContext => <LocationHandler {...locationContext} />}\n      </Location>\n    )\n\n    const WrappedRoot = apiRunner(\n      `wrapRootElement`,\n      { element: <Root /> },\n      <Root />,\n      ({ result }) => {\n        return { element: result }\n      }\n    ).pop()\n\n    const NewRoot = () => WrappedRoot\n\n    const renderer = apiRunner(\n      `replaceHydrateFunction`,\n      undefined,\n      ReactDOM.hydrate\n    )[0]\n\n    domReady(() => {\n      renderer(\n        <NewRoot />,\n        typeof window !== `undefined`\n          ? document.getElementById(`___gatsby`)\n          : void 0,\n        () => {\n          apiRunner(`onInitialClientRender`)\n        }\n      )\n    })\n  })\n})\n","'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar userAgent = require('./_user-agent');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8 || '';\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function')\n      && promise.then(empty) instanceof FakePromise\n      // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n      // we can't detect it synchronously, so just check versions\n      && v8.indexOf('6.6') !== 0\n      && userAgent.indexOf('Chrome/66') === -1;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // may throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        if (domain && !exited) domain.exit();\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  return promise._h !== 1 && (promise._a || promise._c).length === 0;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: '© 2019 Denis Pushkarev (zloirock.ru)'\n});\n","function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nmodule.exports = _inheritsLoose;","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\nmodule.exports = ReactPropTypesSecret;","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  withAssetPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n  parsePath,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\nimport loader from \"./loader\"\n\nconst prefetchPathname = loader.enqueue\n\nconst StaticQueryContext = React.createContext({})\n\nfunction StaticQueryDataRenderer({ staticQueryData, data, query, render }) {\n  const finalData = data\n    ? data.data\n    : staticQueryData[query] && staticQueryData[query].data\n\n  return (\n    <React.Fragment>\n      {finalData && render(finalData)}\n      {!finalData && <div>Loading (StaticQuery)</div>}\n    </React.Fragment>\n  )\n}\n\nconst StaticQuery = props => {\n  const { data, query, render, children } = props\n\n  return (\n    <StaticQueryContext.Consumer>\n      {staticQueryData => (\n        <StaticQueryDataRenderer\n          data={data}\n          query={query}\n          render={render || children}\n          staticQueryData={staticQueryData}\n        />\n      )}\n    </StaticQueryContext.Consumer>\n  )\n}\n\nconst useStaticQuery = query => {\n  if (\n    typeof React.useContext !== `function` &&\n    process.env.NODE_ENV === `development`\n  ) {\n    throw new Error(\n      `You're likely using a version of React that doesn't support Hooks\\n` +\n        `Please update React and ReactDOM to 16.8.0 or later to use the useStaticQuery hook.`\n    )\n  }\n  const context = React.useContext(StaticQueryContext)\n  if (context[query] && context[query].data) {\n    return context[query].data\n  } else {\n    throw new Error(\n      `The result of this StaticQuery could not be fetched.\\n\\n` +\n        `This is likely a bug in Gatsby and if refreshing the page does not fix it, ` +\n        `please open an issue in https://github.com/gatsbyjs/gatsby/issues`\n    )\n  }\n}\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withAssetPrefix,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n  useStaticQuery,\n  prefetchPathname,\n}\n","var global = require('./_global');\nvar core = require('./_core');\nvar hide = require('./_hide');\nvar redefine = require('./_redefine');\nvar ctx = require('./_ctx');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] || (global[name] = {}) : (global[name] || {})[PROTOTYPE];\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});\n  var key, own, out, exp;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    // export native or passed\n    out = (own ? target : source)[key];\n    // bind timers to global for call from export context\n    exp = IS_BIND && own ? ctx(out, global) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // extend global\n    if (target) redefine(target, key, out, type & $export.U);\n    // export\n    if (exports[key] != out) hide(exports, key, exp);\n    if (IS_PROTO && expProto[key] != out) expProto[key] = out;\n  }\n};\nglobal.core = core;\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n","var isObject = require('./_is-object');\nvar setPrototypeOf = require('./_set-proto').set;\nmodule.exports = function (that, target, C) {\n  var S = target.constructor;\n  var P;\n  if (S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf) {\n    setPrototypeOf(that, P);\n  } return that;\n};\n","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","'use strict';\n\nvar classof = require('./_classof');\nvar builtinExec = RegExp.prototype.exec;\n\n // `RegExpExec` abstract operation\n// https://tc39.github.io/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw new TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n  if (classof(R) !== 'RegExp') {\n    throw new TypeError('RegExp#exec called on incompatible receiver');\n  }\n  return builtinExec.call(R, S);\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","import React from \"react\"\n\nexport default React.createContext\n","import \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es6.object.to-string\";\nimport \"core-js/modules/es6.object.set-prototype-of\";\nimport \"core-js/modules/es6.object.assign\";\n\n/* eslint-disable */\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n/* eslint-disable jsx-a11y/anchor-has-content */\n\n\nimport React, { useContext } from \"react\";\nimport PropTypes from \"prop-types\";\nimport invariant from \"invariant\";\nimport createContext from \"create-react-context\";\nimport { polyfill } from \"react-lifecycles-compat\";\nimport { startsWith, pick, resolve, match, insertParams, validateRedirect, shallowCompare } from \"./lib/utils\";\nimport { globalHistory, navigate, createHistory, createMemorySource } from \"./lib/history\"; ////////////////////////////////////////////////////////////////////////////////\n\nvar createNamedContext = function createNamedContext(name, defaultValue) {\n  var Ctx = createContext(defaultValue);\n  Ctx.displayName = name;\n  return Ctx;\n}; ////////////////////////////////////////////////////////////////////////////////\n// Location Context/Provider\n\n\nvar LocationContext = createNamedContext(\"Location\"); // sets up a listener if there isn't one already so apps don't need to be\n// wrapped in some top level provider\n\nvar Location = function Location(_ref) {\n  var children = _ref.children;\n  return React.createElement(LocationContext.Consumer, null, function (context) {\n    return context ? children(context) : React.createElement(LocationProvider, null, children);\n  });\n};\n\nvar LocationProvider = function (_React$Component) {\n  _inherits(LocationProvider, _React$Component);\n\n  function LocationProvider() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, LocationProvider);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.state = {\n      context: _this.getContext(),\n      refs: {\n        unlisten: null\n      }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  LocationProvider.prototype.getContext = function getContext() {\n    var _props$history = this.props.history,\n        navigate = _props$history.navigate,\n        location = _props$history.location;\n    return {\n      navigate: navigate,\n      location: location\n    };\n  };\n\n  LocationProvider.prototype.componentDidCatch = function componentDidCatch(error, info) {\n    if (isRedirect(error)) {\n      var _navigate = this.props.history.navigate;\n\n      _navigate(error.uri, {\n        replace: true\n      });\n    } else {\n      throw error;\n    }\n  };\n\n  LocationProvider.prototype.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    if (prevState.context.location !== this.state.context.location) {\n      this.props.history._onTransitionComplete();\n    }\n  };\n\n  LocationProvider.prototype.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    var refs = this.state.refs,\n        history = this.props.history;\n\n    history._onTransitionComplete();\n\n    refs.unlisten = history.listen(function () {\n      Promise.resolve().then(function () {\n        // TODO: replace rAF with react deferred update API when it's ready https://github.com/facebook/react/issues/13306\n        requestAnimationFrame(function () {\n          if (!_this2.unmounted) {\n            _this2.setState(function () {\n              return {\n                context: _this2.getContext()\n              };\n            });\n          }\n        });\n      });\n    });\n  };\n\n  LocationProvider.prototype.componentWillUnmount = function componentWillUnmount() {\n    var refs = this.state.refs;\n    this.unmounted = true;\n    refs.unlisten();\n  };\n\n  LocationProvider.prototype.render = function render() {\n    var context = this.state.context,\n        children = this.props.children;\n    return React.createElement(LocationContext.Provider, {\n      value: context\n    }, typeof children === \"function\" ? children(context) : children || null);\n  };\n\n  return LocationProvider;\n}(React.Component); ////////////////////////////////////////////////////////////////////////////////\n\n\nLocationProvider.defaultProps = {\n  history: globalHistory\n};\nprocess.env.NODE_ENV !== \"production\" ? LocationProvider.propTypes = {\n  history: PropTypes.object.isRequired\n} : void 0;\n\nvar ServerLocation = function ServerLocation(_ref2) {\n  var url = _ref2.url,\n      children = _ref2.children;\n  var searchIndex = url.indexOf(\"?\");\n  var searchExists = searchIndex > -1;\n  var pathname = void 0;\n  var search = \"\";\n  var hash = \"\";\n\n  if (searchExists) {\n    pathname = url.substring(0, searchIndex);\n    search = url.substring(searchIndex);\n  } else {\n    pathname = url;\n  }\n\n  return React.createElement(LocationContext.Provider, {\n    value: {\n      location: {\n        pathname: pathname,\n        search: search,\n        hash: hash\n      },\n      navigate: function navigate() {\n        throw new Error(\"You can't call navigate on the server.\");\n      }\n    }\n  }, children);\n}; ////////////////////////////////////////////////////////////////////////////////\n// Sets baseuri and basepath for nested routers and links\n\n\nvar BaseContext = createNamedContext(\"Base\", {\n  baseuri: \"/\",\n  basepath: \"/\"\n}); ////////////////////////////////////////////////////////////////////////////////\n// The main event, welcome to the show everybody.\n\nvar Router = function Router(props) {\n  return React.createElement(BaseContext.Consumer, null, function (baseContext) {\n    return React.createElement(Location, null, function (locationContext) {\n      return React.createElement(RouterImpl, _extends({}, baseContext, locationContext, props));\n    });\n  });\n};\n\nvar RouterImpl = function (_React$PureComponent) {\n  _inherits(RouterImpl, _React$PureComponent);\n\n  function RouterImpl() {\n    _classCallCheck(this, RouterImpl);\n\n    return _possibleConstructorReturn(this, _React$PureComponent.apply(this, arguments));\n  }\n\n  RouterImpl.prototype.render = function render() {\n    var _props = this.props,\n        location = _props.location,\n        _navigate2 = _props.navigate,\n        basepath = _props.basepath,\n        primary = _props.primary,\n        children = _props.children,\n        baseuri = _props.baseuri,\n        _props$component = _props.component,\n        component = _props$component === undefined ? \"div\" : _props$component,\n        domProps = _objectWithoutProperties(_props, [\"location\", \"navigate\", \"basepath\", \"primary\", \"children\", \"baseuri\", \"component\"]);\n\n    var routes = React.Children.toArray(children).reduce(function (array, child) {\n      var routes = createRoute(basepath)(child);\n      return array.concat(routes);\n    }, []);\n    var pathname = location.pathname;\n    var match = pick(routes, pathname);\n\n    if (match) {\n      var params = match.params,\n          uri = match.uri,\n          route = match.route,\n          element = match.route.value; // remove the /* from the end for child routes relative paths\n\n      basepath = route.default ? basepath : route.path.replace(/\\*$/, \"\");\n\n      var props = _extends({}, params, {\n        uri: uri,\n        location: location,\n        navigate: function navigate(to, options) {\n          return _navigate2(resolve(to, uri), options);\n        }\n      });\n\n      var clone = React.cloneElement(element, props, element.props.children ? React.createElement(Router, {\n        location: location,\n        primary: primary\n      }, element.props.children) : undefined); // using 'div' for < 16.3 support\n\n      var FocusWrapper = primary ? FocusHandler : component; // don't pass any props to 'div'\n\n      var wrapperProps = primary ? _extends({\n        uri: uri,\n        location: location,\n        component: component\n      }, domProps) : domProps;\n      return React.createElement(BaseContext.Provider, {\n        value: {\n          baseuri: uri,\n          basepath: basepath\n        }\n      }, React.createElement(FocusWrapper, wrapperProps, clone));\n    } else {\n      // Not sure if we want this, would require index routes at every level\n      // warning(\n      //   false,\n      //   `<Router basepath=\"${basepath}\">\\n\\nNothing matched:\\n\\t${\n      //     location.pathname\n      //   }\\n\\nPaths checked: \\n\\t${routes\n      //     .map(route => route.path)\n      //     .join(\n      //       \"\\n\\t\"\n      //     )}\\n\\nTo get rid of this warning, add a default NotFound component as child of Router:\n      //   \\n\\tlet NotFound = () => <div>Not Found!</div>\n      //   \\n\\t<Router>\\n\\t  <NotFound default/>\\n\\t  {/* ... */}\\n\\t</Router>`\n      // );\n      return null;\n    }\n  };\n\n  return RouterImpl;\n}(React.PureComponent);\n\nRouterImpl.defaultProps = {\n  primary: true\n};\nvar FocusContext = createNamedContext(\"Focus\");\n\nvar FocusHandler = function FocusHandler(_ref3) {\n  var uri = _ref3.uri,\n      location = _ref3.location,\n      component = _ref3.component,\n      domProps = _objectWithoutProperties(_ref3, [\"uri\", \"location\", \"component\"]);\n\n  return React.createElement(FocusContext.Consumer, null, function (requestFocus) {\n    return React.createElement(FocusHandlerImpl, _extends({}, domProps, {\n      component: component,\n      requestFocus: requestFocus,\n      uri: uri,\n      location: location\n    }));\n  });\n}; // don't focus on initial render\n\n\nvar initialRender = true;\nvar focusHandlerCount = 0;\n\nvar FocusHandlerImpl = function (_React$Component2) {\n  _inherits(FocusHandlerImpl, _React$Component2);\n\n  function FocusHandlerImpl() {\n    var _temp2, _this4, _ret2;\n\n    _classCallCheck(this, FocusHandlerImpl);\n\n    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return _ret2 = (_temp2 = (_this4 = _possibleConstructorReturn(this, _React$Component2.call.apply(_React$Component2, [this].concat(args))), _this4), _this4.state = {}, _this4.requestFocus = function (node) {\n      if (!_this4.state.shouldFocus && node) {\n        node.focus();\n      }\n    }, _temp2), _possibleConstructorReturn(_this4, _ret2);\n  }\n\n  FocusHandlerImpl.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps, prevState) {\n    var initial = prevState.uri == null;\n\n    if (initial) {\n      return _extends({\n        shouldFocus: true\n      }, nextProps);\n    } else {\n      var myURIChanged = nextProps.uri !== prevState.uri;\n      var navigatedUpToMe = prevState.location.pathname !== nextProps.location.pathname && nextProps.location.pathname === nextProps.uri;\n      return _extends({\n        shouldFocus: myURIChanged || navigatedUpToMe\n      }, nextProps);\n    }\n  };\n\n  FocusHandlerImpl.prototype.componentDidMount = function componentDidMount() {\n    focusHandlerCount++;\n    this.focus();\n  };\n\n  FocusHandlerImpl.prototype.componentWillUnmount = function componentWillUnmount() {\n    focusHandlerCount--;\n\n    if (focusHandlerCount === 0) {\n      initialRender = true;\n    }\n  };\n\n  FocusHandlerImpl.prototype.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    if (prevProps.location !== this.props.location && this.state.shouldFocus) {\n      this.focus();\n    }\n  };\n\n  FocusHandlerImpl.prototype.focus = function focus() {\n    if (process.env.NODE_ENV === \"test\") {\n      // getting cannot read property focus of null in the tests\n      // and that bit of global `initialRender` state causes problems\n      // should probably figure it out!\n      return;\n    }\n\n    var requestFocus = this.props.requestFocus;\n\n    if (requestFocus) {\n      requestFocus(this.node);\n    } else {\n      if (initialRender) {\n        initialRender = false;\n      } else if (this.node) {\n        // React polyfills [autofocus] and it fires earlier than cDM,\n        // so we were stealing focus away, this line prevents that.\n        if (!this.node.contains(document.activeElement)) {\n          this.node.focus();\n        }\n      }\n    }\n  };\n\n  FocusHandlerImpl.prototype.render = function render() {\n    var _this5 = this;\n\n    var _props2 = this.props,\n        children = _props2.children,\n        style = _props2.style,\n        requestFocus = _props2.requestFocus,\n        _props2$component = _props2.component,\n        Comp = _props2$component === undefined ? \"div\" : _props2$component,\n        uri = _props2.uri,\n        location = _props2.location,\n        domProps = _objectWithoutProperties(_props2, [\"children\", \"style\", \"requestFocus\", \"component\", \"uri\", \"location\"]);\n\n    return React.createElement(Comp, _extends({\n      style: _extends({\n        outline: \"none\"\n      }, style),\n      tabIndex: \"-1\",\n      ref: function ref(n) {\n        return _this5.node = n;\n      }\n    }, domProps), React.createElement(FocusContext.Provider, {\n      value: this.requestFocus\n    }, this.props.children));\n  };\n\n  return FocusHandlerImpl;\n}(React.Component);\n\npolyfill(FocusHandlerImpl);\n\nvar k = function k() {}; ////////////////////////////////////////////////////////////////////////////////\n\n\nvar forwardRef = React.forwardRef;\n\nif (typeof forwardRef === \"undefined\") {\n  forwardRef = function forwardRef(C) {\n    return C;\n  };\n}\n\nvar Link = forwardRef(function (_ref4, ref) {\n  var innerRef = _ref4.innerRef,\n      props = _objectWithoutProperties(_ref4, [\"innerRef\"]);\n\n  return React.createElement(BaseContext.Consumer, null, function (_ref5) {\n    var basepath = _ref5.basepath,\n        baseuri = _ref5.baseuri;\n    return React.createElement(Location, null, function (_ref6) {\n      var location = _ref6.location,\n          navigate = _ref6.navigate;\n\n      var to = props.to,\n          state = props.state,\n          replace = props.replace,\n          _props$getProps = props.getProps,\n          getProps = _props$getProps === undefined ? k : _props$getProps,\n          anchorProps = _objectWithoutProperties(props, [\"to\", \"state\", \"replace\", \"getProps\"]);\n\n      var href = resolve(to, baseuri);\n      var encodedHref = encodeURI(href);\n      var isCurrent = location.pathname === encodedHref;\n      var isPartiallyCurrent = startsWith(location.pathname, encodedHref);\n      return React.createElement(\"a\", _extends({\n        ref: ref || innerRef,\n        \"aria-current\": isCurrent ? \"page\" : undefined\n      }, anchorProps, getProps({\n        isCurrent: isCurrent,\n        isPartiallyCurrent: isPartiallyCurrent,\n        href: href,\n        location: location\n      }), {\n        href: href,\n        onClick: function onClick(event) {\n          if (anchorProps.onClick) anchorProps.onClick(event);\n\n          if (shouldNavigate(event)) {\n            event.preventDefault();\n            var shouldReplace = replace;\n\n            if (typeof replace !== \"boolean\" && isCurrent) {\n              var _location$state = _extends({}, location.state),\n                  key = _location$state.key,\n                  restState = _objectWithoutProperties(_location$state, [\"key\"]);\n\n              shouldReplace = shallowCompare(_extends({}, state), restState);\n            }\n\n            navigate(href, {\n              state: state,\n              replace: shouldReplace\n            });\n          }\n        }\n      }));\n    });\n  });\n});\nLink.displayName = \"Link\";\nprocess.env.NODE_ENV !== \"production\" ? Link.propTypes = {\n  to: PropTypes.string.isRequired\n} : void 0; ////////////////////////////////////////////////////////////////////////////////\n\nfunction RedirectRequest(uri) {\n  this.uri = uri;\n}\n\nvar isRedirect = function isRedirect(o) {\n  return o instanceof RedirectRequest;\n};\n\nvar redirectTo = function redirectTo(to) {\n  throw new RedirectRequest(to);\n};\n\nvar RedirectImpl = function (_React$Component3) {\n  _inherits(RedirectImpl, _React$Component3);\n\n  function RedirectImpl() {\n    _classCallCheck(this, RedirectImpl);\n\n    return _possibleConstructorReturn(this, _React$Component3.apply(this, arguments));\n  } // Support React < 16 with this hook\n\n\n  RedirectImpl.prototype.componentDidMount = function componentDidMount() {\n    var _props3 = this.props,\n        navigate = _props3.navigate,\n        to = _props3.to,\n        from = _props3.from,\n        _props3$replace = _props3.replace,\n        replace = _props3$replace === undefined ? true : _props3$replace,\n        state = _props3.state,\n        noThrow = _props3.noThrow,\n        baseuri = _props3.baseuri,\n        props = _objectWithoutProperties(_props3, [\"navigate\", \"to\", \"from\", \"replace\", \"state\", \"noThrow\", \"baseuri\"]);\n\n    Promise.resolve().then(function () {\n      var resolvedTo = resolve(to, baseuri);\n      navigate(insertParams(resolvedTo, props), {\n        replace: replace,\n        state: state\n      });\n    });\n  };\n\n  RedirectImpl.prototype.render = function render() {\n    var _props4 = this.props,\n        navigate = _props4.navigate,\n        to = _props4.to,\n        from = _props4.from,\n        replace = _props4.replace,\n        state = _props4.state,\n        noThrow = _props4.noThrow,\n        baseuri = _props4.baseuri,\n        props = _objectWithoutProperties(_props4, [\"navigate\", \"to\", \"from\", \"replace\", \"state\", \"noThrow\", \"baseuri\"]);\n\n    var resolvedTo = resolve(to, baseuri);\n    if (!noThrow) redirectTo(insertParams(resolvedTo, props));\n    return null;\n  };\n\n  return RedirectImpl;\n}(React.Component);\n\nvar Redirect = function Redirect(props) {\n  return React.createElement(BaseContext.Consumer, null, function (_ref7) {\n    var baseuri = _ref7.baseuri;\n    return React.createElement(Location, null, function (locationContext) {\n      return React.createElement(RedirectImpl, _extends({}, locationContext, {\n        baseuri: baseuri\n      }, props));\n    });\n  });\n};\n\nprocess.env.NODE_ENV !== \"production\" ? Redirect.propTypes = {\n  from: PropTypes.string,\n  to: PropTypes.string.isRequired\n} : void 0; ////////////////////////////////////////////////////////////////////////////////\n\nvar Match = function Match(_ref8) {\n  var path = _ref8.path,\n      children = _ref8.children;\n  return React.createElement(BaseContext.Consumer, null, function (_ref9) {\n    var baseuri = _ref9.baseuri;\n    return React.createElement(Location, null, function (_ref10) {\n      var navigate = _ref10.navigate,\n          location = _ref10.location;\n      var resolvedPath = resolve(path, baseuri);\n      var result = match(resolvedPath, location.pathname);\n      return children({\n        navigate: navigate,\n        location: location,\n        match: result ? _extends({}, result.params, {\n          uri: result.uri,\n          path: path\n        }) : null\n      });\n    });\n  });\n}; ////////////////////////////////////////////////////////////////////////////////\n// Hooks\n\n\nvar useLocation = function useLocation() {\n  var context = useContext(LocationContext);\n\n  if (!context) {\n    throw new Error(\"useLocation hook was used but a LocationContext.Provider was not found in the parent tree. Make sure this is used in a component that is a child of Router\");\n  }\n\n  return context.location;\n};\n\nvar useNavigate = function useNavigate() {\n  var context = useContext(LocationContext);\n\n  if (!context) {\n    throw new Error(\"useNavigate hook was used but a LocationContext.Provider was not found in the parent tree. Make sure this is used in a component that is a child of Router\");\n  }\n\n  return context.navigate;\n};\n\nvar useParams = function useParams() {\n  var context = useContext(BaseContext);\n\n  if (!context) {\n    throw new Error(\"useParams hook was used but a LocationContext.Provider was not found in the parent tree. Make sure this is used in a component that is a child of Router\");\n  }\n\n  var location = useLocation();\n  var results = match(context.basepath, location.pathname);\n  return results ? results.params : null;\n};\n\nvar useMatch = function useMatch(path) {\n  if (!path) {\n    throw new Error(\"useMatch(path: string) requires an argument of a string to match against\");\n  }\n\n  var context = useContext(BaseContext);\n\n  if (!context) {\n    throw new Error(\"useMatch hook was used but a LocationContext.Provider was not found in the parent tree. Make sure this is used in a component that is a child of Router\");\n  }\n\n  var location = useLocation();\n  var resolvedPath = resolve(path, context.baseuri);\n  var result = match(resolvedPath, location.pathname);\n  return result ? _extends({}, result.params, {\n    uri: result.uri,\n    path: path\n  }) : null;\n}; ////////////////////////////////////////////////////////////////////////////////\n// Junk\n\n\nvar stripSlashes = function stripSlashes(str) {\n  return str.replace(/(^\\/+|\\/+$)/g, \"\");\n};\n\nvar createRoute = function createRoute(basepath) {\n  return function (element) {\n    if (!element) {\n      return null;\n    }\n\n    if (element.type === React.Fragment && element.props.children) {\n      return React.Children.map(element.props.children, createRoute(basepath));\n    }\n\n    !(element.props.path || element.props.default || element.type === Redirect) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"<Router>: Children of <Router> must have a `path` or `default` prop, or be a `<Redirect>`. None found on element type `\" + element.type + \"`\") : invariant(false) : void 0;\n    !!(element.type === Redirect && (!element.props.from || !element.props.to)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"<Redirect from=\\\"\" + element.props.from + \"\\\" to=\\\"\" + element.props.to + \"\\\"/> requires both \\\"from\\\" and \\\"to\\\" props when inside a <Router>.\") : invariant(false) : void 0;\n    !!(element.type === Redirect && !validateRedirect(element.props.from, element.props.to)) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"<Redirect from=\\\"\" + element.props.from + \" to=\\\"\" + element.props.to + \"\\\"/> has mismatched dynamic segments, ensure both paths have the exact same dynamic segments.\") : invariant(false) : void 0;\n\n    if (element.props.default) {\n      return {\n        value: element,\n        default: true\n      };\n    }\n\n    var elementPath = element.type === Redirect ? element.props.from : element.props.path;\n    var path = elementPath === \"/\" ? basepath : stripSlashes(basepath) + \"/\" + stripSlashes(elementPath);\n    return {\n      value: element,\n      default: element.props.default,\n      path: element.props.children ? stripSlashes(path) + \"/*\" : path\n    };\n  };\n};\n\nvar shouldNavigate = function shouldNavigate(event) {\n  return !event.defaultPrevented && event.button === 0 && !(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}; ////////////////////////////////////////////////////////////////////////\n\n\nexport {  Link, Location, LocationProvider, Match, Redirect, Router, ServerLocation, createHistory, createMemorySource, isRedirect, navigate, redirectTo, globalHistory, match as matchPath, useLocation, useNavigate, useParams, useMatch , BaseContext };","'use strict';\n// https://github.com/tc39/Array.prototype.includes\nvar $export = require('./_export');\nvar $includes = require('./_array-includes')(true);\n\n$export($export.P, 'Array', {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\nrequire('./_add-to-unscopables')('includes');\n","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","'use strict';\nvar redefineAll = require('./_redefine-all');\nvar getWeak = require('./_meta').getWeak;\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar createArrayMethod = require('./_array-methods');\nvar $has = require('./_has');\nvar validate = require('./_validate-collection');\nvar arrayFind = createArrayMethod(5);\nvar arrayFindIndex = createArrayMethod(6);\nvar id = 0;\n\n// fallback for uncaught frozen keys\nvar uncaughtFrozenStore = function (that) {\n  return that._l || (that._l = new UncaughtFrozenStore());\n};\nvar UncaughtFrozenStore = function () {\n  this.a = [];\n};\nvar findUncaughtFrozen = function (store, key) {\n  return arrayFind(store.a, function (it) {\n    return it[0] === key;\n  });\n};\nUncaughtFrozenStore.prototype = {\n  get: function (key) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) return entry[1];\n  },\n  has: function (key) {\n    return !!findUncaughtFrozen(this, key);\n  },\n  set: function (key, value) {\n    var entry = findUncaughtFrozen(this, key);\n    if (entry) entry[1] = value;\n    else this.a.push([key, value]);\n  },\n  'delete': function (key) {\n    var index = arrayFindIndex(this.a, function (it) {\n      return it[0] === key;\n    });\n    if (~index) this.a.splice(index, 1);\n    return !!~index;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;      // collection type\n      that._i = id++;      // collection id\n      that._l = undefined; // leak store for uncaught frozen objects\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.3.3.2 WeakMap.prototype.delete(key)\n      // 23.4.3.3 WeakSet.prototype.delete(value)\n      'delete': function (key) {\n        if (!isObject(key)) return false;\n        var data = getWeak(key);\n        if (data === true) return uncaughtFrozenStore(validate(this, NAME))['delete'](key);\n        return data && $has(data, this._i) && delete data[this._i];\n      },\n      // 23.3.3.4 WeakMap.prototype.has(key)\n      // 23.4.3.4 WeakSet.prototype.has(value)\n      has: function has(key) {\n        if (!isObject(key)) return false;\n        var data = getWeak(key);\n        if (data === true) return uncaughtFrozenStore(validate(this, NAME)).has(key);\n        return data && $has(data, this._i);\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var data = getWeak(anObject(key), true);\n    if (data === true) uncaughtFrozenStore(that).set(key, value);\n    else data[that._i] = value;\n    return that;\n  },\n  ufstore: uncaughtFrozenStore\n};\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = scrollTop;\n\nvar _isWindow = _interopRequireDefault(require(\"./isWindow\"));\n\nfunction scrollTop(node, val) {\n  var win = (0, _isWindow.default)(node);\n  if (val === undefined) return win ? 'pageYOffset' in win ? win.pageYOffset : win.document.documentElement.scrollTop : node.scrollTop;\n  if (win) win.scrollTo('pageXOffset' in win ? win.pageXOffset : win.document.documentElement.scrollLeft, val);else node.scrollTop = val;\n}\n\nmodule.exports = exports[\"default\"];","'use strict';\nrequire('./es6.regexp.flags');\nvar anObject = require('./_an-object');\nvar $flags = require('./_flags');\nvar DESCRIPTORS = require('./_descriptors');\nvar TO_STRING = 'toString';\nvar $toString = /./[TO_STRING];\n\nvar define = function (fn) {\n  require('./_redefine')(RegExp.prototype, TO_STRING, fn, true);\n};\n\n// 21.2.5.14 RegExp.prototype.toString()\nif (require('./_fails')(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) {\n  define(function toString() {\n    var R = anObject(this);\n    return '/'.concat(R.source, '/',\n      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);\n  });\n// FF44- RegExp#toString has a wrong name\n} else if ($toString.name != TO_STRING) {\n  define(function toString() {\n    return $toString.call(this);\n  });\n}\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","// 22.1.3.6 Array.prototype.fill(value, start = 0, end = this.length)\nvar $export = require('./_export');\n\n$export($export.P, 'Array', { fill: require('./_array-fill') });\n\nrequire('./_add-to-unscopables')('fill');\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _inDOM = _interopRequireDefault(require(\"../util/inDOM\"));\n\nvar off = function off() {};\n\nif (_inDOM.default) {\n  off = function () {\n    if (document.addEventListener) return function (node, eventName, handler, capture) {\n      return node.removeEventListener(eventName, handler, capture || false);\n    };else if (document.attachEvent) return function (node, eventName, handler) {\n      return node.detachEvent('on' + eventName, handler);\n    };\n  }();\n}\n\nvar _default = off;\nexports.default = _default;\nmodule.exports = exports[\"default\"];","/**\n * Remove a prefix from a string. Return the input string if the given prefix\n * isn't found.\n */\n\nexport default (str, prefix = ``) => {\n  if (!prefix) {\n    return str\n  }\n\n  prefix += `/`\n\n  if (str.substr(0, prefix.length) === prefix) {\n    return str.slice(prefix.length - 1)\n  }\n\n  return str\n}\n","\"use strict\";\n\nexports.__esModule = true;\nexports.parsePath = parsePath;\n\nfunction parsePath(path) {\n  var pathname = path || \"/\";\n  var search = \"\";\n  var hash = \"\";\n  var hashIndex = pathname.indexOf(\"#\");\n\n  if (hashIndex !== -1) {\n    hash = pathname.substr(hashIndex);\n    pathname = pathname.substr(0, hashIndex);\n  }\n\n  var searchIndex = pathname.indexOf(\"?\");\n\n  if (searchIndex !== -1) {\n    search = pathname.substr(searchIndex);\n    pathname = pathname.substr(0, searchIndex);\n  }\n\n  return {\n    pathname: pathname,\n    search: search === \"?\" ? \"\" : search,\n    hash: hash === \"#\" ? \"\" : hash\n  };\n}","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || isEnum.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","'use strict';\n// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(5);\nvar KEY = 'find';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","const React = require(\"react\");\nconst { ThemeContext } = require(\"css-system\");\nconst { SwitchThemeProvider } = require(\"./index.js\");\n\nexports.wrapRootElement = ({ element }, pluginOptions = {}) => {\n  if (pluginOptions.theme) {\n    return (\n      <ThemeContext.Provider value={pluginOptions.theme}>\n        {element}\n      </ThemeContext.Provider>\n    );\n  }\n\n  if (pluginOptions.themes) {\n    return (\n      <SwitchThemeProvider\n        themes={pluginOptions.themes}\n        defaultTheme={pluginOptions.defaultTheme}\n      >\n        {element}\n      </SwitchThemeProvider>\n    );\n  }\n\n  return element;\n};\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","\"use strict\";\n\nexports.registerServiceWorker = function () {\n  return true;\n}; // only cache relevant resources for this page\n\n\nvar whiteListLinkRels = /^(stylesheet|preload)$/;\nvar prefetchedPathnames = [];\n\nexports.onServiceWorkerActive = function (_ref) {\n  var getResourceURLsForPathname = _ref.getResourceURLsForPathname,\n      serviceWorker = _ref.serviceWorker;\n\n  // if the SW has just updated then clear the path dependencies and don't cache\n  // stuff, since we're on the old revision until we navigate to another page\n  if (window.___swUpdated) {\n    serviceWorker.active.postMessage({\n      gatsbyApi: \"clearPathResources\"\n    });\n    return;\n  } // grab nodes from head of document\n\n\n  var nodes = document.querySelectorAll(\"\\n    head > script[src],\\n    head > link[href],\\n    head > style[data-href]\\n  \"); // get all resource URLs\n\n  var headerResources = [].slice.call(nodes) // don't include preconnect/prefetch/prerender resources\n  .filter(function (node) {\n    return node.tagName !== \"LINK\" || whiteListLinkRels.test(node.getAttribute(\"rel\"));\n  }).map(function (node) {\n    return node.src || node.href || node.getAttribute(\"data-href\");\n  }); // Loop over prefetched pages and add their resources to an array,\n  // plus specify which resources are required for those paths.\n\n  var prefetchedResources = [];\n  prefetchedPathnames.forEach(function (path) {\n    var resources = getResourceURLsForPathname(path);\n    prefetchedResources.push.apply(prefetchedResources, resources);\n    serviceWorker.active.postMessage({\n      gatsbyApi: \"setPathResources\",\n      path: path,\n      resources: resources\n    });\n  }); // Loop over all resources and fetch the page component + JSON data\n  // to add it to the SW cache.\n\n  var resources = [].concat(headerResources, prefetchedResources);\n  resources.forEach(function (resource) {\n    // Create a prefetch link for each resource, so Workbox runtime-caches them\n    var link = document.createElement(\"link\");\n    link.rel = \"prefetch\";\n    link.href = resource;\n    link.onload = link.remove;\n    link.onerror = link.remove;\n    document.head.appendChild(link);\n  });\n};\n\nfunction setPathResources(path, getResourceURLsForPathname) {\n  // do nothing if the SW has just updated, since we still have old pages in\n  // memory which we don't want to be whitelisted\n  if (window.___swUpdated) return;\n\n  if (\"serviceWorker\" in navigator) {\n    var _navigator = navigator,\n        serviceWorker = _navigator.serviceWorker;\n\n    if (serviceWorker.controller === null) {\n      // if SW is not installed, we need to record any prefetches\n      // that happen so we can then add them to SW cache once installed\n      prefetchedPathnames.push(path);\n    } else {\n      var resources = getResourceURLsForPathname(path);\n      serviceWorker.controller.postMessage({\n        gatsbyApi: \"setPathResources\",\n        path: path,\n        resources: resources\n      });\n    }\n  }\n}\n\nexports.onRouteUpdate = function (_ref2) {\n  var location = _ref2.location,\n      getResourceURLsForPathname = _ref2.getResourceURLsForPathname;\n  var pathname = location.pathname.replace(__BASE_PATH__, \"\");\n  setPathResources(pathname, getResourceURLsForPathname);\n\n  if (\"serviceWorker\" in navigator && navigator.serviceWorker.controller !== null) {\n    navigator.serviceWorker.controller.postMessage({\n      gatsbyApi: \"enableOfflineShell\"\n    });\n  }\n};\n\nexports.onPostPrefetchPathname = function (_ref3) {\n  var pathname = _ref3.pathname,\n      getResourceURLsForPathname = _ref3.getResourceURLsForPathname;\n  setPathResources(pathname, getResourceURLsForPathname);\n};","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","'use strict';\nvar global = require('./_global');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n","const support = function(feature) {\n  if (typeof document === `undefined`) {\n    return false\n  }\n  const fakeLink = document.createElement(`link`)\n  try {\n    if (fakeLink.relList && typeof fakeLink.relList.supports === `function`) {\n      return fakeLink.relList.supports(feature)\n    }\n  } catch (err) {\n    return false\n  }\n  return false\n}\n\nconst linkPrefetchStrategy = function(url, options) {\n  return new Promise((resolve, reject) => {\n    if (typeof document === `undefined`) {\n      reject()\n      return\n    }\n\n    const link = document.createElement(`link`)\n    link.setAttribute(`rel`, `prefetch`)\n    link.setAttribute(`href`, url)\n\n    Object.keys(options).forEach(key => {\n      link.setAttribute(key, options[key])\n    })\n\n    link.onload = resolve\n    link.onerror = reject\n\n    const parentElement =\n      document.getElementsByTagName(`head`)[0] ||\n      document.getElementsByName(`script`)[0].parentNode\n    parentElement.appendChild(link)\n  })\n}\n\nconst xhrPrefetchStrategy = function(url) {\n  return new Promise((resolve, reject) => {\n    const req = new XMLHttpRequest()\n    req.open(`GET`, url, true)\n\n    req.onload = () => {\n      if (req.status === 200) {\n        resolve()\n      } else {\n        reject()\n      }\n    }\n\n    req.send(null)\n  })\n}\n\nconst supportedPrefetchStrategy = support(`prefetch`)\n  ? linkPrefetchStrategy\n  : xhrPrefetchStrategy\n\nconst preFetched = {}\n\nconst prefetch = function(url, options) {\n  return new Promise(resolve => {\n    if (preFetched[url]) {\n      resolve()\n      return\n    }\n\n    supportedPrefetchStrategy(url, options)\n      .then(() => {\n        resolve()\n        preFetched[url] = true\n      })\n      .catch(() => {}) // 404s are logged to the console anyway\n  })\n}\n\nexport default prefetch\n","export default path => {\n  if (path === undefined) {\n    return path\n  }\n  if (path === `/`) {\n    return `/`\n  }\n  if (path.charAt(path.length - 1) === `/`) {\n    return path.slice(0, -1)\n  }\n  return path\n}\n","import { match } from \"@reach/router/lib/utils\"\nimport stripPrefix from \"./strip-prefix\"\nimport normalizePagePath from \"./normalize-page-path\"\n\nconst pathCache = new Map()\nlet matchPaths = []\n\nconst trimPathname = rawPathname => {\n  const pathname = decodeURIComponent(rawPathname)\n  // Remove the pathPrefix from the pathname.\n  const trimmedPathname = stripPrefix(pathname, __BASE_PATH__)\n    // Remove any hashfragment\n    .split(`#`)[0]\n    // Remove search query\n    .split(`?`)[0]\n\n  return trimmedPathname\n}\n\n/**\n * Set list of matchPaths\n *\n * @param {Array<{path: string, matchPath: string}>} value collection of matchPaths\n */\nexport const setMatchPaths = value => {\n  matchPaths = value\n}\n\n/**\n * Return a matchpath url\n * if `match-paths.json` contains `{ \"/foo*\": \"/page1\", ...}`, then\n * `/foo?bar=far` => `/page1`\n *\n * @param {string} rawPathname A raw pathname\n * @return {string|null}\n */\nexport const findMatchPath = rawPathname => {\n  const trimmedPathname = cleanPath(rawPathname)\n\n  for (const { matchPath, path } of matchPaths) {\n    if (match(matchPath, trimmedPathname)) {\n      return normalizePagePath(path)\n    }\n  }\n\n  return null\n}\n\n// Given a raw URL path, returns the cleaned version of it (trim off\n// `#` and query params), or if it matches an entry in\n// `match-paths.json`, its matched path is returned\n//\n// E.g. `/foo?bar=far` => `/foo`\n//\n// Or if `match-paths.json` contains `{ \"/foo*\": \"/page1\", ...}`, then\n// `/foo?bar=far` => `/page1`\nexport const findPath = rawPathname => {\n  const trimmedPathname = trimPathname(rawPathname)\n\n  if (pathCache.has(trimmedPathname)) {\n    return pathCache.get(trimmedPathname)\n  }\n\n  let foundPath = findMatchPath(trimmedPathname)\n\n  if (!foundPath) {\n    foundPath = cleanPath(rawPathname)\n  }\n\n  pathCache.set(trimmedPathname, foundPath)\n\n  return foundPath\n}\n\n/**\n * Clean a url and converts /index.html => /\n * E.g. `/foo?bar=far` => `/foo`\n *\n * @param {string} rawPathname A raw pathname\n * @return {string}\n */\nexport const cleanPath = rawPathname => {\n  const trimmedPathname = trimPathname(rawPathname)\n\n  let foundPath = trimmedPathname\n  if (foundPath === `/index.html`) {\n    foundPath = `/`\n  }\n\n  foundPath = normalizePagePath(foundPath)\n\n  return foundPath\n}\n","import prefetchHelper from \"./prefetch\"\nimport emitter from \"./emitter\"\nimport { setMatchPaths, findPath, findMatchPath } from \"./find-path\"\n\nconst preferDefault = m => (m && m.default) || m\n\nconst stripSurroundingSlashes = s => {\n  s = s[0] === `/` ? s.slice(1) : s\n  s = s.endsWith(`/`) ? s.slice(0, -1) : s\n  return s\n}\n\nconst createPageDataUrl = path => {\n  const fixedPath = path === `/` ? `index` : stripSurroundingSlashes(path)\n  return `${__PATH_PREFIX__}/page-data/${fixedPath}/page-data.json`\n}\n\nconst doFetch = (url, method = `GET`) =>\n  new Promise((resolve, reject) => {\n    const req = new XMLHttpRequest()\n    req.open(method, url, true)\n    req.onreadystatechange = () => {\n      if (req.readyState == 4) {\n        resolve(req)\n      }\n    }\n    req.send(null)\n  })\n\nconst loadPageDataJson = loadObj => {\n  const { pagePath, retries = 0 } = loadObj\n  const url = createPageDataUrl(pagePath)\n  return doFetch(url).then(req => {\n    const { status, responseText } = req\n\n    // Handle 200\n    if (status === 200) {\n      try {\n        const jsonPayload = JSON.parse(responseText)\n        if (jsonPayload.path === undefined) {\n          throw new Error(`not a valid pageData response`)\n        }\n\n        return Object.assign(loadObj, {\n          status: `success`,\n          payload: jsonPayload,\n        })\n      } catch (err) {\n        // continue regardless of error\n      }\n    }\n\n    // Handle 404\n    if (status === 404 || status === 200) {\n      // If the request was for a 404 page and it doesn't exist, we're done\n      if (pagePath === `/404.html`) {\n        return Object.assign(loadObj, {\n          status: `failure`,\n        })\n      }\n\n      // Need some code here to cache the 404 request. In case\n      // multiple loadPageDataJsons result in 404s\n      return loadPageDataJson(\n        Object.assign(loadObj, { pagePath: `/404.html`, notFound: true })\n      )\n    }\n\n    // handle 500 response (Unrecoverable)\n    if (status === 500) {\n      return Object.assign(loadObj, {\n        status: `error`,\n      })\n    }\n\n    // Handle everything else, including status === 0, and 503s. Should retry\n    if (retries < 3) {\n      return loadPageDataJson(Object.assign(loadObj, { retries: retries + 1 }))\n    }\n\n    // Retried 3 times already, result is a failure.\n    return Object.assign(loadObj, {\n      status: `error`,\n    })\n  })\n}\n\nconst doesConnectionSupportPrefetch = () => {\n  if (\n    `connection` in navigator &&\n    typeof navigator.connection !== `undefined`\n  ) {\n    if ((navigator.connection.effectiveType || ``).includes(`2g`)) {\n      return false\n    }\n    if (navigator.connection.saveData) {\n      return false\n    }\n  }\n  return true\n}\n\nconst toPageResources = (pageData, component = null) => {\n  const page = {\n    componentChunkName: pageData.componentChunkName,\n    path: pageData.path,\n    webpackCompilationHash: pageData.webpackCompilationHash,\n    matchPath: pageData.matchPath,\n  }\n\n  return {\n    component,\n    json: pageData.result,\n    page,\n  }\n}\n\nexport class BaseLoader {\n  constructor(loadComponent, matchPaths) {\n    // Map of pagePath -> Page. Where Page is an object with: {\n    //   status: `success` || `error`,\n    //   payload: PageResources, // undefined if `error`\n    // }\n    // PageResources is {\n    //   component,\n    //   json: pageData.result,\n    //   page: {\n    //     componentChunkName,\n    //     path,\n    //     webpackCompilationHash,\n    //   }\n    // }\n    this.pageDb = new Map()\n    this.inFlightDb = new Map()\n    this.pageDataDb = new Map()\n    this.prefetchTriggered = new Set()\n    this.prefetchCompleted = new Set()\n    this.loadComponent = loadComponent\n    setMatchPaths(matchPaths)\n  }\n\n  setApiRunner(apiRunner) {\n    this.apiRunner = apiRunner\n    this.prefetchDisabled = apiRunner(`disableCorePrefetching`).some(a => a)\n  }\n\n  loadPageDataJson(rawPath) {\n    const pagePath = findPath(rawPath)\n    if (this.pageDataDb.has(pagePath)) {\n      return Promise.resolve(this.pageDataDb.get(pagePath))\n    }\n\n    return loadPageDataJson({ pagePath }).then(pageData => {\n      this.pageDataDb.set(pagePath, pageData)\n\n      return pageData\n    })\n  }\n\n  findMatchPath(rawPath) {\n    return findMatchPath(rawPath)\n  }\n\n  // TODO check all uses of this and whether they use undefined for page resources not exist\n  loadPage(rawPath) {\n    const pagePath = findPath(rawPath)\n    if (this.pageDb.has(pagePath)) {\n      const page = this.pageDb.get(pagePath)\n      return Promise.resolve(page.payload)\n    }\n    if (this.inFlightDb.has(pagePath)) {\n      return this.inFlightDb.get(pagePath)\n    }\n\n    const inFlight = Promise.all([\n      this.loadAppData(),\n      this.loadPageDataJson(pagePath),\n    ])\n      .then(allData => {\n        const result = allData[1]\n        if (result.status === `error`) {\n          return {\n            status: `error`,\n          }\n        }\n        if (result.status === `failure`) {\n          // throw an error so error trackers can pick this up\n          throw new Error(\n            `404 page could not be found. Checkout https://www.gatsbyjs.org/docs/add-404-page/`\n          )\n        }\n\n        let pageData = result.payload\n        const { componentChunkName } = pageData\n        return this.loadComponent(componentChunkName).then(component => {\n          const finalResult = { createdAt: new Date() }\n          let pageResources\n          if (!component) {\n            finalResult.status = `error`\n          } else {\n            finalResult.status = `success`\n            if (result.notFound === true) {\n              finalResult.notFound = true\n            }\n            pageData = Object.assign(pageData, {\n              webpackCompilationHash: allData[0]\n                ? allData[0].webpackCompilationHash\n                : ``,\n            })\n            pageResources = toPageResources(pageData, component)\n            finalResult.payload = pageResources\n            emitter.emit(`onPostLoadPageResources`, {\n              page: pageResources,\n              pageResources,\n            })\n          }\n          this.pageDb.set(pagePath, finalResult)\n          // undefined if final result is an error\n          return pageResources\n        })\n      })\n      // prefer duplication with then + catch over .finally to prevent problems in ie11 + firefox\n      .then(response => {\n        this.inFlightDb.delete(pagePath)\n        return response\n      })\n      .catch(err => {\n        this.inFlightDb.delete(pagePath)\n        throw err\n      })\n\n    this.inFlightDb.set(pagePath, inFlight)\n    return inFlight\n  }\n\n  // returns undefined if loading page ran into errors\n  loadPageSync(rawPath) {\n    const pagePath = findPath(rawPath)\n    if (this.pageDb.has(pagePath)) {\n      return this.pageDb.get(pagePath).payload\n    }\n    return undefined\n  }\n\n  shouldPrefetch(pagePath) {\n    // Skip prefetching if we know user is on slow or constrained connection\n    if (!doesConnectionSupportPrefetch()) {\n      return false\n    }\n\n    // Check if the page exists.\n    if (this.pageDb.has(pagePath)) {\n      return false\n    }\n\n    return true\n  }\n\n  prefetch(pagePath) {\n    if (!this.shouldPrefetch(pagePath)) {\n      return false\n    }\n\n    // Tell plugins with custom prefetching logic that they should start\n    // prefetching this path.\n    if (!this.prefetchTriggered.has(pagePath)) {\n      this.apiRunner(`onPrefetchPathname`, { pathname: pagePath })\n      this.prefetchTriggered.add(pagePath)\n    }\n\n    // If a plugin has disabled core prefetching, stop now.\n    if (this.prefetchDisabled) {\n      return false\n    }\n\n    const realPath = findPath(pagePath)\n    // Todo make doPrefetch logic cacheable\n    // eslint-disable-next-line consistent-return\n    this.doPrefetch(realPath).then(() => {\n      if (!this.prefetchCompleted.has(pagePath)) {\n        this.apiRunner(`onPostPrefetchPathname`, { pathname: pagePath })\n        this.prefetchCompleted.add(pagePath)\n      }\n    })\n\n    return true\n  }\n\n  doPrefetch(pagePath) {\n    throw new Error(`doPrefetch not implemented`)\n  }\n\n  hovering(rawPath) {\n    this.loadPage(rawPath)\n  }\n\n  getResourceURLsForPathname(rawPath) {\n    const pagePath = findPath(rawPath)\n    const page = this.pageDataDb.get(pagePath)\n    if (page) {\n      const pageResources = toPageResources(page.payload)\n\n      return [\n        ...createComponentUrls(pageResources.page.componentChunkName),\n        createPageDataUrl(pagePath),\n      ]\n    } else {\n      return null\n    }\n  }\n\n  isPageNotFound(rawPath) {\n    const pagePath = findPath(rawPath)\n    const page = this.pageDb.get(pagePath)\n    return page && page.notFound === true\n  }\n\n  loadAppData(retries = 0) {\n    return doFetch(`${__PATH_PREFIX__}/page-data/app-data.json`).then(req => {\n      const { status, responseText } = req\n\n      let appData\n\n      if (status !== 200 && retries < 3) {\n        // Retry 3 times incase of failures\n        return this.loadAppData(retries + 1)\n      }\n\n      // Handle 200\n      if (status === 200) {\n        try {\n          const jsonPayload = JSON.parse(responseText)\n          if (jsonPayload.webpackCompilationHash === undefined) {\n            throw new Error(`not a valid app-data response`)\n          }\n\n          appData = jsonPayload\n        } catch (err) {\n          // continue regardless of error\n        }\n      }\n\n      return appData\n    })\n  }\n}\n\nconst createComponentUrls = componentChunkName =>\n  window.___chunkMapping[componentChunkName].map(\n    chunk => __PATH_PREFIX__ + chunk\n  )\n\nexport class ProdLoader extends BaseLoader {\n  constructor(asyncRequires, matchPaths) {\n    const loadComponent = chunkName =>\n      asyncRequires.components[chunkName]().then(preferDefault)\n\n    super(loadComponent, matchPaths)\n  }\n\n  doPrefetch(pagePath) {\n    const pageDataUrl = createPageDataUrl(pagePath)\n    return prefetchHelper(pageDataUrl, {\n      crossOrigin: `anonymous`,\n      as: `fetch`,\n    })\n      .then(() =>\n        // This was just prefetched, so will return a response from\n        // the cache instead of making another request to the server\n        this.loadPageDataJson(pagePath)\n      )\n      .then(result => {\n        if (result.status !== `success`) {\n          return Promise.resolve()\n        }\n        const pageData = result.payload\n        const chunkName = pageData.componentChunkName\n        const componentUrls = createComponentUrls(chunkName)\n        return Promise.all(componentUrls.map(prefetchHelper)).then(\n          () => pageData\n        )\n      })\n  }\n}\n\nlet instance\n\nexport const setLoader = _loader => {\n  instance = _loader\n}\n\nexport const publicLoader = {\n  // Deprecated methods. As far as we're aware, these are only used by\n  // core gatsby and the offline plugin, however there's a very small\n  // chance they're called by others.\n  getResourcesForPathname: rawPath => {\n    console.warn(\n      `Warning: getResourcesForPathname is deprecated. Use loadPage instead`\n    )\n    return instance.i.loadPage(rawPath)\n  },\n  getResourcesForPathnameSync: rawPath => {\n    console.warn(\n      `Warning: getResourcesForPathnameSync is deprecated. Use loadPageSync instead`\n    )\n    return instance.i.loadPageSync(rawPath)\n  },\n  enqueue: rawPath => instance.prefetch(rawPath),\n\n  // Real methods\n  getResourceURLsForPathname: rawPath =>\n    instance.getResourceURLsForPathname(rawPath),\n  loadPage: rawPath => instance.loadPage(rawPath),\n  loadPageSync: rawPath => instance.loadPageSync(rawPath),\n  prefetch: rawPath => instance.prefetch(rawPath),\n  isPageNotFound: rawPath => instance.isPageNotFound(rawPath),\n  hovering: rawPath => instance.hovering(rawPath),\n  loadAppData: () => instance.loadAppData(),\n}\n\nexport default publicLoader\n","const React = require(\"react\");\nconst { ThemeContext } = require(\"css-system\");\n\nconst SwitchThemeContext = React.createContext([\"\", () => {}]);\n\nexports.SwitchThemeContext = SwitchThemeContext;\n\nconst useSwitchTheme = () => React.useContext(SwitchThemeContext);\n\nexports.useSwitchTheme = useSwitchTheme;\n\nconst SwitchThemeProvider = ({ themes, defaultTheme, children }) => {\n  const [themeKey, setThemeKey] = React.useState(defaultTheme);\n\n  React.useEffect(() => {\n    const storedTheme = window.localStorage.getItem(\n      \"gatsby-plugin-css-system-theme\"\n    );\n    if (themes[storedTheme]) {\n      setThemeKey(storedTheme);\n    }\n  }, []);\n\n  const switchTheme = React.useCallback(\n    newThemeKey => {\n      if (themes[newThemeKey]) {\n        setThemeKey(newThemeKey);\n        window.localStorage.setItem(\n          \"gatsby-plugin-css-system-theme\",\n          newThemeKey\n        );\n      }\n    },\n    [themes]\n  );\n\n  const contextValue = React.useMemo(() => [themeKey, switchTheme], [\n    themeKey,\n    switchTheme\n  ]);\n\n  return (\n    <SwitchThemeContext.Provider value={contextValue}>\n      <ThemeContext.Provider value={themes[themeKey]}>\n        {children}\n      </ThemeContext.Provider>\n    </SwitchThemeContext.Provider>\n  );\n};\n\nexports.SwitchThemeProvider = SwitchThemeProvider;\n","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","var core = module.exports = { version: '2.6.11' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","// 7.2.9 SameValue(x, y)\nmodule.exports = Object.is || function is(x, y) {\n  // eslint-disable-next-line no-self-compare\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n","var global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339\n  } else if (Observer && !(global.navigator && global.navigator.standalone)) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    var promise = Promise.resolve(undefined);\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n","module.exports = {};\n","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $values = require('./_object-to-array')(false);\n\n$export($export.S, 'Object', {\n  values: function values(it) {\n    return $values(it);\n  }\n});\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar toObject = require('./_to-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $GOPS = require('./_object-gops');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function' && !!$GOPS.f;\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  $GOPS.f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\nvar FAILS_ON_PRIMITIVES = $fails(function () { $GOPS.f(1); });\n\n$export($export.S + $export.F * FAILS_ON_PRIMITIVES, 'Object', {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return $GOPS.f(toObject(it));\n  }\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","// 22.1.3.31 Array.prototype[@@unscopables]\nvar UNSCOPABLES = require('./_wks')('unscopables');\nvar ArrayProto = Array.prototype;\nif (ArrayProto[UNSCOPABLES] == undefined) require('./_hide')(ArrayProto, UNSCOPABLES, {});\nmodule.exports = function (key) {\n  ArrayProto[UNSCOPABLES][key] = true;\n};\n","module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _gatsby = require(\"gatsby\");\n\nvar _getManifestPathname = _interopRequireDefault(require(\"./get-manifest-pathname\"));\n\n/* global __MANIFEST_PLUGIN_HAS_LOCALISATION__ */\n// when we don't have localisation in our manifest, we tree shake everything away\nif (__MANIFEST_PLUGIN_HAS_LOCALISATION__) {\n  var withPrefix = _gatsby.withAssetPrefix || _gatsby.withPrefix;\n\n  exports.onRouteUpdate = function (_ref, pluginOptions) {\n    var location = _ref.location;\n    var localize = pluginOptions.localize;\n    var manifestFilename = (0, _getManifestPathname.default)(location.pathname, localize);\n    var manifestEl = document.head.querySelector(\"link[rel=\\\"manifest\\\"]\");\n\n    if (manifestEl) {\n      manifestEl.setAttribute(\"href\", withPrefix(manifestFilename));\n    }\n  };\n}","var global = require('./_global');\nvar navigator = global.navigator;\n\nmodule.exports = navigator && navigator.userAgent || '';\n","// prefer default export if available\nconst preferDefault = m => m && m.default || m\n\nexports.components = {\n  \"component---node-modules-gatsby-plugin-offline-app-shell-js\": () => import(\"./../node_modules/gatsby-plugin-offline/app-shell.js\" /* webpackChunkName: \"component---node-modules-gatsby-plugin-offline-app-shell-js\" */),\n  \"component---src-pages-index-js\": () => import(\"./../src/pages/index.js\" /* webpackChunkName: \"component---src-pages-index-js\" */)\n}\n\n","'use strict';\n\nvar anObject = require('./_an-object');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar toInteger = require('./_to-integer');\nvar advanceStringIndex = require('./_advance-string-index');\nvar regExpExec = require('./_regexp-exec-abstract');\nvar max = Math.max;\nvar min = Math.min;\nvar floor = Math.floor;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&`']|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&`']|\\d\\d?)/g;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nrequire('./_fix-re-wks')('replace', 2, function (defined, REPLACE, $replace, maybeCallNative) {\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = defined(this);\n      var fn = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return fn !== undefined\n        ? fn.call(searchValue, O, replaceValue)\n        : $replace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      var res = maybeCallNative($replace, regexp, this, replaceValue);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n        results.push(result);\n        if (!global) break;\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n\n    // https://tc39.github.io/ecma262/#sec-getsubstitution\n  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return $replace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  }\n});\n","function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","\"use strict\";\n\nexports.__esModule = true;\nexports.onRouteUpdate = void 0;\n\nvar onRouteUpdate = function onRouteUpdate(_ref, pluginOptions) {\n  var location = _ref.location;\n\n  if (pluginOptions === void 0) {\n    pluginOptions = {};\n  }\n\n  if (process.env.NODE_ENV !== \"production\" || typeof ga !== \"function\") {\n    return null;\n  }\n\n  var pathIsExcluded = location && typeof window.excludeGAPaths !== \"undefined\" && window.excludeGAPaths.some(function (rx) {\n    return rx.test(location.pathname);\n  });\n  if (pathIsExcluded) return null; // wrap inside a timeout to make sure react-helmet is done with it's changes (https://github.com/gatsbyjs/gatsby/issues/9139)\n  // reactHelmet is using requestAnimationFrame: https://github.com/nfl/react-helmet/blob/5.2.0/src/HelmetUtils.js#L296-L299\n\n  var sendPageView = function sendPageView() {\n    var pagePath = location ? location.pathname + location.search + location.hash : undefined;\n    window.ga(\"set\", \"page\", pagePath);\n    window.ga(\"send\", \"pageview\");\n  }; // Minimum delay for reactHelmet's requestAnimationFrame\n\n\n  var delay = Math.max(32, pluginOptions.pageTransitionDelay || 0);\n  setTimeout(sendPageView, delay);\n  return null;\n};\n\nexports.onRouteUpdate = onRouteUpdate;","'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","// 20.2.2.22 Math.log2(x)\nvar $export = require('./_export');\n\n$export($export.S, 'Math', {\n  log2: function log2(x) {\n    return Math.log(x) / Math.LN2;\n  }\n});\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _inDOM = _interopRequireDefault(require(\"./inDOM\"));\n\nvar vendors = ['', 'webkit', 'moz', 'o', 'ms'];\nvar cancel = 'clearTimeout';\nvar raf = fallback;\nvar compatRaf;\n\nvar getKey = function getKey(vendor, k) {\n  return vendor + (!vendor ? k : k[0].toUpperCase() + k.substr(1)) + 'AnimationFrame';\n};\n\nif (_inDOM.default) {\n  vendors.some(function (vendor) {\n    var rafKey = getKey(vendor, 'request');\n\n    if (rafKey in window) {\n      cancel = getKey(vendor, 'cancel');\n      return raf = function raf(cb) {\n        return window[rafKey](cb);\n      };\n    }\n  });\n}\n/* https://github.com/component/raf */\n\n\nvar prev = new Date().getTime();\n\nfunction fallback(fn) {\n  var curr = new Date().getTime(),\n      ms = Math.max(0, 16 - (curr - prev)),\n      req = setTimeout(fn, ms);\n  prev = curr;\n  return req;\n}\n\ncompatRaf = function compatRaf(cb) {\n  return raf(cb);\n};\n\ncompatRaf.cancel = function (id) {\n  window[cancel] && typeof window[cancel] === 'function' && window[cancel](id);\n};\n\nvar _default = compatRaf;\nexports.default = _default;\nmodule.exports = exports[\"default\"];","// 7.2.8 IsRegExp(argument)\nvar isObject = require('./_is-object');\nvar cof = require('./_cof');\nvar MATCH = require('./_wks')('match');\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');\n};\n","require('./_wks-define')('asyncIterator');\n","var $iterators = require('./es6.array.iterator');\nvar getKeys = require('./_object-keys');\nvar redefine = require('./_redefine');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar wks = require('./_wks');\nvar ITERATOR = wks('iterator');\nvar TO_STRING_TAG = wks('toStringTag');\nvar ArrayValues = Iterators.Array;\n\nvar DOMIterables = {\n  CSSRuleList: true, // TODO: Not spec compliant, should be false.\n  CSSStyleDeclaration: false,\n  CSSValueList: false,\n  ClientRectList: false,\n  DOMRectList: false,\n  DOMStringList: false,\n  DOMTokenList: true,\n  DataTransferItemList: false,\n  FileList: false,\n  HTMLAllCollection: false,\n  HTMLCollection: false,\n  HTMLFormElement: false,\n  HTMLSelectElement: false,\n  MediaList: true, // TODO: Not spec compliant, should be false.\n  MimeTypeArray: false,\n  NamedNodeMap: false,\n  NodeList: true,\n  PaintRequestList: false,\n  Plugin: false,\n  PluginArray: false,\n  SVGLengthList: false,\n  SVGNumberList: false,\n  SVGPathSegList: false,\n  SVGPointList: false,\n  SVGStringList: false,\n  SVGTransformList: false,\n  SourceBufferList: false,\n  StyleSheetList: true, // TODO: Not spec compliant, should be false.\n  TextTrackCueList: false,\n  TextTrackList: false,\n  TouchList: false\n};\n\nfor (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {\n  var NAME = collections[i];\n  var explicit = DOMIterables[NAME];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  var key;\n  if (proto) {\n    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);\n    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n    Iterators[NAME] = ArrayValues;\n    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);\n  }\n}\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _inDOM = _interopRequireDefault(require(\"../util/inDOM\"));\n\nvar on = function on() {};\n\nif (_inDOM.default) {\n  on = function () {\n    if (document.addEventListener) return function (node, eventName, handler, capture) {\n      return node.addEventListener(eventName, handler, capture || false);\n    };else if (document.attachEvent) return function (node, eventName, handler) {\n      return node.attachEvent('on' + eventName, function (e) {\n        e = e || window.event;\n        e.target = e.target || e.srcElement;\n        e.currentTarget = node;\n        handler.call(node, e);\n      });\n    };\n  }();\n}\n\nvar _default = on;\nexports.default = _default;\nmodule.exports = exports[\"default\"];","// 21.1.3.6 String.prototype.endsWith(searchString [, endPosition])\n'use strict';\nvar $export = require('./_export');\nvar toLength = require('./_to-length');\nvar context = require('./_string-context');\nvar ENDS_WITH = 'endsWith';\nvar $endsWith = ''[ENDS_WITH];\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(ENDS_WITH), 'String', {\n  endsWith: function endsWith(searchString /* , endPosition = @length */) {\n    var that = context(this, searchString, ENDS_WITH);\n    var endPosition = arguments.length > 1 ? arguments[1] : undefined;\n    var len = toLength(that.length);\n    var end = endPosition === undefined ? len : Math.min(toLength(endPosition), len);\n    var search = String(searchString);\n    return $endsWith\n      ? $endsWith.call(that, search, end)\n      : that.slice(end - search.length, end) === search;\n  }\n});\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\n\nconst ProdPageRenderer = ({ location, pageResources }) => {\n  if (!pageResources) {\n    return null\n  }\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","var isObject = require('./_is-object');\nmodule.exports = function (it, TYPE) {\n  if (!isObject(it) || it._t !== TYPE) throw TypeError('Incompatible receiver, ' + TYPE + ' required!');\n  return it;\n};\n","'use strict';\nvar regexpExec = require('./_regexp-exec');\nrequire('./_export')({\n  target: 'RegExp',\n  proto: true,\n  forced: regexpExec !== /./.exec\n}, {\n  exec: regexpExec\n});\n","var anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","'use strict';\nvar weak = require('./_collection-weak');\nvar validate = require('./_validate-collection');\nvar WEAK_SET = 'WeakSet';\n\n// 23.4 WeakSet Objects\nrequire('./_collection')(WEAK_SET, function (get) {\n  return function WeakSet() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.4.3.1 WeakSet.prototype.add(value)\n  add: function add(value) {\n    return weak.def(validate(this, WEAK_SET), value, true);\n  }\n}, weak, false, true);\n","'use strict';\nvar dP = require('./_object-dp').f;\nvar create = require('./_object-create');\nvar redefineAll = require('./_redefine-all');\nvar ctx = require('./_ctx');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar $iterDefine = require('./_iter-define');\nvar step = require('./_iter-step');\nvar setSpecies = require('./_set-species');\nvar DESCRIPTORS = require('./_descriptors');\nvar fastKey = require('./_meta').fastKey;\nvar validate = require('./_validate-collection');\nvar SIZE = DESCRIPTORS ? '_s' : 'size';\n\nvar getEntry = function (that, key) {\n  // fast case\n  var index = fastKey(key);\n  var entry;\n  if (index !== 'F') return that._i[index];\n  // frozen object case\n  for (entry = that._f; entry; entry = entry.n) {\n    if (entry.k == key) return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;         // collection type\n      that._i = create(null); // index\n      that._f = undefined;    // first entry\n      that._l = undefined;    // last entry\n      that[SIZE] = 0;         // size\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        for (var that = validate(this, NAME), data = that._i, entry = that._f; entry; entry = entry.n) {\n          entry.r = true;\n          if (entry.p) entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = validate(this, NAME);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.n;\n          var prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if (prev) prev.n = next;\n          if (next) next.p = prev;\n          if (that._f == entry) that._f = next;\n          if (that._l == entry) that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        validate(this, NAME);\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.n : this._f) {\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while (entry && entry.r) entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(validate(this, NAME), key);\n      }\n    });\n    if (DESCRIPTORS) dP(C.prototype, 'size', {\n      get: function () {\n        return validate(this, NAME)[SIZE];\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var entry = getEntry(that, key);\n    var prev, index;\n    // change existing entry\n    if (entry) {\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if (!that._f) that._f = entry;\n      if (prev) prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if (index !== 'F') that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function (C, NAME, IS_MAP) {\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function (iterated, kind) {\n      this._t = validate(iterated, NAME); // target\n      this._k = kind;                     // kind\n      this._l = undefined;                // previous\n    }, function () {\n      var that = this;\n      var kind = that._k;\n      var entry = that._l;\n      // revert to the last existing entry\n      while (entry && entry.r) entry = entry.p;\n      // get next entry\n      if (!that._t || !(that._l = entry = entry ? entry.n : that._t._f)) {\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if (kind == 'keys') return step(0, entry.k);\n      if (kind == 'values') return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","const plugins = require(`./api-runner-browser-plugins`)\nconst {\n  getResourcesForPathname,\n  getResourcesForPathnameSync,\n  getResourceURLsForPathname,\n  loadPage,\n  loadPageSync,\n} = require(`./loader`).publicLoader\n\nexports.apiRunner = (api, args = {}, defaultReturn, argTransform) => {\n  // Hooks for gatsby-cypress's API handler\n  if (process.env.CYPRESS_SUPPORT) {\n    if (window.___apiHandler) {\n      window.___apiHandler(api)\n    } else if (window.___resolvedAPIs) {\n      window.___resolvedAPIs.push(api)\n    } else {\n      window.___resolvedAPIs = [api]\n    }\n  }\n\n  let results = plugins.map(plugin => {\n    if (!plugin.plugin[api]) {\n      return undefined\n    }\n\n    // Deprecated April 2019. Use `loadPageSync` instead\n    args.getResourcesForPathnameSync = getResourcesForPathnameSync\n    // Deprecated April 2019. Use `loadPage` instead\n    args.getResourcesForPathname = getResourcesForPathname\n    args.getResourceURLsForPathname = getResourceURLsForPathname\n    args.loadPage = loadPage\n    args.loadPageSync = loadPageSync\n\n    const result = plugin.plugin[api](args, plugin.options)\n    if (result && argTransform) {\n      args = argTransform({ args, result, plugin })\n    }\n    return result\n  })\n\n  // Filter out undefined results.\n  results = results.filter(result => typeof result !== `undefined`)\n\n  if (results.length > 0) {\n    return results\n  } else if (defaultReturn) {\n    return [defaultReturn]\n  } else {\n    return []\n  }\n}\n\nexports.apiRunnerAsync = (api, args, defaultReturn) =>\n  plugins.reduce(\n    (previous, next) =>\n      next.plugin[api]\n        ? previous.then(() => next.plugin[api](args, next.options))\n        : previous,\n    Promise.resolve()\n  )\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n"],"sourceRoot":""}